/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(Rt,Ar,Hn,bt){"use strict";function zt(me,Ae,Ve){return setTimeout(yr(me,Ve),Ae)}function hn(me,Ae,Ve){return Array.isArray(me)?(o(me,Ve[Ae],Ve),!0):!1}function o(me,Ae,Ve){var ft;if(me)if(me.forEach)me.forEach(Ae,Ve);else if(me.length!==bt)for(ft=0;ft<me.length;)Ae.call(Ve,me[ft],ft,me),ft++;else for(ft in me)me.hasOwnProperty(ft)&&Ae.call(Ve,me[ft],ft,me)}function R(me,Ae,Ve){var ft="DEPRECATED METHOD: "+Ae+`
`+Ve+` AT 
`;return function(){var It=new Error("get-stack-trace"),Br=It&&It.stack?It.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",gn=Rt.console&&(Rt.console.warn||Rt.console.log);return gn&&gn.call(Rt.console,ft,Br),me.apply(this,arguments)}}function St(me,Ae,Ve){var ft,It=Ae.prototype;ft=me.prototype=Object.create(It),ft.constructor=me,ft._super=It,Ve&&ar(ft,Ve)}function yr(me,Ae){return function(){return me.apply(Ae,arguments)}}function pn(me,Ae){return typeof me==ve?me.apply(Ae&&Ae[0]||bt,Ae):me}function Li(me,Ae){return me===bt?Ae:me}function Pr(me,Ae,Ve){o(dt(Ae),function(ft){me.addEventListener(ft,Ve,!1)})}function Ht(me,Ae,Ve){o(dt(Ae),function(ft){me.removeEventListener(ft,Ve,!1)})}function lr(me,Ae){for(;me;){if(me==Ae)return!0;me=me.parentNode}return!1}function ot(me,Ae){return me.indexOf(Ae)>-1}function dt(me){return me.trim().split(/\s+/g)}function J(me,Ae,Ve){if(me.indexOf&&!Ve)return me.indexOf(Ae);for(var ft=0;ft<me.length;){if(Ve&&me[ft][Ve]==Ae||!Ve&&me[ft]===Ae)return ft;ft++}return-1}function _t(me){return Array.prototype.slice.call(me,0)}function At(me,Ae,Ve){for(var ft=[],It=[],Br=0;Br<me.length;){var gn=Ae?me[Br][Ae]:me[Br];J(It,gn)<0&&ft.push(me[Br]),It[Br]=gn,Br++}return Ve&&(ft=Ae?ft.sort(function(ui,Cs){return ui[Ae]>Cs[Ae]}):ft.sort()),ft}function We(me,Ae){for(var Ve,ft,It=Ae[0].toUpperCase()+Ae.slice(1),Br=0;Br<gr.length;){if(Ve=gr[Br],ft=Ve?Ve+It:Ae,ft in me)return ft;Br++}return bt}function Yr(){return Me++}function ur(me){var Ae=me.ownerDocument||me;return Ae.defaultView||Ae.parentWindow||Rt}function Vr(me,Ae){var Ve=this;this.manager=me,this.callback=Ae,this.element=me.element,this.target=me.options.inputTarget,this.domHandler=function(ft){pn(me.options.enable,[me])&&Ve.handler(ft)},this.init()}function Nn(me){var Ae,Ve=me.options.inputClass;return new(Ae=Ve||(vn?Hs:_n?qt:br?fo:wa))(me,Ia)}function Ia(me,Ae,Ve){var ft=Ve.pointers.length,It=Ve.changedPointers.length,Br=Ae&Jn&&ft-It===0,gn=Ae&(ei|Un)&&ft-It===0;Ve.isFirst=!!Br,Ve.isFinal=!!gn,Br&&(me.session={}),Ve.eventType=Ae,js(me,Ve),me.emit("hammer.input",Ve),me.recognize(Ve),me.session.prevInput=Ve}function js(me,Ae){var Ve=me.session,ft=Ae.pointers,It=ft.length;Ve.firstInput||(Ve.firstInput=ol(Ae)),It>1&&!Ve.firstMultiple?Ve.firstMultiple=ol(Ae):It===1&&(Ve.firstMultiple=!1);var Br=Ve.firstInput,gn=Ve.firstMultiple,ui=gn?gn.center:Br.center,Cs=Ae.center=ll(ft);Ae.timeStamp=Pe(),Ae.deltaTime=Ae.timeStamp-Br.timeStamp,Ae.angle=po(ui,Cs),Ae.distance=ls(ui,Cs),Ya(Ve,Ae),Ae.offsetDirection=xa(Ae.deltaX,Ae.deltaY);var $r=mi(Ae.deltaTime,Ae.deltaX,Ae.deltaY);Ae.overallVelocityX=$r.x,Ae.overallVelocityY=$r.y,Ae.overallVelocity=Ye($r.x)>Ye($r.y)?$r.x:$r.y,Ae.scale=gn?Gc(gn.pointers,ft):1,Ae.rotation=gn?yi(gn.pointers,ft):0,Ae.maxPointers=Ve.prevInput?Ae.pointers.length>Ve.prevInput.maxPointers?Ae.pointers.length:Ve.prevInput.maxPointers:Ae.pointers.length,cc(Ve,Ae);var Xs=me.element;lr(Ae.srcEvent.target,Xs)&&(Xs=Ae.srcEvent.target),Ae.target=Xs}function Ya(me,Ae){var Ve=Ae.center,ft=me.offsetDelta||{},It=me.prevDelta||{},Br=me.prevInput||{};Ae.eventType!==Jn&&Br.eventType!==ei||(It=me.prevDelta={x:Br.deltaX||0,y:Br.deltaY||0},ft=me.offsetDelta={x:Ve.x,y:Ve.y}),Ae.deltaX=It.x+(Ve.x-ft.x),Ae.deltaY=It.y+(Ve.y-ft.y)}function cc(me,Ae){var Ve,ft,It,Br,gn=me.lastInterval||Ae,ui=Ae.timeStamp-gn.timeStamp;if(Ae.eventType!=Un&&(ui>cl||gn.velocity===bt)){var Cs=Ae.deltaX-gn.deltaX,$r=Ae.deltaY-gn.deltaY,Xs=mi(ui,Cs,$r);ft=Xs.x,It=Xs.y,Ve=Ye(Xs.x)>Ye(Xs.y)?Xs.x:Xs.y,Br=xa(Cs,$r),me.lastInterval=Ae}else Ve=gn.velocity,ft=gn.velocityX,It=gn.velocityY,Br=gn.direction;Ae.velocity=Ve,Ae.velocityX=ft,Ae.velocityY=It,Ae.direction=Br}function ol(me){for(var Ae=[],Ve=0;Ve<me.pointers.length;)Ae[Ve]={clientX:Ie(me.pointers[Ve].clientX),clientY:Ie(me.pointers[Ve].clientY)},Ve++;return{timeStamp:Pe(),pointers:Ae,center:ll(Ae),deltaX:me.deltaX,deltaY:me.deltaY}}function ll(me){var Ae=me.length;if(Ae===1)return{x:Ie(me[0].clientX),y:Ie(me[0].clientY)};for(var Ve=0,ft=0,It=0;Ae>It;)Ve+=me[It].clientX,ft+=me[It].clientY,It++;return{x:Ie(Ve/Ae),y:Ie(ft/Ae)}}function mi(me,Ae,Ve){return{x:Ae/me||0,y:Ve/me||0}}function xa(me,Ae){return me===Ae?ul:Ye(me)>=Ye(Ae)?0>me?hs:ci:0>Ae?hl:dl}function ls(me,Ae,Ve){Ve||(Ve=Do);var ft=Ae[Ve[0]]-me[Ve[0]],It=Ae[Ve[1]]-me[Ve[1]];return Math.sqrt(ft*ft+It*It)}function po(me,Ae,Ve){Ve||(Ve=Do);var ft=Ae[Ve[0]]-me[Ve[0]],It=Ae[Ve[1]]-me[Ve[1]];return 180*Math.atan2(It,ft)/Math.PI}function yi(me,Ae){return po(Ae[1],Ae[0],X0)+po(me[1],me[0],X0)}function Gc(me,Ae){return ls(Ae[0],Ae[1],X0)/ls(me[0],me[1],X0)}function wa(){this.evEl=I1,this.evWin=K0,this.pressed=!1,Vr.apply(this,arguments)}function Hs(){this.evEl=ja,this.evWin=Vs,Vr.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function go(){this.evTarget=vo,this.evWin=Kg,this.started=!1,Vr.apply(this,arguments)}function Pn(me,Ae){var Ve=_t(me.touches),ft=_t(me.changedTouches);return Ae&(ei|Un)&&(Ve=At(Ve.concat(ft),"identifier",!0)),[Ve,ft]}function qt(){this.evTarget=Ey,this.targetIds={},Vr.apply(this,arguments)}function cs(me,Ae){var Ve=_t(me.touches),ft=this.targetIds;if(Ae&(Jn|us)&&Ve.length===1)return ft[Ve[0].identifier]=!0,[Ve,Ve];var It,Br,gn=_t(me.changedTouches),ui=[],Cs=this.target;if(Br=Ve.filter(function($r){return lr($r.target,Cs)}),Ae===Jn)for(It=0;It<Br.length;)ft[Br[It].identifier]=!0,It++;for(It=0;It<gn.length;)ft[gn[It].identifier]&&ui.push(gn[It]),Ae&(ei|Un)&&delete ft[gn[It].identifier],It++;return ui.length?[At(Br.concat(ui),"identifier",!0),ui]:void 0}function fo(){Vr.apply(this,arguments);var me=yr(this.handler,this);this.touch=new qt(this.manager,me),this.mouse=new wa(this.manager,me),this.primaryTouch=null,this.lastTouches=[]}function oa(me,Ae){me&Jn?(this.primaryTouch=Ae.changedPointers[0].identifier,uc.call(this,Ae)):me&(ei|Un)&&uc.call(this,Ae)}function uc(me){var Ae=me.changedPointers[0];if(Ae.identifier===this.primaryTouch){var Ve={x:Ae.clientX,y:Ae.clientY};this.lastTouches.push(Ve);var ft=this.lastTouches,It=function(){var Br=ft.indexOf(Ve);Br>-1&&ft.splice(Br,1)};setTimeout(It,Qg)}}function Us(me){for(var Ae=me.srcEvent.clientX,Ve=me.srcEvent.clientY,ft=0;ft<this.lastTouches.length;ft++){var It=this.lastTouches[ft],Br=Math.abs(Ae-It.x),gn=Math.abs(Ve-It.y);if(Vi>=Br&&Vi>=gn)return!0}return!1}function mo(me,Ae){this.manager=me,this.set(Ae)}function Ch(me){if(ot(me,on))return on;var Ae=ot(me,Ol),Ve=ot(me,Ro);return Ae&&Ve?on:Ae||Ve?Ae?Ol:Ro:ot(me,Rl)?Rl:jc}function Yc(){if(!Q0)return!1;var me={},Ae=Rt.CSS&&Rt.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Ve){me[Ve]=Ae?Rt.CSS.supports("touch-action",Ve):!0}),me}function In(me){this.options=ar({},this.defaults,me||{}),this.id=Yr(),this.manager=null,this.options.enable=Li(this.options.enable,!0),this.state=Ha,this.simultaneous={},this.requireFail=[]}function Da(me){return me&Oo?"cancel":me&ca?"end":me&Dt?"move":me&ki?"start":""}function Es(me){return me==dl?"down":me==hl?"up":me==hs?"left":me==ci?"right":""}function Ui(me,Ae){var Ve=Ae.manager;return Ve?Ve.get(me):me}function la(){In.apply(this,arguments)}function hc(){la.apply(this,arguments),this.pX=null,this.pY=null}function yo(){la.apply(this,arguments)}function Cn(){In.apply(this,arguments),this._timer=null,this._input=null}function ai(){la.apply(this,arguments)}function U(){la.apply(this,arguments)}function W(){In.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Lt(me,Ae){return Ae=Ae||{},Ae.recognizers=Li(Ae.recognizers,Lt.defaults.preset),new le(me,Ae)}function le(me,Ae){this.options=ar({},Lt.defaults,Ae||{}),this.options.inputTarget=this.options.inputTarget||me,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=me,this.input=Nn(this),this.touchAction=new mo(this,this.options.touchAction),Oe(this,!0),o(this.options.recognizers,function(Ve){var ft=this.add(new Ve[0](Ve[1]));Ve[2]&&ft.recognizeWith(Ve[2]),Ve[3]&&ft.requireFailure(Ve[3])},this)}function Oe(me,Ae){var Ve=me.element;if(Ve.style){var ft;o(me.options.cssProps,function(It,Br){ft=We(Ve.style,Br),Ae?(me.oldCssProps[ft]=Ve.style[ft],Ve.style[ft]=It):Ve.style[ft]=me.oldCssProps[ft]||""}),Ae||(me.oldCssProps={})}}function vi(me,Ae){var Ve=Ar.createEvent("Event");Ve.initEvent(me,!0,!0),Ve.gesture=Ae,Ae.target.dispatchEvent(Ve)}var ar,gr=["","webkit","Moz","MS","ms","o"],Ee=Ar.createElement("div"),ve="function",Ie=Math.round,Ye=Math.abs,Pe=Date.now;ar=typeof Object.assign!="function"?function(me){if(me===bt||me===null)throw new TypeError("Cannot convert undefined or null to object");for(var Ae=Object(me),Ve=1;Ve<arguments.length;Ve++){var ft=arguments[Ve];if(ft!==bt&&ft!==null)for(var It in ft)ft.hasOwnProperty(It)&&(Ae[It]=ft[It])}return Ae}:Object.assign;var ye=R(function(me,Ae,Ve){for(var ft=Object.keys(Ae),It=0;It<ft.length;)(!Ve||Ve&&me[ft[It]]===bt)&&(me[ft[It]]=Ae[ft[It]]),It++;return me},"extend","Use `assign`."),Et=R(function(me,Ae){return ye(me,Ae,!0)},"merge","Use `assign`."),Me=1,er=/mobile|tablet|ip(ad|hone|od)|android/i,br="ontouchstart"in Rt,vn=We(Rt,"PointerEvent")!==bt,_n=br&&er.test(navigator.userAgent),fr="touch",Dn="pen",Ra="mouse",Oa="kinect",cl=25,Jn=1,us=2,ei=4,Un=8,ul=1,hs=2,ci=4,hl=8,dl=16,ct=hs|ci,ti=hl|dl,Dl=ct|ti,Do=["x","y"],X0=["clientX","clientY"];Vr.prototype={handler:function(){},init:function(){this.evEl&&Pr(this.element,this.evEl,this.domHandler),this.evTarget&&Pr(this.target,this.evTarget,this.domHandler),this.evWin&&Pr(ur(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Ht(this.element,this.evEl,this.domHandler),this.evTarget&&Ht(this.target,this.evTarget,this.domHandler),this.evWin&&Ht(ur(this.element),this.evWin,this.domHandler)}};var Xg={mousedown:Jn,mousemove:us,mouseup:ei},I1="mousedown",K0="mousemove mouseup";St(wa,Vr,{handler:function(me){var Ae=Xg[me.type];Ae&Jn&&me.button===0&&(this.pressed=!0),Ae&us&&me.which!==1&&(Ae=ei),this.pressed&&(Ae&ei&&(this.pressed=!1),this.callback(this.manager,Ae,{pointers:[me],changedPointers:[me],pointerType:Ra,srcEvent:me}))}});var _h={pointerdown:Jn,pointermove:us,pointerup:ei,pointercancel:Un,pointerout:Un},Ct={2:fr,3:Dn,4:Ra,5:Oa},ja="pointerdown",Vs="pointermove pointerup pointercancel";Rt.MSPointerEvent&&!Rt.PointerEvent&&(ja="MSPointerDown",Vs="MSPointerMove MSPointerUp MSPointerCancel"),St(Hs,Vr,{handler:function(me){var Ae=this.store,Ve=!1,ft=me.type.toLowerCase().replace("ms",""),It=_h[ft],Br=Ct[me.pointerType]||me.pointerType,gn=Br==fr,ui=J(Ae,me.pointerId,"pointerId");It&Jn&&(me.button===0||gn)?0>ui&&(Ae.push(me),ui=Ae.length-1):It&(ei|Un)&&(Ve=!0),0>ui||(Ae[ui]=me,this.callback(this.manager,It,{pointers:Ae,changedPointers:[me],pointerType:Br,srcEvent:me}),Ve&&Ae.splice(ui,1))}});var Sn={touchstart:Jn,touchmove:us,touchend:ei,touchcancel:Un},vo="touchstart",Kg="touchstart touchmove touchend touchcancel";St(go,Vr,{handler:function(me){var Ae=Sn[me.type];if(Ae===Jn&&(this.started=!0),this.started){var Ve=Pn.call(this,me,Ae);Ae&(ei|Un)&&Ve[0].length-Ve[1].length===0&&(this.started=!1),this.callback(this.manager,Ae,{pointers:Ve[0],changedPointers:Ve[1],pointerType:fr,srcEvent:me})}}});var Zg={touchstart:Jn,touchmove:us,touchend:ei,touchcancel:Un},Ey="touchstart touchmove touchend touchcancel";St(qt,Vr,{handler:function(me){var Ae=Zg[me.type],Ve=cs.call(this,me,Ae);Ve&&this.callback(this.manager,Ae,{pointers:Ve[0],changedPointers:Ve[1],pointerType:fr,srcEvent:me})}});var Qg=2500,Vi=25;St(fo,Vr,{handler:function(me,Ae,Ve){var ft=Ve.pointerType==fr,It=Ve.pointerType==Ra;if(!(It&&Ve.sourceCapabilities&&Ve.sourceCapabilities.firesTouchEvents)){if(ft)oa.call(this,Ae,Ve);else if(It&&Us.call(this,Ve))return;this.callback(me,Ae,Ve)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Z0=We(Ee.style,"touchAction"),Q0=Z0!==bt,dc="compute",jc="auto",Rl="manipulation",on="none",Ol="pan-x",Ro="pan-y",Pl=Yc();mo.prototype={set:function(me){me==dc&&(me=this.compute()),Q0&&this.manager.element.style&&Pl[me]&&(this.manager.element.style[Z0]=me),this.actions=me.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var me=[];return o(this.manager.recognizers,function(Ae){pn(Ae.options.enable,[Ae])&&(me=me.concat(Ae.getTouchAction()))}),Ch(me.join(" "))},preventDefaults:function(me){var Ae=me.srcEvent,Ve=me.offsetDirection;if(this.manager.session.prevented)return void Ae.preventDefault();var ft=this.actions,It=ot(ft,on)&&!Pl[on],Br=ot(ft,Ro)&&!Pl[Ro],gn=ot(ft,Ol)&&!Pl[Ol];if(It){var ui=me.pointers.length===1,Cs=me.distance<2,$r=me.deltaTime<250;if(ui&&Cs&&$r)return}return gn&&Br?void 0:It||Br&&Ve&ct||gn&&Ve&ti?this.preventSrc(Ae):void 0},preventSrc:function(me){this.manager.session.prevented=!0,me.preventDefault()}};var Ha=1,ki=2,Dt=4,ca=8,Ws=ca,Oo=16,bo=32;In.prototype={defaults:{},set:function(me){return ar(this.options,me),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(me){if(hn(me,"recognizeWith",this))return this;var Ae=this.simultaneous;return me=Ui(me,this),Ae[me.id]||(Ae[me.id]=me,me.recognizeWith(this)),this},dropRecognizeWith:function(me){return hn(me,"dropRecognizeWith",this)?this:(me=Ui(me,this),delete this.simultaneous[me.id],this)},requireFailure:function(me){if(hn(me,"requireFailure",this))return this;var Ae=this.requireFail;return me=Ui(me,this),J(Ae,me)===-1&&(Ae.push(me),me.requireFailure(this)),this},dropRequireFailure:function(me){if(hn(me,"dropRequireFailure",this))return this;me=Ui(me,this);var Ae=J(this.requireFail,me);return Ae>-1&&this.requireFail.splice(Ae,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(me){return!!this.simultaneous[me.id]},emit:function(me){function Ae(It){Ve.manager.emit(It,me)}var Ve=this,ft=this.state;ca>ft&&Ae(Ve.options.event+Da(ft)),Ae(Ve.options.event),me.additionalEvent&&Ae(me.additionalEvent),ft>=ca&&Ae(Ve.options.event+Da(ft))},tryEmit:function(me){return this.canEmit()?this.emit(me):void(this.state=bo)},canEmit:function(){for(var me=0;me<this.requireFail.length;){if(!(this.requireFail[me].state&(bo|Ha)))return!1;me++}return!0},recognize:function(me){var Ae=ar({},me);return pn(this.options.enable,[this,Ae])?(this.state&(Ws|Oo|bo)&&(this.state=Ha),this.state=this.process(Ae),void(this.state&(ki|Dt|ca|Oo)&&this.tryEmit(Ae))):(this.reset(),void(this.state=bo))},process:function(me){},getTouchAction:function(){},reset:function(){}},St(la,In,{defaults:{pointers:1},attrTest:function(me){var Ae=this.options.pointers;return Ae===0||me.pointers.length===Ae},process:function(me){var Ae=this.state,Ve=me.eventType,ft=Ae&(ki|Dt),It=this.attrTest(me);return ft&&(Ve&Un||!It)?Ae|Oo:ft||It?Ve&ei?Ae|ca:Ae&ki?Ae|Dt:ki:bo}}),St(hc,la,{defaults:{event:"pan",threshold:10,pointers:1,direction:Dl},getTouchAction:function(){var me=this.options.direction,Ae=[];return me&ct&&Ae.push(Ro),me&ti&&Ae.push(Ol),Ae},directionTest:function(me){var Ae=this.options,Ve=!0,ft=me.distance,It=me.direction,Br=me.deltaX,gn=me.deltaY;return It&Ae.direction||(Ae.direction&ct?(It=Br===0?ul:0>Br?hs:ci,Ve=Br!=this.pX,ft=Math.abs(me.deltaX)):(It=gn===0?ul:0>gn?hl:dl,Ve=gn!=this.pY,ft=Math.abs(me.deltaY))),me.direction=It,Ve&&ft>Ae.threshold&&It&Ae.direction},attrTest:function(me){return la.prototype.attrTest.call(this,me)&&(this.state&ki||!(this.state&ki)&&this.directionTest(me))},emit:function(me){this.pX=me.deltaX,this.pY=me.deltaY;var Ae=Es(me.direction);Ae&&(me.additionalEvent=this.options.event+Ae),this._super.emit.call(this,me)}}),St(yo,la,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[on]},attrTest:function(me){return this._super.attrTest.call(this,me)&&(Math.abs(me.scale-1)>this.options.threshold||this.state&ki)},emit:function(me){if(me.scale!==1){var Ae=me.scale<1?"in":"out";me.additionalEvent=this.options.event+Ae}this._super.emit.call(this,me)}}),St(Cn,In,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[jc]},process:function(me){var Ae=this.options,Ve=me.pointers.length===Ae.pointers,ft=me.distance<Ae.threshold,It=me.deltaTime>Ae.time;if(this._input=me,!ft||!Ve||me.eventType&(ei|Un)&&!It)this.reset();else if(me.eventType&Jn)this.reset(),this._timer=zt(function(){this.state=Ws,this.tryEmit()},Ae.time,this);else if(me.eventType&ei)return Ws;return bo},reset:function(){clearTimeout(this._timer)},emit:function(me){this.state===Ws&&(me&&me.eventType&ei?this.manager.emit(this.options.event+"up",me):(this._input.timeStamp=Pe(),this.manager.emit(this.options.event,this._input)))}}),St(ai,la,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[on]},attrTest:function(me){return this._super.attrTest.call(this,me)&&(Math.abs(me.rotation)>this.options.threshold||this.state&ki)}}),St(U,la,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ct|ti,pointers:1},getTouchAction:function(){return hc.prototype.getTouchAction.call(this)},attrTest:function(me){var Ae,Ve=this.options.direction;return Ve&(ct|ti)?Ae=me.overallVelocity:Ve&ct?Ae=me.overallVelocityX:Ve&ti&&(Ae=me.overallVelocityY),this._super.attrTest.call(this,me)&&Ve&me.offsetDirection&&me.distance>this.options.threshold&&me.maxPointers==this.options.pointers&&Ye(Ae)>this.options.velocity&&me.eventType&ei},emit:function(me){var Ae=Es(me.offsetDirection);Ae&&this.manager.emit(this.options.event+Ae,me),this.manager.emit(this.options.event,me)}}),St(W,In,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Rl]},process:function(me){var Ae=this.options,Ve=me.pointers.length===Ae.pointers,ft=me.distance<Ae.threshold,It=me.deltaTime<Ae.time;if(this.reset(),me.eventType&Jn&&this.count===0)return this.failTimeout();if(ft&&It&&Ve){if(me.eventType!=ei)return this.failTimeout();var Br=this.pTime?me.timeStamp-this.pTime<Ae.interval:!0,gn=!this.pCenter||ls(this.pCenter,me.center)<Ae.posThreshold;this.pTime=me.timeStamp,this.pCenter=me.center,gn&&Br?this.count+=1:this.count=1,this._input=me;var ui=this.count%Ae.taps;if(ui===0)return this.hasRequireFailures()?(this._timer=zt(function(){this.state=Ws,this.tryEmit()},Ae.interval,this),ki):Ws}return bo},failTimeout:function(){return this._timer=zt(function(){this.state=bo},this.options.interval,this),bo},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ws&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Lt.VERSION="2.0.7",Lt.defaults={domEvents:!1,touchAction:dc,enable:!0,inputTarget:null,inputClass:null,preset:[[ai,{enable:!1}],[yo,{enable:!1},["rotate"]],[U,{direction:ct}],[hc,{direction:ct},["swipe"]],[W],[W,{event:"doubletap",taps:2},["tap"]],[Cn]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ds=1,ea=2;le.prototype={set:function(me){return ar(this.options,me),me.touchAction&&this.touchAction.update(),me.inputTarget&&(this.input.destroy(),this.input.target=me.inputTarget,this.input.init()),this},stop:function(me){this.session.stopped=me?ea:ds},recognize:function(me){var Ae=this.session;if(!Ae.stopped){this.touchAction.preventDefaults(me);var Ve,ft=this.recognizers,It=Ae.curRecognizer;(!It||It&&It.state&Ws)&&(It=Ae.curRecognizer=null);for(var Br=0;Br<ft.length;)Ve=ft[Br],Ae.stopped===ea||It&&Ve!=It&&!Ve.canRecognizeWith(It)?Ve.reset():Ve.recognize(me),!It&&Ve.state&(ki|Dt|ca)&&(It=Ae.curRecognizer=Ve),Br++}},get:function(me){if(me instanceof In)return me;for(var Ae=this.recognizers,Ve=0;Ve<Ae.length;Ve++)if(Ae[Ve].options.event==me)return Ae[Ve];return null},add:function(me){if(hn(me,"add",this))return this;var Ae=this.get(me.options.event);return Ae&&this.remove(Ae),this.recognizers.push(me),me.manager=this,this.touchAction.update(),me},remove:function(me){if(hn(me,"remove",this))return this;if(me=this.get(me)){var Ae=this.recognizers,Ve=J(Ae,me);Ve!==-1&&(Ae.splice(Ve,1),this.touchAction.update())}return this},on:function(me,Ae){if(me!==bt&&Ae!==bt){var Ve=this.handlers;return o(dt(me),function(ft){Ve[ft]=Ve[ft]||[],Ve[ft].push(Ae)}),this}},off:function(me,Ae){if(me!==bt){var Ve=this.handlers;return o(dt(me),function(ft){Ae?Ve[ft]&&Ve[ft].splice(J(Ve[ft],Ae),1):delete Ve[ft]}),this}},emit:function(me,Ae){this.options.domEvents&&vi(me,Ae);var Ve=this.handlers[me]&&this.handlers[me].slice();if(Ve&&Ve.length){Ae.type=me,Ae.preventDefault=function(){Ae.srcEvent.preventDefault()};for(var ft=0;ft<Ve.length;)Ve[ft](Ae),ft++}},destroy:function(){this.element&&Oe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ar(Lt,{INPUT_START:Jn,INPUT_MOVE:us,INPUT_END:ei,INPUT_CANCEL:Un,STATE_POSSIBLE:Ha,STATE_BEGAN:ki,STATE_CHANGED:Dt,STATE_ENDED:ca,STATE_RECOGNIZED:Ws,STATE_CANCELLED:Oo,STATE_FAILED:bo,DIRECTION_NONE:ul,DIRECTION_LEFT:hs,DIRECTION_RIGHT:ci,DIRECTION_UP:hl,DIRECTION_DOWN:dl,DIRECTION_HORIZONTAL:ct,DIRECTION_VERTICAL:ti,DIRECTION_ALL:Dl,Manager:le,Input:Vr,TouchAction:mo,TouchInput:qt,MouseInput:wa,PointerEventInput:Hs,TouchMouseInput:fo,SingleTouchInput:go,Recognizer:In,AttrRecognizer:la,Tap:W,Pan:hc,Swipe:U,Pinch:yo,Rotate:ai,Press:Cn,on:Pr,off:Ht,each:o,merge:Et,extend:ye,assign:ar,inherit:St,bindFn:yr,prefixed:We});var Bn=typeof Rt<"u"?Rt:typeof self<"u"?self:{};Bn.Hammer=Lt,typeof define=="function"&&define.amd?define(function(){return Lt}):typeof module<"u"&&module.exports?module.exports=Lt:Rt[Hn]=Lt})(window,document,"Hammer"),function(Rt,Ar){typeof exports=="object"&&typeof module<"u"?Ar(exports):typeof define=="function"&&define.amd?define(["exports"],Ar):Ar((Rt=typeof globalThis<"u"?globalThis:Rt||self).marked={})}(this,function(Rt){"use strict";function Ar(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function Hn(gr){Rt.defaults=gr}Rt.defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};const bt={exec:()=>null};function zt(gr,Ee=""){let ve=typeof gr=="string"?gr:gr.source;const Ie={replace:(Ye,Pe)=>{let ye=typeof Pe=="string"?Pe:Pe.source;return ye=ye.replace(hn.caret,"$1"),ve=ve.replace(Ye,ye),Ie},getRegex:()=>new RegExp(ve,Ee)};return Ie}const hn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:gr=>new RegExp(`^( {0,3}${gr})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:gr=>new RegExp(`^ {0,${Math.min(3,gr-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:gr=>new RegExp(`^ {0,${Math.min(3,gr-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:gr=>new RegExp(`^ {0,${Math.min(3,gr-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:gr=>new RegExp(`^ {0,${Math.min(3,gr-1)}}#`),htmlBeginRegex:gr=>new RegExp(`^ {0,${Math.min(3,gr-1)}}<(?:[a-z].*>|!--)`,"i")},o=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,R=/(?:[*+-]|\d{1,9}[.)])/,St=zt(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,R).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),yr=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,pn=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Li=zt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",pn).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Pr=zt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,R).getRegex(),Ht="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",lr=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ot=zt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",lr).replace("tag",Ht).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),dt=zt(yr).replace("hr",o).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ht).getRegex(),J={blockquote:zt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",dt).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:Li,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:o,html:ot,lheading:St,list:Pr,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:dt,table:bt,text:/^[^\n]+/},_t=zt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",o).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ht).getRegex(),At={...J,table:_t,paragraph:zt(yr).replace("hr",o).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",_t).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ht).getRegex()},We={...J,html:zt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",lr).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:bt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:zt(yr).replace("hr",o).replace("heading",` *#{1,6} *[^
]`).replace("lheading",St).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Yr=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ur=/^( {2,}|\\)\n(?!\s*$)/,Vr="\\p{P}\\p{S}",Nn=zt(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Vr).getRegex(),Ia=zt(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Vr).getRegex(),js=zt("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Vr).getRegex(),Ya=zt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Vr).getRegex(),cc=zt(/\\([punct])/,"gu").replace(/punct/g,Vr).getRegex(),ol=zt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ll=zt(lr).replace("(?:-->|$)","-->").getRegex(),mi=zt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ll).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),xa=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ls=zt(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",xa).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),po=zt(/^!?\[(label)\]\[(ref)\]/).replace("label",xa).replace("ref",pn).getRegex(),yi=zt(/^!?\[(ref)\](?:\[\])?/).replace("ref",pn).getRegex(),Gc={_backpedal:bt,anyPunctuation:cc,autolink:ol,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:ur,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:bt,emStrongLDelim:Ia,emStrongRDelimAst:js,emStrongRDelimUnd:Ya,escape:Yr,link:ls,nolink:yi,punctuation:Nn,reflink:po,reflinkSearch:zt("reflink|nolink(?!\\()","g").replace("reflink",po).replace("nolink",yi).getRegex(),tag:mi,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:bt},wa={...Gc,link:zt(/^!?\[(label)\]\((.*?)\)/).replace("label",xa).getRegex(),reflink:zt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",xa).getRegex()},Hs={...Gc,escape:zt(Yr).replace("])","~|])").getRegex(),url:zt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},go={...Hs,br:zt(ur).replace("{2,}","*").getRegex(),text:zt(Hs.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Pn={normal:J,gfm:At,pedantic:We},qt={normal:Gc,gfm:Hs,breaks:go,pedantic:wa},cs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fo=gr=>cs[gr];function oa(gr,Ee){if(Ee){if(hn.escapeTest.test(gr))return gr.replace(hn.escapeReplace,fo)}else if(hn.escapeTestNoEncode.test(gr))return gr.replace(hn.escapeReplaceNoEncode,fo);return gr}function uc(gr){try{gr=encodeURI(gr).replace(hn.percentDecode,"%")}catch{return null}return gr}function Us(gr,Ee){const ve=gr.replace(hn.findPipe,(Ye,Pe,ye)=>{let Et=!1,Me=Pe;for(;--Me>=0&&ye[Me]==="\\";)Et=!Et;return Et?"|":" |"}).split(hn.splitPipe);let Ie=0;if(ve[0].trim()||ve.shift(),ve.length>0&&!ve[ve.length-1].trim()&&ve.pop(),Ee)if(ve.length>Ee)ve.splice(Ee);else for(;ve.length<Ee;)ve.push("");for(;Ie<ve.length;Ie++)ve[Ie]=ve[Ie].trim().replace(hn.slashPipe,"|");return ve}function mo(gr,Ee,ve){const Ie=gr.length;if(Ie===0)return"";let Ye=0;for(;Ye<Ie;){const Pe=gr.charAt(Ie-Ye-1);if(Pe!==Ee||ve){if(Pe===Ee||!ve)break;Ye++}else Ye++}return gr.slice(0,Ie-Ye)}function Ch(gr,Ee,ve,Ie,Ye){const Pe=Ee.href,ye=Ee.title||null,Et=gr[1].replace(Ye.other.outputLinkReplace,"$1");if(gr[0].charAt(0)!=="!"){Ie.state.inLink=!0;const Me={type:"link",raw:ve,href:Pe,title:ye,text:Et,tokens:Ie.inlineTokens(Et)};return Ie.state.inLink=!1,Me}return{type:"image",raw:ve,href:Pe,title:ye,text:Et}}class Yc{options;rules;lexer;constructor(Ee){this.options=Ee||Rt.defaults}space(Ee){const ve=this.rules.block.newline.exec(Ee);if(ve&&ve[0].length>0)return{type:"space",raw:ve[0]}}code(Ee){const ve=this.rules.block.code.exec(Ee);if(ve){const Ie=ve[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:ve[0],codeBlockStyle:"indented",text:this.options.pedantic?Ie:mo(Ie,`
`)}}}fences(Ee){const ve=this.rules.block.fences.exec(Ee);if(ve){const Ie=ve[0],Ye=function(Pe,ye,Et){const Me=Pe.match(Et.other.indentCodeCompensation);if(Me===null)return ye;const er=Me[1];return ye.split(`
`).map(br=>{const vn=br.match(Et.other.beginningSpace);if(vn===null)return br;const[_n]=vn;return _n.length>=er.length?br.slice(er.length):br}).join(`
`)}(Ie,ve[3]||"",this.rules);return{type:"code",raw:Ie,lang:ve[2]?ve[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):ve[2],text:Ye}}}heading(Ee){const ve=this.rules.block.heading.exec(Ee);if(ve){let Ie=ve[2].trim();if(this.rules.other.endingHash.test(Ie)){const Ye=mo(Ie,"#");this.options.pedantic?Ie=Ye.trim():Ye&&!this.rules.other.endingSpaceChar.test(Ye)||(Ie=Ye.trim())}return{type:"heading",raw:ve[0],depth:ve[1].length,text:Ie,tokens:this.lexer.inline(Ie)}}}hr(Ee){const ve=this.rules.block.hr.exec(Ee);if(ve)return{type:"hr",raw:mo(ve[0],`
`)}}blockquote(Ee){const ve=this.rules.block.blockquote.exec(Ee);if(ve){let Ie=mo(ve[0],`
`).split(`
`),Ye="",Pe="";const ye=[];for(;Ie.length>0;){let Et=!1;const Me=[];let er;for(er=0;er<Ie.length;er++)if(this.rules.other.blockquoteStart.test(Ie[er]))Me.push(Ie[er]),Et=!0;else{if(Et)break;Me.push(Ie[er])}Ie=Ie.slice(er);const br=Me.join(`
`),vn=br.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");Ye=Ye?`${Ye}
${br}`:br,Pe=Pe?`${Pe}
${vn}`:vn;const _n=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(vn,ye,!0),this.lexer.state.top=_n,Ie.length===0)break;const fr=ye[ye.length-1];if(fr?.type==="code")break;if(fr?.type==="blockquote"){const Dn=fr,Ra=Dn.raw+`
`+Ie.join(`
`),Oa=this.blockquote(Ra);ye[ye.length-1]=Oa,Ye=Ye.substring(0,Ye.length-Dn.raw.length)+Oa.raw,Pe=Pe.substring(0,Pe.length-Dn.text.length)+Oa.text;break}if(fr?.type==="list"){const Dn=fr,Ra=Dn.raw+`
`+Ie.join(`
`),Oa=this.list(Ra);ye[ye.length-1]=Oa,Ye=Ye.substring(0,Ye.length-fr.raw.length)+Oa.raw,Pe=Pe.substring(0,Pe.length-Dn.raw.length)+Oa.raw,Ie=Ra.substring(ye[ye.length-1].raw.length).split(`
`)}}return{type:"blockquote",raw:Ye,tokens:ye,text:Pe}}}list(Ee){let ve=this.rules.block.list.exec(Ee);if(ve){let Ie=ve[1].trim();const Ye=Ie.length>1,Pe={type:"list",raw:"",ordered:Ye,start:Ye?+Ie.slice(0,-1):"",loose:!1,items:[]};Ie=Ye?`\\d{1,9}\\${Ie.slice(-1)}`:`\\${Ie}`,this.options.pedantic&&(Ie=Ye?Ie:"[*+-]");const ye=this.rules.other.listItemRegex(Ie);let Et=!1;for(;Ee;){let Me=!1,er="",br="";if(!(ve=ye.exec(Ee))||this.rules.block.hr.test(Ee))break;er=ve[0],Ee=Ee.substring(er.length);let vn=ve[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,cl=>" ".repeat(3*cl.length)),_n=Ee.split(`
`,1)[0],fr=!vn.trim(),Dn=0;if(this.options.pedantic?(Dn=2,br=vn.trimStart()):fr?Dn=ve[1].length+1:(Dn=ve[2].search(this.rules.other.nonSpaceChar),Dn=Dn>4?1:Dn,br=vn.slice(Dn),Dn+=ve[1].length),fr&&this.rules.other.blankLine.test(_n)&&(er+=_n+`
`,Ee=Ee.substring(_n.length+1),Me=!0),!Me){const cl=this.rules.other.nextBulletRegex(Dn),Jn=this.rules.other.hrRegex(Dn),us=this.rules.other.fencesBeginRegex(Dn),ei=this.rules.other.headingBeginRegex(Dn),Un=this.rules.other.htmlBeginRegex(Dn);for(;Ee;){const ul=Ee.split(`
`,1)[0];let hs;if(_n=ul,this.options.pedantic?(_n=_n.replace(this.rules.other.listReplaceNesting,"  "),hs=_n):hs=_n.replace(this.rules.other.tabCharGlobal,"    "),us.test(_n)||ei.test(_n)||Un.test(_n)||cl.test(_n)||Jn.test(_n))break;if(hs.search(this.rules.other.nonSpaceChar)>=Dn||!_n.trim())br+=`
`+hs.slice(Dn);else{if(fr||vn.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||us.test(vn)||ei.test(vn)||Jn.test(vn))break;br+=`
`+_n}fr||_n.trim()||(fr=!0),er+=ul+`
`,Ee=Ee.substring(ul.length+1),vn=hs.slice(Dn)}}Pe.loose||(Et?Pe.loose=!0:this.rules.other.doubleBlankLine.test(er)&&(Et=!0));let Ra,Oa=null;this.options.gfm&&(Oa=this.rules.other.listIsTask.exec(br),Oa&&(Ra=Oa[0]!=="[ ] ",br=br.replace(this.rules.other.listReplaceTask,""))),Pe.items.push({type:"list_item",raw:er,task:!!Oa,checked:Ra,loose:!1,text:br,tokens:[]}),Pe.raw+=er}Pe.items[Pe.items.length-1].raw=Pe.items[Pe.items.length-1].raw.trimEnd(),Pe.items[Pe.items.length-1].text=Pe.items[Pe.items.length-1].text.trimEnd(),Pe.raw=Pe.raw.trimEnd();for(let Me=0;Me<Pe.items.length;Me++)if(this.lexer.state.top=!1,Pe.items[Me].tokens=this.lexer.blockTokens(Pe.items[Me].text,[]),!Pe.loose){const er=Pe.items[Me].tokens.filter(vn=>vn.type==="space"),br=er.length>0&&er.some(vn=>this.rules.other.anyLine.test(vn.raw));Pe.loose=br}if(Pe.loose)for(let Me=0;Me<Pe.items.length;Me++)Pe.items[Me].loose=!0;return Pe}}html(Ee){const ve=this.rules.block.html.exec(Ee);if(ve)return{type:"html",block:!0,raw:ve[0],pre:ve[1]==="pre"||ve[1]==="script"||ve[1]==="style",text:ve[0]}}def(Ee){const ve=this.rules.block.def.exec(Ee);if(ve){const Ie=ve[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),Ye=ve[2]?ve[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",Pe=ve[3]?ve[3].substring(1,ve[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):ve[3];return{type:"def",tag:Ie,raw:ve[0],href:Ye,title:Pe}}}table(Ee){const ve=this.rules.block.table.exec(Ee);if(!ve||!this.rules.other.tableDelimiter.test(ve[2]))return;const Ie=Us(ve[1]),Ye=ve[2].replace(this.rules.other.tableAlignChars,"").split("|"),Pe=ve[3]&&ve[3].trim()?ve[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],ye={type:"table",raw:ve[0],header:[],align:[],rows:[]};if(Ie.length===Ye.length){for(const Et of Ye)this.rules.other.tableAlignRight.test(Et)?ye.align.push("right"):this.rules.other.tableAlignCenter.test(Et)?ye.align.push("center"):this.rules.other.tableAlignLeft.test(Et)?ye.align.push("left"):ye.align.push(null);for(let Et=0;Et<Ie.length;Et++)ye.header.push({text:Ie[Et],tokens:this.lexer.inline(Ie[Et]),header:!0,align:ye.align[Et]});for(const Et of Pe)ye.rows.push(Us(Et,ye.header.length).map((Me,er)=>({text:Me,tokens:this.lexer.inline(Me),header:!1,align:ye.align[er]})));return ye}}lheading(Ee){const ve=this.rules.block.lheading.exec(Ee);if(ve)return{type:"heading",raw:ve[0],depth:ve[2].charAt(0)==="="?1:2,text:ve[1],tokens:this.lexer.inline(ve[1])}}paragraph(Ee){const ve=this.rules.block.paragraph.exec(Ee);if(ve){const Ie=ve[1].charAt(ve[1].length-1)===`
`?ve[1].slice(0,-1):ve[1];return{type:"paragraph",raw:ve[0],text:Ie,tokens:this.lexer.inline(Ie)}}}text(Ee){const ve=this.rules.block.text.exec(Ee);if(ve)return{type:"text",raw:ve[0],text:ve[0],tokens:this.lexer.inline(ve[0])}}escape(Ee){const ve=this.rules.inline.escape.exec(Ee);if(ve)return{type:"escape",raw:ve[0],text:ve[1]}}tag(Ee){const ve=this.rules.inline.tag.exec(Ee);if(ve)return!this.lexer.state.inLink&&this.rules.other.startATag.test(ve[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(ve[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(ve[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(ve[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:ve[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:ve[0]}}link(Ee){const ve=this.rules.inline.link.exec(Ee);if(ve){const Ie=ve[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(Ie)){if(!this.rules.other.endAngleBracket.test(Ie))return;const ye=mo(Ie.slice(0,-1),"\\");if((Ie.length-ye.length)%2==0)return}else{const ye=function(Et,Me){if(Et.indexOf(Me[1])===-1)return-1;let er=0;for(let br=0;br<Et.length;br++)if(Et[br]==="\\")br++;else if(Et[br]===Me[0])er++;else if(Et[br]===Me[1]&&(er--,er<0))return br;return-1}(ve[2],"()");if(ye>-1){const Et=(ve[0].indexOf("!")===0?5:4)+ve[1].length+ye;ve[2]=ve[2].substring(0,ye),ve[0]=ve[0].substring(0,Et).trim(),ve[3]=""}}let Ye=ve[2],Pe="";if(this.options.pedantic){const ye=this.rules.other.pedanticHrefTitle.exec(Ye);ye&&(Ye=ye[1],Pe=ye[3])}else Pe=ve[3]?ve[3].slice(1,-1):"";return Ye=Ye.trim(),this.rules.other.startAngleBracket.test(Ye)&&(Ye=this.options.pedantic&&!this.rules.other.endAngleBracket.test(Ie)?Ye.slice(1):Ye.slice(1,-1)),Ch(ve,{href:Ye&&Ye.replace(this.rules.inline.anyPunctuation,"$1"),title:Pe&&Pe.replace(this.rules.inline.anyPunctuation,"$1")},ve[0],this.lexer,this.rules)}}reflink(Ee,ve){let Ie;if((Ie=this.rules.inline.reflink.exec(Ee))||(Ie=this.rules.inline.nolink.exec(Ee))){const Ye=ve[(Ie[2]||Ie[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!Ye){const Pe=Ie[0].charAt(0);return{type:"text",raw:Pe,text:Pe}}return Ch(Ie,Ye,Ie[0],this.lexer,this.rules)}}emStrong(Ee,ve,Ie=""){let Ye=this.rules.inline.emStrongLDelim.exec(Ee);if(Ye&&!(Ye[3]&&Ie.match(this.rules.other.unicodeAlphaNumeric))&&(!(Ye[1]||Ye[2])||!Ie||this.rules.inline.punctuation.exec(Ie))){const Pe=[...Ye[0]].length-1;let ye,Et,Me=Pe,er=0;const br=Ye[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(br.lastIndex=0,ve=ve.slice(-1*Ee.length+Pe);(Ye=br.exec(ve))!=null;){if(ye=Ye[1]||Ye[2]||Ye[3]||Ye[4]||Ye[5]||Ye[6],!ye)continue;if(Et=[...ye].length,Ye[3]||Ye[4]){Me+=Et;continue}if((Ye[5]||Ye[6])&&Pe%3&&!((Pe+Et)%3)){er+=Et;continue}if(Me-=Et,Me>0)continue;Et=Math.min(Et,Et+Me+er);const vn=[...Ye[0]][0].length,_n=Ee.slice(0,Pe+Ye.index+vn+Et);if(Math.min(Pe,Et)%2){const Dn=_n.slice(1,-1);return{type:"em",raw:_n,text:Dn,tokens:this.lexer.inlineTokens(Dn)}}const fr=_n.slice(2,-2);return{type:"strong",raw:_n,text:fr,tokens:this.lexer.inlineTokens(fr)}}}}codespan(Ee){const ve=this.rules.inline.code.exec(Ee);if(ve){let Ie=ve[2].replace(this.rules.other.newLineCharGlobal," ");const Ye=this.rules.other.nonSpaceChar.test(Ie),Pe=this.rules.other.startingSpaceChar.test(Ie)&&this.rules.other.endingSpaceChar.test(Ie);return Ye&&Pe&&(Ie=Ie.substring(1,Ie.length-1)),{type:"codespan",raw:ve[0],text:Ie}}}br(Ee){const ve=this.rules.inline.br.exec(Ee);if(ve)return{type:"br",raw:ve[0]}}del(Ee){const ve=this.rules.inline.del.exec(Ee);if(ve)return{type:"del",raw:ve[0],text:ve[2],tokens:this.lexer.inlineTokens(ve[2])}}autolink(Ee){const ve=this.rules.inline.autolink.exec(Ee);if(ve){let Ie,Ye;return ve[2]==="@"?(Ie=ve[1],Ye="mailto:"+Ie):(Ie=ve[1],Ye=Ie),{type:"link",raw:ve[0],text:Ie,href:Ye,tokens:[{type:"text",raw:Ie,text:Ie}]}}}url(Ee){let ve;if(ve=this.rules.inline.url.exec(Ee)){let Ie,Ye;if(ve[2]==="@")Ie=ve[0],Ye="mailto:"+Ie;else{let Pe;do Pe=ve[0],ve[0]=this.rules.inline._backpedal.exec(ve[0])?.[0]??"";while(Pe!==ve[0]);Ie=ve[0],Ye=ve[1]==="www."?"http://"+ve[0]:ve[0]}return{type:"link",raw:ve[0],text:Ie,href:Ye,tokens:[{type:"text",raw:Ie,text:Ie}]}}}inlineText(Ee){const ve=this.rules.inline.text.exec(Ee);if(ve){const Ie=this.lexer.state.inRawBlock;return{type:"text",raw:ve[0],text:ve[0],escaped:Ie}}}}class In{tokens;options;state;tokenizer;inlineQueue;constructor(Ee){this.tokens=[],this.tokens.links=Object.create(null),this.options=Ee||Rt.defaults,this.options.tokenizer=this.options.tokenizer||new Yc,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const ve={other:hn,block:Pn.normal,inline:qt.normal};this.options.pedantic?(ve.block=Pn.pedantic,ve.inline=qt.pedantic):this.options.gfm&&(ve.block=Pn.gfm,this.options.breaks?ve.inline=qt.breaks:ve.inline=qt.gfm),this.tokenizer.rules=ve}static get rules(){return{block:Pn,inline:qt}}static lex(Ee,ve){return new In(ve).lex(Ee)}static lexInline(Ee,ve){return new In(ve).inlineTokens(Ee)}lex(Ee){Ee=Ee.replace(hn.carriageReturn,`
`),this.blockTokens(Ee,this.tokens);for(let ve=0;ve<this.inlineQueue.length;ve++){const Ie=this.inlineQueue[ve];this.inlineTokens(Ie.src,Ie.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(Ee,ve=[],Ie=!1){let Ye,Pe,ye;for(this.options.pedantic&&(Ee=Ee.replace(hn.tabCharGlobal,"    ").replace(hn.spaceLine,""));Ee;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Et=>!!(Ye=Et.call({lexer:this},Ee,ve))&&(Ee=Ee.substring(Ye.raw.length),ve.push(Ye),!0))))if(Ye=this.tokenizer.space(Ee))Ee=Ee.substring(Ye.raw.length),Ye.raw.length===1&&ve.length>0?ve[ve.length-1].raw+=`
`:ve.push(Ye);else if(Ye=this.tokenizer.code(Ee))Ee=Ee.substring(Ye.raw.length),Pe=ve[ve.length-1],!Pe||Pe.type!=="paragraph"&&Pe.type!=="text"?ve.push(Ye):(Pe.raw+=`
`+Ye.raw,Pe.text+=`
`+Ye.text,this.inlineQueue[this.inlineQueue.length-1].src=Pe.text);else if(Ye=this.tokenizer.fences(Ee))Ee=Ee.substring(Ye.raw.length),ve.push(Ye);else if(Ye=this.tokenizer.heading(Ee))Ee=Ee.substring(Ye.raw.length),ve.push(Ye);else if(Ye=this.tokenizer.hr(Ee))Ee=Ee.substring(Ye.raw.length),ve.push(Ye);else if(Ye=this.tokenizer.blockquote(Ee))Ee=Ee.substring(Ye.raw.length),ve.push(Ye);else if(Ye=this.tokenizer.list(Ee))Ee=Ee.substring(Ye.raw.length),ve.push(Ye);else if(Ye=this.tokenizer.html(Ee))Ee=Ee.substring(Ye.raw.length),ve.push(Ye);else if(Ye=this.tokenizer.def(Ee))Ee=Ee.substring(Ye.raw.length),Pe=ve[ve.length-1],!Pe||Pe.type!=="paragraph"&&Pe.type!=="text"?this.tokens.links[Ye.tag]||(this.tokens.links[Ye.tag]={href:Ye.href,title:Ye.title}):(Pe.raw+=`
`+Ye.raw,Pe.text+=`
`+Ye.raw,this.inlineQueue[this.inlineQueue.length-1].src=Pe.text);else if(Ye=this.tokenizer.table(Ee))Ee=Ee.substring(Ye.raw.length),ve.push(Ye);else if(Ye=this.tokenizer.lheading(Ee))Ee=Ee.substring(Ye.raw.length),ve.push(Ye);else{if(ye=Ee,this.options.extensions&&this.options.extensions.startBlock){let Et=1/0;const Me=Ee.slice(1);let er;this.options.extensions.startBlock.forEach(br=>{er=br.call({lexer:this},Me),typeof er=="number"&&er>=0&&(Et=Math.min(Et,er))}),Et<1/0&&Et>=0&&(ye=Ee.substring(0,Et+1))}if(this.state.top&&(Ye=this.tokenizer.paragraph(ye)))Pe=ve[ve.length-1],Ie&&Pe?.type==="paragraph"?(Pe.raw+=`
`+Ye.raw,Pe.text+=`
`+Ye.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Pe.text):ve.push(Ye),Ie=ye.length!==Ee.length,Ee=Ee.substring(Ye.raw.length);else if(Ye=this.tokenizer.text(Ee))Ee=Ee.substring(Ye.raw.length),Pe=ve[ve.length-1],Pe&&Pe.type==="text"?(Pe.raw+=`
`+Ye.raw,Pe.text+=`
`+Ye.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Pe.text):ve.push(Ye);else if(Ee){const Et="Infinite loop on byte: "+Ee.charCodeAt(0);if(this.options.silent){console.error(Et);break}throw new Error(Et)}}return this.state.top=!0,ve}inline(Ee,ve=[]){return this.inlineQueue.push({src:Ee,tokens:ve}),ve}inlineTokens(Ee,ve=[]){let Ie,Ye,Pe,ye,Et,Me,er=Ee;if(this.tokens.links){const br=Object.keys(this.tokens.links);if(br.length>0)for(;(ye=this.tokenizer.rules.inline.reflinkSearch.exec(er))!=null;)br.includes(ye[0].slice(ye[0].lastIndexOf("[")+1,-1))&&(er=er.slice(0,ye.index)+"["+"a".repeat(ye[0].length-2)+"]"+er.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ye=this.tokenizer.rules.inline.blockSkip.exec(er))!=null;)er=er.slice(0,ye.index)+"["+"a".repeat(ye[0].length-2)+"]"+er.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ye=this.tokenizer.rules.inline.anyPunctuation.exec(er))!=null;)er=er.slice(0,ye.index)+"++"+er.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;Ee;)if(Et||(Me=""),Et=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(br=>!!(Ie=br.call({lexer:this},Ee,ve))&&(Ee=Ee.substring(Ie.raw.length),ve.push(Ie),!0))))if(Ie=this.tokenizer.escape(Ee))Ee=Ee.substring(Ie.raw.length),ve.push(Ie);else if(Ie=this.tokenizer.tag(Ee))Ee=Ee.substring(Ie.raw.length),Ye=ve[ve.length-1],ve.push(Ie);else if(Ie=this.tokenizer.link(Ee))Ee=Ee.substring(Ie.raw.length),ve.push(Ie);else if(Ie=this.tokenizer.reflink(Ee,this.tokens.links))Ee=Ee.substring(Ie.raw.length),Ye=ve[ve.length-1],Ye&&Ie.type==="text"&&Ye.type==="text"?(Ye.raw+=Ie.raw,Ye.text+=Ie.text):ve.push(Ie);else if(Ie=this.tokenizer.emStrong(Ee,er,Me))Ee=Ee.substring(Ie.raw.length),ve.push(Ie);else if(Ie=this.tokenizer.codespan(Ee))Ee=Ee.substring(Ie.raw.length),ve.push(Ie);else if(Ie=this.tokenizer.br(Ee))Ee=Ee.substring(Ie.raw.length),ve.push(Ie);else if(Ie=this.tokenizer.del(Ee))Ee=Ee.substring(Ie.raw.length),ve.push(Ie);else if(Ie=this.tokenizer.autolink(Ee))Ee=Ee.substring(Ie.raw.length),ve.push(Ie);else if(this.state.inLink||!(Ie=this.tokenizer.url(Ee))){if(Pe=Ee,this.options.extensions&&this.options.extensions.startInline){let br=1/0;const vn=Ee.slice(1);let _n;this.options.extensions.startInline.forEach(fr=>{_n=fr.call({lexer:this},vn),typeof _n=="number"&&_n>=0&&(br=Math.min(br,_n))}),br<1/0&&br>=0&&(Pe=Ee.substring(0,br+1))}if(Ie=this.tokenizer.inlineText(Pe))Ee=Ee.substring(Ie.raw.length),Ie.raw.slice(-1)!=="_"&&(Me=Ie.raw.slice(-1)),Et=!0,Ye=ve[ve.length-1],Ye&&Ye.type==="text"?(Ye.raw+=Ie.raw,Ye.text+=Ie.text):ve.push(Ie);else if(Ee){const br="Infinite loop on byte: "+Ee.charCodeAt(0);if(this.options.silent){console.error(br);break}throw new Error(br)}}else Ee=Ee.substring(Ie.raw.length),ve.push(Ie);return ve}}class Da{options;parser;constructor(Ee){this.options=Ee||Rt.defaults}space(Ee){return""}code({text:Ee,lang:ve,escaped:Ie}){const Ye=(ve||"").match(hn.notSpaceStart)?.[0],Pe=Ee.replace(hn.endingNewline,"")+`
`;return Ye?'<pre><code class="language-'+oa(Ye)+'">'+(Ie?Pe:oa(Pe,!0))+`</code></pre>
`:"<pre><code>"+(Ie?Pe:oa(Pe,!0))+`</code></pre>
`}blockquote({tokens:Ee}){return`<blockquote>
${this.parser.parse(Ee)}</blockquote>
`}html({text:Ee}){return Ee}heading({tokens:Ee,depth:ve}){return`<h${ve}>${this.parser.parseInline(Ee)}</h${ve}>
`}hr(Ee){return`<hr>
`}list(Ee){const ve=Ee.ordered,Ie=Ee.start;let Ye="";for(let ye=0;ye<Ee.items.length;ye++){const Et=Ee.items[ye];Ye+=this.listitem(Et)}const Pe=ve?"ol":"ul";return"<"+Pe+(ve&&Ie!==1?' start="'+Ie+'"':"")+`>
`+Ye+"</"+Pe+`>
`}listitem(Ee){let ve="";if(Ee.task){const Ie=this.checkbox({checked:!!Ee.checked});Ee.loose?Ee.tokens.length>0&&Ee.tokens[0].type==="paragraph"?(Ee.tokens[0].text=Ie+" "+Ee.tokens[0].text,Ee.tokens[0].tokens&&Ee.tokens[0].tokens.length>0&&Ee.tokens[0].tokens[0].type==="text"&&(Ee.tokens[0].tokens[0].text=Ie+" "+oa(Ee.tokens[0].tokens[0].text),Ee.tokens[0].tokens[0].escaped=!0)):Ee.tokens.unshift({type:"text",raw:Ie+" ",text:Ie+" ",escaped:!0}):ve+=Ie+" "}return ve+=this.parser.parse(Ee.tokens,!!Ee.loose),`<li>${ve}</li>
`}checkbox({checked:Ee}){return"<input "+(Ee?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:Ee}){return`<p>${this.parser.parseInline(Ee)}</p>
`}table(Ee){let ve="",Ie="";for(let Pe=0;Pe<Ee.header.length;Pe++)Ie+=this.tablecell(Ee.header[Pe]);ve+=this.tablerow({text:Ie});let Ye="";for(let Pe=0;Pe<Ee.rows.length;Pe++){const ye=Ee.rows[Pe];Ie="";for(let Et=0;Et<ye.length;Et++)Ie+=this.tablecell(ye[Et]);Ye+=this.tablerow({text:Ie})}return Ye&&(Ye=`<tbody>${Ye}</tbody>`),`<table>
<thead>
`+ve+`</thead>
`+Ye+`</table>
`}tablerow({text:Ee}){return`<tr>
${Ee}</tr>
`}tablecell(Ee){const ve=this.parser.parseInline(Ee.tokens),Ie=Ee.header?"th":"td";return(Ee.align?`<${Ie} align="${Ee.align}">`:`<${Ie}>`)+ve+`</${Ie}>
`}strong({tokens:Ee}){return`<strong>${this.parser.parseInline(Ee)}</strong>`}em({tokens:Ee}){return`<em>${this.parser.parseInline(Ee)}</em>`}codespan({text:Ee}){return`<code>${oa(Ee,!0)}</code>`}br(Ee){return"<br>"}del({tokens:Ee}){return`<del>${this.parser.parseInline(Ee)}</del>`}link({href:Ee,title:ve,tokens:Ie}){const Ye=this.parser.parseInline(Ie),Pe=uc(Ee);if(Pe===null)return Ye;let ye='<a href="'+(Ee=Pe)+'"';return ve&&(ye+=' title="'+oa(ve)+'"'),ye+=">"+Ye+"</a>",ye}image({href:Ee,title:ve,text:Ie}){const Ye=uc(Ee);if(Ye===null)return oa(Ie);let Pe=`<img src="${Ee=Ye}" alt="${Ie}"`;return ve&&(Pe+=` title="${oa(ve)}"`),Pe+=">",Pe}text(Ee){return"tokens"in Ee&&Ee.tokens?this.parser.parseInline(Ee.tokens):"escaped"in Ee&&Ee.escaped?Ee.text:oa(Ee.text)}}class Es{strong({text:Ee}){return Ee}em({text:Ee}){return Ee}codespan({text:Ee}){return Ee}del({text:Ee}){return Ee}html({text:Ee}){return Ee}text({text:Ee}){return Ee}link({text:Ee}){return""+Ee}image({text:Ee}){return""+Ee}br(){return""}}class Ui{options;renderer;textRenderer;constructor(Ee){this.options=Ee||Rt.defaults,this.options.renderer=this.options.renderer||new Da,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Es}static parse(Ee,ve){return new Ui(ve).parse(Ee)}static parseInline(Ee,ve){return new Ui(ve).parseInline(Ee)}parse(Ee,ve=!0){let Ie="";for(let Ye=0;Ye<Ee.length;Ye++){const Pe=Ee[Ye];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Pe.type]){const Et=Pe,Me=this.options.extensions.renderers[Et.type].call({parser:this},Et);if(Me!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Et.type)){Ie+=Me||"";continue}}const ye=Pe;switch(ye.type){case"space":Ie+=this.renderer.space(ye);continue;case"hr":Ie+=this.renderer.hr(ye);continue;case"heading":Ie+=this.renderer.heading(ye);continue;case"code":Ie+=this.renderer.code(ye);continue;case"table":Ie+=this.renderer.table(ye);continue;case"blockquote":Ie+=this.renderer.blockquote(ye);continue;case"list":Ie+=this.renderer.list(ye);continue;case"html":Ie+=this.renderer.html(ye);continue;case"paragraph":Ie+=this.renderer.paragraph(ye);continue;case"text":{let Et=ye,Me=this.renderer.text(Et);for(;Ye+1<Ee.length&&Ee[Ye+1].type==="text";)Et=Ee[++Ye],Me+=`
`+this.renderer.text(Et);Ie+=ve?this.renderer.paragraph({type:"paragraph",raw:Me,text:Me,tokens:[{type:"text",raw:Me,text:Me,escaped:!0}]}):Me;continue}default:{const Et='Token with "'+ye.type+'" type was not found.';if(this.options.silent)return console.error(Et),"";throw new Error(Et)}}}return Ie}parseInline(Ee,ve){ve=ve||this.renderer;let Ie="";for(let Ye=0;Ye<Ee.length;Ye++){const Pe=Ee[Ye];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Pe.type]){const Et=this.options.extensions.renderers[Pe.type].call({parser:this},Pe);if(Et!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Pe.type)){Ie+=Et||"";continue}}const ye=Pe;switch(ye.type){case"escape":case"text":Ie+=ve.text(ye);break;case"html":Ie+=ve.html(ye);break;case"link":Ie+=ve.link(ye);break;case"image":Ie+=ve.image(ye);break;case"strong":Ie+=ve.strong(ye);break;case"em":Ie+=ve.em(ye);break;case"codespan":Ie+=ve.codespan(ye);break;case"br":Ie+=ve.br(ye);break;case"del":Ie+=ve.del(ye);break;default:{const Et='Token with "'+ye.type+'" type was not found.';if(this.options.silent)return console.error(Et),"";throw new Error(Et)}}}return Ie}}class la{options;block;constructor(Ee){this.options=Ee||Rt.defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(Ee){return Ee}postprocess(Ee){return Ee}processAllTokens(Ee){return Ee}provideLexer(){return this.block?In.lex:In.lexInline}provideParser(){return this.block?Ui.parse:Ui.parseInline}}class hc{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Ui;Renderer=Da;TextRenderer=Es;Lexer=In;Tokenizer=Yc;Hooks=la;constructor(...Ee){this.use(...Ee)}walkTokens(Ee,ve){let Ie=[];for(const Ye of Ee)switch(Ie=Ie.concat(ve.call(this,Ye)),Ye.type){case"table":{const Pe=Ye;for(const ye of Pe.header)Ie=Ie.concat(this.walkTokens(ye.tokens,ve));for(const ye of Pe.rows)for(const Et of ye)Ie=Ie.concat(this.walkTokens(Et.tokens,ve));break}case"list":{const Pe=Ye;Ie=Ie.concat(this.walkTokens(Pe.items,ve));break}default:{const Pe=Ye;this.defaults.extensions?.childTokens?.[Pe.type]?this.defaults.extensions.childTokens[Pe.type].forEach(ye=>{const Et=Pe[ye].flat(1/0);Ie=Ie.concat(this.walkTokens(Et,ve))}):Pe.tokens&&(Ie=Ie.concat(this.walkTokens(Pe.tokens,ve)))}}return Ie}use(...Ee){const ve=this.defaults.extensions||{renderers:{},childTokens:{}};return Ee.forEach(Ie=>{const Ye={...Ie};if(Ye.async=this.defaults.async||Ye.async||!1,Ie.extensions&&(Ie.extensions.forEach(Pe=>{if(!Pe.name)throw new Error("extension name required");if("renderer"in Pe){const ye=ve.renderers[Pe.name];ve.renderers[Pe.name]=ye?function(...Et){let Me=Pe.renderer.apply(this,Et);return Me===!1&&(Me=ye.apply(this,Et)),Me}:Pe.renderer}if("tokenizer"in Pe){if(!Pe.level||Pe.level!=="block"&&Pe.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const ye=ve[Pe.level];ye?ye.unshift(Pe.tokenizer):ve[Pe.level]=[Pe.tokenizer],Pe.start&&(Pe.level==="block"?ve.startBlock?ve.startBlock.push(Pe.start):ve.startBlock=[Pe.start]:Pe.level==="inline"&&(ve.startInline?ve.startInline.push(Pe.start):ve.startInline=[Pe.start]))}"childTokens"in Pe&&Pe.childTokens&&(ve.childTokens[Pe.name]=Pe.childTokens)}),Ye.extensions=ve),Ie.renderer){const Pe=this.defaults.renderer||new Da(this.defaults);for(const ye in Ie.renderer){if(!(ye in Pe))throw new Error(`renderer '${ye}' does not exist`);if(["options","parser"].includes(ye))continue;const Et=ye,Me=Ie.renderer[Et],er=Pe[Et];Pe[Et]=(...br)=>{let vn=Me.apply(Pe,br);return vn===!1&&(vn=er.apply(Pe,br)),vn||""}}Ye.renderer=Pe}if(Ie.tokenizer){const Pe=this.defaults.tokenizer||new Yc(this.defaults);for(const ye in Ie.tokenizer){if(!(ye in Pe))throw new Error(`tokenizer '${ye}' does not exist`);if(["options","rules","lexer"].includes(ye))continue;const Et=ye,Me=Ie.tokenizer[Et],er=Pe[Et];Pe[Et]=(...br)=>{let vn=Me.apply(Pe,br);return vn===!1&&(vn=er.apply(Pe,br)),vn}}Ye.tokenizer=Pe}if(Ie.hooks){const Pe=this.defaults.hooks||new la;for(const ye in Ie.hooks){if(!(ye in Pe))throw new Error(`hook '${ye}' does not exist`);if(["options","block"].includes(ye))continue;const Et=ye,Me=Ie.hooks[Et],er=Pe[Et];la.passThroughHooks.has(ye)?Pe[Et]=br=>{if(this.defaults.async)return Promise.resolve(Me.call(Pe,br)).then(_n=>er.call(Pe,_n));const vn=Me.call(Pe,br);return er.call(Pe,vn)}:Pe[Et]=(...br)=>{let vn=Me.apply(Pe,br);return vn===!1&&(vn=er.apply(Pe,br)),vn}}Ye.hooks=Pe}if(Ie.walkTokens){const Pe=this.defaults.walkTokens,ye=Ie.walkTokens;Ye.walkTokens=function(Et){let Me=[];return Me.push(ye.call(this,Et)),Pe&&(Me=Me.concat(Pe.call(this,Et))),Me}}this.defaults={...this.defaults,...Ye}}),this}setOptions(Ee){return this.defaults={...this.defaults,...Ee},this}lexer(Ee,ve){return In.lex(Ee,ve??this.defaults)}parser(Ee,ve){return Ui.parse(Ee,ve??this.defaults)}parseMarkdown(Ee){return(ve,Ie)=>{const Ye={...Ie},Pe={...this.defaults,...Ye},ye=this.onError(!!Pe.silent,!!Pe.async);if(this.defaults.async===!0&&Ye.async===!1)return ye(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(ve==null)return ye(new Error("marked(): input parameter is undefined or null"));if(typeof ve!="string")return ye(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(ve)+", string expected"));Pe.hooks&&(Pe.hooks.options=Pe,Pe.hooks.block=Ee);const Et=Pe.hooks?Pe.hooks.provideLexer():Ee?In.lex:In.lexInline,Me=Pe.hooks?Pe.hooks.provideParser():Ee?Ui.parse:Ui.parseInline;if(Pe.async)return Promise.resolve(Pe.hooks?Pe.hooks.preprocess(ve):ve).then(er=>Et(er,Pe)).then(er=>Pe.hooks?Pe.hooks.processAllTokens(er):er).then(er=>Pe.walkTokens?Promise.all(this.walkTokens(er,Pe.walkTokens)).then(()=>er):er).then(er=>Me(er,Pe)).then(er=>Pe.hooks?Pe.hooks.postprocess(er):er).catch(ye);try{Pe.hooks&&(ve=Pe.hooks.preprocess(ve));let er=Et(ve,Pe);Pe.hooks&&(er=Pe.hooks.processAllTokens(er)),Pe.walkTokens&&this.walkTokens(er,Pe.walkTokens);let br=Me(er,Pe);return Pe.hooks&&(br=Pe.hooks.postprocess(br)),br}catch(er){return ye(er)}}}onError(Ee,ve){return Ie=>{if(Ie.message+=`
Please report this to https://github.com/markedjs/marked.`,Ee){const Ye="<p>An error occurred:</p><pre>"+oa(Ie.message+"",!0)+"</pre>";return ve?Promise.resolve(Ye):Ye}if(ve)return Promise.reject(Ie);throw Ie}}}const yo=new hc;function Cn(gr,Ee){return yo.parse(gr,Ee)}Cn.options=Cn.setOptions=function(gr){return yo.setOptions(gr),Cn.defaults=yo.defaults,Hn(Cn.defaults),Cn},Cn.getDefaults=Ar,Cn.defaults=Rt.defaults,Cn.use=function(...gr){return yo.use(...gr),Cn.defaults=yo.defaults,Hn(Cn.defaults),Cn},Cn.walkTokens=function(gr,Ee){return yo.walkTokens(gr,Ee)},Cn.parseInline=yo.parseInline,Cn.Parser=Ui,Cn.parser=Ui.parse,Cn.Renderer=Da,Cn.TextRenderer=Es,Cn.Lexer=In,Cn.lexer=In.lex,Cn.Tokenizer=Yc,Cn.Hooks=la,Cn.parse=Cn;const ai=Cn.options,U=Cn.setOptions,W=Cn.use,Lt=Cn.walkTokens,le=Cn.parseInline,Oe=Cn,vi=Ui.parse,ar=In.lex;Rt.Hooks=la,Rt.Lexer=In,Rt.Marked=hc,Rt.Parser=Ui,Rt.Renderer=Da,Rt.TextRenderer=Es,Rt.Tokenizer=Yc,Rt.getDefaults=Ar,Rt.lexer=ar,Rt.marked=Cn,Rt.options=ai,Rt.parse=Oe,Rt.parseInline=le,Rt.parser=vi,Rt.setOptions=U,Rt.use=W,Rt.walkTokens=Lt});var _self=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var Prism=function(Rt){var Ar=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,Hn=0,bt={},zt={manual:Rt.Prism&&Rt.Prism.manual,disableWorkerMessageHandler:Rt.Prism&&Rt.Prism.disableWorkerMessageHandler,util:{encode:function ot(dt){return dt instanceof hn?new hn(dt.type,ot(dt.content),dt.alias):Array.isArray(dt)?dt.map(ot):dt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(ot){return Object.prototype.toString.call(ot).slice(8,-1)},objId:function(ot){return ot.__id||Object.defineProperty(ot,"__id",{value:++Hn}),ot.__id},clone:function ot(dt,J){J=J||{};var _t,At;switch(zt.util.type(dt)){case"Object":if(At=zt.util.objId(dt),J[At])return J[At];_t={},J[At]=_t;for(var We in dt)dt.hasOwnProperty(We)&&(_t[We]=ot(dt[We],J));return _t;case"Array":return At=zt.util.objId(dt),J[At]?J[At]:(_t=[],J[At]=_t,dt.forEach(function(Yr,ur){_t[ur]=ot(Yr,J)}),_t);default:return dt}},getLanguage:function(ot){for(;ot;){var dt=Ar.exec(ot.className);if(dt)return dt[1].toLowerCase();ot=ot.parentElement}return"none"},setLanguage:function(ot,dt){ot.className=ot.className.replace(RegExp(Ar,"gi"),""),ot.classList.add("language-"+dt)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(_t){var ot=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(_t.stack)||[])[1];if(ot){var dt=document.getElementsByTagName("script");for(var J in dt)if(dt[J].src==ot)return dt[J]}return null}},isActive:function(ot,dt,J){for(var _t="no-"+dt;ot;){var At=ot.classList;if(At.contains(dt))return!0;if(At.contains(_t))return!1;ot=ot.parentElement}return!!J}},languages:{plain:bt,plaintext:bt,text:bt,txt:bt,extend:function(ot,dt){var J=zt.util.clone(zt.languages[ot]);for(var _t in dt)J[_t]=dt[_t];return J},insertBefore:function(ot,dt,J,_t){_t=_t||zt.languages;var At=_t[ot],We={};for(var Yr in At)if(At.hasOwnProperty(Yr)){if(Yr==dt)for(var ur in J)J.hasOwnProperty(ur)&&(We[ur]=J[ur]);J.hasOwnProperty(Yr)||(We[Yr]=At[Yr])}var Vr=_t[ot];return _t[ot]=We,zt.languages.DFS(zt.languages,function(Nn,Ia){Ia===Vr&&Nn!=ot&&(this[Nn]=We)}),We},DFS:function ot(dt,J,_t,At){At=At||{};var We=zt.util.objId;for(var Yr in dt)if(dt.hasOwnProperty(Yr)){J.call(dt,Yr,dt[Yr],_t||Yr);var ur=dt[Yr],Vr=zt.util.type(ur);Vr==="Object"&&!At[We(ur)]?(At[We(ur)]=!0,ot(ur,J,null,At)):Vr==="Array"&&!At[We(ur)]&&(At[We(ur)]=!0,ot(ur,J,Yr,At))}}},plugins:{},highlightAll:function(ot,dt){zt.highlightAllUnder(document,ot,dt)},highlightAllUnder:function(ot,dt,J){var _t={callback:J,container:ot,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};zt.hooks.run("before-highlightall",_t),_t.elements=Array.prototype.slice.apply(_t.container.querySelectorAll(_t.selector)),zt.hooks.run("before-all-elements-highlight",_t);for(var At=0,We;We=_t.elements[At++];)zt.highlightElement(We,dt===!0,_t.callback)},highlightElement:function(ot,dt,J){var _t=zt.util.getLanguage(ot),At=zt.languages[_t];zt.util.setLanguage(ot,_t);var We=ot.parentElement;We&&We.nodeName.toLowerCase()==="pre"&&zt.util.setLanguage(We,_t);var Yr=ot.textContent,ur={element:ot,language:_t,grammar:At,code:Yr};function Vr(Ia){ur.highlightedCode=Ia,zt.hooks.run("before-insert",ur),ur.element.innerHTML=ur.highlightedCode,zt.hooks.run("after-highlight",ur),zt.hooks.run("complete",ur),J&&J.call(ur.element)}if(zt.hooks.run("before-sanity-check",ur),We=ur.element.parentElement,We&&We.nodeName.toLowerCase()==="pre"&&!We.hasAttribute("tabindex")&&We.setAttribute("tabindex","0"),!ur.code){zt.hooks.run("complete",ur),J&&J.call(ur.element);return}if(zt.hooks.run("before-highlight",ur),!ur.grammar){Vr(zt.util.encode(ur.code));return}if(dt&&Rt.Worker){var Nn=new Worker(zt.filename);Nn.onmessage=function(Ia){Vr(Ia.data)},Nn.postMessage(JSON.stringify({language:ur.language,code:ur.code,immediateClose:!0}))}else Vr(zt.highlight(ur.code,ur.grammar,ur.language))},highlight:function(ot,dt,J){var _t={code:ot,grammar:dt,language:J};if(zt.hooks.run("before-tokenize",_t),!_t.grammar)throw new Error('The language "'+_t.language+'" has no grammar.');return _t.tokens=zt.tokenize(_t.code,_t.grammar),zt.hooks.run("after-tokenize",_t),hn.stringify(zt.util.encode(_t.tokens),_t.language)},tokenize:function(ot,dt){var J=dt.rest;if(J){for(var _t in J)dt[_t]=J[_t];delete dt.rest}var At=new St;return yr(At,At.head,ot),R(ot,At,dt,At.head,0),Li(At)},hooks:{all:{},add:function(ot,dt){var J=zt.hooks.all;J[ot]=J[ot]||[],J[ot].push(dt)},run:function(ot,dt){var J=zt.hooks.all[ot];if(!(!J||!J.length))for(var _t=0,At;At=J[_t++];)At(dt)}},Token:hn};Rt.Prism=zt;function hn(ot,dt,J,_t){this.type=ot,this.content=dt,this.alias=J,this.length=(_t||"").length|0}hn.stringify=function ot(dt,J){if(typeof dt=="string")return dt;if(Array.isArray(dt)){var _t="";return dt.forEach(function(Vr){_t+=ot(Vr,J)}),_t}var At={type:dt.type,content:ot(dt.content,J),tag:"span",classes:["token",dt.type],attributes:{},language:J},We=dt.alias;We&&(Array.isArray(We)?Array.prototype.push.apply(At.classes,We):At.classes.push(We)),zt.hooks.run("wrap",At);var Yr="";for(var ur in At.attributes)Yr+=" "+ur+'="'+(At.attributes[ur]||"").replace(/"/g,"&quot;")+'"';return"<"+At.tag+' class="'+At.classes.join(" ")+'"'+Yr+">"+At.content+"</"+At.tag+">"};function o(ot,dt,J,_t){ot.lastIndex=dt;var At=ot.exec(J);if(At&&_t&&At[1]){var We=At[1].length;At.index+=We,At[0]=At[0].slice(We)}return At}function R(ot,dt,J,_t,At,We){for(var Yr in J)if(!(!J.hasOwnProperty(Yr)||!J[Yr])){var ur=J[Yr];ur=Array.isArray(ur)?ur:[ur];for(var Vr=0;Vr<ur.length;++Vr){if(We&&We.cause==Yr+","+Vr)return;var Nn=ur[Vr],Ia=Nn.inside,js=!!Nn.lookbehind,Ya=!!Nn.greedy,cc=Nn.alias;if(Ya&&!Nn.pattern.global){var ol=Nn.pattern.toString().match(/[imsuy]*$/)[0];Nn.pattern=RegExp(Nn.pattern.source,ol+"g")}for(var ll=Nn.pattern||Nn,mi=_t.next,xa=At;mi!==dt.tail&&!(We&&xa>=We.reach);xa+=mi.value.length,mi=mi.next){var ls=mi.value;if(dt.length>ot.length)return;if(!(ls instanceof hn)){var po=1,yi;if(Ya){if(yi=o(ll,xa,ot,js),!yi||yi.index>=ot.length)break;var go=yi.index,Gc=yi.index+yi[0].length,wa=xa;for(wa+=mi.value.length;go>=wa;)mi=mi.next,wa+=mi.value.length;if(wa-=mi.value.length,xa=wa,mi.value instanceof hn)continue;for(var Hs=mi;Hs!==dt.tail&&(wa<Gc||typeof Hs.value=="string");Hs=Hs.next)po++,wa+=Hs.value.length;po--,ls=ot.slice(xa,wa),yi.index-=xa}else if(yi=o(ll,0,ls,js),!yi)continue;var go=yi.index,Pn=yi[0],qt=ls.slice(0,go),cs=ls.slice(go+Pn.length),fo=xa+ls.length;We&&fo>We.reach&&(We.reach=fo);var oa=mi.prev;qt&&(oa=yr(dt,oa,qt),xa+=qt.length),pn(dt,oa,po);var uc=new hn(Yr,Ia?zt.tokenize(Pn,Ia):Pn,cc,Pn);if(mi=yr(dt,oa,uc),cs&&yr(dt,mi,cs),po>1){var Us={cause:Yr+","+Vr,reach:fo};R(ot,dt,J,mi.prev,xa,Us),We&&Us.reach>We.reach&&(We.reach=Us.reach)}}}}}}function St(){var ot={value:null,prev:null,next:null},dt={value:null,prev:ot,next:null};ot.next=dt,this.head=ot,this.tail=dt,this.length=0}function yr(ot,dt,J){var _t=dt.next,At={value:J,prev:dt,next:_t};return dt.next=At,_t.prev=At,ot.length++,At}function pn(ot,dt,J){for(var _t=dt.next,At=0;At<J&&_t!==ot.tail;At++)_t=_t.next;dt.next=_t,_t.prev=dt,ot.length-=At}function Li(ot){for(var dt=[],J=ot.head.next;J!==ot.tail;)dt.push(J.value),J=J.next;return dt}if(!Rt.document)return Rt.addEventListener&&(zt.disableWorkerMessageHandler||Rt.addEventListener("message",function(ot){var dt=JSON.parse(ot.data),J=dt.language,_t=dt.code,At=dt.immediateClose;Rt.postMessage(zt.highlight(_t,zt.languages[J],J)),At&&Rt.close()},!1)),zt;var Pr=zt.util.currentScript();Pr&&(zt.filename=Pr.src,Pr.hasAttribute("data-manual")&&(zt.manual=!0));function Ht(){zt.manual||zt.highlightAll()}if(!zt.manual){var lr=document.readyState;lr==="loading"||lr==="interactive"&&Pr&&Pr.defer?document.addEventListener("DOMContentLoaded",Ht):window.requestAnimationFrame?window.requestAnimationFrame(Ht):window.setTimeout(Ht,16)}return zt}(_self);typeof module<"u"&&module.exports&&(module.exports=Prism),typeof global<"u"&&(global.Prism=Prism),Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(Rt){Rt.type==="entity"&&(Rt.attributes.title=Rt.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(Ar,Hn){var bt={};bt["language-"+Hn]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[Hn]},bt.cdata=/^<!\[CDATA\[|\]\]>$/i;var zt={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:bt}};zt["language-"+Hn]={pattern:/[\s\S]+/,inside:Prism.languages[Hn]};var hn={};hn[Ar]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Ar}),"i"),lookbehind:!0,greedy:!0,inside:zt},Prism.languages.insertBefore("markup","cdata",hn)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(Rt,Ar){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Rt+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[Ar,"language-"+Ar],inside:Prism.languages[Ar]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(Rt){var Ar=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Rt.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+Ar.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Ar.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Ar.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+Ar.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Ar,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Rt.languages.css.atrule.inside.rest=Rt.languages.css;var Hn=Rt.languages.markup;Hn&&(Hn.tag.addInlined("style","css"),Hn.tag.addAttribute("style","css"))}(Prism),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,function(){if(typeof Prism>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var Rt="Loading\u2026",Ar=function(Pr,Ht){return"\u2716 Error "+Pr+" while fetching file: "+Ht},Hn="\u2716 Error: File does not exist or is empty",bt={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},zt="data-src-status",hn="loading",o="loaded",R="failed",St="pre[data-src]:not(["+zt+'="'+o+'"]):not(['+zt+'="'+hn+'"])';function yr(Pr,Ht,lr){var ot=new XMLHttpRequest;ot.open("GET",Pr,!0),ot.onreadystatechange=function(){ot.readyState==4&&(ot.status<400&&ot.responseText?Ht(ot.responseText):ot.status>=400?lr(Ar(ot.status,ot.statusText)):lr(Hn))},ot.send(null)}function pn(Pr){var Ht=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(Pr||"");if(Ht){var lr=Number(Ht[1]),ot=Ht[2],dt=Ht[3];return ot?dt?[lr,Number(dt)]:[lr,void 0]:[lr,lr]}}Prism.hooks.add("before-highlightall",function(Pr){Pr.selector+=", "+St}),Prism.hooks.add("before-sanity-check",function(Pr){var Ht=Pr.element;if(Ht.matches(St)){Pr.code="",Ht.setAttribute(zt,hn);var lr=Ht.appendChild(document.createElement("CODE"));lr.textContent=Rt;var ot=Ht.getAttribute("data-src"),dt=Pr.language;if(dt==="none"){var J=(/\.(\w+)$/.exec(ot)||[,"none"])[1];dt=bt[J]||J}Prism.util.setLanguage(lr,dt),Prism.util.setLanguage(Ht,dt);var _t=Prism.plugins.autoloader;_t&&_t.loadLanguages(dt),yr(ot,function(At){Ht.setAttribute(zt,o);var We=pn(Ht.getAttribute("data-range"));if(We){var Yr=At.split(/\r\n?|\n/g),ur=We[0],Vr=We[1]==null?Yr.length:We[1];ur<0&&(ur+=Yr.length),ur=Math.max(0,Math.min(ur-1,Yr.length)),Vr<0&&(Vr+=Yr.length),Vr=Math.max(0,Math.min(Vr,Yr.length)),At=Yr.slice(ur,Vr).join(`
`),Ht.hasAttribute("data-start")||Ht.setAttribute("data-start",String(ur+1))}lr.textContent=At,Prism.highlightElement(lr)},function(At){Ht.setAttribute(zt,R),lr.textContent=At})}}),Prism.plugins.fileHighlight={highlight:function(Ht){for(var lr=(Ht||document).querySelectorAll(St),ot=0,dt;dt=lr[ot++];)Prism.highlightElement(dt)}};var Li=!1;Prism.fileHighlight=function(){Li||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),Li=!0),Prism.plugins.fileHighlight.highlight.apply(this,arguments)}}(),function(Rt){Rt.languages.typescript=Rt.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),Rt.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete Rt.languages.typescript.parameter,delete Rt.languages.typescript["literal-property"];var Ar=Rt.languages.extend("typescript",{});delete Ar["class-name"],Rt.languages.typescript["class-name"].inside=Ar,Rt.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Ar}}}}),Rt.languages.ts=Rt.languages.typescript}(Prism),Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp("(^|[^\\w$])(?:NaN|Infinity|0[bB][01]+(?:_[01]+)*n?|0[oO][0-7]+(?:_[0-7]+)*n?|0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?|\\d+(?:_\\d+)*n|(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?)(?![\\w$])"),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(`((?:^|[^$\\w\\xA0-\\uFFFF."'\\])\\s]|\\b(?:return|yield))\\s*)/(?:(?:\\[(?:[^\\]\\\\\r
]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\r
])+/[dgimyus]{0,7}|(?:\\[(?:[^[\\]\\\\\r
]|\\\\.|\\[(?:[^[\\]\\\\\r
]|\\\\.|\\[(?:[^[\\]\\\\\r
]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\r
])+/[dgimyus]{0,7}v[dgimyus]{0,7})(?=(?:\\s|/\\*(?:[^*]|\\*(?!/))*\\*/)*(?:$|[\r
,.;:})\\]]|//))`),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute("on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)","javascript")),Prism.languages.js=Prism.languages.javascript,function(Rt){var Ar=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Rt.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp(`@[\\w-](?:[^;{\\s"']|\\s+(?!\\s)|`+Ar.source+")*?(?:;|(?=\\s*\\{))"),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Ar.source+`|(?:[^\\\\\r
()"']|\\\\[^])*)\\)`,"i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Ar.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+Ar.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Ar,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Rt.languages.css.atrule.inside.rest=Rt.languages.css;var Hn=Rt.languages.markup;Hn&&(Hn.tag.addInlined("style","css"),Hn.tag.addAttribute("style","css"))}(Prism);var __esbuild_esm_mermaid=(()=>{var Rt=Object.create,Ar=Object.defineProperty,Hn=Object.getOwnPropertyDescriptor,bt=Object.getOwnPropertyNames,zt=Object.getPrototypeOf,hn=Object.prototype.hasOwnProperty,o=(e,t)=>Ar(e,"name",{value:t,configurable:!0}),R=(e,t)=>()=>(e&&(t=e(e=0)),t),St=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),yr=(e,t)=>{for(var r in t)Ar(e,r,{get:t[r],enumerable:!0})},pn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of bt(t))!hn.call(e,i)&&i!==r&&Ar(e,i,{get:()=>t[i],enumerable:!(n=Hn(t,i))||n.enumerable});return e},Li=(e,t,r)=>(pn(e,t,"default"),r&&pn(r,t,"default")),Pr=(e,t,r)=>(r=e!=null?Rt(zt(e)):{},pn(t||!e||!e.__esModule?Ar(r,"default",{value:e,enumerable:!0}):r,e)),Ht=e=>pn(Ar({},"__esModule",{value:!0}),e),lr=St((e,t)=>{"use strict";(function(r,n){typeof e=="object"&&typeof t<"u"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis<"u"?globalThis:r||self).dayjs=n()})(e,function(){"use strict";var r=1e3,n=6e4,i=36e5,a="millisecond",s="second",l="minute",u="hour",h="day",d="week",p="month",f="quarter",g="year",m="date",y="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:o(function(S){var B=["th","st","nd","rd"],F=S%100;return"["+S+(B[(F-20)%10]||B[F]||B[0])+"]"},"ordinal")},w=o(function(S,B,F){var z=String(S);return!z||z.length>=B?S:""+Array(B+1-z.length).join(F)+S},"m"),E={s:w,z:o(function(S){var B=-S.utcOffset(),F=Math.abs(B),z=Math.floor(F/60),M=F%60;return(B<=0?"+":"-")+w(z,2,"0")+":"+w(M,2,"0")},"z"),m:o(function S(B,F){if(B.date()<F.date())return-S(F,B);var z=12*(F.year()-B.year())+(F.month()-B.month()),M=B.clone().add(z,p),G=F-M<0,Y=B.clone().add(z+(G?-1:1),p);return+(-(z+(F-M)/(G?M-Y:Y-M))||0)},"t"),a:o(function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},"a"),p:o(function(S){return{M:p,y:g,w:d,d:h,D:m,h:u,m:l,s,ms:a,Q:f}[S]||String(S||"").toLowerCase().replace(/s$/,"")},"p"),u:o(function(S){return S===void 0},"u")},A="en",N={};N[A]=x;var L="$isDayjsObject",C=o(function(S){return S instanceof I||!(!S||!S[L])},"S"),D=o(function S(B,F,z){var M;if(!B)return A;if(typeof B=="string"){var G=B.toLowerCase();N[G]&&(M=G),F&&(N[G]=F,M=G);var Y=B.split("-");if(!M&&Y.length>1)return S(Y[0])}else{var V=B.name;N[V]=B,M=V}return!z&&M&&(A=M),M||!z&&A},"t"),P=o(function(S,B){if(C(S))return S.clone();var F=typeof B=="object"?B:{};return F.date=S,F.args=arguments,new I(F)},"O"),O=E;O.l=D,O.i=C,O.w=function(S,B){return P(S,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var I=function(){function S(F){this.$L=D(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[L]=!0}o(S,"M");var B=S.prototype;return B.parse=function(F){this.$d=function(z){var M=z.date,G=z.utc;if(M===null)return new Date(NaN);if(O.u(M))return new Date;if(M instanceof Date)return new Date(M);if(typeof M=="string"&&!/Z$/i.test(M)){var Y=M.match(b);if(Y){var V=Y[2]-1||0,X=(Y[7]||"0").substring(0,3);return G?new Date(Date.UTC(Y[1],V,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,X)):new Date(Y[1],V,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,X)}}return new Date(M)}(F),this.init()},B.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},B.$utils=function(){return O},B.isValid=function(){return this.$d.toString()!==y},B.isSame=function(F,z){var M=P(F);return this.startOf(z)<=M&&M<=this.endOf(z)},B.isAfter=function(F,z){return P(F)<this.startOf(z)},B.isBefore=function(F,z){return this.endOf(z)<P(F)},B.$g=function(F,z,M){return O.u(F)?this[z]:this.set(M,F)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(F,z){var M=this,G=!!O.u(z)||z,Y=O.p(F),V=o(function(ne,ee){var pe=O.w(M.$u?Date.UTC(M.$y,ee,ne):new Date(M.$y,ee,ne),M);return G?pe:pe.endOf(h)},"l"),X=o(function(ne,ee){return O.w(M.toDate()[ne].apply(M.toDate("s"),(G?[0,0,0,0]:[23,59,59,999]).slice(ee)),M)},"$"),re=this.$W,de=this.$M,xe=this.$D,he="set"+(this.$u?"UTC":"");switch(Y){case g:return G?V(1,0):V(31,11);case p:return G?V(1,de):V(0,de+1);case d:var be=this.$locale().weekStart||0,Q=(re<be?re+7:re)-be;return V(G?xe-Q:xe+(6-Q),de);case h:case m:return X(he+"Hours",0);case u:return X(he+"Minutes",1);case l:return X(he+"Seconds",2);case s:return X(he+"Milliseconds",3);default:return this.clone()}},B.endOf=function(F){return this.startOf(F,!1)},B.$set=function(F,z){var M,G=O.p(F),Y="set"+(this.$u?"UTC":""),V=(M={},M[h]=Y+"Date",M[m]=Y+"Date",M[p]=Y+"Month",M[g]=Y+"FullYear",M[u]=Y+"Hours",M[l]=Y+"Minutes",M[s]=Y+"Seconds",M[a]=Y+"Milliseconds",M)[G],X=G===h?this.$D+(z-this.$W):z;if(G===p||G===g){var re=this.clone().set(m,1);re.$d[V](X),re.init(),this.$d=re.set(m,Math.min(this.$D,re.daysInMonth())).$d}else V&&this.$d[V](X);return this.init(),this},B.set=function(F,z){return this.clone().$set(F,z)},B.get=function(F){return this[O.p(F)]()},B.add=function(F,z){var M,G=this;F=Number(F);var Y=O.p(z),V=o(function(de){var xe=P(G);return O.w(xe.date(xe.date()+Math.round(de*F)),G)},"y");if(Y===p)return this.set(p,this.$M+F);if(Y===g)return this.set(g,this.$y+F);if(Y===h)return V(1);if(Y===d)return V(7);var X=(M={},M[l]=n,M[u]=i,M[s]=r,M)[Y]||1,re=this.$d.getTime()+F*X;return O.w(re,this)},B.subtract=function(F,z){return this.add(-1*F,z)},B.format=function(F){var z=this,M=this.$locale();if(!this.isValid())return M.invalidDate||y;var G=F||"YYYY-MM-DDTHH:mm:ssZ",Y=O.z(this),V=this.$H,X=this.$m,re=this.$M,de=M.weekdays,xe=M.months,he=M.meridiem,be=o(function(ee,pe,ie,De){return ee&&(ee[pe]||ee(z,G))||ie[pe].slice(0,De)},"h"),Q=o(function(ee){return O.s(V%12||12,ee,"0")},"d"),ne=he||function(ee,pe,ie){var De=ee<12?"AM":"PM";return ie?De.toLowerCase():De};return G.replace(v,function(ee,pe){return pe||function(ie){switch(ie){case"YY":return String(z.$y).slice(-2);case"YYYY":return O.s(z.$y,4,"0");case"M":return re+1;case"MM":return O.s(re+1,2,"0");case"MMM":return be(M.monthsShort,re,xe,3);case"MMMM":return be(xe,re);case"D":return z.$D;case"DD":return O.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return be(M.weekdaysMin,z.$W,de,2);case"ddd":return be(M.weekdaysShort,z.$W,de,3);case"dddd":return de[z.$W];case"H":return String(V);case"HH":return O.s(V,2,"0");case"h":return Q(1);case"hh":return Q(2);case"a":return ne(V,X,!0);case"A":return ne(V,X,!1);case"m":return String(X);case"mm":return O.s(X,2,"0");case"s":return String(z.$s);case"ss":return O.s(z.$s,2,"0");case"SSS":return O.s(z.$ms,3,"0");case"Z":return Y}return null}(ee)||Y.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(F,z,M){var G,Y=this,V=O.p(z),X=P(F),re=(X.utcOffset()-this.utcOffset())*n,de=this-X,xe=o(function(){return O.m(Y,X)},"D");switch(V){case g:G=xe()/12;break;case p:G=xe();break;case f:G=xe()/3;break;case d:G=(de-re)/6048e5;break;case h:G=(de-re)/864e5;break;case u:G=de/i;break;case l:G=de/n;break;case s:G=de/r;break;default:G=de}return M?G:O.a(G)},B.daysInMonth=function(){return this.endOf(p).$D},B.$locale=function(){return N[this.$L]},B.locale=function(F,z){if(!F)return this.$L;var M=this.clone(),G=D(F,z,!0);return G&&(M.$L=G),M},B.clone=function(){return O.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},S}(),q=I.prototype;return P.prototype=q,[["$ms",a],["$s",s],["$m",l],["$H",u],["$W",h],["$M",p],["$y",g],["$D",m]].forEach(function(S){q[S[1]]=function(B){return this.$g(B,S[0],S[1])}}),P.extend=function(S,B){return S.$i||(S(B,I,P),S.$i=!0),P},P.locale=D,P.isDayjs=C,P.unix=function(S){return P(1e3*S)},P.en=N[A],P.Ls=N,P.p={},P})}),ot,dt,J,_t,At,We=R(()=>{"use strict";ot=Pr(lr(),1),dt={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},J={trace:o((...e)=>{},"trace"),debug:o((...e)=>{},"debug"),info:o((...e)=>{},"info"),warn:o((...e)=>{},"warn"),error:o((...e)=>{},"error"),fatal:o((...e)=>{},"fatal")},_t=o(function(e="fatal"){let t=dt.fatal;typeof e=="string"?e.toLowerCase()in dt&&(t=dt[e]):typeof e=="number"&&(t=e),J.trace=()=>{},J.debug=()=>{},J.info=()=>{},J.warn=()=>{},J.error=()=>{},J.fatal=()=>{},t<=dt.fatal&&(J.fatal=console.error?console.error.bind(console,At("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",At("FATAL"))),t<=dt.error&&(J.error=console.error?console.error.bind(console,At("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",At("ERROR"))),t<=dt.warn&&(J.warn=console.warn?console.warn.bind(console,At("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",At("WARN"))),t<=dt.info&&(J.info=console.info?console.info.bind(console,At("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",At("INFO"))),t<=dt.debug&&(J.debug=console.debug?console.debug.bind(console,At("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",At("DEBUG"))),t<=dt.trace&&(J.trace=console.debug?console.debug.bind(console,At("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",At("TRACE")))},"setLogLevel"),At=o(e=>`%c${(0,ot.default)().format("ss.SSS")} : ${e} : `,"format")}),Yr,ur,Vr,Nn,Ia=R(()=>{"use strict";Yr=Object.freeze({left:0,top:0,width:16,height:16}),ur=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Vr=Object.freeze({...Yr,...ur}),Nn=Object.freeze({...Vr,body:"",hidden:!1})}),js,Ya,cc=R(()=>{"use strict";Ia(),js=Object.freeze({width:null,height:null}),Ya=Object.freeze({...js,...ur})}),ol,ll,mi,xa=R(()=>{"use strict";ol=/^[a-z0-9]+(-[a-z0-9]+)*$/,ll=o((e,t,r,n="")=>{let i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;n=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){let l=i.pop(),u=i.pop(),h={provider:i.length>0?i[0]:n,prefix:u,name:l};return t&&!mi(h)?null:h}let a=i[0],s=a.split("-");if(s.length>1){let l={provider:n,prefix:s.shift(),name:s.join("-")};return t&&!mi(l)?null:l}if(r&&n===""){let l={provider:n,prefix:"",name:a};return t&&!mi(l,r)?null:l}return null},"stringToIcon"),mi=o((e,t)=>e?!!((e.provider===""||e.provider.match(ol))&&(t&&e.prefix===""||e.prefix.match(ol))&&e.name.match(ol)):!1,"validateIconName")});function ls(e,t){let r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);let n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}var po=R(()=>{"use strict";o(ls,"mergeIconTransformations")});function yi(e,t){let r=ls(e,t);for(let n in Nn)n in ur?n in e&&!(n in r)&&(r[n]=ur[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}var Gc=R(()=>{"use strict";Ia(),po(),o(yi,"mergeIconData")});function wa(e,t){let r=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);function a(s){if(r[s])return i[s]=[];if(!(s in i)){i[s]=null;let l=n[s]&&n[s].parent,u=l&&a(l);u&&(i[s]=[l].concat(u))}return i[s]}return o(a,"resolve"),(t||Object.keys(r).concat(Object.keys(n))).forEach(a),i}var Hs=R(()=>{"use strict";o(wa,"getIconsTree")});function go(e,t,r){let n=e.icons,i=e.aliases||Object.create(null),a={};function s(l){a=yi(n[l]||i[l],a)}return o(s,"parse"),s(t),r.forEach(s),yi(e,a)}function Pn(e,t){if(e.icons[t])return go(e,t,[]);let r=wa(e,[t])[t];return r?go(e,t,r):null}var qt=R(()=>{"use strict";Gc(),Hs(),o(go,"internalGetIconData"),o(Pn,"getIconData")});function cs(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;let n=e.split(fo);if(n===null||!n.length)return e;let i=[],a=n.shift(),s=oa.test(a);for(;;){if(s){let l=parseFloat(a);isNaN(l)?i.push(a):i.push(Math.ceil(l*t*r)/r)}else i.push(a);if(a=n.shift(),a===void 0)return i.join("");s=!s}}var fo,oa,uc=R(()=>{"use strict";fo=/(-?[0-9.]*[0-9]+[0-9.]*)/g,oa=/^-?[0-9.]*[0-9]+[0-9.]*$/g,o(cs,"calculateSize")});function Us(e,t="defs"){let r="",n=e.indexOf("<"+t);for(;n>=0;){let i=e.indexOf(">",n),a=e.indexOf("</"+t);if(i===-1||a===-1)break;let s=e.indexOf(">",a);if(s===-1)break;r+=e.slice(i+1,a).trim(),e=e.slice(0,n).trim()+e.slice(s+1)}return{defs:r,content:e}}function mo(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Ch(e,t,r){let n=Us(e);return mo(n.defs,t+n.content+r)}var Yc=R(()=>{"use strict";o(Us,"splitSVGDefs"),o(mo,"mergeDefsAndContent"),o(Ch,"wrapSVGContent")});function In(e,t){let r={...Vr,...e},n={...Ya,...t},i={left:r.left,top:r.top,width:r.width,height:r.height},a=r.body;[r,n].forEach(y=>{let b=[],v=y.hFlip,x=y.vFlip,w=y.rotate;v?x?w+=2:(b.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),b.push("scale(-1 1)"),i.top=i.left=0):x&&(b.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),b.push("scale(1 -1)"),i.top=i.left=0);let E;switch(w<0&&(w-=Math.floor(w/4)*4),w=w%4,w){case 1:E=i.height/2+i.top,b.unshift("rotate(90 "+E.toString()+" "+E.toString()+")");break;case 2:b.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:E=i.width/2+i.left,b.unshift("rotate(-90 "+E.toString()+" "+E.toString()+")");break}w%2===1&&(i.left!==i.top&&(E=i.left,i.left=i.top,i.top=E),i.width!==i.height&&(E=i.width,i.width=i.height,i.height=E)),b.length&&(a=Ch(a,'<g transform="'+b.join(" ")+'">',"</g>"))});let s=n.width,l=n.height,u=i.width,h=i.height,d,p;s===null?(p=l===null?"1em":l==="auto"?h:l,d=cs(p,u/h)):(d=s==="auto"?u:s,p=l===null?cs(d,h/u):l==="auto"?h:l);let f={},g=o((y,b)=>{Da(b)||(f[y]=b.toString())},"setAttr");g("width",d),g("height",p);let m=[i.left,i.top,u,h];return f.viewBox=m.join(" "),{attributes:f,viewBox:m,body:a}}var Da,Es=R(()=>{"use strict";Ia(),cc(),uc(),Yc(),Da=o(e=>e==="unset"||e==="undefined"||e==="none","isUnsetKeyword"),o(In,"iconToSVG")});function Ui(e,t=hc){let r=[],n;for(;n=la.exec(e);)r.push(n[1]);if(!r.length)return e;let i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(a=>{let s=typeof t=="function"?t(a):t+(yo++).toString(),l=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+s+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}var la,hc,yo,Cn=R(()=>{"use strict";la=/\sid="(\S+)"/g,hc="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16),yo=0,o(Ui,"replaceIDs")});function ai(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}var U=R(()=>{"use strict";o(ai,"iconToHTML")}),W=St((e,t)=>{"use strict";var r=1e3,n=r*60,i=n*60,a=i*24,s=a*7,l=a*365.25;t.exports=function(f,g){g=g||{};var m=typeof f;if(m==="string"&&f.length>0)return u(f);if(m==="number"&&isFinite(f))return g.long?d(f):h(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function u(f){if(f=String(f),!(f.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(g){var m=parseFloat(g[1]),y=(g[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return m*l;case"weeks":case"week":case"w":return m*s;case"days":case"day":case"d":return m*a;case"hours":case"hour":case"hrs":case"hr":case"h":return m*i;case"minutes":case"minute":case"mins":case"min":case"m":return m*n;case"seconds":case"second":case"secs":case"sec":case"s":return m*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}o(u,"parse");function h(f){var g=Math.abs(f);return g>=a?Math.round(f/a)+"d":g>=i?Math.round(f/i)+"h":g>=n?Math.round(f/n)+"m":g>=r?Math.round(f/r)+"s":f+"ms"}o(h,"fmtShort");function d(f){var g=Math.abs(f);return g>=a?p(f,g,a,"day"):g>=i?p(f,g,i,"hour"):g>=n?p(f,g,n,"minute"):g>=r?p(f,g,r,"second"):f+" ms"}o(d,"fmtLong");function p(f,g,m,y){var b=g>=m*1.5;return Math.round(f/m)+" "+y+(b?"s":"")}o(p,"plural")}),Lt=St((e,t)=>{"use strict";function r(n){a.debug=a,a.default=a,a.coerce=p,a.disable=u,a.enable=l,a.enabled=h,a.humanize=W(),a.destroy=f,Object.keys(n).forEach(g=>{a[g]=n[g]}),a.names=[],a.skips=[],a.formatters={};function i(g){let m=0;for(let y=0;y<g.length;y++)m=(m<<5)-m+g.charCodeAt(y),m|=0;return a.colors[Math.abs(m)%a.colors.length]}o(i,"selectColor"),a.selectColor=i;function a(g){let m,y=null,b,v;function x(...w){if(!x.enabled)return;let E=x,A=Number(new Date),N=A-(m||A);E.diff=N,E.prev=m,E.curr=A,m=A,w[0]=a.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let L=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(C,D)=>{if(C==="%%")return"%";L++;let P=a.formatters[D];if(typeof P=="function"){let O=w[L];C=P.call(E,O),w.splice(L,1),L--}return C}),a.formatArgs.call(E,w),(E.log||a.log).apply(E,w)}return o(x,"debug"),x.namespace=g,x.useColors=a.useColors(),x.color=a.selectColor(g),x.extend=s,x.destroy=a.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:o(()=>y!==null?y:(b!==a.namespaces&&(b=a.namespaces,v=a.enabled(g)),v),"get"),set:o(w=>{y=w},"set")}),typeof a.init=="function"&&a.init(x),x}o(a,"createDebug");function s(g,m){let y=a(this.namespace+(typeof m>"u"?":":m)+g);return y.log=this.log,y}o(s,"extend");function l(g){a.save(g),a.namespaces=g,a.names=[],a.skips=[];let m,y=(typeof g=="string"?g:"").split(/[\s,]+/),b=y.length;for(m=0;m<b;m++)y[m]&&(g=y[m].replace(/\*/g,".*?"),g[0]==="-"?a.skips.push(new RegExp("^"+g.slice(1)+"$")):a.names.push(new RegExp("^"+g+"$")))}o(l,"enable");function u(){let g=[...a.names.map(d),...a.skips.map(d).map(m=>"-"+m)].join(",");return a.enable(""),g}o(u,"disable");function h(g){if(g[g.length-1]==="*")return!0;let m,y;for(m=0,y=a.skips.length;m<y;m++)if(a.skips[m].test(g))return!1;for(m=0,y=a.names.length;m<y;m++)if(a.names[m].test(g))return!0;return!1}o(h,"enabled");function d(g){return g.toString().substring(2,g.toString().length-2).replace(/\.\*\?$/,"*")}o(d,"toNamespace");function p(g){return g instanceof Error?g.stack||g.message:g}o(p,"coerce");function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(f,"destroy"),a.enable(a.load()),a}o(r,"setup"),t.exports=r}),le=St((e,t)=>{"use strict";e.formatArgs=n,e.save=i,e.load=a,e.useColors=r,e.storage=s(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(r,"useColors");function n(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let h="color: "+this.color;u.splice(1,0,h,"color: inherit");let d=0,p=0;u[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(d++,f==="%c"&&(p=d))}),u.splice(p,0,h)}o(n,"formatArgs"),e.log=console.debug||console.log||(()=>{});function i(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}o(i,"save");function a(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=process.env.DEBUG),u}o(a,"load");function s(){try{return localStorage}catch{}}o(s,"localstorage"),t.exports=Lt()(e);var{formatters:l}=t.exports;l.j=function(u){try{return JSON.stringify(u)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}),Oe,vi=R(()=>{"use strict";xa(),qt(),Es(),Cn(),U(),Oe=Pr(le(),1)}),ar,gr,Ee,ve,Ie,Ye,Pe=R(()=>{"use strict";We(),vi(),ar={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},gr=new Map,Ee=new Map,ve=o(e=>{for(let t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(J.debug("Registering icon pack:",t.name),"loader"in t)Ee.set(t.name,t.loader);else if("icons"in t)gr.set(t.name,t.icons);else throw J.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),Ie=o(async(e,t)=>{let r=ll(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);let n=r.prefix||t;if(!n)throw new Error(`Icon name must contain a prefix: ${e}`);let i=gr.get(n);if(!i){let s=Ee.get(n);if(!s)throw new Error(`Icon set not found: ${r.prefix}`);try{i={...await s(),prefix:n},gr.set(n,i)}catch(l){throw J.error(l),new Error(`Failed to load icon set: ${r.prefix}`)}}let a=Pn(i,r.name);if(!a)throw new Error(`Icon not found: ${e}`);return a},"getRegisteredIconData"),Ye=o(async(e,t)=>{let r;try{r=await Ie(e,t?.fallbackPrefix)}catch(i){J.error(i),r=ar}let n=In(r,t);return ai(Ui(n.body),n.attributes)},"getIconSVG")});function ye(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from(typeof e=="string"?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce(function(l,u){var h=u.match(/\n([\t ]+|(?!\s).)/g);return h?l.concat(h.map(function(d){var p,f;return(f=(p=d.match(/[\t ]/g))===null||p===void 0?void 0:p.length)!==null&&f!==void 0?f:0})):l},[]);if(i.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");n=n.map(function(l){return l.replace(a,`
`)})}n[0]=n[0].replace(/^\r?\n/,"");var s=n[0];return t.forEach(function(l,u){var h=s.match(/(?:^|\n)( *)$/),d=h?h[1]:"",p=l;typeof l=="string"&&l.includes(`
`)&&(p=String(l).split(`
`).map(function(f,g){return g===0?f:""+d+f}).join(`
`)),s+=p+n[u+1]}),s}var Et=R(()=>{"use strict";o(ye,"dedent")}),Me,er,br,vn=R(()=>{"use strict";Me=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,er=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,br=/\s*%%.*\n/gm}),_n,fr=R(()=>{"use strict";_n=class extends Error{static{o(this,"UnknownDiagramError")}constructor(e){super(e),this.name="UnknownDiagramError"}}}),Dn,Ra,Oa,cl,Jn,us=R(()=>{"use strict";We(),vn(),fr(),Dn={},Ra=o(function(e,t){e=e.replace(Me,"").replace(er,"").replace(br,`
`);for(let[r,{detector:n}]of Object.entries(Dn))if(n(e,t))return r;throw new _n(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),Oa=o((...e)=>{for(let{id:t,detector:r,loader:n}of e)cl(t,r,n)},"registerLazyLoadedDiagrams"),cl=o((e,t,r)=>{Dn[e]&&J.warn(`Detector with key ${e} already exists. Overwriting.`),Dn[e]={detector:t,loader:r},J.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),Jn=o(e=>Dn[e].loader,"getDiagramLoader")}),ei,Un,ul=R(()=>{"use strict";ei=function(){var e=o(function(kt,te,Ne,Ce){for(Ne=Ne||{},Ce=kt.length;Ce--;Ne[kt[Ce]]=te);return Ne},"o"),t=[1,24],r=[1,25],n=[1,26],i=[1,27],a=[1,28],s=[1,63],l=[1,64],u=[1,65],h=[1,66],d=[1,67],p=[1,68],f=[1,69],g=[1,29],m=[1,30],y=[1,31],b=[1,32],v=[1,33],x=[1,34],w=[1,35],E=[1,36],A=[1,37],N=[1,38],L=[1,39],C=[1,40],D=[1,41],P=[1,42],O=[1,43],I=[1,44],q=[1,45],S=[1,46],B=[1,47],F=[1,48],z=[1,50],M=[1,51],G=[1,52],Y=[1,53],V=[1,54],X=[1,55],re=[1,56],de=[1,57],xe=[1,58],he=[1,59],be=[1,60],Q=[14,42],ne=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],ee=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],pe=[1,82],ie=[1,83],De=[1,84],se=[1,85],je=[12,14,42],ge=[12,14,33,42],rt=[12,14,33,42,76,77,79,80],Qe=[12,33],tt=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],mt={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:o(function(kt,te,Ne,Ce,Fe,oe,st){var ae=oe.length-1;switch(Fe){case 3:Ce.setDirection("TB");break;case 4:Ce.setDirection("BT");break;case 5:Ce.setDirection("RL");break;case 6:Ce.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:Ce.setC4Type(oe[ae-3]);break;case 19:Ce.setTitle(oe[ae].substring(6)),this.$=oe[ae].substring(6);break;case 20:Ce.setAccDescription(oe[ae].substring(15)),this.$=oe[ae].substring(15);break;case 21:this.$=oe[ae].trim(),Ce.setTitle(this.$);break;case 22:case 23:this.$=oe[ae].trim(),Ce.setAccDescription(this.$);break;case 28:oe[ae].splice(2,0,"ENTERPRISE"),Ce.addPersonOrSystemBoundary(...oe[ae]),this.$=oe[ae];break;case 29:oe[ae].splice(2,0,"SYSTEM"),Ce.addPersonOrSystemBoundary(...oe[ae]),this.$=oe[ae];break;case 30:Ce.addPersonOrSystemBoundary(...oe[ae]),this.$=oe[ae];break;case 31:oe[ae].splice(2,0,"CONTAINER"),Ce.addContainerBoundary(...oe[ae]),this.$=oe[ae];break;case 32:Ce.addDeploymentNode("node",...oe[ae]),this.$=oe[ae];break;case 33:Ce.addDeploymentNode("nodeL",...oe[ae]),this.$=oe[ae];break;case 34:Ce.addDeploymentNode("nodeR",...oe[ae]),this.$=oe[ae];break;case 35:Ce.popBoundaryParseStack();break;case 39:Ce.addPersonOrSystem("person",...oe[ae]),this.$=oe[ae];break;case 40:Ce.addPersonOrSystem("external_person",...oe[ae]),this.$=oe[ae];break;case 41:Ce.addPersonOrSystem("system",...oe[ae]),this.$=oe[ae];break;case 42:Ce.addPersonOrSystem("system_db",...oe[ae]),this.$=oe[ae];break;case 43:Ce.addPersonOrSystem("system_queue",...oe[ae]),this.$=oe[ae];break;case 44:Ce.addPersonOrSystem("external_system",...oe[ae]),this.$=oe[ae];break;case 45:Ce.addPersonOrSystem("external_system_db",...oe[ae]),this.$=oe[ae];break;case 46:Ce.addPersonOrSystem("external_system_queue",...oe[ae]),this.$=oe[ae];break;case 47:Ce.addContainer("container",...oe[ae]),this.$=oe[ae];break;case 48:Ce.addContainer("container_db",...oe[ae]),this.$=oe[ae];break;case 49:Ce.addContainer("container_queue",...oe[ae]),this.$=oe[ae];break;case 50:Ce.addContainer("external_container",...oe[ae]),this.$=oe[ae];break;case 51:Ce.addContainer("external_container_db",...oe[ae]),this.$=oe[ae];break;case 52:Ce.addContainer("external_container_queue",...oe[ae]),this.$=oe[ae];break;case 53:Ce.addComponent("component",...oe[ae]),this.$=oe[ae];break;case 54:Ce.addComponent("component_db",...oe[ae]),this.$=oe[ae];break;case 55:Ce.addComponent("component_queue",...oe[ae]),this.$=oe[ae];break;case 56:Ce.addComponent("external_component",...oe[ae]),this.$=oe[ae];break;case 57:Ce.addComponent("external_component_db",...oe[ae]),this.$=oe[ae];break;case 58:Ce.addComponent("external_component_queue",...oe[ae]),this.$=oe[ae];break;case 60:Ce.addRel("rel",...oe[ae]),this.$=oe[ae];break;case 61:Ce.addRel("birel",...oe[ae]),this.$=oe[ae];break;case 62:Ce.addRel("rel_u",...oe[ae]),this.$=oe[ae];break;case 63:Ce.addRel("rel_d",...oe[ae]),this.$=oe[ae];break;case 64:Ce.addRel("rel_l",...oe[ae]),this.$=oe[ae];break;case 65:Ce.addRel("rel_r",...oe[ae]),this.$=oe[ae];break;case 66:Ce.addRel("rel_b",...oe[ae]),this.$=oe[ae];break;case 67:oe[ae].splice(0,1),Ce.addRel("rel",...oe[ae]),this.$=oe[ae];break;case 68:Ce.updateElStyle("update_el_style",...oe[ae]),this.$=oe[ae];break;case 69:Ce.updateRelStyle("update_rel_style",...oe[ae]),this.$=oe[ae];break;case 70:Ce.updateLayoutConfig("update_layout_config",...oe[ae]),this.$=oe[ae];break;case 71:this.$=[oe[ae]];break;case 72:oe[ae].unshift(oe[ae-1]),this.$=oe[ae];break;case 73:case 75:this.$=oe[ae].trim();break;case 74:let ht={};ht[oe[ae-1].trim()]=oe[ae].trim(),this.$=ht;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:b,48:v,49:x,50:w,51:E,52:A,53:N,54:L,55:C,56:D,57:P,58:O,59:I,60:q,61:S,62:B,63:F,64:z,65:M,66:G,67:Y,68:V,69:X,70:re,71:de,72:xe,73:he,74:be},{13:70,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:b,48:v,49:x,50:w,51:E,52:A,53:N,54:L,55:C,56:D,57:P,58:O,59:I,60:q,61:S,62:B,63:F,64:z,65:M,66:G,67:Y,68:V,69:X,70:re,71:de,72:xe,73:he,74:be},{13:71,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:b,48:v,49:x,50:w,51:E,52:A,53:N,54:L,55:C,56:D,57:P,58:O,59:I,60:q,61:S,62:B,63:F,64:z,65:M,66:G,67:Y,68:V,69:X,70:re,71:de,72:xe,73:he,74:be},{13:72,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:b,48:v,49:x,50:w,51:E,52:A,53:N,54:L,55:C,56:D,57:P,58:O,59:I,60:q,61:S,62:B,63:F,64:z,65:M,66:G,67:Y,68:V,69:X,70:re,71:de,72:xe,73:he,74:be},{13:73,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:a,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:b,48:v,49:x,50:w,51:E,52:A,53:N,54:L,55:C,56:D,57:P,58:O,59:I,60:q,61:S,62:B,63:F,64:z,65:M,66:G,67:Y,68:V,69:X,70:re,71:de,72:xe,73:he,74:be},{14:[1,74]},e(Q,[2,13],{43:23,29:49,30:61,32:62,20:75,34:s,36:l,37:u,38:h,39:d,40:p,41:f,44:g,45:m,46:y,47:b,48:v,49:x,50:w,51:E,52:A,53:N,54:L,55:C,56:D,57:P,58:O,59:I,60:q,61:S,62:B,63:F,64:z,65:M,66:G,67:Y,68:V,69:X,70:re,71:de,72:xe,73:he,74:be}),e(Q,[2,14]),e(ne,[2,16],{12:[1,76]}),e(Q,[2,36],{12:[1,77]}),e(ee,[2,19]),e(ee,[2,20]),{25:[1,78]},{27:[1,79]},e(ee,[2,23]),{35:80,75:81,76:pe,77:ie,79:De,80:se},{35:86,75:81,76:pe,77:ie,79:De,80:se},{35:87,75:81,76:pe,77:ie,79:De,80:se},{35:88,75:81,76:pe,77:ie,79:De,80:se},{35:89,75:81,76:pe,77:ie,79:De,80:se},{35:90,75:81,76:pe,77:ie,79:De,80:se},{35:91,75:81,76:pe,77:ie,79:De,80:se},{35:92,75:81,76:pe,77:ie,79:De,80:se},{35:93,75:81,76:pe,77:ie,79:De,80:se},{35:94,75:81,76:pe,77:ie,79:De,80:se},{35:95,75:81,76:pe,77:ie,79:De,80:se},{35:96,75:81,76:pe,77:ie,79:De,80:se},{35:97,75:81,76:pe,77:ie,79:De,80:se},{35:98,75:81,76:pe,77:ie,79:De,80:se},{35:99,75:81,76:pe,77:ie,79:De,80:se},{35:100,75:81,76:pe,77:ie,79:De,80:se},{35:101,75:81,76:pe,77:ie,79:De,80:se},{35:102,75:81,76:pe,77:ie,79:De,80:se},{35:103,75:81,76:pe,77:ie,79:De,80:se},{35:104,75:81,76:pe,77:ie,79:De,80:se},e(je,[2,59]),{35:105,75:81,76:pe,77:ie,79:De,80:se},{35:106,75:81,76:pe,77:ie,79:De,80:se},{35:107,75:81,76:pe,77:ie,79:De,80:se},{35:108,75:81,76:pe,77:ie,79:De,80:se},{35:109,75:81,76:pe,77:ie,79:De,80:se},{35:110,75:81,76:pe,77:ie,79:De,80:se},{35:111,75:81,76:pe,77:ie,79:De,80:se},{35:112,75:81,76:pe,77:ie,79:De,80:se},{35:113,75:81,76:pe,77:ie,79:De,80:se},{35:114,75:81,76:pe,77:ie,79:De,80:se},{35:115,75:81,76:pe,77:ie,79:De,80:se},{20:116,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:p,41:f,43:23,44:g,45:m,46:y,47:b,48:v,49:x,50:w,51:E,52:A,53:N,54:L,55:C,56:D,57:P,58:O,59:I,60:q,61:S,62:B,63:F,64:z,65:M,66:G,67:Y,68:V,69:X,70:re,71:de,72:xe,73:he,74:be},{12:[1,118],33:[1,117]},{35:119,75:81,76:pe,77:ie,79:De,80:se},{35:120,75:81,76:pe,77:ie,79:De,80:se},{35:121,75:81,76:pe,77:ie,79:De,80:se},{35:122,75:81,76:pe,77:ie,79:De,80:se},{35:123,75:81,76:pe,77:ie,79:De,80:se},{35:124,75:81,76:pe,77:ie,79:De,80:se},{35:125,75:81,76:pe,77:ie,79:De,80:se},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},e(Q,[2,15]),e(ne,[2,17],{21:22,19:130,22:t,23:r,24:n,26:i,28:a}),e(Q,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:t,23:r,24:n,26:i,28:a,34:s,36:l,37:u,38:h,39:d,40:p,41:f,44:g,45:m,46:y,47:b,48:v,49:x,50:w,51:E,52:A,53:N,54:L,55:C,56:D,57:P,58:O,59:I,60:q,61:S,62:B,63:F,64:z,65:M,66:G,67:Y,68:V,69:X,70:re,71:de,72:xe,73:he,74:be}),e(ee,[2,21]),e(ee,[2,22]),e(je,[2,39]),e(ge,[2,71],{75:81,35:132,76:pe,77:ie,79:De,80:se}),e(rt,[2,73]),{78:[1,133]},e(rt,[2,75]),e(rt,[2,76]),e(je,[2,40]),e(je,[2,41]),e(je,[2,42]),e(je,[2,43]),e(je,[2,44]),e(je,[2,45]),e(je,[2,46]),e(je,[2,47]),e(je,[2,48]),e(je,[2,49]),e(je,[2,50]),e(je,[2,51]),e(je,[2,52]),e(je,[2,53]),e(je,[2,54]),e(je,[2,55]),e(je,[2,56]),e(je,[2,57]),e(je,[2,58]),e(je,[2,60]),e(je,[2,61]),e(je,[2,62]),e(je,[2,63]),e(je,[2,64]),e(je,[2,65]),e(je,[2,66]),e(je,[2,67]),e(je,[2,68]),e(je,[2,69]),e(je,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},e(Qe,[2,28]),e(Qe,[2,29]),e(Qe,[2,30]),e(Qe,[2,31]),e(Qe,[2,32]),e(Qe,[2,33]),e(Qe,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},e(ne,[2,18]),e(Q,[2,38]),e(ge,[2,72]),e(rt,[2,74]),e(je,[2,24]),e(je,[2,35]),e(tt,[2,25]),e(tt,[2,26],{12:[1,138]}),e(tt,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:o(function(kt,te){if(te.recoverable)this.trace(kt);else{var Ne=new Error(kt);throw Ne.hash=te,Ne}},"parseError"),parse:o(function(kt){var te=this,Ne=[0],Ce=[],Fe=[null],oe=[],st=this.table,ae="",ht=0,fe=0,Le=0,Ue=2,Ke=1,it=oe.slice.call(arguments,1),qe=Object.create(this.lexer),xt={yy:{}};for(var at in this.yy)Object.prototype.hasOwnProperty.call(this.yy,at)&&(xt.yy[at]=this.yy[at]);qe.setInput(kt,xt.yy),xt.yy.lexer=qe,xt.yy.parser=this,typeof qe.yylloc>"u"&&(qe.yylloc={});var jt=qe.yylloc;oe.push(jt);var mr=qe.options&&qe.options.ranges;typeof xt.yy.parseError=="function"?this.parseError=xt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function cr(ir){Ne.length=Ne.length-2*ir,Fe.length=Fe.length-ir,oe.length=oe.length-ir}o(cr,"popStack");function Zt(){var ir;return ir=Ce.pop()||qe.lex()||Ke,typeof ir!="number"&&(ir instanceof Array&&(Ce=ir,ir=Ce.pop()),ir=te.symbols_[ir]||ir),ir}o(Zt,"lex");for(var vr,Gt,Tt,wt,pr,Mt,Rr={},Cr,Kt,Xt,Ft;;){if(Tt=Ne[Ne.length-1],this.defaultActions[Tt]?wt=this.defaultActions[Tt]:((vr===null||typeof vr>"u")&&(vr=Zt()),wt=st[Tt]&&st[Tt][vr]),typeof wt>"u"||!wt.length||!wt[0]){var Tr="";Ft=[];for(Cr in st[Tt])this.terminals_[Cr]&&Cr>Ue&&Ft.push("'"+this.terminals_[Cr]+"'");qe.showPosition?Tr="Parse error on line "+(ht+1)+`:
`+qe.showPosition()+`
Expecting `+Ft.join(", ")+", got '"+(this.terminals_[vr]||vr)+"'":Tr="Parse error on line "+(ht+1)+": Unexpected "+(vr==Ke?"end of input":"'"+(this.terminals_[vr]||vr)+"'"),this.parseError(Tr,{text:qe.match,token:this.terminals_[vr]||vr,line:qe.yylineno,loc:jt,expected:Ft})}if(wt[0]instanceof Array&&wt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Tt+", token: "+vr);switch(wt[0]){case 1:Ne.push(vr),Fe.push(qe.yytext),oe.push(qe.yylloc),Ne.push(wt[1]),vr=null,Gt?(vr=Gt,Gt=null):(fe=qe.yyleng,ae=qe.yytext,ht=qe.yylineno,jt=qe.yylloc,Le>0&&Le--);break;case 2:if(Kt=this.productions_[wt[1]][1],Rr.$=Fe[Fe.length-Kt],Rr._$={first_line:oe[oe.length-(Kt||1)].first_line,last_line:oe[oe.length-1].last_line,first_column:oe[oe.length-(Kt||1)].first_column,last_column:oe[oe.length-1].last_column},mr&&(Rr._$.range=[oe[oe.length-(Kt||1)].range[0],oe[oe.length-1].range[1]]),Mt=this.performAction.apply(Rr,[ae,fe,ht,xt.yy,wt[1],Fe,oe].concat(it)),typeof Mt<"u")return Mt;Kt&&(Ne=Ne.slice(0,-1*Kt*2),Fe=Fe.slice(0,-1*Kt),oe=oe.slice(0,-1*Kt)),Ne.push(this.productions_[wt[1]][0]),Fe.push(Rr.$),oe.push(Rr._$),Xt=st[Ne[Ne.length-2]][Ne[Ne.length-1]],Ne.push(Xt);break;case 3:return!0}}return!0},"parse")},yt=function(){var kt={EOF:1,parseError:o(function(te,Ne){if(this.yy.parser)this.yy.parser.parseError(te,Ne);else throw new Error(te)},"parseError"),setInput:o(function(te,Ne){return this.yy=Ne||this.yy||{},this._input=te,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var te=this._input[0];this.yytext+=te,this.yyleng++,this.offset++,this.match+=te,this.matched+=te;var Ne=te.match(/(?:\r\n?|\n).*/g);return Ne?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),te},"input"),unput:o(function(te){var Ne=te.length,Ce=te.split(/(?:\r\n?|\n)/g);this._input=te+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ne),this.offset-=Ne;var Fe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ce.length-1&&(this.yylineno-=Ce.length-1);var oe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ce?(Ce.length===Fe.length?this.yylloc.first_column:0)+Fe[Fe.length-Ce.length].length-Ce[0].length:this.yylloc.first_column-Ne},this.options.ranges&&(this.yylloc.range=[oe[0],oe[0]+this.yyleng-Ne]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(te){this.unput(this.match.slice(te))},"less"),pastInput:o(function(){var te=this.matched.substr(0,this.matched.length-this.match.length);return(te.length>20?"...":"")+te.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var te=this.match;return te.length<20&&(te+=this._input.substr(0,20-te.length)),(te.substr(0,20)+(te.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var te=this.pastInput(),Ne=new Array(te.length+1).join("-");return te+this.upcomingInput()+`
`+Ne+"^"},"showPosition"),test_match:o(function(te,Ne){var Ce,Fe,oe;if(this.options.backtrack_lexer&&(oe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(oe.yylloc.range=this.yylloc.range.slice(0))),Fe=te[0].match(/(?:\r\n?|\n).*/g),Fe&&(this.yylineno+=Fe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Fe?Fe[Fe.length-1].length-Fe[Fe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+te[0].length},this.yytext+=te[0],this.match+=te[0],this.matches=te,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(te[0].length),this.matched+=te[0],Ce=this.performAction.call(this,this.yy,this,Ne,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ce)return Ce;if(this._backtrack){for(var st in oe)this[st]=oe[st];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var te,Ne,Ce,Fe;this._more||(this.yytext="",this.match="");for(var oe=this._currentRules(),st=0;st<oe.length;st++)if(Ce=this._input.match(this.rules[oe[st]]),Ce&&(!Ne||Ce[0].length>Ne[0].length)){if(Ne=Ce,Fe=st,this.options.backtrack_lexer){if(te=this.test_match(Ce,oe[st]),te!==!1)return te;if(this._backtrack){Ne=!1;continue}else return!1}else if(!this.options.flex)break}return Ne?(te=this.test_match(Ne,oe[Fe]),te!==!1?te:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var te=this.next();return te||this.lex()},"lex"),begin:o(function(te){this.conditionStack.push(te)},"begin"),popState:o(function(){var te=this.conditionStack.length-1;return te>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(te){return te=this.conditionStack.length-1-Math.abs(te||0),te>=0?this.conditionStack[te]:"INITIAL"},"topState"),pushState:o(function(te){this.begin(te)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:o(function(te,Ne,Ce,Fe){var oe=Fe;switch(Ce){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:return this.begin("node"),39;case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:return this.begin("rel_u"),66;case 53:return this.begin("rel_u"),66;case 54:return this.begin("rel_d"),67;case 55:return this.begin("rel_d"),67;case 56:return this.begin("rel_l"),68;case 57:return this.begin("rel_l"),68;case 58:return this.begin("rel_r"),69;case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return kt}();mt.lexer=yt;function Nt(){this.yy={}}return o(Nt,"Parser"),Nt.prototype=mt,mt.Parser=Nt,new Nt}(),ei.parser=ei,Un=ei}),hs,ci,hl=R(()=>{"use strict";hs=o((e,t,{depth:r=2,clobber:n=!1}={})=>{let i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(a=>hs(e,a,i)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(a=>{e.includes(a)||e.push(a)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(a=>{typeof t[a]=="object"&&(e[a]===void 0||typeof e[a]=="object")?(e[a]===void 0&&(e[a]=Array.isArray(t[a])?[]:{}),e[a]=hs(e[a],t[a],{depth:r-1,clobber:n})):(n||typeof e[a]!="object"&&typeof t[a]!="object")&&(e[a]=t[a])}),e)},"assignWithDepth"),ci=hs}),dl,ct,ti=R(()=>{"use strict";dl={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:o(e=>e>=255?255:e<0?0:e,"r"),g:o(e=>e>=255?255:e<0?0:e,"g"),b:o(e=>e>=255?255:e<0?0:e,"b"),h:o(e=>e%360,"h"),s:o(e=>e>=100?100:e<0?0:e,"s"),l:o(e=>e>=100?100:e<0?0:e,"l"),a:o(e=>e>=1?1:e<0?0:e,"a")},toLinear:o(e=>{let t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},"toLinear"),hue2rgb:o((e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?e+(t-e)*6*r:r<.5?t:r<.6666666666666666?e+(t-e)*(.6666666666666666-r)*6:e),"hue2rgb"),hsl2rgb:o(({h:e,s:t,l:r},n)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;let i=r<.5?r*(1+t):r+t-r*t,a=2*r-i;switch(n){case"r":return dl.hue2rgb(a,i,e+.3333333333333333)*255;case"g":return dl.hue2rgb(a,i,e)*255;case"b":return dl.hue2rgb(a,i,e-.3333333333333333)*255}},"hsl2rgb"),rgb2hsl:o(({r:e,g:t,b:r},n)=>{e/=255,t/=255,r/=255;let i=Math.max(e,t,r),a=Math.min(e,t,r),s=(i+a)/2;if(n==="l")return s*100;if(i===a)return 0;let l=i-a,u=s>.5?l/(2-i-a):l/(i+a);if(n==="s")return u*100;switch(i){case e:return((t-r)/l+(t<r?6:0))*60;case t:return((r-e)/l+2)*60;case r:return((e-t)/l+4)*60;default:return-1}},"rgb2hsl")},ct=dl}),Dl,Do,X0=R(()=>{"use strict";Dl={clamp:o((e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),"clamp"),round:o(e=>Math.round(e*1e10)/1e10,"round")},Do=Dl}),Xg,I1,K0=R(()=>{"use strict";Xg={dec2hex:o(e=>{let t=Math.round(e).toString(16);return t.length>1?t:`0${t}`},"dec2hex")},I1=Xg}),_h,Ct,ja=R(()=>{"use strict";ti(),X0(),K0(),_h={channel:ct,lang:Do,unit:I1},Ct=_h}),Vs,Sn,vo=R(()=>{"use strict";ja(),Vs={};for(let e=0;e<=255;e++)Vs[e]=Ct.unit.dec2hex(e);Sn={ALL:0,RGB:1,HSL:2}}),Kg,Zg,Ey=R(()=>{"use strict";vo(),Kg=class{static{o(this,"Type")}constructor(){this.type=Sn.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Sn.ALL}is(e){return this.type===e}},Zg=Kg}),Qg,Vi,Z0=R(()=>{"use strict";ja(),Ey(),vo(),Qg=class{static{o(this,"Channels")}constructor(e,t){this.color=t,this.changed=!1,this.data=e,this.type=new Zg}set(e,t){return this.color=t,this.changed=!1,this.data=e,this.type.type=Sn.ALL,this}_ensureHSL(){let e=this.data,{h:t,s:r,l:n}=e;t===void 0&&(e.h=Ct.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=Ct.channel.rgb2hsl(e,"s")),n===void 0&&(e.l=Ct.channel.rgb2hsl(e,"l"))}_ensureRGB(){let e=this.data,{r:t,g:r,b:n}=e;t===void 0&&(e.r=Ct.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=Ct.channel.hsl2rgb(e,"g")),n===void 0&&(e.b=Ct.channel.hsl2rgb(e,"b"))}get r(){let e=this.data,t=e.r;return!this.type.is(Sn.HSL)&&t!==void 0?t:(this._ensureHSL(),Ct.channel.hsl2rgb(e,"r"))}get g(){let e=this.data,t=e.g;return!this.type.is(Sn.HSL)&&t!==void 0?t:(this._ensureHSL(),Ct.channel.hsl2rgb(e,"g"))}get b(){let e=this.data,t=e.b;return!this.type.is(Sn.HSL)&&t!==void 0?t:(this._ensureHSL(),Ct.channel.hsl2rgb(e,"b"))}get h(){let e=this.data,t=e.h;return!this.type.is(Sn.RGB)&&t!==void 0?t:(this._ensureRGB(),Ct.channel.rgb2hsl(e,"h"))}get s(){let e=this.data,t=e.s;return!this.type.is(Sn.RGB)&&t!==void 0?t:(this._ensureRGB(),Ct.channel.rgb2hsl(e,"s"))}get l(){let e=this.data,t=e.l;return!this.type.is(Sn.RGB)&&t!==void 0?t:(this._ensureRGB(),Ct.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Sn.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Sn.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Sn.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Sn.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Sn.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Sn.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}},Vi=Qg}),Q0,dc,jc=R(()=>{"use strict";Z0(),Q0=new Vi({r:0,g:0,b:0,a:0},"transparent"),dc=Q0}),Rl,on,Ol=R(()=>{"use strict";jc(),vo(),Rl={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:o(e=>{if(e.charCodeAt(0)!==35)return;let t=e.match(Rl.re);if(!t)return;let r=t[1],n=parseInt(r,16),i=r.length,a=i%4===0,s=i>4,l=s?1:17,u=s?8:4,h=a?0:-1,d=s?255:15;return dc.set({r:(n>>u*(h+3)&d)*l,g:(n>>u*(h+2)&d)*l,b:(n>>u*(h+1)&d)*l,a:a?(n&d)*l/255:1},e)},"parse"),stringify:o(e=>{let{r:t,g:r,b:n,a:i}=e;return i<1?`#${Vs[Math.round(t)]}${Vs[Math.round(r)]}${Vs[Math.round(n)]}${Vs[Math.round(i*255)]}`:`#${Vs[Math.round(t)]}${Vs[Math.round(r)]}${Vs[Math.round(n)]}`},"stringify")},on=Rl}),Ro,Pl,Ha=R(()=>{"use strict";ja(),jc(),Ro={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:o(e=>{let t=e.match(Ro.hueRe);if(t){let[,r,n]=t;switch(n){case"grad":return Ct.channel.clamp.h(parseFloat(r)*.9);case"rad":return Ct.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return Ct.channel.clamp.h(parseFloat(r)*360)}}return Ct.channel.clamp.h(parseFloat(e))},"_hue2deg"),parse:o(e=>{let t=e.charCodeAt(0);if(t!==104&&t!==72)return;let r=e.match(Ro.re);if(!r)return;let[,n,i,a,s,l]=r;return dc.set({h:Ro._hue2deg(n),s:Ct.channel.clamp.s(parseFloat(i)),l:Ct.channel.clamp.l(parseFloat(a)),a:s?Ct.channel.clamp.a(l?parseFloat(s)/100:parseFloat(s)):1},e)},"parse"),stringify:o(e=>{let{h:t,s:r,l:n,a:i}=e;return i<1?`hsla(${Ct.lang.round(t)}, ${Ct.lang.round(r)}%, ${Ct.lang.round(n)}%, ${i})`:`hsl(${Ct.lang.round(t)}, ${Ct.lang.round(r)}%, ${Ct.lang.round(n)}%)`},"stringify")},Pl=Ro}),ki,Dt,ca=R(()=>{"use strict";Ol(),ki={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:o(e=>{e=e.toLowerCase();let t=ki.colors[e];if(t)return on.parse(t)},"parse"),stringify:o(e=>{let t=on.stringify(e);for(let r in ki.colors)if(ki.colors[r]===t)return r},"stringify")},Dt=ki}),Ws,Oo,bo=R(()=>{"use strict";ja(),jc(),Ws={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:o(e=>{let t=e.charCodeAt(0);if(t!==114&&t!==82)return;let r=e.match(Ws.re);if(!r)return;let[,n,i,a,s,l,u,h,d]=r;return dc.set({r:Ct.channel.clamp.r(i?parseFloat(n)*2.55:parseFloat(n)),g:Ct.channel.clamp.g(s?parseFloat(a)*2.55:parseFloat(a)),b:Ct.channel.clamp.b(u?parseFloat(l)*2.55:parseFloat(l)),a:h?Ct.channel.clamp.a(d?parseFloat(h)/100:parseFloat(h)):1},e)},"parse"),stringify:o(e=>{let{r:t,g:r,b:n,a:i}=e;return i<1?`rgba(${Ct.lang.round(t)}, ${Ct.lang.round(r)}, ${Ct.lang.round(n)}, ${Ct.lang.round(i)})`:`rgb(${Ct.lang.round(t)}, ${Ct.lang.round(r)}, ${Ct.lang.round(n)})`},"stringify")},Oo=Ws}),ds,ea,Bn=R(()=>{"use strict";Ol(),Ha(),ca(),bo(),vo(),ds={format:{keyword:Dt,hex:on,rgb:Oo,rgba:Oo,hsl:Pl,hsla:Pl},parse:o(e=>{if(typeof e!="string")return e;let t=on.parse(e)||Oo.parse(e)||Pl.parse(e)||Dt.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},"parse"),stringify:o(e=>!e.changed&&e.color?e.color:e.type.is(Sn.HSL)||e.data.r===void 0?Pl.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?Oo.stringify(e):on.stringify(e),"stringify")},ea=ds}),me,Ae,Ve=R(()=>{"use strict";ja(),Bn(),me=o((e,t)=>{let r=ea.parse(e);for(let n in t)r[n]=Ct.channel.clamp[n](t[n]);return ea.stringify(r)},"change"),Ae=me}),ft,It,Br=R(()=>{"use strict";ja(),jc(),Bn(),Ve(),ft=o((e,t,r=0,n=1)=>{if(typeof e!="number")return Ae(e,{a:t});let i=dc.set({r:Ct.channel.clamp.r(e),g:Ct.channel.clamp.g(t),b:Ct.channel.clamp.b(r),a:Ct.channel.clamp.a(n)});return ea.stringify(i)},"rgba"),It=ft}),gn,ui,Cs=R(()=>{"use strict";ja(),Bn(),gn=o((e,t)=>Ct.lang.round(ea.parse(e)[t]),"channel"),ui=gn}),$r,Xs,Jg=R(()=>{"use strict";ja(),Bn(),$r=o(e=>{let{r:t,g:r,b:n}=ea.parse(e),i=.2126*Ct.channel.toLinear(t)+.7152*Ct.channel.toLinear(r)+.0722*Ct.channel.toLinear(n);return Ct.lang.round(i)},"luminance"),Xs=$r}),ef,Cy,RC=R(()=>{"use strict";Jg(),ef=o(e=>Xs(e)>=.5,"isLight"),Cy=ef}),D1,Hc,gx=R(()=>{"use strict";RC(),D1=o(e=>!Cy(e),"isDark"),Hc=D1}),_y,J0,fx=R(()=>{"use strict";ja(),Bn(),_y=o((e,t,r)=>{let n=ea.parse(e),i=n[t],a=Ct.channel.clamp[t](i+r);return i!==a&&(n[t]=a),ea.stringify(n)},"adjustChannel"),J0=_y}),Sy,_r,mx=R(()=>{"use strict";fx(),Sy=o((e,t)=>J0(e,"l",t),"lighten"),_r=Sy}),Ay,Mr,yx=R(()=>{"use strict";fx(),Ay=o((e,t)=>J0(e,"l",-t),"darken"),Mr=Ay}),Ly,lt,Ny=R(()=>{"use strict";Bn(),Ve(),Ly=o((e,t)=>{let r=ea.parse(e),n={};for(let i in t)t[i]&&(n[i]=r[i]+t[i]);return Ae(e,n)},"adjust"),lt=Ly}),My,Iy,Dy=R(()=>{"use strict";Bn(),Br(),My=o((e,t,r=50)=>{let{r:n,g:i,b:a,a:s}=ea.parse(e),{r:l,g:u,b:h,a:d}=ea.parse(t),p=r/100,f=p*2-1,g=s-d,m=((f*g===-1?f:(f+g)/(1+f*g))+1)/2,y=1-m,b=n*m+l*y,v=i*m+u*y,x=a*m+h*y,w=s*p+d*(1-p);return It(b,v,x,w)},"mix"),Iy=My}),tf,sr,OC=R(()=>{"use strict";Bn(),Dy(),tf=o((e,t=100)=>{let r=ea.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,Iy(r,e,t)},"invert"),sr=tf}),PC=R(()=>{"use strict";Br(),Cs(),gx(),mx(),yx(),Ny(),OC()}),pl=R(()=>{"use strict";PC()}),Sh,Ah,R1=R(()=>{"use strict";Sh="#ffffff",Ah="#f2f2f2"}),_s,ed=R(()=>{"use strict";pl(),_s=o((e,t)=>t?lt(e,{s:-40,l:10}):lt(e,{s:-40,l:-10}),"mkBorder")}),td,vx,BC=R(()=>{"use strict";pl(),R1(),ed(),td=class{static{o(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||lt(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||lt(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||_s(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||_s(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||_s(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||_s(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||sr(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||sr(this.tertiaryColor),this.lineColor=this.lineColor||sr(this.background),this.arrowheadColor=this.arrowheadColor||sr(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Mr(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Mr(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||sr(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||_r(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||lt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||lt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||lt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||lt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||lt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||lt(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||lt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||lt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||lt(this.primaryColor,{h:330}),this.darkMode)for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Mr(this["cScale"+t],75);else for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScale"+t]=Mr(this["cScale"+t],25);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleInv"+t]=this["cScaleInv"+t]||sr(this["cScale"+t]);for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this.darkMode?this["cScalePeer"+t]=this["cScalePeer"+t]||_r(this["cScale"+t],10):this["cScalePeer"+t]=this["cScalePeer"+t]||Mr(this["cScale"+t],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let t=0;t<this.THEME_COLOR_LIMIT;t++)this["cScaleLabel"+t]=this["cScaleLabel"+t]||this.scaleLabelColor;let e=this.darkMode?-4:-1;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||lt(this.mainBkg,{h:180,s:-15,l:e*(5+t*3)}),this["surfacePeer"+t]=this["surfacePeer"+t]||lt(this.mainBkg,{h:180,s:-15,l:e*(8+t*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||lt(this.primaryColor,{h:64}),this.fillType3=this.fillType3||lt(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||lt(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||lt(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||lt(this.primaryColor,{h:128}),this.fillType7=this.fillType7||lt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||lt(this.primaryColor,{l:-10}),this.pie5=this.pie5||lt(this.secondaryColor,{l:-10}),this.pie6=this.pie6||lt(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||lt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||lt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||lt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||lt(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||lt(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||lt(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||lt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||lt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||lt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||lt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||lt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||lt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Hc(this.quadrant1Fill)?_r(this.quadrant1Fill):Mr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Mr(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||lt(this.primaryColor,{h:-30}),this.git4=this.git4||lt(this.primaryColor,{h:-60}),this.git5=this.git5||lt(this.primaryColor,{h:-90}),this.git6=this.git6||lt(this.primaryColor,{h:60}),this.git7=this.git7||lt(this.primaryColor,{h:120}),this.darkMode?(this.git0=_r(this.git0,25),this.git1=_r(this.git1,25),this.git2=_r(this.git2,25),this.git3=_r(this.git3,25),this.git4=_r(this.git4,25),this.git5=_r(this.git5,25),this.git6=_r(this.git6,25),this.git7=_r(this.git7,25)):(this.git0=Mr(this.git0,25),this.git1=Mr(this.git1,25),this.git2=Mr(this.git2,25),this.git3=Mr(this.git3,25),this.git4=Mr(this.git4,25),this.git5=Mr(this.git5,25),this.git6=Mr(this.git6,25),this.git7=Mr(this.git7,25)),this.gitInv0=this.gitInv0||sr(this.git0),this.gitInv1=this.gitInv1||sr(this.git1),this.gitInv2=this.gitInv2||sr(this.git2),this.gitInv3=this.gitInv3||sr(this.git3),this.gitInv4=this.gitInv4||sr(this.git4),this.gitInv5=this.gitInv5||sr(this.git5),this.gitInv6=this.gitInv6||sr(this.git6),this.gitInv7=this.gitInv7||sr(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sh,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ah}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},vx=o(e=>{let t=new td;return t.calculate(e),t},"getThemeVariables")}),Ry,bx,xx=R(()=>{"use strict";pl(),ed(),Ry=class{static{o(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=_r(this.primaryColor,16),this.tertiaryColor=lt(this.primaryColor,{h:-160}),this.primaryBorderColor=sr(this.background),this.secondaryBorderColor=_s(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=_s(this.tertiaryColor,this.darkMode),this.primaryTextColor=sr(this.primaryColor),this.secondaryTextColor=sr(this.secondaryColor),this.tertiaryTextColor=sr(this.tertiaryColor),this.lineColor=sr(this.background),this.textColor=sr(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=_r(sr("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=It(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Mr("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Mr(this.sectionBkgColor,10),this.taskBorderColor=It(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=It(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=_r(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=_r(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=_r(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=lt(this.primaryColor,{h:64}),this.fillType3=lt(this.secondaryColor,{h:64}),this.fillType4=lt(this.primaryColor,{h:-64}),this.fillType5=lt(this.secondaryColor,{h:-64}),this.fillType6=lt(this.primaryColor,{h:128}),this.fillType7=lt(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||lt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||lt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||lt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||lt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||lt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||lt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||lt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||lt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||lt(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||sr(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||_r(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||lt(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||lt(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||lt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||lt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||lt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||lt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||lt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||lt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Hc(this.quadrant1Fill)?_r(this.quadrant1Fill):Mr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Mr(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=_r(this.secondaryColor,20),this.git1=_r(this.pie2||this.secondaryColor,20),this.git2=_r(this.pie3||this.tertiaryColor,20),this.git3=_r(this.pie4||lt(this.primaryColor,{h:-30}),20),this.git4=_r(this.pie5||lt(this.primaryColor,{h:-60}),20),this.git5=_r(this.pie6||lt(this.primaryColor,{h:-90}),10),this.git6=_r(this.pie7||lt(this.primaryColor,{h:60}),10),this.git7=_r(this.pie8||lt(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||sr(this.git0),this.gitInv1=this.gitInv1||sr(this.git1),this.gitInv2=this.gitInv2||sr(this.git2),this.gitInv3=this.gitInv3||sr(this.git3),this.gitInv4=this.gitInv4||sr(this.git4),this.gitInv5=this.gitInv5||sr(this.git5),this.gitInv6=this.gitInv6||sr(this.git6),this.gitInv7=this.gitInv7||sr(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||sr(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||sr(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||_r(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||_r(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},bx=o(e=>{let t=new Ry;return t.calculate(e),t},"getThemeVariables")}),Oy,gl,rf=R(()=>{"use strict";pl(),ed(),R1(),Oy=class{static{o(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=lt(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=lt(this.primaryColor,{h:-160}),this.primaryBorderColor=_s(this.primaryColor,this.darkMode),this.secondaryBorderColor=_s(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=_s(this.tertiaryColor,this.darkMode),this.primaryTextColor=sr(this.primaryColor),this.secondaryTextColor=sr(this.secondaryColor),this.tertiaryTextColor=sr(this.tertiaryColor),this.lineColor=sr(this.background),this.textColor=sr(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=It(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||lt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||lt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||lt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||lt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||lt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||lt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||lt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||lt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||lt(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Mr(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Mr(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=Mr(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||Mr(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||lt(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||lt(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||lt(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||sr(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||sr(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=_r(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=lt(this.primaryColor,{h:64}),this.fillType3=lt(this.secondaryColor,{h:64}),this.fillType4=lt(this.primaryColor,{h:-64}),this.fillType5=lt(this.secondaryColor,{h:-64}),this.fillType6=lt(this.primaryColor,{h:128}),this.fillType7=lt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||lt(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||lt(this.primaryColor,{l:-10}),this.pie5=this.pie5||lt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||lt(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||lt(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||lt(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||lt(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||lt(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||lt(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||lt(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||lt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||lt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||lt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||lt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||lt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||lt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Hc(this.quadrant1Fill)?_r(this.quadrant1Fill):Mr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||lt(this.primaryColor,{h:-30}),this.git4=this.git4||lt(this.primaryColor,{h:-60}),this.git5=this.git5||lt(this.primaryColor,{h:-90}),this.git6=this.git6||lt(this.primaryColor,{h:60}),this.git7=this.git7||lt(this.primaryColor,{h:120}),this.darkMode?(this.git0=_r(this.git0,25),this.git1=_r(this.git1,25),this.git2=_r(this.git2,25),this.git3=_r(this.git3,25),this.git4=_r(this.git4,25),this.git5=_r(this.git5,25),this.git6=_r(this.git6,25),this.git7=_r(this.git7,25)):(this.git0=Mr(this.git0,25),this.git1=Mr(this.git1,25),this.git2=Mr(this.git2,25),this.git3=Mr(this.git3,25),this.git4=Mr(this.git4,25),this.git5=Mr(this.git5,25),this.git6=Mr(this.git6,25),this.git7=Mr(this.git7,25)),this.gitInv0=this.gitInv0||Mr(sr(this.git0),25),this.gitInv1=this.gitInv1||sr(this.git1),this.gitInv2=this.gitInv2||sr(this.git2),this.gitInv3=this.gitInv3||sr(this.git3),this.gitInv4=this.gitInv4||sr(this.git4),this.gitInv5=this.gitInv5||sr(this.git5),this.gitInv6=this.gitInv6||sr(this.git6),this.gitInv7=this.gitInv7||sr(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||sr(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||sr(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sh,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ah}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},gl=o(e=>{let t=new Oy;return t.calculate(e),t},"getThemeVariables")}),wx,O1,kx=R(()=>{"use strict";pl(),R1(),ed(),wx=class{static{o(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=_r("#cde498",10),this.primaryBorderColor=_s(this.primaryColor,this.darkMode),this.secondaryBorderColor=_s(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=_s(this.tertiaryColor,this.darkMode),this.primaryTextColor=sr(this.primaryColor),this.secondaryTextColor=sr(this.secondaryColor),this.tertiaryTextColor=sr(this.primaryColor),this.lineColor=sr(this.background),this.textColor=sr(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=Mr(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||lt(this.primaryColor,{h:30}),this.cScale4=this.cScale4||lt(this.primaryColor,{h:60}),this.cScale5=this.cScale5||lt(this.primaryColor,{h:90}),this.cScale6=this.cScale6||lt(this.primaryColor,{h:120}),this.cScale7=this.cScale7||lt(this.primaryColor,{h:150}),this.cScale8=this.cScale8||lt(this.primaryColor,{h:210}),this.cScale9=this.cScale9||lt(this.primaryColor,{h:270}),this.cScale10=this.cScale10||lt(this.primaryColor,{h:300}),this.cScale11=this.cScale11||lt(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Mr(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Mr(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=Mr(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||Mr(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||lt(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||lt(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||lt(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=lt(this.primaryColor,{h:64}),this.fillType3=lt(this.secondaryColor,{h:64}),this.fillType4=lt(this.primaryColor,{h:-64}),this.fillType5=lt(this.secondaryColor,{h:-64}),this.fillType6=lt(this.primaryColor,{h:128}),this.fillType7=lt(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||lt(this.primaryColor,{l:-30}),this.pie5=this.pie5||lt(this.secondaryColor,{l:-30}),this.pie6=this.pie6||lt(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||lt(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||lt(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||lt(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||lt(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||lt(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||lt(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||lt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||lt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||lt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||lt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||lt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||lt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Hc(this.quadrant1Fill)?_r(this.quadrant1Fill):Mr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||lt(this.primaryColor,{h:-30}),this.git4=this.git4||lt(this.primaryColor,{h:-60}),this.git5=this.git5||lt(this.primaryColor,{h:-90}),this.git6=this.git6||lt(this.primaryColor,{h:60}),this.git7=this.git7||lt(this.primaryColor,{h:120}),this.darkMode?(this.git0=_r(this.git0,25),this.git1=_r(this.git1,25),this.git2=_r(this.git2,25),this.git3=_r(this.git3,25),this.git4=_r(this.git4,25),this.git5=_r(this.git5,25),this.git6=_r(this.git6,25),this.git7=_r(this.git7,25)):(this.git0=Mr(this.git0,25),this.git1=Mr(this.git1,25),this.git2=Mr(this.git2,25),this.git3=Mr(this.git3,25),this.git4=Mr(this.git4,25),this.git5=Mr(this.git5,25),this.git6=Mr(this.git6,25),this.git7=Mr(this.git7,25)),this.gitInv0=this.gitInv0||sr(this.git0),this.gitInv1=this.gitInv1||sr(this.git1),this.gitInv2=this.gitInv2||sr(this.git2),this.gitInv3=this.gitInv3||sr(this.git3),this.gitInv4=this.gitInv4||sr(this.git4),this.gitInv5=this.gitInv5||sr(this.git5),this.gitInv6=this.gitInv6||sr(this.git6),this.gitInv7=this.gitInv7||sr(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||sr(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||sr(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sh,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ah}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},O1=o(e=>{let t=new wx;return t.calculate(e),t},"getThemeVariables")}),nf,af,Tx=R(()=>{"use strict";pl(),ed(),R1(),nf=class{static{o(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=_r(this.contrast,55),this.background="#ffffff",this.tertiaryColor=lt(this.primaryColor,{h:-160}),this.primaryBorderColor=_s(this.primaryColor,this.darkMode),this.secondaryBorderColor=_s(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=_s(this.tertiaryColor,this.darkMode),this.primaryTextColor=sr(this.primaryColor),this.secondaryTextColor=sr(this.secondaryColor),this.tertiaryTextColor=sr(this.tertiaryColor),this.lineColor=sr(this.background),this.textColor=sr(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=_r(this.contrast,55),this.border2=this.contrast,this.actorBorder=_r(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||sr(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||_r(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||Mr(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||lt(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||lt(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=_r(this.contrast,30),this.sectionBkgColor2=_r(this.contrast,30),this.taskBorderColor=Mr(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=_r(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Mr(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=lt(this.primaryColor,{h:64}),this.fillType3=lt(this.secondaryColor,{h:64}),this.fillType4=lt(this.primaryColor,{h:-64}),this.fillType5=lt(this.secondaryColor,{h:-64}),this.fillType6=lt(this.primaryColor,{h:128}),this.fillType7=lt(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||lt(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||lt(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||lt(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||lt(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||lt(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||lt(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Hc(this.quadrant1Fill)?_r(this.quadrant1Fill):Mr(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Mr(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||lt(this.primaryColor,{h:-30}),this.git4=this.pie5||lt(this.primaryColor,{h:-60}),this.git5=this.pie6||lt(this.primaryColor,{h:-90}),this.git6=this.pie7||lt(this.primaryColor,{h:60}),this.git7=this.pie8||lt(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||sr(this.git0),this.gitInv1=this.gitInv1||sr(this.git1),this.gitInv2=this.gitInv2||sr(this.git2),this.gitInv3=this.gitInv3||sr(this.git3),this.gitInv4=this.gitInv4||sr(this.git4),this.gitInv5=this.gitInv5||sr(this.git5),this.gitInv6=this.gitInv6||sr(this.git6),this.gitInv7=this.gitInv7||sr(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Sh,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ah}calculate(e){if(typeof e!="object"){this.updateColors();return}let t=Object.keys(e);t.forEach(r=>{this[r]=e[r]}),this.updateColors(),t.forEach(r=>{this[r]=e[r]})}},af=o(e=>{let t=new nf;return t.calculate(e),t},"getThemeVariables")}),Pa,sf=R(()=>{"use strict";BC(),xx(),rf(),kx(),Tx(),Pa={base:{getThemeVariables:vx},dark:{getThemeVariables:bx},default:{getThemeVariables:gl},forest:{getThemeVariables:O1},neutral:{getThemeVariables:af}}}),ke,Po=R(()=>{"use strict";ke={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1}}),xo,of,P1,Fn,ka=R(()=>{"use strict";sf(),Po(),xo={...ke,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:Pa.default.getThemeVariables(),sequence:{...ke.sequence,messageFont:o(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:o(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:o(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...ke.gantt,tickInterval:void 0,useWidth:void 0},c4:{...ke.c4,useWidth:void 0,personFont:o(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:o(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:o(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:o(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:o(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:o(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:o(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:o(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:o(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:o(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:o(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:o(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:o(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:o(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:o(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:o(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:o(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:o(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:o(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:o(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:o(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:o(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...ke.pie,useWidth:984},xyChart:{...ke.xyChart,useWidth:void 0},requirement:{...ke.requirement,useWidth:void 0},packet:{...ke.packet}},of=o((e,t="")=>Object.keys(e).reduce((r,n)=>Array.isArray(e[n])?r:typeof e[n]=="object"&&e[n]!==null?[...r,t+n,...of(e[n],"")]:[...r,t+n],[]),"keyify"),P1=new Set(of(xo,"")),Fn=xo}),Lh,Bl,Ex=R(()=>{"use strict";ka(),We(),Lh=o(e=>{if(J.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>Lh(t));return}for(let t of Object.keys(e)){if(J.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!P1.has(t)||e[t]==null){J.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){J.debug("sanitizing object",t),Lh(e[t]);continue}let r=["themeCSS","fontFamily","altFontFamily"];for(let n of r)t.includes(n)&&(J.debug("sanitizing css option",t),e[t]=Bl(e[t]))}if(e.themeVariables)for(let t of Object.keys(e.themeVariables)){let r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}J.debug("After sanitization",e)}},"sanitizeDirective"),Bl=o(e=>{let t=0,r=0;for(let n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";n==="{"?t++:n==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss")}),Ss,As,Py,Iu,Nh,rd,By,lf,cf,uf,hf,Ni,B1,Fy,nd,$y,Du,id,zy,wo=R(()=>{"use strict";hl(),We(),sf(),ka(),Ex(),Ss=Object.freeze(Fn),As=ci({},Ss),Iu=[],Nh=ci({},Ss),rd=o((e,t)=>{let r=ci({},e),n={};for(let i of t)B1(i),n=ci(n,i);if(r=ci(r,n),n.theme&&n.theme in Pa){let i=ci({},Py),a=ci(i.themeVariables||{},n.themeVariables);r.theme&&r.theme in Pa&&(r.themeVariables=Pa[r.theme].getThemeVariables(a))}return Nh=r,zy(Nh),Nh},"updateCurrentConfig"),By=o(e=>(As=ci({},Ss),As=ci(As,e),e.theme&&Pa[e.theme]&&(As.themeVariables=Pa[e.theme].getThemeVariables(e.themeVariables)),rd(As,Iu),As),"setSiteConfig"),lf=o(e=>{Py=ci({},e)},"saveConfigFromInitialize"),cf=o(e=>(As=ci(As,e),rd(As,Iu),As),"updateSiteConfig"),uf=o(()=>ci({},As),"getSiteConfig"),hf=o(e=>(zy(e),ci(Nh,e),Ni()),"setConfig"),Ni=o(()=>ci({},Nh),"getConfig"),B1=o(e=>{e&&(["secure",...As.secure??[]].forEach(t=>{Object.hasOwn(e,t)&&(J.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])}),Object.keys(e).forEach(t=>{t.startsWith("__")&&delete e[t]}),Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],typeof e[t]=="object"&&B1(e[t])}))},"sanitize"),Fy=o(e=>{Lh(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),Iu.push(e),rd(As,Iu)},"addDirective"),nd=o((e=As)=>{Iu=[],rd(e,Iu)},"reset"),$y={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},Du={},id=o(e=>{Du[e]||(J.warn($y[e]),Du[e]=!0)},"issueWarning"),zy=o(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&id("LAZY_LOAD_DEPRECATED")},"checkConfig")});function Ks(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return ff(e,t,n)}}function qy(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ad(e,r)}}function An(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:z1;pf&&pf(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){let a=r(i);a!==i&&(Yy(t)||(t[n]=a),i=a)}e[i]=!0}return e}function Gy(e){for(let t=0;t<e.length;t++)Bo(e,t)||(e[t]=null);return e}function Uc(e){let t=gf(null);for(let[r,n]of df(e))Bo(e,r)&&(Array.isArray(n)?t[r]=Gy(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=Uc(n):t[r]=n);return t}function Ru(e,t){for(;e!==null;){let n=jy(e,t);if(n){if(n.get)return Ks(n.get);if(typeof n.value=="function")return Ks(n.value)}e=Cx(e)}function r(){return null}return o(r,"fallbackValue"),r}function F1(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ze(),t=o(Be=>F1(Be),"DOMPurify");if(t.version="3.2.1",t.removed=[],!e||!e.document||e.document.nodeType!==Xe.document)return t.isSupported=!1,t;let{document:r}=e,n=r,i=n.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:u,NodeFilter:h,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:f,trustedTypes:g}=e,m=u.prototype,y=Ru(m,"cloneNode"),b=Ru(m,"remove"),v=Ru(m,"nextSibling"),x=Ru(m,"childNodes"),w=Ru(m,"parentNode");if(typeof s=="function"){let Be=r.createElement("template");Be.content&&Be.content.ownerDocument&&(r=Be.content.ownerDocument)}let E,A="",{implementation:N,createNodeIterator:L,createDocumentFragment:C,getElementsByTagName:D}=r,{importNode:P}=n,O={};t.isSupported=typeof df=="function"&&typeof w=="function"&&N&&N.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:I,ERB_EXPR:q,TMPLIT_EXPR:S,DATA_ATTR:B,ARIA_ATTR:F,IS_SCRIPT_OR_DATA:z,ATTR_WHITESPACE:M,CUSTOM_ELEMENT:G}=Je,{IS_ALLOWED_URI:Y}=Je,V=null,X=An({},[...Vy,...q1,...Dh,...G1,...j1]),re=null,de=An({},[...xf,...H1,...U1,...V1]),xe=Object.seal(gf(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),he=null,be=null,Q=!0,ne=!0,ee=!1,pe=!0,ie=!1,De=!0,se=!1,je=!1,ge=!1,rt=!1,Qe=!1,tt=!1,mt=!0,yt=!1,Nt="user-content-",kt=!0,te=!1,Ne={},Ce=null,Fe=An({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),oe=null,st=An({},["audio","video","img","source","image","track"]),ae=null,ht=An({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fe="http://www.w3.org/1998/Math/MathML",Le="http://www.w3.org/2000/svg",Ue="http://www.w3.org/1999/xhtml",Ke=Ue,it=!1,qe=null,xt=An({},[fe,Le,Ue],mf),at=An({},["mi","mo","mn","ms","mtext"]),jt=An({},["annotation-xml"]),mr=An({},["title","style","font","a","script"]),cr=null,Zt=["application/xhtml+xml","text/html"],vr="text/html",Gt=null,Tt=null,wt=r.createElement("form"),pr=o(function(Be){return Be instanceof RegExp||Be instanceof Function},"isRegexOrFunction"),Mt=o(function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Tt&&Tt===Be)){if((!Be||typeof Be!="object")&&(Be={}),Be=Uc(Be),cr=Zt.indexOf(Be.PARSER_MEDIA_TYPE)===-1?vr:Be.PARSER_MEDIA_TYPE,Gt=cr==="application/xhtml+xml"?mf:z1,V=Bo(Be,"ALLOWED_TAGS")?An({},Be.ALLOWED_TAGS,Gt):X,re=Bo(Be,"ALLOWED_ATTR")?An({},Be.ALLOWED_ATTR,Gt):de,qe=Bo(Be,"ALLOWED_NAMESPACES")?An({},Be.ALLOWED_NAMESPACES,mf):xt,ae=Bo(Be,"ADD_URI_SAFE_ATTR")?An(Uc(ht),Be.ADD_URI_SAFE_ATTR,Gt):ht,oe=Bo(Be,"ADD_DATA_URI_TAGS")?An(Uc(st),Be.ADD_DATA_URI_TAGS,Gt):st,Ce=Bo(Be,"FORBID_CONTENTS")?An({},Be.FORBID_CONTENTS,Gt):Fe,he=Bo(Be,"FORBID_TAGS")?An({},Be.FORBID_TAGS,Gt):{},be=Bo(Be,"FORBID_ATTR")?An({},Be.FORBID_ATTR,Gt):{},Ne=Bo(Be,"USE_PROFILES")?Be.USE_PROFILES:!1,Q=Be.ALLOW_ARIA_ATTR!==!1,ne=Be.ALLOW_DATA_ATTR!==!1,ee=Be.ALLOW_UNKNOWN_PROTOCOLS||!1,pe=Be.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ie=Be.SAFE_FOR_TEMPLATES||!1,De=Be.SAFE_FOR_XML!==!1,se=Be.WHOLE_DOCUMENT||!1,rt=Be.RETURN_DOM||!1,Qe=Be.RETURN_DOM_FRAGMENT||!1,tt=Be.RETURN_TRUSTED_TYPE||!1,ge=Be.FORCE_BODY||!1,mt=Be.SANITIZE_DOM!==!1,yt=Be.SANITIZE_NAMED_PROPS||!1,kt=Be.KEEP_CONTENT!==!1,te=Be.IN_PLACE||!1,Y=Be.ALLOWED_URI_REGEXP||Z,Ke=Be.NAMESPACE||Ue,at=Be.MATHML_TEXT_INTEGRATION_POINTS||at,jt=Be.HTML_INTEGRATION_POINTS||jt,xe=Be.CUSTOM_ELEMENT_HANDLING||{},Be.CUSTOM_ELEMENT_HANDLING&&pr(Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(xe.tagNameCheck=Be.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&pr(Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(xe.attributeNameCheck=Be.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Be.CUSTOM_ELEMENT_HANDLING&&typeof Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(xe.allowCustomizedBuiltInElements=Be.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ie&&(ne=!1),Qe&&(rt=!0),Ne&&(V=An({},j1),re=[],Ne.html===!0&&(An(V,Vy),An(re,xf)),Ne.svg===!0&&(An(V,q1),An(re,H1),An(re,V1)),Ne.svgFilters===!0&&(An(V,Dh),An(re,H1),An(re,V1)),Ne.mathMl===!0&&(An(V,G1),An(re,U1),An(re,V1))),Be.ADD_TAGS&&(V===X&&(V=Uc(V)),An(V,Be.ADD_TAGS,Gt)),Be.ADD_ATTR&&(re===de&&(re=Uc(re)),An(re,Be.ADD_ATTR,Gt)),Be.ADD_URI_SAFE_ATTR&&An(ae,Be.ADD_URI_SAFE_ATTR,Gt),Be.FORBID_CONTENTS&&(Ce===Fe&&(Ce=Uc(Ce)),An(Ce,Be.FORBID_CONTENTS,Gt)),kt&&(V["#text"]=!0),se&&An(V,["html","head","body"]),V.table&&(An(V,["tbody"]),delete he.tbody),Be.TRUSTED_TYPES_POLICY){if(typeof Be.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ih('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Be.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ih('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=Be.TRUSTED_TYPES_POLICY,A=E.createHTML("")}else E===void 0&&(E=vt(g,i)),E!==null&&typeof A=="string"&&(A=E.createHTML(""));ps&&ps(Be),Tt=Be}},"_parseConfig"),Rr=An({},[...q1,...Dh,...bf]),Cr=An({},[...G1,...Y1]),Kt=o(function(Be){let rr=w(Be);(!rr||!rr.tagName)&&(rr={namespaceURI:Ke,tagName:"template"});let tr=z1(Be.tagName),qn=z1(rr.tagName);return qe[Be.namespaceURI]?Be.namespaceURI===Le?rr.namespaceURI===Ue?tr==="svg":rr.namespaceURI===fe?tr==="svg"&&(qn==="annotation-xml"||at[qn]):!!Rr[tr]:Be.namespaceURI===fe?rr.namespaceURI===Ue?tr==="math":rr.namespaceURI===Le?tr==="math"&&jt[qn]:!!Cr[tr]:Be.namespaceURI===Ue?rr.namespaceURI===Le&&!jt[qn]||rr.namespaceURI===fe&&!at[qn]?!1:!Cr[tr]&&(mr[tr]||!Rr[tr]):!!(cr==="application/xhtml+xml"&&qe[Be.namespaceURI]):!1},"_checkValidNamespace"),Xt=o(function(Be){Mh(t.removed,{element:Be});try{w(Be).removeChild(Be)}catch{b(Be)}},"_forceRemove"),Ft=o(function(Be,rr){try{Mh(t.removed,{attribute:rr.getAttributeNode(Be),from:rr})}catch{Mh(t.removed,{attribute:null,from:rr})}if(rr.removeAttribute(Be),Be==="is"&&!re[Be])if(rt||Qe)try{Xt(rr)}catch{}else try{rr.setAttribute(Be,"")}catch{}},"_removeAttribute"),Tr=o(function(Be){let rr=null,tr=null;if(ge)Be="<remove></remove>"+Be;else{let Ai=yf(Be,/^[\r\n\t ]+/);tr=Ai&&Ai[0]}cr==="application/xhtml+xml"&&Ke===Ue&&(Be='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Be+"</body></html>");let qn=E?E.createHTML(Be):Be;if(Ke===Ue)try{rr=new f().parseFromString(qn,cr)}catch{}if(!rr||!rr.documentElement){rr=N.createDocument(Ke,"template",null);try{rr.documentElement.innerHTML=it?A:qn}catch{}}let jn=rr.body||rr.documentElement;return Be&&tr&&jn.insertBefore(r.createTextNode(tr),jn.childNodes[0]||null),Ke===Ue?D.call(rr,se?"html":"body")[0]:se?rr.documentElement:jn},"_initDocument"),ir=o(function(Be){return L.call(Be.ownerDocument||Be,Be,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),oi=o(function(Be){return Be instanceof p&&(typeof Be.nodeName!="string"||typeof Be.textContent!="string"||typeof Be.removeChild!="function"||!(Be.attributes instanceof d)||typeof Be.removeAttribute!="function"||typeof Be.setAttribute!="function"||typeof Be.namespaceURI!="string"||typeof Be.insertBefore!="function"||typeof Be.hasChildNodes!="function")},"_isClobbered"),xn=o(function(Be){return typeof l=="function"&&Be instanceof l},"_isNode");function On(Be,rr,tr){O[Be]&&$1(O[Be],qn=>{qn.call(t,rr,tr,Tt)})}o(On,"_executeHook");let Qi=o(function(Be){let rr=null;if(On("beforeSanitizeElements",Be,null),oi(Be))return Xt(Be),!0;let tr=Gt(Be.nodeName);if(On("uponSanitizeElement",Be,{tagName:tr,allowedTags:V}),Be.hasChildNodes()&&!xn(Be.firstElementChild)&&gs(/<[/\w]/g,Be.innerHTML)&&gs(/<[/\w]/g,Be.textContent)||Be.nodeType===Xe.progressingInstruction||De&&Be.nodeType===Xe.comment&&gs(/<[/\w]/g,Be.data))return Xt(Be),!0;if(!V[tr]||he[tr]){if(!he[tr]&&aa(tr)&&(xe.tagNameCheck instanceof RegExp&&gs(xe.tagNameCheck,tr)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(tr)))return!1;if(kt&&!Ce[tr]){let qn=w(Be)||Be.parentNode,jn=x(Be)||Be.childNodes;if(jn&&qn){let Ai=jn.length;for(let qi=Ai-1;qi>=0;--qi){let ba=y(jn[qi],!0);ba.__removalCount=(Be.__removalCount||0)+1,qn.insertBefore(ba,v(Be))}}}return Xt(Be),!0}return Be instanceof u&&!Kt(Be)||(tr==="noscript"||tr==="noembed"||tr==="noframes")&&gs(/<\/no(script|embed|frames)/i,Be.innerHTML)?(Xt(Be),!0):(ie&&Be.nodeType===Xe.text&&(rr=Be.textContent,$1([I,q,S],qn=>{rr=Ou(rr,qn," ")}),Be.textContent!==rr&&(Mh(t.removed,{element:Be.cloneNode()}),Be.textContent=rr)),On("afterSanitizeElements",Be,null),!1)},"_sanitizeElements"),fi=o(function(Be,rr,tr){if(mt&&(rr==="id"||rr==="name")&&(tr in r||tr in wt))return!1;if(!(ne&&!be[rr]&&gs(B,rr))&&!(Q&&gs(F,rr))){if(!re[rr]||be[rr]){if(!(aa(Be)&&(xe.tagNameCheck instanceof RegExp&&gs(xe.tagNameCheck,Be)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(Be))&&(xe.attributeNameCheck instanceof RegExp&&gs(xe.attributeNameCheck,rr)||xe.attributeNameCheck instanceof Function&&xe.attributeNameCheck(rr))||rr==="is"&&xe.allowCustomizedBuiltInElements&&(xe.tagNameCheck instanceof RegExp&&gs(xe.tagNameCheck,tr)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(tr))))return!1}else if(!ae[rr]&&!gs(Y,Ou(tr,M,""))&&!((rr==="src"||rr==="xlink:href"||rr==="href")&&Be!=="script"&&Uy(tr,"data:")===0&&oe[Be])&&!(ee&&!gs(z,Ou(tr,M,"")))&&tr)return!1}return!0},"_isValidAttribute"),aa=o(function(Be){return Be!=="annotation-xml"&&yf(Be,G)},"_isBasicCustomElement"),zi=o(function(Be){On("beforeSanitizeAttributes",Be,null);let{attributes:rr}=Be;if(!rr)return;let tr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:re,forceKeepAttr:void 0},qn=rr.length;for(;qn--;){let jn=rr[qn],{name:Ai,namespaceURI:qi,value:ba}=jn,Ri=Gt(Ai),Qt=Ai==="value"?ba:vf(ba);if(tr.attrName=Ri,tr.attrValue=Qt,tr.keepAttr=!0,tr.forceKeepAttr=void 0,On("uponSanitizeAttribute",Be,tr),Qt=tr.attrValue,yt&&(Ri==="id"||Ri==="name")&&(Ft(Ai,Be),Qt=Nt+Qt),De&&gs(/((--!?|])>)|<\/(style|title)/i,Qt)){Ft(Ai,Be);continue}if(tr.forceKeepAttr||(Ft(Ai,Be),!tr.keepAttr))continue;if(!pe&&gs(/\/>/i,Qt)){Ft(Ai,Be);continue}ie&&$1([I,q,S],Vt=>{Qt=Ou(Qt,Vt," ")});let kr=Gt(Be.nodeName);if(fi(kr,Ri,Qt)){if(E&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!qi)switch(g.getAttributeType(kr,Ri)){case"TrustedHTML":{Qt=E.createHTML(Qt);break}case"TrustedScriptURL":{Qt=E.createScriptURL(Qt);break}}try{qi?Be.setAttributeNS(qi,Ai,Qt):Be.setAttribute(Ai,Qt),oi(Be)?Xt(Be):Hy(t.removed)}catch{}}}On("afterSanitizeAttributes",Be,null)},"_sanitizeAttributes"),sa=o(function Be(rr){let tr=null,qn=ir(rr);for(On("beforeSanitizeShadowDOM",rr,null);tr=qn.nextNode();)On("uponSanitizeShadowNode",tr,null),!Qi(tr)&&(tr.content instanceof a&&Be(tr.content),zi(tr));On("afterSanitizeShadowDOM",rr,null)},"_sanitizeShadowDOM");return t.sanitize=function(Be){let rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},tr=null,qn=null,jn=null,Ai=null;if(it=!Be,it&&(Be="<!-->"),typeof Be!="string"&&!xn(Be))if(typeof Be.toString=="function"){if(Be=Be.toString(),typeof Be!="string")throw Ih("dirty is not a string, aborting")}else throw Ih("toString is not a function");if(!t.isSupported)return Be;if(je||Mt(rr),t.removed=[],typeof Be=="string"&&(te=!1),te){if(Be.nodeName){let Ri=Gt(Be.nodeName);if(!V[Ri]||he[Ri])throw Ih("root node is forbidden and cannot be sanitized in-place")}}else if(Be instanceof l)tr=Tr("<!---->"),qn=tr.ownerDocument.importNode(Be,!0),qn.nodeType===Xe.element&&qn.nodeName==="BODY"||qn.nodeName==="HTML"?tr=qn:tr.appendChild(qn);else{if(!rt&&!ie&&!se&&Be.indexOf("<")===-1)return E&&tt?E.createHTML(Be):Be;if(tr=Tr(Be),!tr)return rt?null:tt?A:""}tr&&ge&&Xt(tr.firstChild);let qi=ir(te?Be:tr);for(;jn=qi.nextNode();)Qi(jn)||(jn.content instanceof a&&sa(jn.content),zi(jn));if(te)return Be;if(rt){if(Qe)for(Ai=C.call(tr.ownerDocument);tr.firstChild;)Ai.appendChild(tr.firstChild);else Ai=tr;return(re.shadowroot||re.shadowrootmode)&&(Ai=P.call(n,Ai,!0)),Ai}let ba=se?tr.outerHTML:tr.innerHTML;return se&&V["!doctype"]&&tr.ownerDocument&&tr.ownerDocument.doctype&&tr.ownerDocument.doctype.name&&gs(Se,tr.ownerDocument.doctype.name)&&(ba="<!DOCTYPE "+tr.ownerDocument.doctype.name+`>
`+ba),ie&&$1([I,q,S],Ri=>{ba=Ou(ba,Ri," ")}),E&&tt?E.createHTML(ba):ba},t.setConfig=function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Mt(Be),je=!0},t.clearConfig=function(){Tt=null,je=!1},t.isValidAttribute=function(Be,rr,tr){Tt||Mt({});let qn=Gt(Be),jn=Gt(rr);return fi(qn,jn,tr)},t.addHook=function(Be,rr){typeof rr=="function"&&(O[Be]=O[Be]||[],Mh(O[Be],rr))},t.removeHook=function(Be){if(O[Be])return Hy(O[Be])},t.removeHooks=function(Be){O[Be]&&(O[Be]=[])},t.removeAllHooks=function(){O={}},t}var df,pf,Yy,Cx,jy,ps,Ta,gf,ff,ad,$1,Hy,Mh,z1,mf,yf,Ou,Uy,vf,Bo,gs,Ih,Vy,q1,Dh,bf,G1,Y1,j1,xf,H1,U1,V1,T,k,_,$,j,Z,ce,we,Se,He,Je,Xe,Ze,vt,Pt,Er=R(()=>{"use strict";({entries:df,setPrototypeOf:pf,isFrozen:Yy,getPrototypeOf:Cx,getOwnPropertyDescriptor:jy}=Object),{freeze:ps,seal:Ta,create:gf}=Object,{apply:ff,construct:ad}=typeof Reflect<"u"&&Reflect,ps||(ps=o(function(e){return e},"freeze")),Ta||(Ta=o(function(e){return e},"seal")),ff||(ff=o(function(e,t,r){return e.apply(t,r)},"apply")),ad||(ad=o(function(e,t){return new e(...t)},"construct")),$1=Ks(Array.prototype.forEach),Hy=Ks(Array.prototype.pop),Mh=Ks(Array.prototype.push),z1=Ks(String.prototype.toLowerCase),mf=Ks(String.prototype.toString),yf=Ks(String.prototype.match),Ou=Ks(String.prototype.replace),Uy=Ks(String.prototype.indexOf),vf=Ks(String.prototype.trim),Bo=Ks(Object.prototype.hasOwnProperty),gs=Ks(RegExp.prototype.test),Ih=qy(TypeError),o(Ks,"unapply"),o(qy,"unconstruct"),o(An,"addToSet"),o(Gy,"cleanArray"),o(Uc,"clone"),o(Ru,"lookupGetter"),Vy=ps(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),q1=ps(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Dh=ps(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),bf=ps(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),G1=ps(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Y1=ps(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),j1=ps(["#text"]),xf=ps(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),H1=ps(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),U1=ps(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),V1=ps(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),T=Ta(/\{\{[\w\W]*|[\w\W]*\}\}/gm),k=Ta(/<%[\w\W]*|[\w\W]*%>/gm),_=Ta(/\${[\w\W]*}/gm),$=Ta(/^data-[\-\w.\u00B7-\uFFFF]/),j=Ta(/^aria-[\-\w]+$/),Z=Ta(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ce=Ta(/^(?:\w+script|data):/i),we=Ta(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Se=Ta(/^html$/i),He=Ta(/^[a-z][.\w]*(-[.\w]+)+$/i),Je=Object.freeze({__proto__:null,ARIA_ATTR:j,ATTR_WHITESPACE:we,CUSTOM_ELEMENT:He,DATA_ATTR:$,DOCTYPE_NAME:Se,ERB_EXPR:k,IS_ALLOWED_URI:Z,IS_SCRIPT_OR_DATA:ce,MUSTACHE_EXPR:T,TMPLIT_EXPR:_}),Xe={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Ze=o(function(){return typeof window>"u"?null:window},"getGlobal"),vt=o(function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null,n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));let i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},"_createTrustedTypesPolicy"),o(F1,"createDOMPurify"),Pt=F1()}),Zr={};yr(Zr,{default:()=>DV});function fn(e){return String(e).replace(XH,t=>WH[t])}function $n(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}function dn(e){for(var t=0;t<Nx.length;t++)for(var r=Nx[t],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(e>=i[0]&&e<=i[1])return r.name}return null}function Yn(e){for(var t=0;t<Qy.length;t+=2)if(e>=Qy[t]&&e<=Qy[t+1])return!0;return!1}function Vn(e,t){Kc[e]=t}function ta(e,t,r){if(!Kc[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),i=Kc[t][n];if(!i&&e[0]in YC&&(n=YC[e[0]].charCodeAt(0),i=Kc[t][n]),!i&&r==="text"&&Yn(n)&&(i=Kc[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}function pc(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!Mx[t]){var r=Mx[t]={cssEmPerMu:Jy.quad[t]/18};for(var n in Jy)Jy.hasOwnProperty(n)&&(r[n]=Jy[n][t])}return Mx[t]}function Rh(e){if(e instanceof $l)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function wn(e){if(e instanceof Cf)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}function H(e,t,r,n,i,a){Oi[e][i]={font:t,group:r,replace:n},a&&n&&(Oi[e][n]=Oi[e][i])}function Wt(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,l={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},u=0;u<r.length;++u)o_[r[u]]=l;t&&(a&&(o4[t]=a),s&&(l4[t]=s))}function Rn(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;Wt({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}function Ea(e,t){var r=qu(["base"],e,t),n=qu(["strut"]);return n.style.height=or(r.height+r.depth),r.depth&&(n.style.verticalAlign=or(-r.depth)),r.children.unshift(n),r}function Gi(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var n=Ua(e,t,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var a=[],s=[],l=0;l<n.length;l++)if(s.push(n[l]),n[l].hasClass("mbin")||n[l].hasClass("mrel")||n[l].hasClass("allowbreak")){for(var u=!1;l<n.length-1&&n[l+1].hasClass("mspace")&&!n[l+1].hasClass("newline");)l++,s.push(n[l]),n[l].hasClass("nobreak")&&(u=!0);u||(a.push(Ea(s,t)),s=[])}else n[l].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(Ea(s,t)),s=[]),a.push(n[l]));s.length>0&&a.push(Ea(s,t));var h;r?(h=Ea(Ua(r,t,!0)),h.classes=["tag"],a.push(h)):i&&a.push(i);var d=qu(["katex-html"],a);if(d.setAttribute("aria-hidden","true"),h){var p=h.children[0];p.style.height=or(d.height+d.depth),d.depth&&(p.style.verticalAlign=or(-d.depth))}return d}function ko(e){return new Ef(e)}function wf(e,t,r,n,i){var a=$o(e,r),s;a.length===1&&a[0]instanceof zl&&Qr.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new Ut.MathNode("mrow",a);var l=new Ut.MathNode("annotation",[new Ut.TextNode(t)]);l.setAttribute("encoding","application/x-tex");var u=new Ut.MathNode("semantics",[s,l]),h=new Ut.MathNode("math",[u]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&h.setAttribute("display","block");var d=i?"katex":"katex-mathml";return pt.makeSpan([d],[h])}function bn(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function kf(e){var t=Pu(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Pu(e){return e&&(e.type==="atom"||xU.hasOwnProperty(e.type))?e:null}function Wy(e,t){var r=Ua(e.body,t,!0);return ZU([e.mclass],r,t)}function Ti(e,t){var r,n=$o(e.body,t);return e.mclass==="minner"?r=new Ut.MathNode("mpadded",n):e.mclass==="mord"?e.isCharacterBox?(r=n[0],r.type="mi"):r=new Ut.MathNode("mi",n):(e.isCharacterBox?(r=n[0],r.type="mo"):r=new Ut.MathNode("mo",n),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}function GH(e,t,r){var n=QU[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:n,mode:"math",family:"rel"},s=r.callFunction("\\Big",[a],[]),l=r.callFunction("\\\\cdright",[t[1]],[]),u={type:"ordgroup",mode:"math",body:[i,s,l]};return r.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function YH(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new Jt("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var n=[],i=[n],a=0;a<t.length;a++){for(var s=t[a],l=p_(),u=0;u<s.length;u++)if(!g_(s[u]))l.body.push(s[u]);else{n.push(l),u+=1;var h=kf(s[u]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var p=0;p<2;p++){for(var f=!0,g=u+1;g<s.length;g++){if(JU(s[g],h)){f=!1,u=g;break}if(g_(s[g]))throw new Jt("Missing a "+h+" character to complete a CD arrow.",s[g]);d[p].body.push(s[g])}if(f)throw new Jt("Missing a "+h+" character to complete a CD arrow.",s[u])}else throw new Jt('Expected one of "<>AV=|." after @',s[u]);var m=GH(h,d,e),y={type:"styling",body:[m],mode:"math",style:"display"};n.push(y),l=p_()}a%2===0?n.push(l):n.shift(),n=[],i.push(n)}e.gullet.endGroup(),e.gullet.endGroup();var b=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}function Xy(e,t){var r=Pu(e);if(r&&Qr.contains(dV,r.text))return r;throw r?new Jt("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new Jt("Invalid delimiter type '"+e.type+"'",e)}function FC(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}function Vc(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:s}=e,l={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},u=0;u<r.length;++u)A_[r[u]]=l;a&&(o4[t]=a),s&&(l4[t]=s)}function Te(e,t){L_[e]=t}function $C(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}function _x(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function Oh(e,t,r){var{hskipBeforeAndAfter:n,addJot:i,cols:a,arraystretch:s,colSeparationType:l,autoTag:u,singleRow:h,emptySingleRow:d,maxNumCols:p,leqno:f}=t;if(e.gullet.beginGroup(),h||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var g=e.gullet.expandMacroAsText("\\arraystretch");if(g==null)s=1;else if(s=parseFloat(g),!s||s<0)throw new Jt("Invalid \\arraystretch: "+g)}e.gullet.beginGroup();var m=[],y=[m],b=[],v=[],x=u!=null?[]:void 0;function w(){u&&e.gullet.macros.set("\\@eqnsw","1",!0)}o(w,"beginRow");function E(){x&&(e.gullet.macros.get("\\df@tag")?(x.push(e.subparse([new Wc("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):x.push(!!u&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(o(E,"endRow"),w(),v.push($C(e));;){var A=e.parseExpression(!1,h?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),A={type:"ordgroup",mode:e.mode,body:A},r&&(A={type:"styling",mode:e.mode,style:r,body:[A]}),m.push(A);var N=e.fetch().text;if(N==="&"){if(p&&m.length===p){if(h||l)throw new Jt("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(N==="\\end"){E(),m.length===1&&A.type==="styling"&&A.body[0].body.length===0&&(y.length>1||!d)&&y.pop(),v.length<y.length+1&&v.push([]);break}else if(N==="\\\\"){e.consume();var L=void 0;e.gullet.future().text!==" "&&(L=e.parseSizeGroup(!0)),b.push(L?L.value:null),E(),v.push($C(e)),m=[],y.push(m),w()}else throw new Jt("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:s,body:y,cols:a,rowGaps:b,hskipBeforeAndAfter:n,hLinesBeforeRow:v,colSeparationType:l,tags:x,leqno:f}}function Sx(e){return e.slice(0,1)==="d"?"display":"text"}function zC(e,t,r){for(var n=Ua(e,t,!1),i=t.sizeMultiplier/r.sizeMultiplier,a=0;a<n.length;a++){var s=n[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(n[a].classes,t.sizingClasses(r)):n[a].classes[s+1]==="reset-size"+t.size&&(n[a].classes[s+1]="reset-size"+r.size),n[a].height*=i,n[a].depth*=i}return pt.makeFragment(n)}var gc,Wc,Jt,jH,HH,UH,VH,WH,XH,qC,KH,ZH,QH,Qr,Ky,Ax,Ph,Lx,Zy,W1,Bu,Tf,Fl,X1,To,Xc,JH,eU,tU,rU,nU,iU,en,Nx,Qy,K1,aU,sU,oU,lU,cU,uU,hU,dU,pU,GC,gU,Ef,Kc,Jy,YC,Mx,fU,jC,HC,UC,Ix,mU,VC,ra,or,Bh,WC,XC,KC,Cf,Dx,yU,vU,$l,Fu,Fh,Rx,bU,xU,Oi,K,$t,ue,$e,Wi,xr,Eo,Z1,tn,Ba,fl,e4,ze,$u,et,ZC,QC,JC,Ox,e_,t_,Px,t4,r4,Bx,an,ua,Co,$h,sd,Fx,n4,$x,i4,r_,wU,a4,fc,kU,TU,EU,CU,_U,zx,Fo,n_,SU,AU,i_,LU,NU,MU,IU,s4,a_,s_,DU,pt,na,od,zu,RU,OU,o_,o4,l4,c4,Ca,qu,PU,BU,FU,$U,Ua,l_,c_,zU,qx,_f,Wn,zl,Sf,qU,Ut,ql,Gx,Yx,$o,zh,Mi,u_,h_,GU,YU,jU,HU,UU,VU,WU,XU,Gu,jx,d_,KU,u4,ZU,h4,QU,p_,g_,JU,f_,m_,Hx,y_,eV,v_,Af,Ux,b_,tV,rV,x_,Vx,Wx,Xx,d4,nV,iV,w_,Kx,Zx,Qx,aV,k_,sV,T_,Lf,oV,lV,cV,E_,uV,C_,__,hV,Yu,S_,dV,Jx,e6,A_,L_,p4,Zc,pV,Qc,N_,M_,I_,D_,R_,O_,t6,r6,P_,B_,F_,gV,n6,$_,z_,q_,Q1,Nf,fV,mV,G_,yV,Y_,vV,j_,bV,H_,i6,a6,U_,V_,W_,xV,X_,K_,qh,Z_,wV,kV,TV,EV,s6,CV,_V,Q_,SV,AV,J_,o6,eS,l6,tS,rS,nS,LV,iS,g4,c6,aS,sS,u6,oS,NV,MV,lS,h6,IV,DV,sYe=R(()=>{"use strict";for(gc=class QGe{static{o(this,"SourceLocation")}constructor(t,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=n}static range(t,r){return r?!t||!t.loc||!r.loc||t.loc.lexer!==r.loc.lexer?null:new QGe(t.loc.lexer,t.loc.start,r.loc.end):t&&t.loc}},Wc=class JGe{static{o(this,"Token")}constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new JGe(r,gc.range(this,t))}},Jt=class eYe{static{o(this,"ParseError")}constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+t,i,a,s=r&&r.loc;if(s&&s.start<=s.end){var l=s.lexer.input;i=s.start,a=s.end,i===l.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var u=l.slice(i,a).replace(/[^]/g,"$&\u0332"),h;i>15?h="\u2026"+l.slice(i-15,i):h=l.slice(0,i);var d;a+15<l.length?d=l.slice(a,a+15)+"\u2026":d=l.slice(a),n+=h+u+d}var p=new Error(n);return p.name="ParseError",p.__proto__=eYe.prototype,p.position=i,i!=null&&a!=null&&(p.length=a-i),p.rawMessage=t,p}},Jt.prototype.__proto__=Error.prototype,jH=o(function(e,t){return e.indexOf(t)!==-1},"contains"),HH=o(function(e,t){return e===void 0?t:e},"deflt"),UH=/([A-Z])/g,VH=o(function(e){return e.replace(UH,"-$1").toLowerCase()},"hyphenate"),WH={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},XH=/[&><"']/g,o(fn,"escape"),qC=o(function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},"getBaseElem"),KH=o(function(e){var t=qC(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},"isCharacterBox"),ZH=o(function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},"assert"),QH=o(function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},"protocolFromUrl"),Qr={contains:jH,deflt:HH,escape:fn,hyphenate:VH,getBaseElem:qC,isCharacterBox:KH,protocolFromUrl:QH},Ky={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:o(e=>"#"+e,"cliProcessor")},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:o((e,t)=>(t.push(e),t),"cliProcessor")},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:o(e=>Math.max(0,e),"processor"),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:o(e=>Math.max(0,e),"processor"),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:o(e=>Math.max(0,e),"processor"),cli:"-e, --max-expand <n>",cliProcessor:o(e=>e==="Infinity"?1/0:parseInt(e),"cliProcessor")},globalGroup:{type:"boolean",cli:!1}},o($n,"getDefaultValue"),Ax=class{static{o(this,"Settings")}constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in Ky)if(Ky.hasOwnProperty(t)){var r=Ky[t];this[t]=e[t]!==void 0?r.processor?r.processor(e[t]):e[t]:$n(r)}}reportNonstrict(e,t,r){var n=this.strict;if(typeof n=="function"&&(n=n(e,t,r)),!(!n||n==="ignore")){if(n===!0||n==="error")throw new Jt("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),r);n==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,r){var n=this.strict;if(typeof n=="function")try{n=n(e,t,r)}catch{n="error"}return!n||n==="ignore"?!1:n===!0||n==="error"?!0:n==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+n+"': "+t+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var t=Qr.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}},Ph=class{static{o(this,"Style")}constructor(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}sup(){return Xc[JH[this.id]]}sub(){return Xc[eU[this.id]]}fracNum(){return Xc[tU[this.id]]}fracDen(){return Xc[rU[this.id]]}cramp(){return Xc[nU[this.id]]}text(){return Xc[iU[this.id]]}isTight(){return this.size>=2}},Lx=0,Zy=1,W1=2,Bu=3,Tf=4,Fl=5,X1=6,To=7,Xc=[new Ph(Lx,0,!1),new Ph(Zy,0,!0),new Ph(W1,1,!1),new Ph(Bu,1,!0),new Ph(Tf,2,!1),new Ph(Fl,2,!0),new Ph(X1,3,!1),new Ph(To,3,!0)],JH=[Tf,Fl,Tf,Fl,X1,To,X1,To],eU=[Fl,Fl,Fl,Fl,To,To,To,To],tU=[W1,Bu,Tf,Fl,X1,To,X1,To],rU=[Bu,Bu,Fl,Fl,To,To,To,To],nU=[Zy,Zy,Bu,Bu,Fl,Fl,To,To],iU=[Lx,Zy,W1,Bu,W1,Bu,W1,Bu],en={DISPLAY:Xc[Lx],TEXT:Xc[W1],SCRIPT:Xc[Tf],SCRIPTSCRIPT:Xc[X1]},Nx=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],o(dn,"scriptFromCodepoint"),Qy=[],Nx.forEach(e=>e.blocks.forEach(t=>Qy.push(...t))),o(Yn,"supportedCodepoint"),K1=80,aU=o(function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtMain"),sU=o(function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtSize1"),oU=o(function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},"sqrtSize2"),lU=o(function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},"sqrtSize3"),cU=o(function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},"sqrtSize4"),uU=o(function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},"phasePath"),hU=o(function(e,t,r){var n=r-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+n+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},"sqrtTall"),dU=o(function(e,t,r){t=1e3*t;var n="";switch(e){case"sqrtMain":n=aU(t,K1);break;case"sqrtSize1":n=sU(t,K1);break;case"sqrtSize2":n=oU(t,K1);break;case"sqrtSize3":n=lU(t,K1);break;case"sqrtSize4":n=cU(t,K1);break;case"sqrtTall":n=hU(t,K1,r)}return n},"sqrtPath"),pU=o(function(e,t){switch(e){case"\u239C":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"\u2223":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"\u2225":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"\u239F":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"\u23A2":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"\u23A5":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"\u23AA":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"\u23D0":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"\u2016":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},"innerPath"),GC={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},gU=o(function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}},"tallDelim"),Ef=class{static{o(this,"DocumentFragment")}constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Qr.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=o(t=>t.toText(),"toText");return this.children.map(e).join("")}},Kc={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Jy={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},YC={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"},o(Vn,"setFontMetrics"),o(ta,"getCharacterMetrics"),Mx={},o(pc,"getGlobalMetrics"),fU=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],jC=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],HC=o(function(e,t){return t.size<2?e:fU[e-1][t.size-1]},"sizeAtStyle"),UC=class Wg{static{o(this,"Options")}constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Wg.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=jC[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new Wg(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:HC(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:jC[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=HC(Wg.BASESIZE,t);return this.size===r&&this.textSize===Wg.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Wg.BASESIZE?["sizing","reset-size"+this.size,"size"+Wg.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=pc(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}},UC.BASESIZE=6,Ix={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},mU={ex:!0,em:!0,mu:!0},VC=o(function(e){return typeof e!="string"&&(e=e.unit),e in Ix||e in mU||e==="ex"},"validUnit"),ra=o(function(e,t){var r;if(e.unit in Ix)r=Ix[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")r=t.fontMetrics().cssEmPerMu;else{var n;if(t.style.isTight()?n=t.havingStyle(t.style.text()):n=t,e.unit==="ex")r=n.fontMetrics().xHeight;else if(e.unit==="em")r=n.fontMetrics().quad;else throw new Jt("Invalid unit: '"+e.unit+"'");n!==t&&(r*=n.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},"calculateSize"),or=o(function(e){return+e.toFixed(4)+"em"},"makeEm"),Bh=o(function(e){return e.filter(t=>t).join(" ")},"createClass"),WC=o(function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var n=t.getColor();n&&(this.style.color=n)}},"initNode"),XC=o(function(e){var t=document.createElement(e);t.className=Bh(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&t.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},"toNode"),KC=o(function(e){var t="<"+e;this.classes.length&&(t+=' class="'+Qr.escape(Bh(this.classes))+'"');var r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Qr.hyphenate(n)+":"+this.style[n]+";");r&&(t+=' style="'+Qr.escape(r)+'"');for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&(t+=" "+i+'="'+Qr.escape(this.attributes[i])+'"');t+=">";for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+="</"+e+">",t},"toMarkup"),Cf=class{static{o(this,"Span")}constructor(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,WC.call(this,e,r,n),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return Qr.contains(this.classes,e)}toNode(){return XC.call(this,"span")}toMarkup(){return KC.call(this,"span")}},Dx=class{static{o(this,"Anchor")}constructor(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,WC.call(this,t,n),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return Qr.contains(this.classes,e)}toNode(){return XC.call(this,"a")}toMarkup(){return KC.call(this,"a")}},yU=class{static{o(this,"Img")}constructor(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return Qr.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+Qr.escape(this.src)+'"'+(' alt="'+Qr.escape(this.alt)+'"'),t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=Qr.hyphenate(r)+":"+this.style[r]+";");return t&&(e+=' style="'+Qr.escape(t)+'"'),e+="'/>",e}},vU={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"},$l=class{static{o(this,"SymbolNode")}constructor(e,t,r,n,i,a,s,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=n||0,this.skew=i||0,this.width=a||0,this.classes=s||[],this.style=l||{},this.maxFontSize=0;var u=dn(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=vU[this.text])}hasClass(e){return Qr.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=or(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=Bh(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(t=t||document.createElement("span"),t.style[r]=this.style[r]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=Qr.escape(Bh(this.classes)),t+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=Qr.hyphenate(n)+":"+this.style[n]+";");r&&(e=!0,t+=' style="'+Qr.escape(r)+'"');var i=Qr.escape(this.text);return e?(t+=">",t+=i,t+="</span>",t):i}},Fu=class{static{o(this,"SvgNode")}constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+Qr.escape(this.attributes[t])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}},Fh=class{static{o(this,"PathNode")}constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",GC[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+Qr.escape(this.alternate)+'"/>':'<path d="'+Qr.escape(GC[this.pathName])+'"/>'}},Rx=class{static{o(this,"LineNode")}constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+Qr.escape(this.attributes[t])+'"');return e+="/>",e}},o(Rh,"assertSymbolDomNode"),o(wn,"assertSpan"),bU={bin:1,close:1,inner:1,open:1,punct:1,rel:1},xU={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Oi={math:{},text:{}},o(H,"defineSymbol"),K="math",$t="text",ue="main",$e="ams",Wi="accent-token",xr="bin",Eo="close",Z1="inner",tn="mathord",Ba="op-token",fl="open",e4="punct",ze="rel",$u="spacing",et="textord",H(K,ue,ze,"\u2261","\\equiv",!0),H(K,ue,ze,"\u227A","\\prec",!0),H(K,ue,ze,"\u227B","\\succ",!0),H(K,ue,ze,"\u223C","\\sim",!0),H(K,ue,ze,"\u22A5","\\perp"),H(K,ue,ze,"\u2AAF","\\preceq",!0),H(K,ue,ze,"\u2AB0","\\succeq",!0),H(K,ue,ze,"\u2243","\\simeq",!0),H(K,ue,ze,"\u2223","\\mid",!0),H(K,ue,ze,"\u226A","\\ll",!0),H(K,ue,ze,"\u226B","\\gg",!0),H(K,ue,ze,"\u224D","\\asymp",!0),H(K,ue,ze,"\u2225","\\parallel"),H(K,ue,ze,"\u22C8","\\bowtie",!0),H(K,ue,ze,"\u2323","\\smile",!0),H(K,ue,ze,"\u2291","\\sqsubseteq",!0),H(K,ue,ze,"\u2292","\\sqsupseteq",!0),H(K,ue,ze,"\u2250","\\doteq",!0),H(K,ue,ze,"\u2322","\\frown",!0),H(K,ue,ze,"\u220B","\\ni",!0),H(K,ue,ze,"\u221D","\\propto",!0),H(K,ue,ze,"\u22A2","\\vdash",!0),H(K,ue,ze,"\u22A3","\\dashv",!0),H(K,ue,ze,"\u220B","\\owns"),H(K,ue,e4,".","\\ldotp"),H(K,ue,e4,"\u22C5","\\cdotp"),H(K,ue,et,"#","\\#"),H($t,ue,et,"#","\\#"),H(K,ue,et,"&","\\&"),H($t,ue,et,"&","\\&"),H(K,ue,et,"\u2135","\\aleph",!0),H(K,ue,et,"\u2200","\\forall",!0),H(K,ue,et,"\u210F","\\hbar",!0),H(K,ue,et,"\u2203","\\exists",!0),H(K,ue,et,"\u2207","\\nabla",!0),H(K,ue,et,"\u266D","\\flat",!0),H(K,ue,et,"\u2113","\\ell",!0),H(K,ue,et,"\u266E","\\natural",!0),H(K,ue,et,"\u2663","\\clubsuit",!0),H(K,ue,et,"\u2118","\\wp",!0),H(K,ue,et,"\u266F","\\sharp",!0),H(K,ue,et,"\u2662","\\diamondsuit",!0),H(K,ue,et,"\u211C","\\Re",!0),H(K,ue,et,"\u2661","\\heartsuit",!0),H(K,ue,et,"\u2111","\\Im",!0),H(K,ue,et,"\u2660","\\spadesuit",!0),H(K,ue,et,"\xA7","\\S",!0),H($t,ue,et,"\xA7","\\S"),H(K,ue,et,"\xB6","\\P",!0),H($t,ue,et,"\xB6","\\P"),H(K,ue,et,"\u2020","\\dag"),H($t,ue,et,"\u2020","\\dag"),H($t,ue,et,"\u2020","\\textdagger"),H(K,ue,et,"\u2021","\\ddag"),H($t,ue,et,"\u2021","\\ddag"),H($t,ue,et,"\u2021","\\textdaggerdbl"),H(K,ue,Eo,"\u23B1","\\rmoustache",!0),H(K,ue,fl,"\u23B0","\\lmoustache",!0),H(K,ue,Eo,"\u27EF","\\rgroup",!0),H(K,ue,fl,"\u27EE","\\lgroup",!0),H(K,ue,xr,"\u2213","\\mp",!0),H(K,ue,xr,"\u2296","\\ominus",!0),H(K,ue,xr,"\u228E","\\uplus",!0),H(K,ue,xr,"\u2293","\\sqcap",!0),H(K,ue,xr,"\u2217","\\ast"),H(K,ue,xr,"\u2294","\\sqcup",!0),H(K,ue,xr,"\u25EF","\\bigcirc",!0),H(K,ue,xr,"\u2219","\\bullet",!0),H(K,ue,xr,"\u2021","\\ddagger"),H(K,ue,xr,"\u2240","\\wr",!0),H(K,ue,xr,"\u2A3F","\\amalg"),H(K,ue,xr,"&","\\And"),H(K,ue,ze,"\u27F5","\\longleftarrow",!0),H(K,ue,ze,"\u21D0","\\Leftarrow",!0),H(K,ue,ze,"\u27F8","\\Longleftarrow",!0),H(K,ue,ze,"\u27F6","\\longrightarrow",!0),H(K,ue,ze,"\u21D2","\\Rightarrow",!0),H(K,ue,ze,"\u27F9","\\Longrightarrow",!0),H(K,ue,ze,"\u2194","\\leftrightarrow",!0),H(K,ue,ze,"\u27F7","\\longleftrightarrow",!0),H(K,ue,ze,"\u21D4","\\Leftrightarrow",!0),H(K,ue,ze,"\u27FA","\\Longleftrightarrow",!0),H(K,ue,ze,"\u21A6","\\mapsto",!0),H(K,ue,ze,"\u27FC","\\longmapsto",!0),H(K,ue,ze,"\u2197","\\nearrow",!0),H(K,ue,ze,"\u21A9","\\hookleftarrow",!0),H(K,ue,ze,"\u21AA","\\hookrightarrow",!0),H(K,ue,ze,"\u2198","\\searrow",!0),H(K,ue,ze,"\u21BC","\\leftharpoonup",!0),H(K,ue,ze,"\u21C0","\\rightharpoonup",!0),H(K,ue,ze,"\u2199","\\swarrow",!0),H(K,ue,ze,"\u21BD","\\leftharpoondown",!0),H(K,ue,ze,"\u21C1","\\rightharpoondown",!0),H(K,ue,ze,"\u2196","\\nwarrow",!0),H(K,ue,ze,"\u21CC","\\rightleftharpoons",!0),H(K,$e,ze,"\u226E","\\nless",!0),H(K,$e,ze,"\uE010","\\@nleqslant"),H(K,$e,ze,"\uE011","\\@nleqq"),H(K,$e,ze,"\u2A87","\\lneq",!0),H(K,$e,ze,"\u2268","\\lneqq",!0),H(K,$e,ze,"\uE00C","\\@lvertneqq"),H(K,$e,ze,"\u22E6","\\lnsim",!0),H(K,$e,ze,"\u2A89","\\lnapprox",!0),H(K,$e,ze,"\u2280","\\nprec",!0),H(K,$e,ze,"\u22E0","\\npreceq",!0),H(K,$e,ze,"\u22E8","\\precnsim",!0),H(K,$e,ze,"\u2AB9","\\precnapprox",!0),H(K,$e,ze,"\u2241","\\nsim",!0),H(K,$e,ze,"\uE006","\\@nshortmid"),H(K,$e,ze,"\u2224","\\nmid",!0),H(K,$e,ze,"\u22AC","\\nvdash",!0),H(K,$e,ze,"\u22AD","\\nvDash",!0),H(K,$e,ze,"\u22EA","\\ntriangleleft"),H(K,$e,ze,"\u22EC","\\ntrianglelefteq",!0),H(K,$e,ze,"\u228A","\\subsetneq",!0),H(K,$e,ze,"\uE01A","\\@varsubsetneq"),H(K,$e,ze,"\u2ACB","\\subsetneqq",!0),H(K,$e,ze,"\uE017","\\@varsubsetneqq"),H(K,$e,ze,"\u226F","\\ngtr",!0),H(K,$e,ze,"\uE00F","\\@ngeqslant"),H(K,$e,ze,"\uE00E","\\@ngeqq"),H(K,$e,ze,"\u2A88","\\gneq",!0),H(K,$e,ze,"\u2269","\\gneqq",!0),H(K,$e,ze,"\uE00D","\\@gvertneqq"),H(K,$e,ze,"\u22E7","\\gnsim",!0),H(K,$e,ze,"\u2A8A","\\gnapprox",!0),H(K,$e,ze,"\u2281","\\nsucc",!0),H(K,$e,ze,"\u22E1","\\nsucceq",!0),H(K,$e,ze,"\u22E9","\\succnsim",!0),H(K,$e,ze,"\u2ABA","\\succnapprox",!0),H(K,$e,ze,"\u2246","\\ncong",!0),H(K,$e,ze,"\uE007","\\@nshortparallel"),H(K,$e,ze,"\u2226","\\nparallel",!0),H(K,$e,ze,"\u22AF","\\nVDash",!0),H(K,$e,ze,"\u22EB","\\ntriangleright"),H(K,$e,ze,"\u22ED","\\ntrianglerighteq",!0),H(K,$e,ze,"\uE018","\\@nsupseteqq"),H(K,$e,ze,"\u228B","\\supsetneq",!0),H(K,$e,ze,"\uE01B","\\@varsupsetneq"),H(K,$e,ze,"\u2ACC","\\supsetneqq",!0),H(K,$e,ze,"\uE019","\\@varsupsetneqq"),H(K,$e,ze,"\u22AE","\\nVdash",!0),H(K,$e,ze,"\u2AB5","\\precneqq",!0),H(K,$e,ze,"\u2AB6","\\succneqq",!0),H(K,$e,ze,"\uE016","\\@nsubseteqq"),H(K,$e,xr,"\u22B4","\\unlhd"),H(K,$e,xr,"\u22B5","\\unrhd"),H(K,$e,ze,"\u219A","\\nleftarrow",!0),H(K,$e,ze,"\u219B","\\nrightarrow",!0),H(K,$e,ze,"\u21CD","\\nLeftarrow",!0),H(K,$e,ze,"\u21CF","\\nRightarrow",!0),H(K,$e,ze,"\u21AE","\\nleftrightarrow",!0),H(K,$e,ze,"\u21CE","\\nLeftrightarrow",!0),H(K,$e,ze,"\u25B3","\\vartriangle"),H(K,$e,et,"\u210F","\\hslash"),H(K,$e,et,"\u25BD","\\triangledown"),H(K,$e,et,"\u25CA","\\lozenge"),H(K,$e,et,"\u24C8","\\circledS"),H(K,$e,et,"\xAE","\\circledR"),H($t,$e,et,"\xAE","\\circledR"),H(K,$e,et,"\u2221","\\measuredangle",!0),H(K,$e,et,"\u2204","\\nexists"),H(K,$e,et,"\u2127","\\mho"),H(K,$e,et,"\u2132","\\Finv",!0),H(K,$e,et,"\u2141","\\Game",!0),H(K,$e,et,"\u2035","\\backprime"),H(K,$e,et,"\u25B2","\\blacktriangle"),H(K,$e,et,"\u25BC","\\blacktriangledown"),H(K,$e,et,"\u25A0","\\blacksquare"),H(K,$e,et,"\u29EB","\\blacklozenge"),H(K,$e,et,"\u2605","\\bigstar"),H(K,$e,et,"\u2222","\\sphericalangle",!0),H(K,$e,et,"\u2201","\\complement",!0),H(K,$e,et,"\xF0","\\eth",!0),H($t,ue,et,"\xF0","\xF0"),H(K,$e,et,"\u2571","\\diagup"),H(K,$e,et,"\u2572","\\diagdown"),H(K,$e,et,"\u25A1","\\square"),H(K,$e,et,"\u25A1","\\Box"),H(K,$e,et,"\u25CA","\\Diamond"),H(K,$e,et,"\xA5","\\yen",!0),H($t,$e,et,"\xA5","\\yen",!0),H(K,$e,et,"\u2713","\\checkmark",!0),H($t,$e,et,"\u2713","\\checkmark"),H(K,$e,et,"\u2136","\\beth",!0),H(K,$e,et,"\u2138","\\daleth",!0),H(K,$e,et,"\u2137","\\gimel",!0),H(K,$e,et,"\u03DD","\\digamma",!0),H(K,$e,et,"\u03F0","\\varkappa"),H(K,$e,fl,"\u250C","\\@ulcorner",!0),H(K,$e,Eo,"\u2510","\\@urcorner",!0),H(K,$e,fl,"\u2514","\\@llcorner",!0),H(K,$e,Eo,"\u2518","\\@lrcorner",!0),H(K,$e,ze,"\u2266","\\leqq",!0),H(K,$e,ze,"\u2A7D","\\leqslant",!0),H(K,$e,ze,"\u2A95","\\eqslantless",!0),H(K,$e,ze,"\u2272","\\lesssim",!0),H(K,$e,ze,"\u2A85","\\lessapprox",!0),H(K,$e,ze,"\u224A","\\approxeq",!0),H(K,$e,xr,"\u22D6","\\lessdot"),H(K,$e,ze,"\u22D8","\\lll",!0),H(K,$e,ze,"\u2276","\\lessgtr",!0),H(K,$e,ze,"\u22DA","\\lesseqgtr",!0),H(K,$e,ze,"\u2A8B","\\lesseqqgtr",!0),H(K,$e,ze,"\u2251","\\doteqdot"),H(K,$e,ze,"\u2253","\\risingdotseq",!0),H(K,$e,ze,"\u2252","\\fallingdotseq",!0),H(K,$e,ze,"\u223D","\\backsim",!0),H(K,$e,ze,"\u22CD","\\backsimeq",!0),H(K,$e,ze,"\u2AC5","\\subseteqq",!0),H(K,$e,ze,"\u22D0","\\Subset",!0),H(K,$e,ze,"\u228F","\\sqsubset",!0),H(K,$e,ze,"\u227C","\\preccurlyeq",!0),H(K,$e,ze,"\u22DE","\\curlyeqprec",!0),H(K,$e,ze,"\u227E","\\precsim",!0),H(K,$e,ze,"\u2AB7","\\precapprox",!0),H(K,$e,ze,"\u22B2","\\vartriangleleft"),H(K,$e,ze,"\u22B4","\\trianglelefteq"),H(K,$e,ze,"\u22A8","\\vDash",!0),H(K,$e,ze,"\u22AA","\\Vvdash",!0),H(K,$e,ze,"\u2323","\\smallsmile"),H(K,$e,ze,"\u2322","\\smallfrown"),H(K,$e,ze,"\u224F","\\bumpeq",!0),H(K,$e,ze,"\u224E","\\Bumpeq",!0),H(K,$e,ze,"\u2267","\\geqq",!0),H(K,$e,ze,"\u2A7E","\\geqslant",!0),H(K,$e,ze,"\u2A96","\\eqslantgtr",!0),H(K,$e,ze,"\u2273","\\gtrsim",!0),H(K,$e,ze,"\u2A86","\\gtrapprox",!0),H(K,$e,xr,"\u22D7","\\gtrdot"),H(K,$e,ze,"\u22D9","\\ggg",!0),H(K,$e,ze,"\u2277","\\gtrless",!0),H(K,$e,ze,"\u22DB","\\gtreqless",!0),H(K,$e,ze,"\u2A8C","\\gtreqqless",!0),H(K,$e,ze,"\u2256","\\eqcirc",!0),H(K,$e,ze,"\u2257","\\circeq",!0),H(K,$e,ze,"\u225C","\\triangleq",!0),H(K,$e,ze,"\u223C","\\thicksim"),H(K,$e,ze,"\u2248","\\thickapprox"),H(K,$e,ze,"\u2AC6","\\supseteqq",!0),H(K,$e,ze,"\u22D1","\\Supset",!0),H(K,$e,ze,"\u2290","\\sqsupset",!0),H(K,$e,ze,"\u227D","\\succcurlyeq",!0),H(K,$e,ze,"\u22DF","\\curlyeqsucc",!0),H(K,$e,ze,"\u227F","\\succsim",!0),H(K,$e,ze,"\u2AB8","\\succapprox",!0),H(K,$e,ze,"\u22B3","\\vartriangleright"),H(K,$e,ze,"\u22B5","\\trianglerighteq"),H(K,$e,ze,"\u22A9","\\Vdash",!0),H(K,$e,ze,"\u2223","\\shortmid"),H(K,$e,ze,"\u2225","\\shortparallel"),H(K,$e,ze,"\u226C","\\between",!0),H(K,$e,ze,"\u22D4","\\pitchfork",!0),H(K,$e,ze,"\u221D","\\varpropto"),H(K,$e,ze,"\u25C0","\\blacktriangleleft"),H(K,$e,ze,"\u2234","\\therefore",!0),H(K,$e,ze,"\u220D","\\backepsilon"),H(K,$e,ze,"\u25B6","\\blacktriangleright"),H(K,$e,ze,"\u2235","\\because",!0),H(K,$e,ze,"\u22D8","\\llless"),H(K,$e,ze,"\u22D9","\\gggtr"),H(K,$e,xr,"\u22B2","\\lhd"),H(K,$e,xr,"\u22B3","\\rhd"),H(K,$e,ze,"\u2242","\\eqsim",!0),H(K,ue,ze,"\u22C8","\\Join"),H(K,$e,ze,"\u2251","\\Doteq",!0),H(K,$e,xr,"\u2214","\\dotplus",!0),H(K,$e,xr,"\u2216","\\smallsetminus"),H(K,$e,xr,"\u22D2","\\Cap",!0),H(K,$e,xr,"\u22D3","\\Cup",!0),H(K,$e,xr,"\u2A5E","\\doublebarwedge",!0),H(K,$e,xr,"\u229F","\\boxminus",!0),H(K,$e,xr,"\u229E","\\boxplus",!0),H(K,$e,xr,"\u22C7","\\divideontimes",!0),H(K,$e,xr,"\u22C9","\\ltimes",!0),H(K,$e,xr,"\u22CA","\\rtimes",!0),H(K,$e,xr,"\u22CB","\\leftthreetimes",!0),H(K,$e,xr,"\u22CC","\\rightthreetimes",!0),H(K,$e,xr,"\u22CF","\\curlywedge",!0),H(K,$e,xr,"\u22CE","\\curlyvee",!0),H(K,$e,xr,"\u229D","\\circleddash",!0),H(K,$e,xr,"\u229B","\\circledast",!0),H(K,$e,xr,"\u22C5","\\centerdot"),H(K,$e,xr,"\u22BA","\\intercal",!0),H(K,$e,xr,"\u22D2","\\doublecap"),H(K,$e,xr,"\u22D3","\\doublecup"),H(K,$e,xr,"\u22A0","\\boxtimes",!0),H(K,$e,ze,"\u21E2","\\dashrightarrow",!0),H(K,$e,ze,"\u21E0","\\dashleftarrow",!0),H(K,$e,ze,"\u21C7","\\leftleftarrows",!0),H(K,$e,ze,"\u21C6","\\leftrightarrows",!0),H(K,$e,ze,"\u21DA","\\Lleftarrow",!0),H(K,$e,ze,"\u219E","\\twoheadleftarrow",!0),H(K,$e,ze,"\u21A2","\\leftarrowtail",!0),H(K,$e,ze,"\u21AB","\\looparrowleft",!0),H(K,$e,ze,"\u21CB","\\leftrightharpoons",!0),H(K,$e,ze,"\u21B6","\\curvearrowleft",!0),H(K,$e,ze,"\u21BA","\\circlearrowleft",!0),H(K,$e,ze,"\u21B0","\\Lsh",!0),H(K,$e,ze,"\u21C8","\\upuparrows",!0),H(K,$e,ze,"\u21BF","\\upharpoonleft",!0),H(K,$e,ze,"\u21C3","\\downharpoonleft",!0),H(K,ue,ze,"\u22B6","\\origof",!0),H(K,ue,ze,"\u22B7","\\imageof",!0),H(K,$e,ze,"\u22B8","\\multimap",!0),H(K,$e,ze,"\u21AD","\\leftrightsquigarrow",!0),H(K,$e,ze,"\u21C9","\\rightrightarrows",!0),H(K,$e,ze,"\u21C4","\\rightleftarrows",!0),H(K,$e,ze,"\u21A0","\\twoheadrightarrow",!0),H(K,$e,ze,"\u21A3","\\rightarrowtail",!0),H(K,$e,ze,"\u21AC","\\looparrowright",!0),H(K,$e,ze,"\u21B7","\\curvearrowright",!0),H(K,$e,ze,"\u21BB","\\circlearrowright",!0),H(K,$e,ze,"\u21B1","\\Rsh",!0),H(K,$e,ze,"\u21CA","\\downdownarrows",!0),H(K,$e,ze,"\u21BE","\\upharpoonright",!0),H(K,$e,ze,"\u21C2","\\downharpoonright",!0),H(K,$e,ze,"\u21DD","\\rightsquigarrow",!0),H(K,$e,ze,"\u21DD","\\leadsto"),H(K,$e,ze,"\u21DB","\\Rrightarrow",!0),H(K,$e,ze,"\u21BE","\\restriction"),H(K,ue,et,"\u2018","`"),H(K,ue,et,"$","\\$"),H($t,ue,et,"$","\\$"),H($t,ue,et,"$","\\textdollar"),H(K,ue,et,"%","\\%"),H($t,ue,et,"%","\\%"),H(K,ue,et,"_","\\_"),H($t,ue,et,"_","\\_"),H($t,ue,et,"_","\\textunderscore"),H(K,ue,et,"\u2220","\\angle",!0),H(K,ue,et,"\u221E","\\infty",!0),H(K,ue,et,"\u2032","\\prime"),H(K,ue,et,"\u25B3","\\triangle"),H(K,ue,et,"\u0393","\\Gamma",!0),H(K,ue,et,"\u0394","\\Delta",!0),H(K,ue,et,"\u0398","\\Theta",!0),H(K,ue,et,"\u039B","\\Lambda",!0),H(K,ue,et,"\u039E","\\Xi",!0),H(K,ue,et,"\u03A0","\\Pi",!0),H(K,ue,et,"\u03A3","\\Sigma",!0),H(K,ue,et,"\u03A5","\\Upsilon",!0),H(K,ue,et,"\u03A6","\\Phi",!0),H(K,ue,et,"\u03A8","\\Psi",!0),H(K,ue,et,"\u03A9","\\Omega",!0),H(K,ue,et,"A","\u0391"),H(K,ue,et,"B","\u0392"),H(K,ue,et,"E","\u0395"),H(K,ue,et,"Z","\u0396"),H(K,ue,et,"H","\u0397"),H(K,ue,et,"I","\u0399"),H(K,ue,et,"K","\u039A"),H(K,ue,et,"M","\u039C"),H(K,ue,et,"N","\u039D"),H(K,ue,et,"O","\u039F"),H(K,ue,et,"P","\u03A1"),H(K,ue,et,"T","\u03A4"),H(K,ue,et,"X","\u03A7"),H(K,ue,et,"\xAC","\\neg",!0),H(K,ue,et,"\xAC","\\lnot"),H(K,ue,et,"\u22A4","\\top"),H(K,ue,et,"\u22A5","\\bot"),H(K,ue,et,"\u2205","\\emptyset"),H(K,$e,et,"\u2205","\\varnothing"),H(K,ue,tn,"\u03B1","\\alpha",!0),H(K,ue,tn,"\u03B2","\\beta",!0),H(K,ue,tn,"\u03B3","\\gamma",!0),H(K,ue,tn,"\u03B4","\\delta",!0),H(K,ue,tn,"\u03F5","\\epsilon",!0),H(K,ue,tn,"\u03B6","\\zeta",!0),H(K,ue,tn,"\u03B7","\\eta",!0),H(K,ue,tn,"\u03B8","\\theta",!0),H(K,ue,tn,"\u03B9","\\iota",!0),H(K,ue,tn,"\u03BA","\\kappa",!0),H(K,ue,tn,"\u03BB","\\lambda",!0),H(K,ue,tn,"\u03BC","\\mu",!0),H(K,ue,tn,"\u03BD","\\nu",!0),H(K,ue,tn,"\u03BE","\\xi",!0),H(K,ue,tn,"\u03BF","\\omicron",!0),H(K,ue,tn,"\u03C0","\\pi",!0),H(K,ue,tn,"\u03C1","\\rho",!0),H(K,ue,tn,"\u03C3","\\sigma",!0),H(K,ue,tn,"\u03C4","\\tau",!0),H(K,ue,tn,"\u03C5","\\upsilon",!0),H(K,ue,tn,"\u03D5","\\phi",!0),H(K,ue,tn,"\u03C7","\\chi",!0),H(K,ue,tn,"\u03C8","\\psi",!0),H(K,ue,tn,"\u03C9","\\omega",!0),H(K,ue,tn,"\u03B5","\\varepsilon",!0),H(K,ue,tn,"\u03D1","\\vartheta",!0),H(K,ue,tn,"\u03D6","\\varpi",!0),H(K,ue,tn,"\u03F1","\\varrho",!0),H(K,ue,tn,"\u03C2","\\varsigma",!0),H(K,ue,tn,"\u03C6","\\varphi",!0),H(K,ue,xr,"\u2217","*",!0),H(K,ue,xr,"+","+"),H(K,ue,xr,"\u2212","-",!0),H(K,ue,xr,"\u22C5","\\cdot",!0),H(K,ue,xr,"\u2218","\\circ",!0),H(K,ue,xr,"\xF7","\\div",!0),H(K,ue,xr,"\xB1","\\pm",!0),H(K,ue,xr,"\xD7","\\times",!0),H(K,ue,xr,"\u2229","\\cap",!0),H(K,ue,xr,"\u222A","\\cup",!0),H(K,ue,xr,"\u2216","\\setminus",!0),H(K,ue,xr,"\u2227","\\land"),H(K,ue,xr,"\u2228","\\lor"),H(K,ue,xr,"\u2227","\\wedge",!0),H(K,ue,xr,"\u2228","\\vee",!0),H(K,ue,et,"\u221A","\\surd"),H(K,ue,fl,"\u27E8","\\langle",!0),H(K,ue,fl,"\u2223","\\lvert"),H(K,ue,fl,"\u2225","\\lVert"),H(K,ue,Eo,"?","?"),H(K,ue,Eo,"!","!"),H(K,ue,Eo,"\u27E9","\\rangle",!0),H(K,ue,Eo,"\u2223","\\rvert"),H(K,ue,Eo,"\u2225","\\rVert"),H(K,ue,ze,"=","="),H(K,ue,ze,":",":"),H(K,ue,ze,"\u2248","\\approx",!0),H(K,ue,ze,"\u2245","\\cong",!0),H(K,ue,ze,"\u2265","\\ge"),H(K,ue,ze,"\u2265","\\geq",!0),H(K,ue,ze,"\u2190","\\gets"),H(K,ue,ze,">","\\gt",!0),H(K,ue,ze,"\u2208","\\in",!0),H(K,ue,ze,"\uE020","\\@not"),H(K,ue,ze,"\u2282","\\subset",!0),H(K,ue,ze,"\u2283","\\supset",!0),H(K,ue,ze,"\u2286","\\subseteq",!0),H(K,ue,ze,"\u2287","\\supseteq",!0),H(K,$e,ze,"\u2288","\\nsubseteq",!0),H(K,$e,ze,"\u2289","\\nsupseteq",!0),H(K,ue,ze,"\u22A8","\\models"),H(K,ue,ze,"\u2190","\\leftarrow",!0),H(K,ue,ze,"\u2264","\\le"),H(K,ue,ze,"\u2264","\\leq",!0),H(K,ue,ze,"<","\\lt",!0),H(K,ue,ze,"\u2192","\\rightarrow",!0),H(K,ue,ze,"\u2192","\\to"),H(K,$e,ze,"\u2271","\\ngeq",!0),H(K,$e,ze,"\u2270","\\nleq",!0),H(K,ue,$u,"\xA0","\\ "),H(K,ue,$u,"\xA0","\\space"),H(K,ue,$u,"\xA0","\\nobreakspace"),H($t,ue,$u,"\xA0","\\ "),H($t,ue,$u,"\xA0"," "),H($t,ue,$u,"\xA0","\\space"),H($t,ue,$u,"\xA0","\\nobreakspace"),H(K,ue,$u,null,"\\nobreak"),H(K,ue,$u,null,"\\allowbreak"),H(K,ue,e4,",",","),H(K,ue,e4,";",";"),H(K,$e,xr,"\u22BC","\\barwedge",!0),H(K,$e,xr,"\u22BB","\\veebar",!0),H(K,ue,xr,"\u2299","\\odot",!0),H(K,ue,xr,"\u2295","\\oplus",!0),H(K,ue,xr,"\u2297","\\otimes",!0),H(K,ue,et,"\u2202","\\partial",!0),H(K,ue,xr,"\u2298","\\oslash",!0),H(K,$e,xr,"\u229A","\\circledcirc",!0),H(K,$e,xr,"\u22A1","\\boxdot",!0),H(K,ue,xr,"\u25B3","\\bigtriangleup"),H(K,ue,xr,"\u25BD","\\bigtriangledown"),H(K,ue,xr,"\u2020","\\dagger"),H(K,ue,xr,"\u22C4","\\diamond"),H(K,ue,xr,"\u22C6","\\star"),H(K,ue,xr,"\u25C3","\\triangleleft"),H(K,ue,xr,"\u25B9","\\triangleright"),H(K,ue,fl,"{","\\{"),H($t,ue,et,"{","\\{"),H($t,ue,et,"{","\\textbraceleft"),H(K,ue,Eo,"}","\\}"),H($t,ue,et,"}","\\}"),H($t,ue,et,"}","\\textbraceright"),H(K,ue,fl,"{","\\lbrace"),H(K,ue,Eo,"}","\\rbrace"),H(K,ue,fl,"[","\\lbrack",!0),H($t,ue,et,"[","\\lbrack",!0),H(K,ue,Eo,"]","\\rbrack",!0),H($t,ue,et,"]","\\rbrack",!0),H(K,ue,fl,"(","\\lparen",!0),H(K,ue,Eo,")","\\rparen",!0),H($t,ue,et,"<","\\textless",!0),H($t,ue,et,">","\\textgreater",!0),H(K,ue,fl,"\u230A","\\lfloor",!0),H(K,ue,Eo,"\u230B","\\rfloor",!0),H(K,ue,fl,"\u2308","\\lceil",!0),H(K,ue,Eo,"\u2309","\\rceil",!0),H(K,ue,et,"\\","\\backslash"),H(K,ue,et,"\u2223","|"),H(K,ue,et,"\u2223","\\vert"),H($t,ue,et,"|","\\textbar",!0),H(K,ue,et,"\u2225","\\|"),H(K,ue,et,"\u2225","\\Vert"),H($t,ue,et,"\u2225","\\textbardbl"),H($t,ue,et,"~","\\textasciitilde"),H($t,ue,et,"\\","\\textbackslash"),H($t,ue,et,"^","\\textasciicircum"),H(K,ue,ze,"\u2191","\\uparrow",!0),H(K,ue,ze,"\u21D1","\\Uparrow",!0),H(K,ue,ze,"\u2193","\\downarrow",!0),H(K,ue,ze,"\u21D3","\\Downarrow",!0),H(K,ue,ze,"\u2195","\\updownarrow",!0),H(K,ue,ze,"\u21D5","\\Updownarrow",!0),H(K,ue,Ba,"\u2210","\\coprod"),H(K,ue,Ba,"\u22C1","\\bigvee"),H(K,ue,Ba,"\u22C0","\\bigwedge"),H(K,ue,Ba,"\u2A04","\\biguplus"),H(K,ue,Ba,"\u22C2","\\bigcap"),H(K,ue,Ba,"\u22C3","\\bigcup"),H(K,ue,Ba,"\u222B","\\int"),H(K,ue,Ba,"\u222B","\\intop"),H(K,ue,Ba,"\u222C","\\iint"),H(K,ue,Ba,"\u222D","\\iiint"),H(K,ue,Ba,"\u220F","\\prod"),H(K,ue,Ba,"\u2211","\\sum"),H(K,ue,Ba,"\u2A02","\\bigotimes"),H(K,ue,Ba,"\u2A01","\\bigoplus"),H(K,ue,Ba,"\u2A00","\\bigodot"),H(K,ue,Ba,"\u222E","\\oint"),H(K,ue,Ba,"\u222F","\\oiint"),H(K,ue,Ba,"\u2230","\\oiiint"),H(K,ue,Ba,"\u2A06","\\bigsqcup"),H(K,ue,Ba,"\u222B","\\smallint"),H($t,ue,Z1,"\u2026","\\textellipsis"),H(K,ue,Z1,"\u2026","\\mathellipsis"),H($t,ue,Z1,"\u2026","\\ldots",!0),H(K,ue,Z1,"\u2026","\\ldots",!0),H(K,ue,Z1,"\u22EF","\\@cdots",!0),H(K,ue,Z1,"\u22F1","\\ddots",!0),H(K,ue,et,"\u22EE","\\varvdots"),H(K,ue,Wi,"\u02CA","\\acute"),H(K,ue,Wi,"\u02CB","\\grave"),H(K,ue,Wi,"\xA8","\\ddot"),H(K,ue,Wi,"~","\\tilde"),H(K,ue,Wi,"\u02C9","\\bar"),H(K,ue,Wi,"\u02D8","\\breve"),H(K,ue,Wi,"\u02C7","\\check"),H(K,ue,Wi,"^","\\hat"),H(K,ue,Wi,"\u20D7","\\vec"),H(K,ue,Wi,"\u02D9","\\dot"),H(K,ue,Wi,"\u02DA","\\mathring"),H(K,ue,tn,"\uE131","\\@imath"),H(K,ue,tn,"\uE237","\\@jmath"),H(K,ue,et,"\u0131","\u0131"),H(K,ue,et,"\u0237","\u0237"),H($t,ue,et,"\u0131","\\i",!0),H($t,ue,et,"\u0237","\\j",!0),H($t,ue,et,"\xDF","\\ss",!0),H($t,ue,et,"\xE6","\\ae",!0),H($t,ue,et,"\u0153","\\oe",!0),H($t,ue,et,"\xF8","\\o",!0),H($t,ue,et,"\xC6","\\AE",!0),H($t,ue,et,"\u0152","\\OE",!0),H($t,ue,et,"\xD8","\\O",!0),H($t,ue,Wi,"\u02CA","\\'"),H($t,ue,Wi,"\u02CB","\\`"),H($t,ue,Wi,"\u02C6","\\^"),H($t,ue,Wi,"\u02DC","\\~"),H($t,ue,Wi,"\u02C9","\\="),H($t,ue,Wi,"\u02D8","\\u"),H($t,ue,Wi,"\u02D9","\\."),H($t,ue,Wi,"\xB8","\\c"),H($t,ue,Wi,"\u02DA","\\r"),H($t,ue,Wi,"\u02C7","\\v"),H($t,ue,Wi,"\xA8",'\\"'),H($t,ue,Wi,"\u02DD","\\H"),H($t,ue,Wi,"\u25EF","\\textcircled"),ZC={"--":!0,"---":!0,"``":!0,"''":!0},H($t,ue,et,"\u2013","--",!0),H($t,ue,et,"\u2013","\\textendash"),H($t,ue,et,"\u2014","---",!0),H($t,ue,et,"\u2014","\\textemdash"),H($t,ue,et,"\u2018","`",!0),H($t,ue,et,"\u2018","\\textquoteleft"),H($t,ue,et,"\u2019","'",!0),H($t,ue,et,"\u2019","\\textquoteright"),H($t,ue,et,"\u201C","``",!0),H($t,ue,et,"\u201C","\\textquotedblleft"),H($t,ue,et,"\u201D","''",!0),H($t,ue,et,"\u201D","\\textquotedblright"),H(K,ue,et,"\xB0","\\degree",!0),H($t,ue,et,"\xB0","\\degree"),H($t,ue,et,"\xB0","\\textdegree",!0),H(K,ue,et,"\xA3","\\pounds"),H(K,ue,et,"\xA3","\\mathsterling",!0),H($t,ue,et,"\xA3","\\pounds"),H($t,ue,et,"\xA3","\\textsterling",!0),H(K,$e,et,"\u2720","\\maltese"),H($t,$e,et,"\u2720","\\maltese"),QC='0123456789/@."',Ox=0;Ox<QC.length;Ox++)JC=QC.charAt(Ox),H(K,ue,et,JC,JC);for(e_='0123456789!@*()-=+";:?/.,',Px=0;Px<e_.length;Px++)t_=e_.charAt(Px),H($t,ue,et,t_,t_);for(t4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Bx=0;Bx<t4.length;Bx++)r4=t4.charAt(Bx),H(K,ue,tn,r4,r4),H($t,ue,et,r4,r4);for(H(K,$e,et,"C","\u2102"),H($t,$e,et,"C","\u2102"),H(K,$e,et,"H","\u210D"),H($t,$e,et,"H","\u210D"),H(K,$e,et,"N","\u2115"),H($t,$e,et,"N","\u2115"),H(K,$e,et,"P","\u2119"),H($t,$e,et,"P","\u2119"),H(K,$e,et,"Q","\u211A"),H($t,$e,et,"Q","\u211A"),H(K,$e,et,"R","\u211D"),H($t,$e,et,"R","\u211D"),H(K,$e,et,"Z","\u2124"),H($t,$e,et,"Z","\u2124"),H(K,ue,tn,"h","\u210E"),H($t,ue,tn,"h","\u210E"),an="",Co=0;Co<t4.length;Co++)ua=t4.charAt(Co),an=String.fromCharCode(55349,56320+Co),H(K,ue,tn,ua,an),H($t,ue,et,ua,an),an=String.fromCharCode(55349,56372+Co),H(K,ue,tn,ua,an),H($t,ue,et,ua,an),an=String.fromCharCode(55349,56424+Co),H(K,ue,tn,ua,an),H($t,ue,et,ua,an),an=String.fromCharCode(55349,56580+Co),H(K,ue,tn,ua,an),H($t,ue,et,ua,an),an=String.fromCharCode(55349,56684+Co),H(K,ue,tn,ua,an),H($t,ue,et,ua,an),an=String.fromCharCode(55349,56736+Co),H(K,ue,tn,ua,an),H($t,ue,et,ua,an),an=String.fromCharCode(55349,56788+Co),H(K,ue,tn,ua,an),H($t,ue,et,ua,an),an=String.fromCharCode(55349,56840+Co),H(K,ue,tn,ua,an),H($t,ue,et,ua,an),an=String.fromCharCode(55349,56944+Co),H(K,ue,tn,ua,an),H($t,ue,et,ua,an),Co<26&&(an=String.fromCharCode(55349,56632+Co),H(K,ue,tn,ua,an),H($t,ue,et,ua,an),an=String.fromCharCode(55349,56476+Co),H(K,ue,tn,ua,an),H($t,ue,et,ua,an));for(an="\u{1D55C}",H(K,ue,tn,"k",an),H($t,ue,et,"k",an),sd=0;sd<10;sd++)$h=sd.toString(),an=String.fromCharCode(55349,57294+sd),H(K,ue,tn,$h,an),H($t,ue,et,$h,an),an=String.fromCharCode(55349,57314+sd),H(K,ue,tn,$h,an),H($t,ue,et,$h,an),an=String.fromCharCode(55349,57324+sd),H(K,ue,tn,$h,an),H($t,ue,et,$h,an),an=String.fromCharCode(55349,57334+sd),H(K,ue,tn,$h,an),H($t,ue,et,$h,an);for(Fx="\xD0\xDE\xFE",$x=0;$x<Fx.length;$x++)n4=Fx.charAt($x),H(K,ue,tn,n4,n4),H($t,ue,et,n4,n4);i4=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],r_=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wU=o(function(e,t){var r=e.charCodeAt(0),n=e.charCodeAt(1),i=(r-55296)*1024+(n-56320)+65536,a=t==="math"?0:1;if(119808<=i&&i<120484){var s=Math.floor((i-119808)/26);return[i4[s][2],i4[s][a]]}else if(120782<=i&&i<=120831){var l=Math.floor((i-120782)/10);return[r_[l][2],r_[l][a]]}else{if(i===120485||i===120486)return[i4[0][2],i4[0][a]];if(120486<i&&i<120782)return["",""];throw new Jt("Unsupported character: "+e)}},"wideCharacterFont"),a4=o(function(e,t,r){return Oi[r][e]&&Oi[r][e].replace&&(e=Oi[r][e].replace),{value:e,metrics:ta(e,t,r)}},"lookupSymbol"),fc=o(function(e,t,r,n,i){var a=a4(e,t,r),s=a.metrics;e=a.value;var l;if(s){var u=s.italic;(r==="text"||n&&n.font==="mathit")&&(u=0),l=new $l(e,s.height,s.depth,u,s.skew,s.width,i)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+r+"'")),l=new $l(e,0,0,0,0,0,i);if(n){l.maxFontSize=n.sizeMultiplier,n.style.isTight()&&l.classes.push("mtight");var h=n.getColor();h&&(l.style.color=h)}return l},"makeSymbol"),kU=o(function(e,t,r,n){return n===void 0&&(n=[]),r.font==="boldsymbol"&&a4(e,"Main-Bold",t).metrics?fc(e,"Main-Bold",t,r,n.concat(["mathbf"])):e==="\\"||Oi[t][e].font==="main"?fc(e,"Main-Regular",t,r,n):fc(e,"AMS-Regular",t,r,n.concat(["amsrm"]))},"mathsym"),TU=o(function(e,t,r,n,i){return i!=="textord"&&a4(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},"boldsymbol"),EU=o(function(e,t,r){var n=e.mode,i=e.text,a=["mord"],s=n==="math"||n==="text"&&t.font,l=s?t.font:t.fontFamily,u="",h="";if(i.charCodeAt(0)===55349&&([u,h]=wU(i,n)),u.length>0)return fc(i,u,n,t,a.concat(h));if(l){var d,p;if(l==="boldsymbol"){var f=TU(i,n,t,a,r);d=f.fontName,p=[f.fontClass]}else s?(d=a_[l].fontName,p=[l]):(d=s4(l,t.fontWeight,t.fontShape),p=[l,t.fontWeight,t.fontShape]);if(a4(i,d,n).metrics)return fc(i,d,n,t,a.concat(p));if(ZC.hasOwnProperty(i)&&d.slice(0,10)==="Typewriter"){for(var g=[],m=0;m<i.length;m++)g.push(fc(i[m],d,n,t,a.concat(p)));return i_(g)}}if(r==="mathord")return fc(i,"Math-Italic",n,t,a.concat(["mathnormal"]));if(r==="textord"){var y=Oi[n][i]&&Oi[n][i].font;if(y==="ams"){var b=s4("amsrm",t.fontWeight,t.fontShape);return fc(i,b,n,t,a.concat("amsrm",t.fontWeight,t.fontShape))}else if(y==="main"||!y){var v=s4("textrm",t.fontWeight,t.fontShape);return fc(i,v,n,t,a.concat(t.fontWeight,t.fontShape))}else{var x=s4(y,t.fontWeight,t.fontShape);return fc(i,x,n,t,a.concat(x,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},"makeOrd"),CU=o((e,t)=>{if(Bh(e.classes)!==Bh(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},"canCombine"),_U=o(e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof $l&&n instanceof $l&&CU(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},"tryCombineChars"),zx=o(function(e){for(var t=0,r=0,n=0,i=0;i<e.children.length;i++){var a=e.children[i];a.height>t&&(t=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>n&&(n=a.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=n},"sizeElementFromChildren"),Fo=o(function(e,t,r,n){var i=new Cf(e,t,r,n);return zx(i),i},"makeSpan"),n_=o((e,t,r,n)=>new Cf(e,t,r,n),"makeSvgSpan"),SU=o(function(e,t,r){var n=Fo([e],[],t);return n.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),n.style.borderBottomWidth=or(n.height),n.maxFontSize=1,n},"makeLineSpan"),AU=o(function(e,t,r,n){var i=new Dx(e,t,r,n);return zx(i),i},"makeAnchor"),i_=o(function(e){var t=new Ef(e);return zx(t),t},"makeFragment"),LU=o(function(e,t){return e instanceof Ef?Fo([],[e],t):e},"wrapFragment"),NU=o(function(e){if(e.positionType==="individualShift"){for(var t=e.children,r=[t[0]],n=-t[0].shift-t[0].elem.depth,i=n,a=1;a<t.length;a++){var s=-t[a].shift-i-t[a].elem.depth,l=s-(t[a-1].elem.height+t[a-1].elem.depth);i=i+s,r.push({type:"kern",size:l}),r.push(t[a])}return{children:r,depth:n}}var u;if(e.positionType==="top"){for(var h=e.positionData,d=0;d<e.children.length;d++){var p=e.children[d];h-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}u=h}else if(e.positionType==="bottom")u=-e.positionData;else{var f=e.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-f.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-f.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},"getVListChildrenAndDepth"),MU=o(function(e,t){for(var{children:r,depth:n}=NU(e),i=0,a=0;a<r.length;a++){var s=r[a];if(s.type==="elem"){var l=s.elem;i=Math.max(i,l.maxFontSize,l.height)}}i+=2;var u=Fo(["pstrut"],[]);u.style.height=or(i);for(var h=[],d=n,p=n,f=n,g=0;g<r.length;g++){var m=r[g];if(m.type==="kern")f+=m.size;else{var y=m.elem,b=m.wrapperClasses||[],v=m.wrapperStyle||{},x=Fo(b,[u,y],void 0,v);x.style.top=or(-i-f-y.depth),m.marginLeft&&(x.style.marginLeft=m.marginLeft),m.marginRight&&(x.style.marginRight=m.marginRight),h.push(x),f+=y.height+y.depth}d=Math.min(d,f),p=Math.max(p,f)}var w=Fo(["vlist"],h);w.style.height=or(p);var E;if(d<0){var A=Fo([],[]),N=Fo(["vlist"],[A]);N.style.height=or(-d);var L=Fo(["vlist-s"],[new $l("\u200B")]);E=[Fo(["vlist-r"],[w,L]),Fo(["vlist-r"],[N])]}else E=[Fo(["vlist-r"],[w])];var C=Fo(["vlist-t"],E);return E.length===2&&C.classes.push("vlist-t2"),C.height=p,C.depth=-d,C},"makeVList"),IU=o((e,t)=>{var r=Fo(["mspace"],[],t),n=ra(e,t);return r.style.marginRight=or(n),r},"makeGlue"),s4=o(function(e,t,r){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}var i;return t==="textbf"&&r==="textit"?i="BoldItalic":t==="textbf"?i="Bold":t==="textit"?i="Italic":i="Regular",n+"-"+i},"retrieveTextFontName"),a_={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},s_={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},DU=o(function(e,t){var[r,n,i]=s_[e],a=new Fh(r),s=new Fu([a],{width:or(n),height:or(i),style:"width:"+or(n),viewBox:"0 0 "+1e3*n+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),l=n_(["overlay"],[s],t);return l.height=i,l.style.height=or(i),l.style.width=or(n),l},"staticSvg"),pt={fontMap:a_,makeSymbol:fc,mathsym:kU,makeSpan:Fo,makeSvgSpan:n_,makeLineSpan:SU,makeAnchor:AU,makeFragment:i_,wrapFragment:LU,makeVList:MU,makeOrd:EU,makeGlue:IU,staticSvg:DU,svgData:s_,tryCombineChars:_U},na={number:3,unit:"mu"},od={number:4,unit:"mu"},zu={number:5,unit:"mu"},RU={mord:{mop:na,mbin:od,mrel:zu,minner:na},mop:{mord:na,mop:na,mrel:zu,minner:na},mbin:{mord:od,mop:od,mopen:od,minner:od},mrel:{mord:zu,mop:zu,mopen:zu,minner:zu},mopen:{},mclose:{mop:na,mbin:od,mrel:zu,minner:na},mpunct:{mord:na,mop:na,mrel:zu,mopen:na,mclose:na,mpunct:na,minner:na},minner:{mord:na,mop:na,mbin:od,mrel:zu,mopen:na,mpunct:na,minner:na}},OU={mord:{mop:na},mop:{mord:na,mop:na},mbin:{},mrel:{},mopen:{},mclose:{mop:na},mpunct:{},minner:{mop:na}},o_={},o4={},l4={},o(Wt,"defineFunction"),o(Rn,"defineFunctionBuilders"),c4=o(function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},"normalizeArgument"),Ca=o(function(e){return e.type==="ordgroup"?e.body:[e]},"ordargument"),qu=pt.makeSpan,PU=["leftmost","mbin","mopen","mrel","mop","mpunct"],BU=["rightmost","mrel","mclose","mpunct"],FU={display:en.DISPLAY,text:en.TEXT,script:en.SCRIPT,scriptscript:en.SCRIPTSCRIPT},$U={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ua=o(function(e,t,r,n){n===void 0&&(n=[null,null]);for(var i=[],a=0;a<e.length;a++){var s=Wn(e[a],t);if(s instanceof Ef){var l=s.children;i.push(...l)}else i.push(s)}if(pt.tryCombineChars(i),!r)return i;var u=t;if(e.length===1){var h=e[0];h.type==="sizing"?u=t.havingSize(h.size):h.type==="styling"&&(u=t.havingStyle(FU[h.style]))}var d=qu([n[0]||"leftmost"],[],t),p=qu([n[1]||"rightmost"],[],t),f=r==="root";return l_(i,(g,m)=>{var y=m.classes[0],b=g.classes[0];y==="mbin"&&Qr.contains(BU,b)?m.classes[0]="mord":b==="mbin"&&Qr.contains(PU,y)&&(g.classes[0]="mord")},{node:d},p,f),l_(i,(g,m)=>{var y=qx(m),b=qx(g),v=y&&b?g.hasClass("mtight")?OU[y][b]:RU[y][b]:null;if(v)return pt.makeGlue(v,u)},{node:d},p,f),i},"buildExpression"),l_=o(function e(t,r,n,i,a){i&&t.push(i);for(var s=0;s<t.length;s++){var l=t[s],u=c_(l);if(u){e(u.children,r,n,null,a);continue}var h=!l.hasClass("mspace");if(h){var d=r(l,n.node);d&&(n.insertAfter?n.insertAfter(d):(t.unshift(d),s++))}h?n.node=l:a&&l.hasClass("newline")&&(n.node=qu(["leftmost"])),n.insertAfter=(p=>f=>{t.splice(p+1,0,f),s++})(s)}i&&t.pop()},"traverseNonSpaceNodes"),c_=o(function(e){return e instanceof Ef||e instanceof Dx||e instanceof Cf&&e.hasClass("enclosing")?e:null},"checkPartialGroup"),zU=o(function e(t,r){var n=c_(t);if(n){var i=n.children;if(i.length){if(r==="right")return e(i[i.length-1],"right");if(r==="left")return e(i[0],"left")}}return t},"getOutermostNode"),qx=o(function(e,t){return e?(t&&(e=zU(e,t)),$U[e.classes[0]]||null):null},"getTypeOfDomTree"),_f=o(function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return qu(t.concat(r))},"makeNullDelimiter"),Wn=o(function(e,t,r){if(!e)return qu();if(o4[e.type]){var n=o4[e.type](e,t);if(r&&t.size!==r.size){n=qu(t.sizingClasses(r),[n],t);var i=t.sizeMultiplier/r.sizeMultiplier;n.height*=i,n.depth*=i}return n}else throw new Jt("Got group of unknown type: '"+e.type+"'")},"buildGroup"),o(Ea,"buildHTMLUnbreakable"),o(Gi,"buildHTML"),o(ko,"newDocumentFragment"),zl=class{static{o(this,"MathNode")}constructor(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=Bh(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=Qr.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+Qr.escape(Bh(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}},Sf=class{static{o(this,"TextNode")}constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Qr.escape(this.toText())}toText(){return this.text}},qU=class{static{o(this,"SpaceNode")}constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="\u200A":e>=.1666&&e<=.1667?this.character="\u2009":e>=.2222&&e<=.2223?this.character="\u2005":e>=.2777&&e<=.2778?this.character="\u2005\u200A":e>=-.05556&&e<=-.05555?this.character="\u200A\u2063":e>=-.1667&&e<=-.1666?this.character="\u2009\u2063":e>=-.2223&&e<=-.2222?this.character="\u205F\u2063":e>=-.2778&&e<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",or(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+or(this.width)+'"/>'}toText(){return this.character?this.character:" "}},Ut={MathNode:zl,TextNode:Sf,SpaceNode:qU,newDocumentFragment:ko},ql=o(function(e,t,r){return Oi[t][e]&&Oi[t][e].replace&&e.charCodeAt(0)!==55349&&!(ZC.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Oi[t][e].replace),new Ut.TextNode(e)},"makeText"),Gx=o(function(e){return e.length===1?e[0]:new Ut.MathNode("mrow",e)},"makeRow"),Yx=o(function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var r=t.font;if(!r||r==="mathnormal")return null;var n=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var i=e.text;if(Qr.contains(["\\imath","\\jmath"],i))return null;Oi[n][i]&&Oi[n][i].replace&&(i=Oi[n][i].replace);var a=pt.fontMap[r].fontName;return ta(i,a,n)?pt.fontMap[r].variant:null},"getVariant"),$o=o(function(e,t,r){if(e.length===1){var n=Mi(e[0],t);return r&&n instanceof zl&&n.type==="mo"&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var i=[],a,s=0;s<e.length;s++){var l=Mi(e[s],t);if(l instanceof zl&&a instanceof zl){if(l.type==="mtext"&&a.type==="mtext"&&l.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...l.children);continue}else if(l.type==="mn"&&a.type==="mn"){a.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&a.type==="mn"){var u=l.children[0];if(u instanceof Sf&&u.text==="."){a.children.push(...l.children);continue}}else if(a.type==="mi"&&a.children.length===1){var h=a.children[0];if(h instanceof Sf&&h.text==="\u0338"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof Sf&&d.text.length>0&&(d.text=d.text.slice(0,1)+"\u0338"+d.text.slice(1),i.pop())}}}i.push(l),a=l}return i},"buildExpression"),zh=o(function(e,t,r){return Gx($o(e,t,r))},"buildExpressionRow"),Mi=o(function(e,t){if(!e)return new Ut.MathNode("mrow");if(l4[e.type]){var r=l4[e.type](e,t);return r}else throw new Jt("Got group of unknown type: '"+e.type+"'")},"buildGroup"),o(wf,"buildMathML"),u_=o(function(e){return new UC({style:e.displayMode?en.DISPLAY:en.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},"optionsFromSettings"),h_=o(function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=pt.makeSpan(r,[e])}return e},"displayWrap"),GU=o(function(e,t,r){var n=u_(r),i;if(r.output==="mathml")return wf(e,t,n,r.displayMode,!0);if(r.output==="html"){var a=Gi(e,n);i=pt.makeSpan(["katex"],[a])}else{var s=wf(e,t,n,r.displayMode,!1),l=Gi(e,n);i=pt.makeSpan(["katex"],[s,l])}return h_(i,r)},"buildTree"),YU=o(function(e,t,r){var n=u_(r),i=Gi(e,n),a=pt.makeSpan(["katex"],[i]);return h_(a,r)},"buildHTMLTree"),jU={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},HU=o(function(e){var t=new Ut.MathNode("mo",[new Ut.TextNode(jU[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},"mathMLnode"),UU={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},VU=o(function(e){return e.type==="ordgroup"?e.body.length:1},"groupLength"),WU=o(function(e,t){function r(){var s=4e5,l=e.label.slice(1);if(Qr.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,h=VU(u.base),d,p,f;if(h>5)l==="widehat"||l==="widecheck"?(d=420,s=2364,f=.42,p=l+"4"):(d=312,s=2340,f=.34,p="tilde4");else{var g=[1,1,2,2,3,3][h];l==="widehat"||l==="widecheck"?(s=[0,1062,2364,2364,2364][g],d=[0,239,300,360,420][g],f=[0,.24,.3,.3,.36,.42][g],p=l+g):(s=[0,600,1033,2339,2340][g],d=[0,260,286,306,312][g],f=[0,.26,.286,.3,.306,.34][g],p="tilde"+g)}var m=new Fh(p),y=new Fu([m],{width:"100%",height:or(f),viewBox:"0 0 "+s+" "+d,preserveAspectRatio:"none"});return{span:pt.makeSvgSpan([],[y],t),minWidth:0,height:f}}else{var b=[],v=UU[l],[x,w,E]=v,A=E/1e3,N=x.length,L,C;if(N===1){var D=v[3];L=["hide-tail"],C=[D]}else if(N===2)L=["halfarrow-left","halfarrow-right"],C=["xMinYMin","xMaxYMin"];else if(N===3)L=["brace-left","brace-center","brace-right"],C=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+N+" children.");for(var P=0;P<N;P++){var O=new Fh(x[P]),I=new Fu([O],{width:"400em",height:or(A),viewBox:"0 0 "+s+" "+E,preserveAspectRatio:C[P]+" slice"}),q=pt.makeSvgSpan([L[P]],[I],t);if(N===1)return{span:q,minWidth:w,height:A};q.style.height=or(A),b.push(q)}return{span:pt.makeSpan(["stretchy"],b,t),minWidth:w,height:A}}}o(r,"buildSvgSpan_");var{span:n,minWidth:i,height:a}=r();return n.height=a,n.style.height=or(a),i>0&&(n.style.minWidth=or(i)),n},"svgSpan"),XU=o(function(e,t,r,n,i){var a,s=e.height+e.depth+r+n;if(/fbox|color|angl/.test(t)){if(a=pt.makeSpan(["stretchy",t],[],i),t==="fbox"){var l=i.color&&i.getColor();l&&(a.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(t)&&u.push(new Rx({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&u.push(new Rx({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var h=new Fu(u,{width:"100%",height:or(s)});a=pt.makeSvgSpan([],[h],i)}return a.height=s,a.style.height=or(s),a},"encloseSpan"),Gu={encloseSpan:XU,mathMLnode:HU,svgSpan:WU},o(bn,"assertNodeType"),o(kf,"assertSymbolNodeType"),o(Pu,"checkSymbolNodeType"),jx=o((e,t)=>{var r,n,i;e&&e.type==="supsub"?(n=bn(e.base,"accent"),r=n.base,e.base=r,i=wn(Wn(e,t)),e.base=n):(n=bn(e,"accent"),r=n.base);var a=Wn(r,t.havingCrampedStyle()),s=n.isShifty&&Qr.isCharacterBox(r),l=0;if(s){var u=Qr.getBaseElem(r),h=Wn(u,t.havingCrampedStyle());l=Rh(h).skew}var d=n.label==="\\c",p=d?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),f;if(n.isStretchy)f=Gu.svgSpan(n,t),f=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+or(2*l)+")",marginLeft:or(2*l)}:void 0}]},t);else{var g,m;n.label==="\\vec"?(g=pt.staticSvg("vec",t),m=pt.svgData.vec[1]):(g=pt.makeOrd({mode:n.mode,text:n.label},t,"textord"),g=Rh(g),g.italic=0,m=g.width,d&&(p+=g.depth)),f=pt.makeSpan(["accent-body"],[g]);var y=n.label==="\\textcircled";y&&(f.classes.push("accent-full"),p=a.height);var b=l;y||(b-=m/2),f.style.left=or(b),n.label==="\\textcircled"&&(f.style.top=".2em"),f=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-p},{type:"elem",elem:f}]},t)}var v=pt.makeSpan(["mord","accent"],[f],t);return i?(i.children[0]=v,i.height=Math.max(v.height,i.height),i.classes[0]="mord",i):v},"htmlBuilder$a"),d_=o((e,t)=>{var r=e.isStretchy?Gu.mathMLnode(e.label):new Ut.MathNode("mo",[ql(e.label,e.mode)]),n=new Ut.MathNode("mover",[Mi(e.base,t),r]);return n.setAttribute("accent","true"),n},"mathmlBuilder$9"),KU=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|")),Wt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:o((e,t)=>{var r=c4(t[0]),n=!KU.test(e.funcName),i=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:i,base:r}},"handler"),htmlBuilder:jx,mathmlBuilder:d_}),Wt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:o((e,t)=>{var r=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},"handler"),htmlBuilder:jx,mathmlBuilder:d_}),Wt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},"handler"),htmlBuilder:o((e,t)=>{var r=Wn(e.base,t),n=Gu.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,a=pt.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},t);return pt.makeSpan(["mord","accentunder"],[a],t)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=Gu.mathMLnode(e.label),n=new Ut.MathNode("munder",[Mi(e.base,t),r]);return n.setAttribute("accentunder","true"),n},"mathmlBuilder")}),u4=o(e=>{var t=new Ut.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t},"paddedNode"),Wt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:i}=e;return{type:"xArrow",mode:n.mode,label:i,body:t[0],below:r[0]}},htmlBuilder(e,t){var r=t.style,n=t.havingStyle(r.sup()),i=pt.wrapFragment(Wn(e.body,n,t),t),a=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;e.below&&(n=t.havingStyle(r.sub()),s=pt.wrapFragment(Wn(e.below,n,t),t),s.classes.push(a+"-arrow-pad"));var l=Gu.svgSpan(e,t),u=-t.fontMetrics().axisHeight+.5*l.height,h=-t.fontMetrics().axisHeight-.5*l.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(h-=i.depth);var d;if(s){var p=-t.fontMetrics().axisHeight+s.height+.5*l.height+.111;d=pt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:h},{type:"elem",elem:l,shift:u},{type:"elem",elem:s,shift:p}]},t)}else d=pt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:h},{type:"elem",elem:l,shift:u}]},t);return d.children[0].children[0].children[1].classes.push("svg-align"),pt.makeSpan(["mrel","x-arrow"],[d],t)},mathmlBuilder(e,t){var r=Gu.mathMLnode(e.label);r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(e.body){var i=u4(Mi(e.body,t));if(e.below){var a=u4(Mi(e.below,t));n=new Ut.MathNode("munderover",[r,a,i])}else n=new Ut.MathNode("mover",[r,i])}else if(e.below){var s=u4(Mi(e.below,t));n=new Ut.MathNode("munder",[r,s])}else n=u4(),n=new Ut.MathNode("mover",[r,n]);return n}}),ZU=pt.makeSpan,o(Wy,"htmlBuilder$9"),o(Ti,"mathmlBuilder$8"),Wt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:Ca(i),isCharacterBox:Qr.isCharacterBox(i)}},htmlBuilder:Wy,mathmlBuilder:Ti}),h4=o(e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"},"binrelClass"),Wt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:h4(t[0]),body:Ca(t[1]),isCharacterBox:Qr.isCharacterBox(t[1])}}}),Wt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:r,funcName:n}=e,i=t[1],a=t[0],s;n!=="\\stackrel"?s=h4(i):s="mrel";var l={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:Ca(i)},u={type:"supsub",mode:a.mode,base:l,sup:n==="\\underset"?null:a,sub:n==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:s,body:[u],isCharacterBox:Qr.isCharacterBox(u)}},htmlBuilder:Wy,mathmlBuilder:Ti}),Wt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:h4(t[0]),body:Ca(t[0])}},htmlBuilder(e,t){var r=Ua(e.body,t,!0),n=pt.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=$o(e.body,t),n=new Ut.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}}),QU={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},p_=o(()=>({type:"styling",body:[],mode:"math",style:"display"}),"newCell"),g_=o(e=>e.type==="textord"&&e.text==="@","isStartOfArrow"),JU=o((e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t,"isLabelEnd"),o(GH,"cdArrow"),o(YH,"parseCD"),Wt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=pt.wrapFragment(Wn(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=or(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new Ut.MathNode("mrow",[Mi(e.label,t)]);return r=new Ut.MathNode("mpadded",[r]),r.setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new Ut.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}}),Wt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=pt.wrapFragment(Wn(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(e,t){return new Ut.MathNode("mrow",[Mi(e.fragment,t)])}}),Wt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=bn(t[0],"ordgroup"),i=n.body,a="",s=0;s<i.length;s++){var l=bn(i[s],"textord");a+=l.text}var u=parseInt(a),h;if(isNaN(u))throw new Jt("\\@char has non-numeric argument "+a);if(u<0||u>=1114111)throw new Jt("\\@char with invalid code point "+a);return u<=65535?h=String.fromCharCode(u):(u-=65536,h=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:r.mode,text:h}}}),f_=o((e,t)=>{var r=Ua(e.body,t.withColor(e.color),!1);return pt.makeFragment(r)},"htmlBuilder$8"),m_=o((e,t)=>{var r=$o(e.body,t.withColor(e.color)),n=new Ut.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n},"mathmlBuilder$7"),Wt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=bn(t[0],"color-token").color,i=t[1];return{type:"color",mode:r.mode,color:n,body:Ca(i)}},htmlBuilder:f_,mathmlBuilder:m_}),Wt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,i=bn(t[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var a=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:a}},htmlBuilder:f_,mathmlBuilder:m_}),Wt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:i&&bn(i,"size").value}},htmlBuilder(e,t){var r=pt.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=or(ra(e.size,t)))),r},mathmlBuilder(e,t){var r=new Ut.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",or(ra(e.size,t)))),r}}),Hx={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},y_=o(e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new Jt("Expected a control sequence",e);return t},"checkControlSequence"),eV=o(e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},"getRHS"),v_=o((e,t,r,n)=>{var i=e.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,i,n)},"letCommand"),Wt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(Hx[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=Hx[n.text]),bn(t.parseFunction(),"internal");throw new Jt("Invalid token after macro prefix",n)}}),Wt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Jt("Expected a control sequence",n);for(var a=0,s,l=[[]];t.gullet.future().text!=="{";)if(n=t.gullet.popToken(),n.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),l[a].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new Jt('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==a+1)throw new Jt('Argument number "'+n.text+'" out of order');a++,l.push([])}else{if(n.text==="EOF")throw new Jt("Expected a macro definition");l[a].push(n.text)}var{tokens:u}=t.gullet.consumeArg();return s&&u.unshift(s),(r==="\\edef"||r==="\\xdef")&&(u=t.gullet.expandTokens(u),u.reverse()),t.gullet.macros.set(i,{tokens:u,numArgs:a,delimiters:l},r===Hx[r]),{type:"internal",mode:t.mode}}}),Wt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=y_(t.gullet.popToken());t.gullet.consumeSpaces();var i=eV(t);return v_(t,n,i,r==="\\\\globallet"),{type:"internal",mode:t.mode}}}),Wt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=y_(t.gullet.popToken()),i=t.gullet.popToken(),a=t.gullet.popToken();return v_(t,n,a,r==="\\\\globalfuture"),t.gullet.pushToken(a),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}}),Af=o(function(e,t,r){var n=Oi.math[e]&&Oi.math[e].replace,i=ta(n||e,t,r);if(!i)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return i},"getMetrics"),Ux=o(function(e,t,r,n){var i=r.havingBaseStyle(t),a=pt.makeSpan(n.concat(i.sizingClasses(r)),[e],r),s=i.sizeMultiplier/r.sizeMultiplier;return a.height*=s,a.depth*=s,a.maxFontSize=i.sizeMultiplier,a},"styleWrap"),b_=o(function(e,t,r){var n=t.havingBaseStyle(r),i=(1-t.sizeMultiplier/n.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=or(i),e.height-=i,e.depth+=i},"centerSpan"),tV=o(function(e,t,r,n,i,a){var s=pt.makeSymbol(e,"Main-Regular",i,n),l=Ux(s,t,n,a);return r&&b_(l,n,t),l},"makeSmallDelim"),rV=o(function(e,t,r,n){return pt.makeSymbol(e,"Size"+t+"-Regular",r,n)},"mathrmSize"),x_=o(function(e,t,r,n,i,a){var s=rV(e,t,i,n),l=Ux(pt.makeSpan(["delimsizing","size"+t],[s],n),en.TEXT,n,a);return r&&b_(l,n,en.TEXT),l},"makeLargeDelim"),Vx=o(function(e,t,r){var n;t==="Size1-Regular"?n="delim-size1":n="delim-size4";var i=pt.makeSpan(["delimsizinginner",n],[pt.makeSpan([],[pt.makeSymbol(e,t,r)])]);return{type:"elem",elem:i}},"makeGlyphSpan"),Wx=o(function(e,t,r){var n=Kc["Size4-Regular"][e.charCodeAt(0)]?Kc["Size4-Regular"][e.charCodeAt(0)][4]:Kc["Size1-Regular"][e.charCodeAt(0)][4],i=new Fh("inner",pU(e,Math.round(1e3*t))),a=new Fu([i],{width:or(n),height:or(t),style:"width:"+or(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),s=pt.makeSvgSpan([],[a],r);return s.height=t,s.style.height=or(t),s.style.width=or(n),{type:"elem",elem:s}},"makeInner"),Xx=.008,d4={type:"kern",size:-1*Xx},nV=["|","\\lvert","\\rvert","\\vert"],iV=["\\|","\\lVert","\\rVert","\\Vert"],w_=o(function(e,t,r,n,i,a){var s,l,u,h,d="",p=0;s=u=h=e,l=null;var f="Size1-Regular";e==="\\uparrow"?u=h="\u23D0":e==="\\Uparrow"?u=h="\u2016":e==="\\downarrow"?s=u="\u23D0":e==="\\Downarrow"?s=u="\u2016":e==="\\updownarrow"?(s="\\uparrow",u="\u23D0",h="\\downarrow"):e==="\\Updownarrow"?(s="\\Uparrow",u="\u2016",h="\\Downarrow"):Qr.contains(nV,e)?(u="\u2223",d="vert",p=333):Qr.contains(iV,e)?(u="\u2225",d="doublevert",p=556):e==="["||e==="\\lbrack"?(s="\u23A1",u="\u23A2",h="\u23A3",f="Size4-Regular",d="lbrack",p=667):e==="]"||e==="\\rbrack"?(s="\u23A4",u="\u23A5",h="\u23A6",f="Size4-Regular",d="rbrack",p=667):e==="\\lfloor"||e==="\u230A"?(u=s="\u23A2",h="\u23A3",f="Size4-Regular",d="lfloor",p=667):e==="\\lceil"||e==="\u2308"?(s="\u23A1",u=h="\u23A2",f="Size4-Regular",d="lceil",p=667):e==="\\rfloor"||e==="\u230B"?(u=s="\u23A5",h="\u23A6",f="Size4-Regular",d="rfloor",p=667):e==="\\rceil"||e==="\u2309"?(s="\u23A4",u=h="\u23A5",f="Size4-Regular",d="rceil",p=667):e==="("||e==="\\lparen"?(s="\u239B",u="\u239C",h="\u239D",f="Size4-Regular",d="lparen",p=875):e===")"||e==="\\rparen"?(s="\u239E",u="\u239F",h="\u23A0",f="Size4-Regular",d="rparen",p=875):e==="\\{"||e==="\\lbrace"?(s="\u23A7",l="\u23A8",h="\u23A9",u="\u23AA",f="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(s="\u23AB",l="\u23AC",h="\u23AD",u="\u23AA",f="Size4-Regular"):e==="\\lgroup"||e==="\u27EE"?(s="\u23A7",h="\u23A9",u="\u23AA",f="Size4-Regular"):e==="\\rgroup"||e==="\u27EF"?(s="\u23AB",h="\u23AD",u="\u23AA",f="Size4-Regular"):e==="\\lmoustache"||e==="\u23B0"?(s="\u23A7",h="\u23AD",u="\u23AA",f="Size4-Regular"):(e==="\\rmoustache"||e==="\u23B1")&&(s="\u23AB",h="\u23A9",u="\u23AA",f="Size4-Regular");var g=Af(s,f,i),m=g.height+g.depth,y=Af(u,f,i),b=y.height+y.depth,v=Af(h,f,i),x=v.height+v.depth,w=0,E=1;if(l!==null){var A=Af(l,f,i);w=A.height+A.depth,E=2}var N=m+x+w,L=Math.max(0,Math.ceil((t-N)/(E*b))),C=N+L*E*b,D=n.fontMetrics().axisHeight;r&&(D*=n.sizeMultiplier);var P=C/2-D,O=[];if(d.length>0){var I=C-m-x,q=Math.round(C*1e3),S=gU(d,Math.round(I*1e3)),B=new Fh(d,S),F=(p/1e3).toFixed(3)+"em",z=(q/1e3).toFixed(3)+"em",M=new Fu([B],{width:F,height:z,viewBox:"0 0 "+p+" "+q}),G=pt.makeSvgSpan([],[M],n);G.height=q/1e3,G.style.width=F,G.style.height=z,O.push({type:"elem",elem:G})}else{if(O.push(Vx(h,f,i)),O.push(d4),l===null){var Y=C-m-x+2*Xx;O.push(Wx(u,Y,n))}else{var V=(C-m-x-w)/2+2*Xx;O.push(Wx(u,V,n)),O.push(d4),O.push(Vx(l,f,i)),O.push(d4),O.push(Wx(u,V,n))}O.push(d4),O.push(Vx(s,f,i))}var X=n.havingBaseStyle(en.TEXT),re=pt.makeVList({positionType:"bottom",positionData:P,children:O},X);return Ux(pt.makeSpan(["delimsizing","mult"],[re],X),en.TEXT,n,a)},"makeStackedDelim"),Kx=80,Zx=.08,Qx=o(function(e,t,r,n,i){var a=dU(e,n,r),s=new Fh(e,a),l=new Fu([s],{width:"400em",height:or(t),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return pt.makeSvgSpan(["hide-tail"],[l],i)},"sqrtSvg"),aV=o(function(e,t){var r=t.havingBaseSizing(),n=C_("\\surd",e*r.sizeMultiplier,E_,r),i=r.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),s,l=0,u=0,h=0,d;return n.type==="small"?(h=1e3+1e3*a+Kx,e<1?i=1:e<1.4&&(i=.7),l=(1+a+Zx)/i,u=(1+a)/i,s=Qx("sqrtMain",l,h,a,t),s.style.minWidth="0.853em",d=.833/i):n.type==="large"?(h=(1e3+Kx)*Lf[n.size],u=(Lf[n.size]+a)/i,l=(Lf[n.size]+a+Zx)/i,s=Qx("sqrtSize"+n.size,l,h,a,t),s.style.minWidth="1.02em",d=1/i):(l=e+a+Zx,u=e+a,h=Math.floor(1e3*e+a)+Kx,s=Qx("sqrtTall",l,h,a,t),s.style.minWidth="0.742em",d=1.056),s.height=u,s.style.height=or(l),{span:s,advanceWidth:d,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*i}},"makeSqrtImage"),k_=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],sV=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],T_=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Lf=[0,1.2,1.8,2.4,3],oV=o(function(e,t,r,n,i){if(e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle"),Qr.contains(k_,e)||Qr.contains(T_,e))return x_(e,t,!1,r,n,i);if(Qr.contains(sV,e))return w_(e,Lf[t],!1,r,n,i);throw new Jt("Illegal delimiter: '"+e+"'")},"makeSizedDelim"),lV=[{type:"small",style:en.SCRIPTSCRIPT},{type:"small",style:en.SCRIPT},{type:"small",style:en.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],cV=[{type:"small",style:en.SCRIPTSCRIPT},{type:"small",style:en.SCRIPT},{type:"small",style:en.TEXT},{type:"stack"}],E_=[{type:"small",style:en.SCRIPTSCRIPT},{type:"small",style:en.SCRIPT},{type:"small",style:en.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],uV=o(function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},"delimTypeToFont"),C_=o(function(e,t,r,n){for(var i=Math.min(2,3-n.style.size),a=i;a<r.length&&r[a].type!=="stack";a++){var s=Af(e,uV(r[a]),"math"),l=s.height+s.depth;if(r[a].type==="small"){var u=n.havingBaseStyle(r[a].style);l*=u.sizeMultiplier}if(l>t)return r[a]}return r[r.length-1]},"traverseSequence"),__=o(function(e,t,r,n,i,a){e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle");var s;Qr.contains(T_,e)?s=lV:Qr.contains(k_,e)?s=E_:s=cV;var l=C_(e,t,s,n);return l.type==="small"?tV(e,l.style,r,n,i,a):l.type==="large"?x_(e,l.size,r,n,i,a):w_(e,t,r,n,i,a)},"makeCustomSizedDelim"),hV=o(function(e,t,r,n,i,a){var s=n.fontMetrics().axisHeight*n.sizeMultiplier,l=901,u=5/n.fontMetrics().ptPerEm,h=Math.max(t-s,r+s),d=Math.max(h/500*l,2*h-u);return __(e,d,!0,n,i,a)},"makeLeftRightDelim"),Yu={sqrtImage:aV,sizedDelim:oV,sizeToMaxHeight:Lf,customSizedDelim:__,leftRightDelim:hV},S_={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},dV=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."],o(Xy,"checkDelimiter"),Wt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:o((e,t)=>{var r=Xy(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:S_[e.funcName].size,mclass:S_[e.funcName].mclass,delim:r.text}},"handler"),htmlBuilder:o((e,t)=>e.delim==="."?pt.makeSpan([e.mclass]):Yu.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),"htmlBuilder"),mathmlBuilder:o(e=>{var t=[];e.delim!=="."&&t.push(ql(e.delim,e.mode));var r=new Ut.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=or(Yu.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r},"mathmlBuilder")}),o(FC,"assertParsed"),Wt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:o((e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new Jt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Xy(t[0],e).text,color:r}},"handler")}),Wt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:o((e,t)=>{var r=Xy(t[0],e),n=e.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=bn(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:a.delim,rightColor:a.color}},"handler"),htmlBuilder:o((e,t)=>{FC(e);for(var r=Ua(e.body,t,!0,["mopen","mclose"]),n=0,i=0,a=!1,s=0;s<r.length;s++)r[s].isMiddle?a=!0:(n=Math.max(r[s].height,n),i=Math.max(r[s].depth,i));n*=t.sizeMultiplier,i*=t.sizeMultiplier;var l;if(e.left==="."?l=_f(t,["mopen"]):l=Yu.leftRightDelim(e.left,n,i,t,e.mode,["mopen"]),r.unshift(l),a)for(var u=1;u<r.length;u++){var h=r[u],d=h.isMiddle;d&&(r[u]=Yu.leftRightDelim(d.delim,n,i,d.options,e.mode,[]))}var p;if(e.right===".")p=_f(t,["mclose"]);else{var f=e.rightColor?t.withColor(e.rightColor):t;p=Yu.leftRightDelim(e.right,n,i,f,e.mode,["mclose"])}return r.push(p),pt.makeSpan(["minner"],r,t)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{FC(e);var r=$o(e.body,t);if(e.left!=="."){var n=new Ut.MathNode("mo",[ql(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(e.right!=="."){var i=new Ut.MathNode("mo",[ql(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),r.push(i)}return Gx(r)},"mathmlBuilder")}),Wt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:o((e,t)=>{var r=Xy(t[0],e);if(!e.parser.leftrightDepth)throw new Jt("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},"handler"),htmlBuilder:o((e,t)=>{var r;if(e.delim===".")r=_f(t,[]);else{r=Yu.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?ql("|","text"):ql(e.delim,e.mode),n=new Ut.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n},"mathmlBuilder")}),Jx=o((e,t)=>{var r=pt.wrapFragment(Wn(e.body,t),t),n=e.label.slice(1),i=t.sizeMultiplier,a,s=0,l=Qr.isCharacterBox(e.body);if(n==="sout")a=pt.makeSpan(["stretchy","sout"]),a.height=t.fontMetrics().defaultRuleThickness/i,s=-.5*t.fontMetrics().xHeight;else if(n==="phase"){var u=ra({number:.6,unit:"pt"},t),h=ra({number:.35,unit:"ex"},t),d=t.havingBaseSizing();i=i/d.sizeMultiplier;var p=r.height+r.depth+u+h;r.style.paddingLeft=or(p/2+u);var f=Math.floor(1e3*p*i),g=uU(f),m=new Fu([new Fh("phase",g)],{width:"400em",height:or(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});a=pt.makeSvgSpan(["hide-tail"],[m],t),a.style.height=or(p),s=r.depth+u+h}else{/cancel/.test(n)?l||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var y=0,b=0,v=0;/box/.test(n)?(v=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),y=t.fontMetrics().fboxsep+(n==="colorbox"?0:v),b=y):n==="angl"?(v=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),y=4*v,b=Math.max(0,.25-r.depth)):(y=l?.2:0,b=y),a=Gu.encloseSpan(r,n,y,b,t),/fbox|boxed|fcolorbox/.test(n)?(a.style.borderStyle="solid",a.style.borderWidth=or(v)):n==="angl"&&v!==.049&&(a.style.borderTopWidth=or(v),a.style.borderRightWidth=or(v)),s=r.depth+b,e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor,e.borderColor&&(a.style.borderColor=e.borderColor))}var x;if(e.backgroundColor)x=pt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:r,shift:0}]},t);else{var w=/cancel|phase/.test(n)?["svg-align"]:[];x=pt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:w}]},t)}return/cancel/.test(n)&&(x.height=r.height,x.depth=r.depth),/cancel/.test(n)&&!l?pt.makeSpan(["mord","cancel-lap"],[x],t):pt.makeSpan(["mord"],[x],t)},"htmlBuilder$7"),e6=o((e,t)=>{var r=0,n=new Ut.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Mi(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n},"mathmlBuilder$6"),Wt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,a=bn(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:Jx,mathmlBuilder:e6}),Wt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,a=bn(t[0],"color-token").color,s=bn(t[1],"color-token").color,l=t[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,borderColor:a,body:l}},htmlBuilder:Jx,mathmlBuilder:e6}),Wt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}}),Wt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:Jx,mathmlBuilder:e6}),Wt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}}),A_={},o(Vc,"defineEnvironment"),L_={},o(Te,"defineMacro"),o($C,"getHLines"),p4=o(e=>{var t=e.parser.settings;if(!t.displayMode)throw new Jt("{"+e.envName+"} can be used only in display mode.")},"validateAmsEnvironmentContext"),o(_x,"getAutoTag"),o(Oh,"parseArray"),o(Sx,"dCellStyle"),Zc=o(function(e,t){var r,n,i=e.body.length,a=e.hLinesBeforeRow,s=0,l=new Array(i),u=[],h=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),d=1/t.fontMetrics().ptPerEm,p=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var f=t.havingStyle(en.SCRIPT).sizeMultiplier;p=.2778*(f/t.sizeMultiplier)}var g=e.colSeparationType==="CD"?ra({number:3,unit:"ex"},t):12*d,m=3*d,y=e.arraystretch*g,b=.7*y,v=.3*y,x=0;function w(rt){for(var Qe=0;Qe<rt.length;++Qe)Qe>0&&(x+=.25),u.push({pos:x,isDashed:rt[Qe]})}for(o(w,"setHLinePos"),w(a[0]),r=0;r<e.body.length;++r){var E=e.body[r],A=b,N=v;s<E.length&&(s=E.length);var L=new Array(E.length);for(n=0;n<E.length;++n){var C=Wn(E[n],t);N<C.depth&&(N=C.depth),A<C.height&&(A=C.height),L[n]=C}var D=e.rowGaps[r],P=0;D&&(P=ra(D,t),P>0&&(P+=v,N<P&&(N=P),P=0)),e.addJot&&(N+=m),L.height=A,L.depth=N,x+=A,L.pos=x,x+=N+P,l[r]=L,w(a[r+1])}var O=x/2+t.fontMetrics().axisHeight,I=e.cols||[],q=[],S,B,F=[];if(e.tags&&e.tags.some(rt=>rt))for(r=0;r<i;++r){var z=l[r],M=z.pos-O,G=e.tags[r],Y=void 0;G===!0?Y=pt.makeSpan(["eqn-num"],[],t):G===!1?Y=pt.makeSpan([],[],t):Y=pt.makeSpan([],Ua(G,t,!0),t),Y.depth=z.depth,Y.height=z.height,F.push({type:"elem",elem:Y,shift:M})}for(n=0,B=0;n<s||B<I.length;++n,++B){for(var V=I[B]||{},X=!0;V.type==="separator";){if(X||(S=pt.makeSpan(["arraycolsep"],[]),S.style.width=or(t.fontMetrics().doubleRuleSep),q.push(S)),V.separator==="|"||V.separator===":"){var re=V.separator==="|"?"solid":"dashed",de=pt.makeSpan(["vertical-separator"],[],t);de.style.height=or(x),de.style.borderRightWidth=or(h),de.style.borderRightStyle=re,de.style.margin="0 "+or(-h/2);var xe=x-O;xe&&(de.style.verticalAlign=or(-xe)),q.push(de)}else throw new Jt("Invalid separator type: "+V.separator);B++,V=I[B]||{},X=!1}if(!(n>=s)){var he=void 0;(n>0||e.hskipBeforeAndAfter)&&(he=Qr.deflt(V.pregap,p),he!==0&&(S=pt.makeSpan(["arraycolsep"],[]),S.style.width=or(he),q.push(S)));var be=[];for(r=0;r<i;++r){var Q=l[r],ne=Q[n];if(ne){var ee=Q.pos-O;ne.depth=Q.depth,ne.height=Q.height,be.push({type:"elem",elem:ne,shift:ee})}}be=pt.makeVList({positionType:"individualShift",children:be},t),be=pt.makeSpan(["col-align-"+(V.align||"c")],[be]),q.push(be),(n<s-1||e.hskipBeforeAndAfter)&&(he=Qr.deflt(V.postgap,p),he!==0&&(S=pt.makeSpan(["arraycolsep"],[]),S.style.width=or(he),q.push(S)))}}if(l=pt.makeSpan(["mtable"],q),u.length>0){for(var pe=pt.makeLineSpan("hline",t,h),ie=pt.makeLineSpan("hdashline",t,h),De=[{type:"elem",elem:l,shift:0}];u.length>0;){var se=u.pop(),je=se.pos-O;se.isDashed?De.push({type:"elem",elem:ie,shift:je}):De.push({type:"elem",elem:pe,shift:je})}l=pt.makeVList({positionType:"individualShift",children:De},t)}if(F.length===0)return pt.makeSpan(["mord"],[l],t);var ge=pt.makeVList({positionType:"individualShift",children:F},t);return ge=pt.makeSpan(["tag"],[ge],t),pt.makeFragment([l,ge])},"htmlBuilder"),pV={c:"center ",l:"left ",r:"right "},Qc=o(function(e,t){for(var r=[],n=new Ut.MathNode("mtd",[],["mtr-glue"]),i=new Ut.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var s=e.body[a],l=[],u=0;u<s.length;u++)l.push(new Ut.MathNode("mtd",[Mi(s[u],t)]));e.tags&&e.tags[a]&&(l.unshift(n),l.push(n),e.leqno?l.unshift(i):l.push(i)),r.push(new Ut.MathNode("mtr",l))}var h=new Ut.MathNode("mtable",r),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);h.setAttribute("rowspacing",or(d));var p="",f="";if(e.cols&&e.cols.length>0){var g=e.cols,m="",y=!1,b=0,v=g.length;g[0].type==="separator"&&(p+="top ",b=1),g[g.length-1].type==="separator"&&(p+="bottom ",v-=1);for(var x=b;x<v;x++)g[x].type==="align"?(f+=pV[g[x].align],y&&(m+="none "),y=!0):g[x].type==="separator"&&y&&(m+=g[x].separator==="|"?"solid ":"dashed ",y=!1);h.setAttribute("columnalign",f.trim()),/[sd]/.test(m)&&h.setAttribute("columnlines",m.trim())}if(e.colSeparationType==="align"){for(var w=e.cols||[],E="",A=1;A<w.length;A++)E+=A%2?"0em ":"1em ";h.setAttribute("columnspacing",E.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?h.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?h.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?h.setAttribute("columnspacing","0.5em"):h.setAttribute("columnspacing","1em");var N="",L=e.hLinesBeforeRow;p+=L[0].length>0?"left ":"",p+=L[L.length-1].length>0?"right ":"";for(var C=1;C<L.length-1;C++)N+=L[C].length===0?"none ":L[C][0]?"dashed ":"solid ";return/[sd]/.test(N)&&h.setAttribute("rowlines",N.trim()),p!==""&&(h=new Ut.MathNode("menclose",[h]),h.setAttribute("notation",p.trim())),e.arraystretch&&e.arraystretch<1&&(h=new Ut.MathNode("mstyle",[h]),h.setAttribute("scriptlevel","1")),h},"mathmlBuilder"),N_=o(function(e,t){e.envName.indexOf("ed")===-1&&p4(e);var r=[],n=e.envName.indexOf("at")>-1?"alignat":"align",i=e.envName==="split",a=Oh(e.parser,{cols:r,addJot:!0,autoTag:i?void 0:_x(e.envName),emptySingleRow:!0,colSeparationType:n,maxNumCols:i?2:void 0,leqno:e.parser.settings.leqno},"display"),s,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var h="",d=0;d<t[0].body.length;d++){var p=bn(t[0].body[d],"textord");h+=p.text}s=Number(h),l=s*2}var f=!l;a.body.forEach(function(b){for(var v=1;v<b.length;v+=2){var x=bn(b[v],"styling"),w=bn(x.body[0],"ordgroup");w.body.unshift(u)}if(f)l<b.length&&(l=b.length);else{var E=b.length/2;if(s<E)throw new Jt("Too many math in a row: "+("expected "+s+", but got "+E),b[0])}});for(var g=0;g<l;++g){var m="r",y=0;g%2===1?m="l":g>0&&f&&(y=1),r[g]={type:"align",align:m,pregap:y,postgap:0}}return a.colSeparationType=f?"align":"alignat",a},"alignedHandler"),Vc({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=Pu(t[0]),n=r?[t[0]]:bn(t[0],"ordgroup").body,i=n.map(function(s){var l=kf(s),u=l.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new Jt("Unknown column alignment: "+u,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Oh(e.parser,a,Sx(e.envName))},htmlBuilder:Zc,mathmlBuilder:Qc}),Vc({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new Jt("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var a=Oh(e.parser,n,Sx(e.envName)),s=Math.max(0,...a.body.map(l=>l.length));return a.cols=new Array(s).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:Zc,mathmlBuilder:Qc}),Vc({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},r=Oh(e.parser,t,"script");return r.colSeparationType="small",r},htmlBuilder:Zc,mathmlBuilder:Qc}),Vc({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=Pu(t[0]),n=r?[t[0]]:bn(t[0],"ordgroup").body,i=n.map(function(s){var l=kf(s),u=l.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new Jt("Unknown column alignment: "+u,s)});if(i.length>1)throw new Jt("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Oh(e.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new Jt("{subarray} can contain only one column");return a},htmlBuilder:Zc,mathmlBuilder:Qc}),Vc({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Oh(e.parser,t,Sx(e.envName));return{type:"leftright",mode:e.mode,body:[r],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Zc,mathmlBuilder:Qc}),Vc({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:N_,htmlBuilder:Zc,mathmlBuilder:Qc}),Vc({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){Qr.contains(["gather","gather*"],e.envName)&&p4(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:_x(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Oh(e.parser,t,"display")},htmlBuilder:Zc,mathmlBuilder:Qc}),Vc({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:N_,htmlBuilder:Zc,mathmlBuilder:Qc}),Vc({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){p4(e);var t={autoTag:_x(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Oh(e.parser,t,"display")},htmlBuilder:Zc,mathmlBuilder:Qc}),Vc({type:"array",names:["CD"],props:{numArgs:0},handler(e){return p4(e),YH(e.parser)},htmlBuilder:Zc,mathmlBuilder:Qc}),Te("\\nonumber","\\gdef\\@eqnsw{0}"),Te("\\notag","\\nonumber"),Wt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new Jt(e.funcName+" valid only within array environment")}}),M_=A_,Wt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];if(i.type!=="ordgroup")throw new Jt("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=bn(i.body[s],"textord").text;if(n==="\\begin"){if(!M_.hasOwnProperty(a))throw new Jt("No such environment: "+a,i);var l=M_[a],{args:u,optArgs:h}=r.parseArguments("\\begin{"+a+"}",l),d={mode:r.mode,envName:a,parser:r},p=l.handler(d,u,h);r.expect("\\end",!1);var f=r.nextToken,g=bn(r.parseFunction(),"environment");if(g.name!==a)throw new Jt("Mismatch: \\begin{"+a+"} matched by \\end{"+g.name+"}",f);return p}return{type:"environment",mode:r.mode,name:a,nameGroup:i}}}),I_=o((e,t)=>{var r=e.font,n=t.withFont(r);return Wn(e.body,n)},"htmlBuilder$5"),D_=o((e,t)=>{var r=e.font,n=t.withFont(r);return Mi(e.body,n)},"mathmlBuilder$4"),R_={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"},Wt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=c4(t[0]),a=n;return a in R_&&(a=R_[a]),{type:"font",mode:r.mode,font:a.slice(1),body:i}},"handler"),htmlBuilder:I_,mathmlBuilder:D_}),Wt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:o((e,t)=>{var{parser:r}=e,n=t[0],i=Qr.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:h4(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}},"handler")}),Wt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:o((e,t)=>{var{parser:r,funcName:n,breakOnTokenText:i}=e,{mode:a}=r,s=r.parseExpression(!0,i),l="math"+n.slice(1);return{type:"font",mode:a,font:l,body:{type:"ordgroup",mode:r.mode,body:s}}},"handler"),htmlBuilder:I_,mathmlBuilder:D_}),O_=o((e,t)=>{var r=t;return e==="display"?r=r.id>=en.SCRIPT.id?r.text():en.DISPLAY:e==="text"&&r.size===en.DISPLAY.size?r=en.TEXT:e==="script"?r=en.SCRIPT:e==="scriptscript"&&(r=en.SCRIPTSCRIPT),r},"adjustStyle"),t6=o((e,t)=>{var r=O_(e.size,t.style),n=r.fracNum(),i=r.fracDen(),a;a=t.havingStyle(n);var s=Wn(e.numer,a,t);if(e.continued){var l=8.5/t.fontMetrics().ptPerEm,u=3.5/t.fontMetrics().ptPerEm;s.height=s.height<l?l:s.height,s.depth=s.depth<u?u:s.depth}a=t.havingStyle(i);var h=Wn(e.denom,a,t),d,p,f;e.hasBarLine?(e.barSize?(p=ra(e.barSize,t),d=pt.makeLineSpan("frac-line",t,p)):d=pt.makeLineSpan("frac-line",t),p=d.height,f=d.height):(d=null,p=0,f=t.fontMetrics().defaultRuleThickness);var g,m,y;r.size===en.DISPLAY.size||e.size==="display"?(g=t.fontMetrics().num1,p>0?m=3*f:m=7*f,y=t.fontMetrics().denom1):(p>0?(g=t.fontMetrics().num2,m=f):(g=t.fontMetrics().num3,m=3*f),y=t.fontMetrics().denom2);var b;if(d){var v=t.fontMetrics().axisHeight;g-s.depth-(v+.5*p)<m&&(g+=m-(g-s.depth-(v+.5*p))),v-.5*p-(h.height-y)<m&&(y+=m-(v-.5*p-(h.height-y)));var x=-(v-.5*p);b=pt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:d,shift:x},{type:"elem",elem:s,shift:-g}]},t)}else{var w=g-s.depth-(h.height-y);w<m&&(g+=.5*(m-w),y+=.5*(m-w)),b=pt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:s,shift:-g}]},t)}a=t.havingStyle(r),b.height*=a.sizeMultiplier/t.sizeMultiplier,b.depth*=a.sizeMultiplier/t.sizeMultiplier;var E;r.size===en.DISPLAY.size?E=t.fontMetrics().delim1:r.size===en.SCRIPTSCRIPT.size?E=t.havingStyle(en.SCRIPT).fontMetrics().delim2:E=t.fontMetrics().delim2;var A,N;return e.leftDelim==null?A=_f(t,["mopen"]):A=Yu.customSizedDelim(e.leftDelim,E,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?N=pt.makeSpan([]):e.rightDelim==null?N=_f(t,["mclose"]):N=Yu.customSizedDelim(e.rightDelim,E,!0,t.havingStyle(r),e.mode,["mclose"]),pt.makeSpan(["mord"].concat(a.sizingClasses(t)),[A,pt.makeSpan(["mfrac"],[b]),N],t)},"htmlBuilder$4"),r6=o((e,t)=>{var r=new Ut.MathNode("mfrac",[Mi(e.numer,t),Mi(e.denom,t)]);if(!e.hasBarLine)r.setAttribute("linethickness","0px");else if(e.barSize){var n=ra(e.barSize,t);r.setAttribute("linethickness",or(n))}var i=O_(e.size,t.style);if(i.size!==t.style.size){r=new Ut.MathNode("mstyle",[r]);var a=i.size===en.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var s=[];if(e.leftDelim!=null){var l=new Ut.MathNode("mo",[new Ut.TextNode(e.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}if(s.push(r),e.rightDelim!=null){var u=new Ut.MathNode("mo",[new Ut.TextNode(e.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),s.push(u)}return Gx(s)}return r},"mathmlBuilder$3"),Wt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],a=t[1],s,l=null,u=null,h="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,l="(",u=")";break;case"\\\\bracefrac":s=!1,l="\\{",u="\\}";break;case"\\\\brackfrac":s=!1,l="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:l,rightDelim:u,size:h,barSize:null}},"handler"),htmlBuilder:t6,mathmlBuilder:r6}),Wt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],a=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}},"handler")}),Wt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:r,token:n}=e,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:n}}}),P_=["display","text","script","scriptscript"],B_=o(function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t},"delimFromValue"),Wt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:r}=e,n=t[4],i=t[5],a=c4(t[0]),s=a.type==="atom"&&a.family==="open"?B_(a.text):null,l=c4(t[1]),u=l.type==="atom"&&l.family==="close"?B_(l.text):null,h=bn(t[2],"size"),d,p=null;h.isBlank?d=!0:(p=h.value,d=p.number>0);var f="auto",g=t[3];if(g.type==="ordgroup"){if(g.body.length>0){var m=bn(g.body[0],"textord");f=P_[Number(m.text)]}}else g=bn(g,"textord"),f=P_[Number(g.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:d,barSize:p,leftDelim:s,rightDelim:u,size:f}},htmlBuilder:t6,mathmlBuilder:r6}),Wt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:i}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:bn(t[0],"size").value,token:i}}}),Wt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=t[0],a=ZH(bn(t[1],"infix").size),s=t[2],l=a.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:s,continued:!1,hasBarLine:l,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},"handler"),htmlBuilder:t6,mathmlBuilder:r6}),F_=o((e,t)=>{var r=t.style,n,i;e.type==="supsub"?(n=e.sup?Wn(e.sup,t.havingStyle(r.sup()),t):Wn(e.sub,t.havingStyle(r.sub()),t),i=bn(e.base,"horizBrace")):i=bn(e,"horizBrace");var a=Wn(i.base,t.havingBaseStyle(en.DISPLAY)),s=Gu.svgSpan(i,t),l;if(i.isOver?(l=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),l.children[0].children[0].children[1].classes.push("svg-align")):(l=pt.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),l.children[0].children[0].children[0].classes.push("svg-align")),n){var u=pt.makeSpan(["mord",i.isOver?"mover":"munder"],[l],t);i.isOver?l=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:n}]},t):l=pt.makeVList({positionType:"bottom",positionData:u.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:u}]},t)}return pt.makeSpan(["mord",i.isOver?"mover":"munder"],[l],t)},"htmlBuilder$3"),gV=o((e,t)=>{var r=Gu.mathMLnode(e.label);return new Ut.MathNode(e.isOver?"mover":"munder",[Mi(e.base,t),r])},"mathmlBuilder$2"),Wt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:F_,mathmlBuilder:gV}),Wt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:o((e,t)=>{var{parser:r}=e,n=t[1],i=bn(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:Ca(n)}:r.formatUnsupportedCmd("\\href")},"handler"),htmlBuilder:o((e,t)=>{var r=Ua(e.body,t,!1);return pt.makeAnchor(e.href,[],r,t)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=zh(e.body,t);return r instanceof zl||(r=new zl("mrow",[r])),r.setAttribute("href",e.href),r},"mathmlBuilder")}),Wt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:o((e,t)=>{var{parser:r}=e,n=bn(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var l={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:Ca(l)}},"handler")}),Wt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:Ca(t[0])}},htmlBuilder(e,t){var r=Ua(e.body,t,!1);return pt.makeFragment(r)},mathmlBuilder(e,t){return new Ut.MathNode("mrow",$o(e.body,t))}}),Wt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:o((e,t)=>{var{parser:r,funcName:n,token:i}=e,a=bn(t[0],"raw").string,s=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,u={};switch(n){case"\\htmlClass":u.class=a,l={command:"\\htmlClass",class:a};break;case"\\htmlId":u.id=a,l={command:"\\htmlId",id:a};break;case"\\htmlStyle":u.style=a,l={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var h=a.split(","),d=0;d<h.length;d++){var p=h[d].split("=");if(p.length!==2)throw new Jt("Error parsing key-value for \\htmlData");u["data-"+p[0].trim()]=p[1].trim()}l={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(l)?{type:"html",mode:r.mode,attributes:u,body:Ca(s)}:r.formatUnsupportedCmd(n)},"handler"),htmlBuilder:o((e,t)=>{var r=Ua(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var i=pt.makeSpan(n,r,t);for(var a in e.attributes)a!=="class"&&e.attributes.hasOwnProperty(a)&&i.setAttribute(a,e.attributes[a]);return i},"htmlBuilder"),mathmlBuilder:o((e,t)=>zh(e.body,t),"mathmlBuilder")}),Wt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:o((e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:Ca(t[0]),mathml:Ca(t[1])}},"handler"),htmlBuilder:o((e,t)=>{var r=Ua(e.html,t,!1);return pt.makeFragment(r)},"htmlBuilder"),mathmlBuilder:o((e,t)=>zh(e.mathml,t),"mathmlBuilder")}),n6=o(function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new Jt("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!VC(r))throw new Jt("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r},"sizeData"),Wt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:o((e,t,r)=>{var{parser:n}=e,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},l="";if(r[0])for(var u=bn(r[0],"raw").string,h=u.split(","),d=0;d<h.length;d++){var p=h[d].split("=");if(p.length===2){var f=p[1].trim();switch(p[0].trim()){case"alt":l=f;break;case"width":i=n6(f);break;case"height":a=n6(f);break;case"totalheight":s=n6(f);break;default:throw new Jt("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var g=bn(t[0],"url").url;return l===""&&(l=g,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:g})?{type:"includegraphics",mode:n.mode,alt:l,width:i,height:a,totalheight:s,src:g}:n.formatUnsupportedCmd("\\includegraphics")},"handler"),htmlBuilder:o((e,t)=>{var r=ra(e.height,t),n=0;e.totalheight.number>0&&(n=ra(e.totalheight,t)-r);var i=0;e.width.number>0&&(i=ra(e.width,t));var a={height:or(r+n)};i>0&&(a.width=or(i)),n>0&&(a.verticalAlign=or(-n));var s=new yU(e.src,e.alt,a);return s.height=r,s.depth=n,s},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=new Ut.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=ra(e.height,t),i=0;if(e.totalheight.number>0&&(i=ra(e.totalheight,t)-n,r.setAttribute("valign",or(-i))),r.setAttribute("height",or(n+i)),e.width.number>0){var a=ra(e.width,t);r.setAttribute("width",or(a))}return r.setAttribute("src",e.src),r},"mathmlBuilder")}),Wt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=bn(t[0],"size");if(r.settings.strict){var a=n[1]==="m",s=i.value.unit==="mu";a?(s||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):s&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(e,t){return pt.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var r=ra(e.dimension,t);return new Ut.SpaceNode(r)}}),Wt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},"handler"),htmlBuilder:o((e,t)=>{var r;e.alignment==="clap"?(r=pt.makeSpan([],[Wn(e.body,t)]),r=pt.makeSpan(["inner"],[r],t)):r=pt.makeSpan(["inner"],[Wn(e.body,t)]);var n=pt.makeSpan(["fix"],[]),i=pt.makeSpan([e.alignment],[r,n],t),a=pt.makeSpan(["strut"]);return a.style.height=or(i.height+i.depth),i.depth&&(a.style.verticalAlign=or(-i.depth)),i.children.unshift(a),i=pt.makeSpan(["thinbox"],[i],t),pt.makeSpan(["mord","vbox"],[i],t)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=new Ut.MathNode("mpadded",[Mi(e.body,t)]);if(e.alignment!=="rlap"){var n=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r},"mathmlBuilder")}),Wt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,i=n.mode;n.switchMode("math");var a=r==="\\("?"\\)":"$",s=n.parseExpression(!1,a);return n.expect(a),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:s}}}),Wt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new Jt("Mismatched "+e.funcName)}}),$_=o((e,t)=>{switch(t.style.size){case en.DISPLAY.size:return e.display;case en.TEXT.size:return e.text;case en.SCRIPT.size:return e.script;case en.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}},"chooseMathStyle"),Wt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:o((e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:Ca(t[0]),text:Ca(t[1]),script:Ca(t[2]),scriptscript:Ca(t[3])}},"handler"),htmlBuilder:o((e,t)=>{var r=$_(e,t),n=Ua(r,t,!1);return pt.makeFragment(n)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=$_(e,t);return zh(r,t)},"mathmlBuilder")}),z_=o((e,t,r,n,i,a,s)=>{e=pt.makeSpan([],[e]);var l=r&&Qr.isCharacterBox(r),u,h;if(t){var d=Wn(t,n.havingStyle(i.sup()),n);h={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-d.depth)}}if(r){var p=Wn(r,n.havingStyle(i.sub()),n);u={elem:p,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-p.height)}}var f;if(h&&u){var g=n.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+e.depth+s;f=pt.makeVList({positionType:"bottom",positionData:g,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:or(-a)},{type:"kern",size:u.kern},{type:"elem",elem:e},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:or(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(u){var m=e.height-s;f=pt.makeVList({positionType:"top",positionData:m,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:or(-a)},{type:"kern",size:u.kern},{type:"elem",elem:e}]},n)}else if(h){var y=e.depth+s;f=pt.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:e},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:or(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return e;var b=[f];if(u&&a!==0&&!l){var v=pt.makeSpan(["mspace"],[],n);v.style.marginRight=or(a),b.unshift(v)}return pt.makeSpan(["mop","op-limits"],b,n)},"assembleSupSub"),q_=["\\smallint"],Q1=o((e,t)=>{var r,n,i=!1,a;e.type==="supsub"?(r=e.sup,n=e.sub,a=bn(e.base,"op"),i=!0):a=bn(e,"op");var s=t.style,l=!1;s.size===en.DISPLAY.size&&a.symbol&&!Qr.contains(q_,a.name)&&(l=!0);var u;if(a.symbol){var h=l?"Size2-Regular":"Size1-Regular",d="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(d=a.name.slice(1),a.name=d==="oiint"?"\\iint":"\\iiint"),u=pt.makeSymbol(a.name,h,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),d.length>0){var p=u.italic,f=pt.staticSvg(d+"Size"+(l?"2":"1"),t);u=pt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:f,shift:l?.08:0}]},t),a.name="\\"+d,u.classes.unshift("mop"),u.italic=p}}else if(a.body){var g=Ua(a.body,t,!0);g.length===1&&g[0]instanceof $l?(u=g[0],u.classes[0]="mop"):u=pt.makeSpan(["mop"],g,t)}else{for(var m=[],y=1;y<a.name.length;y++)m.push(pt.mathsym(a.name[y],a.mode,t));u=pt.makeSpan(["mop"],m,t)}var b=0,v=0;return(u instanceof $l||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(b=(u.height-u.depth)/2-t.fontMetrics().axisHeight,v=u.italic),i?z_(u,r,n,t,s,v,b):(b&&(u.style.position="relative",u.style.top=or(b)),u)},"htmlBuilder$2"),Nf=o((e,t)=>{var r;if(e.symbol)r=new zl("mo",[ql(e.name,e.mode)]),Qr.contains(q_,e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new zl("mo",$o(e.body,t));else{r=new zl("mi",[new Sf(e.name.slice(1))]);var n=new zl("mo",[ql("\u2061","text")]);e.parentIsSupSub?r=new zl("mrow",[r,n]):r=ko([r,n])}return r},"mathmlBuilder$1"),fV={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"},Wt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=n;return i.length===1&&(i=fV[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},"handler"),htmlBuilder:Q1,mathmlBuilder:Nf}),Wt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:o((e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ca(n)}},"handler"),htmlBuilder:Q1,mathmlBuilder:Nf}),mV={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"},Wt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Q1,mathmlBuilder:Nf}),Wt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Q1,mathmlBuilder:Nf}),Wt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,n=r;return n.length===1&&(n=mV[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Q1,mathmlBuilder:Nf}),G_=o((e,t)=>{var r,n,i=!1,a;e.type==="supsub"?(r=e.sup,n=e.sub,a=bn(e.base,"operatorname"),i=!0):a=bn(e,"operatorname");var s;if(a.body.length>0){for(var l=a.body.map(p=>{var f=p.text;return typeof f=="string"?{type:"textord",mode:p.mode,text:f}:p}),u=Ua(l,t.withFont("mathrm"),!0),h=0;h<u.length;h++){var d=u[h];d instanceof $l&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=pt.makeSpan(["mop"],u,t)}else s=pt.makeSpan(["mop"],[],t);return i?z_(s,r,n,t,t.style,0,0):s},"htmlBuilder$1"),yV=o((e,t)=>{for(var r=$o(e.body,t.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var a=r[i];if(!(a instanceof Ut.SpaceNode))if(a instanceof Ut.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof Ut.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var l=r.map(d=>d.toText()).join("");r=[new Ut.TextNode(l)]}var u=new Ut.MathNode("mi",r);u.setAttribute("mathvariant","normal");var h=new Ut.MathNode("mo",[ql("\u2061","text")]);return e.parentIsSupSub?new Ut.MathNode("mrow",[u,h]):Ut.newDocumentFragment([u,h])},"mathmlBuilder"),Wt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:o((e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"operatorname",mode:r.mode,body:Ca(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},"handler"),htmlBuilder:G_,mathmlBuilder:yV}),Te("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Rn({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?pt.makeFragment(Ua(e.body,t,!1)):pt.makeSpan(["mord"],Ua(e.body,t,!0),t)},mathmlBuilder(e,t){return zh(e.body,t,!0)}}),Wt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=Wn(e.body,t.havingCrampedStyle()),n=pt.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,a=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},t);return pt.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(e,t){var r=new Ut.MathNode("mo",[new Ut.TextNode("\u203E")]);r.setAttribute("stretchy","true");var n=new Ut.MathNode("mover",[Mi(e.body,t),r]);return n.setAttribute("accent","true"),n}}),Wt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:o((e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:Ca(n)}},"handler"),htmlBuilder:o((e,t)=>{var r=Ua(e.body,t.withPhantom(),!1);return pt.makeFragment(r)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=$o(e.body,t);return new Ut.MathNode("mphantom",r)},"mathmlBuilder")}),Wt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:o((e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},"handler"),htmlBuilder:o((e,t)=>{var r=pt.makeSpan([],[Wn(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),pt.makeSpan(["mord"],[r],t)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=$o(Ca(e.body),t),n=new Ut.MathNode("mphantom",r),i=new Ut.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i},"mathmlBuilder")}),Wt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:o((e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},"handler"),htmlBuilder:o((e,t)=>{var r=pt.makeSpan(["inner"],[Wn(e.body,t.withPhantom())]),n=pt.makeSpan(["fix"],[]);return pt.makeSpan(["mord","rlap"],[r,n],t)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=$o(Ca(e.body),t),n=new Ut.MathNode("mphantom",r),i=new Ut.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i},"mathmlBuilder")}),Wt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=bn(t[0],"size").value,i=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(e,t){var r=Wn(e.body,t),n=ra(e.dy,t);return pt.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new Ut.MathNode("mpadded",[Mi(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}}),Wt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),Wt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,i=r[0],a=bn(t[0],"size"),s=bn(t[1],"size");return{type:"rule",mode:n.mode,shift:i&&bn(i,"size").value,width:a.value,height:s.value}},htmlBuilder(e,t){var r=pt.makeSpan(["mord","rule"],[],t),n=ra(e.width,t),i=ra(e.height,t),a=e.shift?ra(e.shift,t):0;return r.style.borderRightWidth=or(n),r.style.borderTopWidth=or(i),r.style.bottom=or(a),r.width=n,r.height=i+a,r.depth=-a,r.maxFontSize=i*1.125*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=ra(e.width,t),n=ra(e.height,t),i=e.shift?ra(e.shift,t):0,a=t.color&&t.getColor()||"black",s=new Ut.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",or(r)),s.setAttribute("height",or(n));var l=new Ut.MathNode("mpadded",[s]);return i>=0?l.setAttribute("height",or(i)):(l.setAttribute("height",or(i)),l.setAttribute("depth",or(-i))),l.setAttribute("voffset",or(i)),l}}),o(zC,"sizingGroup"),Y_=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],vV=o((e,t)=>{var r=t.havingSize(e.size);return zC(e.body,r,t)},"htmlBuilder"),Wt({type:"sizing",names:Y_,props:{numArgs:0,allowedInText:!0},handler:o((e,t)=>{var{breakOnTokenText:r,funcName:n,parser:i}=e,a=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:Y_.indexOf(n)+1,body:a}},"handler"),htmlBuilder:vV,mathmlBuilder:o((e,t)=>{var r=t.havingSize(e.size),n=$o(e.body,r),i=new Ut.MathNode("mstyle",n);return i.setAttribute("mathsize",or(r.sizeMultiplier)),i},"mathmlBuilder")}),Wt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:o((e,t,r)=>{var{parser:n}=e,i=!1,a=!1,s=r[0]&&bn(r[0],"ordgroup");if(s)for(var l="",u=0;u<s.body.length;++u){var h=s.body[u];if(l=h.text,l==="t")i=!0;else if(l==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var d=t[0];return{type:"smash",mode:n.mode,body:d,smashHeight:i,smashDepth:a}},"handler"),htmlBuilder:o((e,t)=>{var r=pt.makeSpan([],[Wn(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var a=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return pt.makeSpan(["mord"],[a],t)},"htmlBuilder"),mathmlBuilder:o((e,t)=>{var r=new Ut.MathNode("mpadded",[Mi(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r},"mathmlBuilder")}),Wt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,i=r[0],a=t[0];return{type:"sqrt",mode:n.mode,body:a,index:i}},htmlBuilder(e,t){var r=Wn(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=pt.wrapFragment(r,t);var n=t.fontMetrics(),i=n.defaultRuleThickness,a=i;t.style.id<en.TEXT.id&&(a=t.fontMetrics().xHeight);var s=i+a/4,l=r.height+r.depth+s+i,{span:u,ruleWidth:h,advanceWidth:d}=Yu.sqrtImage(l,t),p=u.height-h;p>r.height+r.depth+s&&(s=(s+p-r.height-r.depth)/2);var f=u.height-r.height-s-h;r.style.paddingLeft=or(d);var g=pt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+f)},{type:"elem",elem:u},{type:"kern",size:h}]},t);if(e.index){var m=t.havingStyle(en.SCRIPTSCRIPT),y=Wn(e.index,m,t),b=.6*(g.height-g.depth),v=pt.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:y}]},t),x=pt.makeSpan(["root"],[v]);return pt.makeSpan(["mord","sqrt"],[x,g],t)}else return pt.makeSpan(["mord","sqrt"],[g],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new Ut.MathNode("mroot",[Mi(r,t),Mi(n,t)]):new Ut.MathNode("msqrt",[Mi(r,t)])}}),j_={display:en.DISPLAY,text:en.TEXT,script:en.SCRIPT,scriptscript:en.SCRIPTSCRIPT},Wt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:i}=e,a=i.parseExpression(!0,r),s=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(e,t){var r=j_[e.style],n=t.havingStyle(r).withFont("");return zC(e.body,n,t)},mathmlBuilder(e,t){var r=j_[e.style],n=t.havingStyle(r),i=$o(e.body,n),a=new Ut.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=s[e.style];return a.setAttribute("scriptlevel",l[0]),a.setAttribute("displaystyle",l[1]),a}}),bV=o(function(e,t){var r=e.base;if(r)if(r.type==="op"){var n=r.limits&&(t.style.size===en.DISPLAY.size||r.alwaysHandleSupSub);return n?Q1:null}else if(r.type==="operatorname"){var i=r.alwaysHandleSupSub&&(t.style.size===en.DISPLAY.size||r.limits);return i?G_:null}else{if(r.type==="accent")return Qr.isCharacterBox(r.base)?jx:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?F_:null}else return null}else return null},"htmlBuilderDelegate"),Rn({type:"supsub",htmlBuilder(e,t){var r=bV(e,t);if(r)return r(e,t);var{base:n,sup:i,sub:a}=e,s=Wn(n,t),l,u,h=t.fontMetrics(),d=0,p=0,f=n&&Qr.isCharacterBox(n);if(i){var g=t.havingStyle(t.style.sup());l=Wn(i,g,t),f||(d=s.height-g.fontMetrics().supDrop*g.sizeMultiplier/t.sizeMultiplier)}if(a){var m=t.havingStyle(t.style.sub());u=Wn(a,m,t),f||(p=s.depth+m.fontMetrics().subDrop*m.sizeMultiplier/t.sizeMultiplier)}var y;t.style===en.DISPLAY?y=h.sup1:t.style.cramped?y=h.sup3:y=h.sup2;var b=t.sizeMultiplier,v=or(.5/h.ptPerEm/b),x=null;if(u){var w=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(s instanceof $l||w)&&(x=or(-s.italic))}var E;if(l&&u){d=Math.max(d,y,l.depth+.25*h.xHeight),p=Math.max(p,h.sub2);var A=h.defaultRuleThickness,N=4*A;if(d-l.depth-(u.height-p)<N){p=N-(d-l.depth)+u.height;var L=.8*h.xHeight-(d-l.depth);L>0&&(d+=L,p-=L)}var C=[{type:"elem",elem:u,shift:p,marginRight:v,marginLeft:x},{type:"elem",elem:l,shift:-d,marginRight:v}];E=pt.makeVList({positionType:"individualShift",children:C},t)}else if(u){p=Math.max(p,h.sub1,u.height-.8*h.xHeight);var D=[{type:"elem",elem:u,marginLeft:x,marginRight:v}];E=pt.makeVList({positionType:"shift",positionData:p,children:D},t)}else if(l)d=Math.max(d,y,l.depth+.25*h.xHeight),E=pt.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:l,marginRight:v}]},t);else throw new Error("supsub must have either sup or sub.");var P=qx(s,"right")||"mord";return pt.makeSpan([P],[s,pt.makeSpan(["msupsub"],[E])],t)},mathmlBuilder(e,t){var r=!1,n,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(r=!0,n=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var a=[Mi(e.base,t)];e.sub&&a.push(Mi(e.sub,t)),e.sup&&a.push(Mi(e.sup,t));var s;if(r)s=n?"mover":"munder";else if(e.sub)if(e.sup){var l=e.base;l&&l.type==="op"&&l.limits&&t.style===en.DISPLAY||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(t.style===en.DISPLAY||l.limits)?s="munderover":s="msubsup"}else{var u=e.base;u&&u.type==="op"&&u.limits&&(t.style===en.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||t.style===en.DISPLAY)?s="munder":s="msub"}else{var h=e.base;h&&h.type==="op"&&h.limits&&(t.style===en.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||t.style===en.DISPLAY)?s="mover":s="msup"}return new Ut.MathNode(s,a)}}),Rn({type:"atom",htmlBuilder(e,t){return pt.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var r=new Ut.MathNode("mo",[ql(e.text,e.mode)]);if(e.family==="bin"){var n=Yx(e,t);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else e.family==="punct"?r.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&r.setAttribute("stretchy","false");return r}}),H_={mi:"italic",mn:"normal",mtext:"normal"},Rn({type:"mathord",htmlBuilder(e,t){return pt.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var r=new Ut.MathNode("mi",[ql(e.text,e.mode,t)]),n=Yx(e,t)||"italic";return n!==H_[r.type]&&r.setAttribute("mathvariant",n),r}}),Rn({type:"textord",htmlBuilder(e,t){return pt.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var r=ql(e.text,e.mode,t),n=Yx(e,t)||"normal",i;return e.mode==="text"?i=new Ut.MathNode("mtext",[r]):/[0-9]/.test(e.text)?i=new Ut.MathNode("mn",[r]):e.text==="\\prime"?i=new Ut.MathNode("mo",[r]):i=new Ut.MathNode("mi",[r]),n!==H_[i.type]&&i.setAttribute("mathvariant",n),i}}),i6={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},a6={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}},Rn({type:"spacing",htmlBuilder(e,t){if(a6.hasOwnProperty(e.text)){var r=a6[e.text].className||"";if(e.mode==="text"){var n=pt.makeOrd(e,t,"textord");return n.classes.push(r),n}else return pt.makeSpan(["mspace",r],[pt.mathsym(e.text,e.mode,t)],t)}else{if(i6.hasOwnProperty(e.text))return pt.makeSpan(["mspace",i6[e.text]],[],t);throw new Jt('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var r;if(a6.hasOwnProperty(e.text))r=new Ut.MathNode("mtext",[new Ut.TextNode("\xA0")]);else{if(i6.hasOwnProperty(e.text))return new Ut.MathNode("mspace");throw new Jt('Unknown type of space "'+e.text+'"')}return r}}),U_=o(()=>{var e=new Ut.MathNode("mtd",[]);return e.setAttribute("width","50%"),e},"pad"),Rn({type:"tag",mathmlBuilder(e,t){var r=new Ut.MathNode("mtable",[new Ut.MathNode("mtr",[U_(),new Ut.MathNode("mtd",[zh(e.body,t)]),U_(),new Ut.MathNode("mtd",[zh(e.tag,t)])])]);return r.setAttribute("width","100%"),r}}),V_={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},W_={"\\textbf":"textbf","\\textmd":"textmd"},xV={"\\textit":"textit","\\textup":"textup"},X_=o((e,t)=>{var r=e.font;if(r){if(V_[r])return t.withTextFontFamily(V_[r]);if(W_[r])return t.withTextFontWeight(W_[r]);if(r==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(xV[r])},"optionsWithFont"),Wt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"text",mode:r.mode,body:Ca(i),font:n}},htmlBuilder(e,t){var r=X_(e,t),n=Ua(e.body,r,!0);return pt.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=X_(e,t);return zh(e.body,r)}}),Wt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=Wn(e.body,t),n=pt.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,a=pt.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},t);return pt.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(e,t){var r=new Ut.MathNode("mo",[new Ut.TextNode("\u203E")]);r.setAttribute("stretchy","true");var n=new Ut.MathNode("munder",[Mi(e.body,t),r]);return n.setAttribute("accentunder","true"),n}}),Wt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=Wn(e.body,t),n=t.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return pt.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){return new Ut.MathNode("mpadded",[Mi(e.body,t)],["vcenter"])}}),Wt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new Jt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=K_(e),n=[],i=t.havingStyle(t.style.text()),a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),n.push(pt.makeSymbol(s,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return pt.makeSpan(["mord","text"].concat(i.sizingClasses(t)),pt.tryCombineChars(n),i)},mathmlBuilder(e,t){var r=new Ut.TextNode(K_(e)),n=new Ut.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}}),K_=o(e=>e.body.replace(/ /g,e.star?"\u2423":"\xA0"),"makeVerb"),qh=o_,Z_=`[ \r
	]`,wV="\\\\[a-zA-Z@]+",kV="\\\\[^\uD800-\uDFFF]",TV="("+wV+")"+Z_+"*",EV=`\\\\(
|[ \r	]+
?)[ \r	]*`,s6="[\u0300-\u036F]",CV=new RegExp(s6+"+$"),_V="("+Z_+"+)|"+(EV+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(s6+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(s6+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+TV)+("|"+kV+")"),Q_=class{static{o(this,"Lexer")}constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(_V,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new Wc("EOF",new gc(this,t,t));var r=this.tokenRegex.exec(e);if(r===null||r.index!==t)throw new Jt("Unexpected character: '"+e[t]+"'",new Wc(e[t],new gc(this,t,t+1)));var n=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[n]===14){var i=e.indexOf(`
`,this.tokenRegex.lastIndex);return i===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=i+1,this.lex()}return new Wc(n,new gc(this,t,this.tokenRegex.lastIndex))}},SV=class{static{o(this,"Namespace")}constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Jt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,r){if(r===void 0&&(r=!1),r){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}},AV=L_,Te("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),Te("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),Te("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}}),Te("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}}),Te("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),Te("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),Te("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}),J_={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15},Te("\\char",function(e){var t=e.popToken(),r,n="";if(t.text==="'")r=8,t=e.popToken();else if(t.text==='"')r=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")n=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new Jt("\\char` missing argument");n=t.text.charCodeAt(0)}else r=10;if(r){if(n=J_[t.text],n==null||n>=r)throw new Jt("Invalid base-"+r+" digit "+t.text);for(var i;(i=J_[e.future().text])!=null&&i<r;)n*=r,n+=i,e.popToken()}return"\\@char{"+n+"}"}),o6=o((e,t,r)=>{var n=e.consumeArg().tokens;if(n.length!==1)throw new Jt("\\newcommand's first argument must be a macro name");var i=n[0].text,a=e.isDefined(i);if(a&&!t)throw new Jt("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!a&&!r)throw new Jt("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(n=e.consumeArg().tokens,n.length===1&&n[0].text==="["){for(var l="",u=e.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new Jt("Invalid number of arguments: "+l);s=parseInt(l),n=e.consumeArg().tokens}return e.macros.set(i,{tokens:n,numArgs:s}),""},"newcommand"),Te("\\newcommand",e=>o6(e,!1,!0)),Te("\\renewcommand",e=>o6(e,!0,!1)),Te("\\providecommand",e=>o6(e,!0,!0)),Te("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""}),Te("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""}),Te("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),qh[r],Oi.math[r],Oi.text[r]),""}),Te("\\bgroup","{"),Te("\\egroup","}"),Te("~","\\nobreakspace"),Te("\\lq","`"),Te("\\rq","'"),Te("\\aa","\\r a"),Te("\\AA","\\r A"),Te("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}"),Te("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),Te("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}"),Te("\u212C","\\mathscr{B}"),Te("\u2130","\\mathscr{E}"),Te("\u2131","\\mathscr{F}"),Te("\u210B","\\mathscr{H}"),Te("\u2110","\\mathscr{I}"),Te("\u2112","\\mathscr{L}"),Te("\u2133","\\mathscr{M}"),Te("\u211B","\\mathscr{R}"),Te("\u212D","\\mathfrak{C}"),Te("\u210C","\\mathfrak{H}"),Te("\u2128","\\mathfrak{Z}"),Te("\\Bbbk","\\Bbb{k}"),Te("\xB7","\\cdotp"),Te("\\llap","\\mathllap{\\textrm{#1}}"),Te("\\rlap","\\mathrlap{\\textrm{#1}}"),Te("\\clap","\\mathclap{\\textrm{#1}}"),Te("\\mathstrut","\\vphantom{(}"),Te("\\underbar","\\underline{\\text{#1}}"),Te("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),Te("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),Te("\\ne","\\neq"),Te("\u2260","\\neq"),Te("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),Te("\u2209","\\notin"),Te("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),Te("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),Te("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}"),Te("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}"),Te("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}"),Te("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}"),Te("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}"),Te("\u27C2","\\perp"),Te("\u203C","\\mathclose{!\\mkern-0.8mu!}"),Te("\u220C","\\notni"),Te("\u231C","\\ulcorner"),Te("\u231D","\\urcorner"),Te("\u231E","\\llcorner"),Te("\u231F","\\lrcorner"),Te("\xA9","\\copyright"),Te("\xAE","\\textregistered"),Te("\uFE0F","\\textregistered"),Te("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),Te("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),Te("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),Te("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),Te("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),Te("\u22EE","\\vdots"),Te("\\varGamma","\\mathit{\\Gamma}"),Te("\\varDelta","\\mathit{\\Delta}"),Te("\\varTheta","\\mathit{\\Theta}"),Te("\\varLambda","\\mathit{\\Lambda}"),Te("\\varXi","\\mathit{\\Xi}"),Te("\\varPi","\\mathit{\\Pi}"),Te("\\varSigma","\\mathit{\\Sigma}"),Te("\\varUpsilon","\\mathit{\\Upsilon}"),Te("\\varPhi","\\mathit{\\Phi}"),Te("\\varPsi","\\mathit{\\Psi}"),Te("\\varOmega","\\mathit{\\Omega}"),Te("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),Te("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),Te("\\boxed","\\fbox{$\\displaystyle{#1}$}"),Te("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),Te("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),Te("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),eS={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"},Te("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in eS?t=eS[r]:(r.slice(0,4)==="\\not"||r in Oi.math&&Qr.contains(["bin","rel"],Oi.math[r].group))&&(t="\\dotsb"),t}),l6={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0},Te("\\dotso",function(e){var t=e.future().text;return t in l6?"\\ldots\\,":"\\ldots"}),Te("\\dotsc",function(e){var t=e.future().text;return t in l6&&t!==","?"\\ldots\\,":"\\ldots"}),Te("\\cdots",function(e){var t=e.future().text;return t in l6?"\\@cdots\\,":"\\@cdots"}),Te("\\dotsb","\\cdots"),Te("\\dotsm","\\cdots"),Te("\\dotsi","\\!\\cdots"),Te("\\dotsx","\\ldots\\,"),Te("\\DOTSI","\\relax"),Te("\\DOTSB","\\relax"),Te("\\DOTSX","\\relax"),Te("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),Te("\\,","\\tmspace+{3mu}{.1667em}"),Te("\\thinspace","\\,"),Te("\\>","\\mskip{4mu}"),Te("\\:","\\tmspace+{4mu}{.2222em}"),Te("\\medspace","\\:"),Te("\\;","\\tmspace+{5mu}{.2777em}"),Te("\\thickspace","\\;"),Te("\\!","\\tmspace-{3mu}{.1667em}"),Te("\\negthinspace","\\!"),Te("\\negmedspace","\\tmspace-{4mu}{.2222em}"),Te("\\negthickspace","\\tmspace-{5mu}{.277em}"),Te("\\enspace","\\kern.5em "),Te("\\enskip","\\hskip.5em\\relax"),Te("\\quad","\\hskip1em\\relax"),Te("\\qquad","\\hskip2em\\relax"),Te("\\tag","\\@ifstar\\tag@literal\\tag@paren"),Te("\\tag@paren","\\tag@literal{({#1})}"),Te("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new Jt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),Te("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),Te("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),Te("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),Te("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),Te("\\newline","\\\\\\relax"),Te("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}"),tS=or(Kc["Main-Regular"][84][1]-.7*Kc["Main-Regular"][65][1]),Te("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+tS+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),Te("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+tS+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),Te("\\hspace","\\@ifstar\\@hspacer\\@hspace"),Te("\\@hspace","\\hskip #1\\relax"),Te("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),Te("\\ordinarycolon",":"),Te("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),Te("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),Te("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),Te("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),Te("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),Te("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),Te("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),Te("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),Te("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),Te("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),Te("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),Te("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),Te("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),Te("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),Te("\u2237","\\dblcolon"),Te("\u2239","\\eqcolon"),Te("\u2254","\\coloneqq"),Te("\u2255","\\eqqcolon"),Te("\u2A74","\\Coloneqq"),Te("\\ratio","\\vcentcolon"),Te("\\coloncolon","\\dblcolon"),Te("\\colonequals","\\coloneqq"),Te("\\coloncolonequals","\\Coloneqq"),Te("\\equalscolon","\\eqqcolon"),Te("\\equalscoloncolon","\\Eqqcolon"),Te("\\colonminus","\\coloneq"),Te("\\coloncolonminus","\\Coloneq"),Te("\\minuscolon","\\eqcolon"),Te("\\minuscoloncolon","\\Eqcolon"),Te("\\coloncolonapprox","\\Colonapprox"),Te("\\coloncolonsim","\\Colonsim"),Te("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Te("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Te("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Te("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Te("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}"),Te("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),Te("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),Te("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),Te("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),Te("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),Te("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),Te("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),Te("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),Te("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),Te("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),Te("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),Te("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),Te("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),Te("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),Te("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),Te("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),Te("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),Te("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),Te("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}"),Te("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}"),Te("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}"),Te("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}"),Te("\\imath","\\html@mathml{\\@imath}{\u0131}"),Te("\\jmath","\\html@mathml{\\@jmath}{\u0237}"),Te("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}"),Te("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}"),Te("\u27E6","\\llbracket"),Te("\u27E7","\\rrbracket"),Te("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),Te("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),Te("\u2983","\\lBrace"),Te("\u2984","\\rBrace"),Te("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}"),Te("\u29B5","\\minuso"),Te("\\darr","\\downarrow"),Te("\\dArr","\\Downarrow"),Te("\\Darr","\\Downarrow"),Te("\\lang","\\langle"),Te("\\rang","\\rangle"),Te("\\uarr","\\uparrow"),Te("\\uArr","\\Uparrow"),Te("\\Uarr","\\Uparrow"),Te("\\N","\\mathbb{N}"),Te("\\R","\\mathbb{R}"),Te("\\Z","\\mathbb{Z}"),Te("\\alef","\\aleph"),Te("\\alefsym","\\aleph"),Te("\\Alpha","\\mathrm{A}"),Te("\\Beta","\\mathrm{B}"),Te("\\bull","\\bullet"),Te("\\Chi","\\mathrm{X}"),Te("\\clubs","\\clubsuit"),Te("\\cnums","\\mathbb{C}"),Te("\\Complex","\\mathbb{C}"),Te("\\Dagger","\\ddagger"),Te("\\diamonds","\\diamondsuit"),Te("\\empty","\\emptyset"),Te("\\Epsilon","\\mathrm{E}"),Te("\\Eta","\\mathrm{H}"),Te("\\exist","\\exists"),Te("\\harr","\\leftrightarrow"),Te("\\hArr","\\Leftrightarrow"),Te("\\Harr","\\Leftrightarrow"),Te("\\hearts","\\heartsuit"),Te("\\image","\\Im"),Te("\\infin","\\infty"),Te("\\Iota","\\mathrm{I}"),Te("\\isin","\\in"),Te("\\Kappa","\\mathrm{K}"),Te("\\larr","\\leftarrow"),Te("\\lArr","\\Leftarrow"),Te("\\Larr","\\Leftarrow"),Te("\\lrarr","\\leftrightarrow"),Te("\\lrArr","\\Leftrightarrow"),Te("\\Lrarr","\\Leftrightarrow"),Te("\\Mu","\\mathrm{M}"),Te("\\natnums","\\mathbb{N}"),Te("\\Nu","\\mathrm{N}"),Te("\\Omicron","\\mathrm{O}"),Te("\\plusmn","\\pm"),Te("\\rarr","\\rightarrow"),Te("\\rArr","\\Rightarrow"),Te("\\Rarr","\\Rightarrow"),Te("\\real","\\Re"),Te("\\reals","\\mathbb{R}"),Te("\\Reals","\\mathbb{R}"),Te("\\Rho","\\mathrm{P}"),Te("\\sdot","\\cdot"),Te("\\sect","\\S"),Te("\\spades","\\spadesuit"),Te("\\sub","\\subset"),Te("\\sube","\\subseteq"),Te("\\supe","\\supseteq"),Te("\\Tau","\\mathrm{T}"),Te("\\thetasym","\\vartheta"),Te("\\weierp","\\wp"),Te("\\Zeta","\\mathrm{Z}"),Te("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),Te("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),Te("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),Te("\\bra","\\mathinner{\\langle{#1}|}"),Te("\\ket","\\mathinner{|{#1}\\rangle}"),Te("\\braket","\\mathinner{\\langle{#1}\\rangle}"),Te("\\Bra","\\left\\langle#1\\right|"),Te("\\Ket","\\left|#1\\right\\rangle"),rS=o(e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,i=t.consumeArg().tokens,a=t.consumeArg().tokens,s=t.macros.get("|"),l=t.macros.get("\\|");t.macros.beginGroup();var u=o(p=>f=>{e&&(f.macros.set("|",s),i.length&&f.macros.set("\\|",l));var g=p;if(!p&&i.length){var m=f.future();m.text==="|"&&(f.popToken(),g=!0)}return{tokens:g?i:n,numArgs:0}},"midMacro");t.macros.set("|",u(!1)),i.length&&t.macros.set("\\|",u(!0));var h=t.consumeArg().tokens,d=t.expandTokens([...a,...h,...r]);return t.macros.endGroup(),{tokens:d.reverse(),numArgs:0}},"braketHelper"),Te("\\bra@ket",rS(!1)),Te("\\bra@set",rS(!0)),Te("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),Te("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),Te("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),Te("\\angln","{\\angl n}"),Te("\\blue","\\textcolor{##6495ed}{#1}"),Te("\\orange","\\textcolor{##ffa500}{#1}"),Te("\\pink","\\textcolor{##ff00af}{#1}"),Te("\\red","\\textcolor{##df0030}{#1}"),Te("\\green","\\textcolor{##28ae7b}{#1}"),Te("\\gray","\\textcolor{gray}{#1}"),Te("\\purple","\\textcolor{##9d38bd}{#1}"),Te("\\blueA","\\textcolor{##ccfaff}{#1}"),Te("\\blueB","\\textcolor{##80f6ff}{#1}"),Te("\\blueC","\\textcolor{##63d9ea}{#1}"),Te("\\blueD","\\textcolor{##11accd}{#1}"),Te("\\blueE","\\textcolor{##0c7f99}{#1}"),Te("\\tealA","\\textcolor{##94fff5}{#1}"),Te("\\tealB","\\textcolor{##26edd5}{#1}"),Te("\\tealC","\\textcolor{##01d1c1}{#1}"),Te("\\tealD","\\textcolor{##01a995}{#1}"),Te("\\tealE","\\textcolor{##208170}{#1}"),Te("\\greenA","\\textcolor{##b6ffb0}{#1}"),Te("\\greenB","\\textcolor{##8af281}{#1}"),Te("\\greenC","\\textcolor{##74cf70}{#1}"),Te("\\greenD","\\textcolor{##1fab54}{#1}"),Te("\\greenE","\\textcolor{##0d923f}{#1}"),Te("\\goldA","\\textcolor{##ffd0a9}{#1}"),Te("\\goldB","\\textcolor{##ffbb71}{#1}"),Te("\\goldC","\\textcolor{##ff9c39}{#1}"),Te("\\goldD","\\textcolor{##e07d10}{#1}"),Te("\\goldE","\\textcolor{##a75a05}{#1}"),Te("\\redA","\\textcolor{##fca9a9}{#1}"),Te("\\redB","\\textcolor{##ff8482}{#1}"),Te("\\redC","\\textcolor{##f9685d}{#1}"),Te("\\redD","\\textcolor{##e84d39}{#1}"),Te("\\redE","\\textcolor{##bc2612}{#1}"),Te("\\maroonA","\\textcolor{##ffbde0}{#1}"),Te("\\maroonB","\\textcolor{##ff92c6}{#1}"),Te("\\maroonC","\\textcolor{##ed5fa6}{#1}"),Te("\\maroonD","\\textcolor{##ca337c}{#1}"),Te("\\maroonE","\\textcolor{##9e034e}{#1}"),Te("\\purpleA","\\textcolor{##ddd7ff}{#1}"),Te("\\purpleB","\\textcolor{##c6b9fc}{#1}"),Te("\\purpleC","\\textcolor{##aa87ff}{#1}"),Te("\\purpleD","\\textcolor{##7854ab}{#1}"),Te("\\purpleE","\\textcolor{##543b78}{#1}"),Te("\\mintA","\\textcolor{##f5f9e8}{#1}"),Te("\\mintB","\\textcolor{##edf2df}{#1}"),Te("\\mintC","\\textcolor{##e0e5cc}{#1}"),Te("\\grayA","\\textcolor{##f6f7f7}{#1}"),Te("\\grayB","\\textcolor{##f0f1f2}{#1}"),Te("\\grayC","\\textcolor{##e3e5e6}{#1}"),Te("\\grayD","\\textcolor{##d6d8da}{#1}"),Te("\\grayE","\\textcolor{##babec2}{#1}"),Te("\\grayF","\\textcolor{##888d93}{#1}"),Te("\\grayG","\\textcolor{##626569}{#1}"),Te("\\grayH","\\textcolor{##3b3e40}{#1}"),Te("\\grayI","\\textcolor{##21242c}{#1}"),Te("\\kaBlue","\\textcolor{##314453}{#1}"),Te("\\kaGreen","\\textcolor{##71B307}{#1}"),nS={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},LV=class{static{o(this,"MacroExpander")}constructor(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new SV(AV,t.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new Q_(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,r,n;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:n,end:r}=this.consumeArg(["]"])}else({tokens:n,start:t,end:r}=this.consumeArg());return this.pushToken(new Wc("EOF",r.loc)),this.pushTokens(n),t.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var n=this.future(),i,a=0,s=0;do{if(i=this.popToken(),t.push(i),i.text==="{")++a;else if(i.text==="}"){if(--a,a===-1)throw new Jt("Extra }",i)}else if(i.text==="EOF")throw new Jt("Unexpected end of input in a macro argument, expected '"+(e&&r?e[s]:"}")+"'",i);if(e&&r)if((a===0||a===1&&e[s]==="{")&&i.text===e[s]){if(++s,s===e.length){t.splice(-s,s);break}}else s=0}while(a!==0||r);return n.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:n,end:i}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new Jt("The length of delimiters doesn't match the number of args!");for(var r=t[0],n=0;n<r.length;n++){var i=this.popToken();if(r[n]!==i.text)throw new Jt("Use of the macro doesn't match its definition",i)}}for(var a=[],s=0;s<e;s++)a.push(this.consumeArg(t&&t[s+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Jt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),r=t.text,n=t.noexpand?null:this._getExpansion(r);if(n==null||e&&n.unexpandable){if(e&&n==null&&r[0]==="\\"&&!this.isDefined(r))throw new Jt("Undefined control sequence: "+r);return this.pushToken(t),!1}this.countExpansion(1);var i=n.tokens,a=this.consumeArgs(n.numArgs,n.delimiters);if(n.numArgs){i=i.slice();for(var s=i.length-1;s>=0;--s){var l=i[s];if(l.text==="#"){if(s===0)throw new Jt("Incomplete placeholder at end of macro body",l);if(l=i[--s],l.text==="#")i.splice(s+1,1);else if(/^[1-9]$/.test(l.text))i.splice(s,2,...a[+l.text-1]);else throw new Jt("Not a valid argument number",l)}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Wc(e)]):void 0}expandTokens(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var n=this.stack.pop();n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),t.push(n)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(r=>r.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var n=typeof t=="function"?t(this):t;if(typeof n=="string"){var i=0;if(n.indexOf("#")!==-1)for(var a=n.replace(/##/g,"");a.indexOf("#"+(i+1))!==-1;)++i;for(var s=new Q_(n,this.settings),l=[],u=s.lex();u.text!=="EOF";)l.push(u),u=s.lex();l.reverse();var h={tokens:l,numArgs:i};return h}return n}isDefined(e){return this.macros.has(e)||qh.hasOwnProperty(e)||Oi.math.hasOwnProperty(e)||Oi.text.hasOwnProperty(e)||nS.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:qh.hasOwnProperty(e)&&!qh[e].primitive}},iS=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,g4=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),c6={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},aS={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"},sS=class tYe{static{o(this,"Parser")}constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new LV(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new Jt("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Wc("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(t,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(tYe.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||t&&qh[i.text]&&qh[i.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;n.push(a)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var r=-1,n,i=0;i<t.length;i++)if(t[i].type==="infix"){if(r!==-1)throw new Jt("only one infix operator per group",t[i].token);r=i,n=t[i].replaceWith}if(r!==-1&&n){var a,s,l=t.slice(0,r),u=t.slice(r+1);l.length===1&&l[0].type==="ordgroup"?a=l[0]:a={type:"ordgroup",mode:this.mode,body:l},u.length===1&&u[0].type==="ordgroup"?s=u[0]:s={type:"ordgroup",mode:this.mode,body:u};var h;return n==="\\\\abovefrac"?h=this.callFunction(n,[a,t[r],s],[]):h=this.callFunction(n,[a,s],[]),[h]}else return t}handleSupSubscript(t){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(t);if(!i)throw new Jt("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(t){for(var r=[],n=0;n<t.length;n++)r.push({type:"textord",mode:"text",text:t[n]});var i={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(t){var r=this.parseGroup("atom",t);if(this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var s=a.text==="\\limits";r.limits=s,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new Jt("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(n)throw new Jt("Double superscript",a);n=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new Jt("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(n)throw new Jt("Double superscript",a);var l={type:"textord",mode:this.mode,text:"\\prime"},u=[l];for(this.consume();this.fetch().text==="'";)u.push(l),this.consume();this.fetch().text==="^"&&u.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:u}}else if(g4[a.text]){var h=iS.test(a.text),d=[];for(d.push(new Wc(g4[a.text])),this.consume();;){var p=this.fetch().text;if(!g4[p]||iS.test(p)!==h)break;d.unshift(new Wc(g4[p])),this.consume()}var f=this.subparse(d);h?i={type:"ordgroup",mode:"math",body:f}:n={type:"ordgroup",mode:"math",body:f}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(t,r){var n=this.fetch(),i=n.text,a=qh[i];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new Jt("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!a.allowedInText)throw new Jt("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&a.allowedInMath===!1)throw new Jt("Can't use function '"+i+"' in math mode",n);var{args:s,optArgs:l}=this.parseArguments(i,a);return this.callFunction(i,s,l,n,t)}callFunction(t,r,n,i,a){var s={funcName:t,parser:this,token:i,breakOnTokenText:a},l=qh[t];if(l&&l.handler)return l.handler(s,r,n);throw new Jt("No function handler for "+t)}parseArguments(t,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<n;s++){var l=r.argTypes&&r.argTypes[s],u=s<r.numOptionalArgs;(r.primitive&&l==null||r.type==="sqrt"&&s===1&&a[0]==null)&&(l="primitive");var h=this.parseGroupOfType("argument to '"+t+"'",l,u);if(u)a.push(h);else if(h!=null)i.push(h);else throw new Jt("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(t,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",n);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(n)throw new Jt("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new Jt("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new Jt("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(t,r){for(var n=this.fetch(),i=n,a="",s;(s=this.fetch()).text!=="EOF"&&t.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new Jt("Invalid "+r+": '"+n.text+"'",n);return n.range(i,a)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new Jt("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var r,n=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",t),!r)return null;!t&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new Jt("Invalid size: '"+r.text+"'",r);var a={number:+(i[1]+i[2]),unit:i[3]};if(!VC(a))throw new Jt("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,r){var n=this.gullet.scanArgument(t);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:n.loc,body:a};return r&&this.switchMode(i),s}parseGroup(t,r){var n=this.fetch(),i=n.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,s),u=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:gc.range(n,u),body:l,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,t)||this.parseSymbol(),a==null&&i[0]==="\\"&&!nS.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Jt("Undefined control sequence: "+i,n);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(t){for(var r=t.length-1,n=0;n<r;++n){var i=t[n],a=i.text;a==="-"&&t[n+1].text==="-"&&(n+1<r&&t[n+2].text==="-"?(t.splice(n,3,{type:"textord",mode:"text",loc:gc.range(i,t[n+2]),text:"---"}),r-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:gc.range(i,t[n+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&t[n+1].text===a&&(t.splice(n,2,{type:"textord",mode:"text",loc:gc.range(i,t[n+1]),text:a+a}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new Jt(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}aS.hasOwnProperty(r[0])&&!Oi[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=aS[r[0]]+r.slice(1));var a=CV.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="\u0131":r==="j"&&(r="\u0237"));var s;if(Oi[this.mode][r]){this.settings.strict&&this.mode==="math"&&Fx.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var l=Oi[this.mode][r].group,u=gc.range(t),h;if(bU.hasOwnProperty(l)){var d=l;h={type:"atom",mode:this.mode,family:d,loc:u,text:r}}else h={type:l,mode:this.mode,loc:u,text:r};s=h}else if(r.charCodeAt(0)>=128)this.settings.strict&&(Yn(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:gc.range(t),text:r};else return null;if(this.consume(),a)for(var p=0;p<a[0].length;p++){var f=a[0][p];if(!c6[f])throw new Jt("Unknown accent ' "+f+"'",t);var g=c6[f][this.mode]||c6[f].text;if(!g)throw new Jt("Accent "+f+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:gc.range(t),label:g,isStretchy:!1,isShifty:!0,base:s}}return s}},sS.endOfExpression=["}","\\endgroup","\\end","\\right","&"],u6=o(function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new sS(e,t);delete r.gullet.macros.current["\\df@tag"];var n=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new Jt("\\tag works only in display equations");n=[{type:"tag",mode:"text",body:n,tag:r.subparse([new Wc("\\df@tag")])}]}return n},"parseTree"),oS=o(function(e,t,r){t.textContent="";var n=h6(e,r).toNode();t.appendChild(n)},"render"),typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),oS=o(function(){throw new Jt("KaTeX doesn't work in quirks mode.")},"render")),NV=o(function(e,t){var r=h6(e,t).toMarkup();return r},"renderToString"),MV=o(function(e,t){var r=new Ax(t);return u6(e,r)},"generateParseTree"),lS=o(function(e,t,r){if(r.throwOnError||!(e instanceof Jt))throw e;var n=pt.makeSpan(["katex-error"],[new $l(t)]);return n.setAttribute("title",e.toString()),n.setAttribute("style","color:"+r.errorColor),n},"renderError"),h6=o(function(e,t){var r=new Ax(t);try{var n=u6(e,r);return GU(n,e,r)}catch(i){return lS(i,e,r)}},"renderToDomTree"),IV=o(function(e,t){var r=new Ax(t);try{var n=u6(e,r);return YU(n,e,r)}catch(i){return lS(i,e,r)}},"renderToHTMLTree"),DV={version:"0.16.11",render:oS,renderToString:NV,ParseError:Jt,SETTINGS_SCHEMA:Ky,__parse:MV,__renderToDomTree:h6,__renderToHTMLTree:IV,__setFontMetrics:Vn,__defineSymbol:H,__defineFunction:Wt,__defineMacro:Te,__domTree:{Span:Cf,Anchor:Dx,SymbolNode:$l,SvgNode:Fu,PathNode:Fh,LineNode:Rx}}});function RV(){let e="data-temp-href-target";Pt.addHook("beforeSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")}),Pt.addHook("afterSanitizeAttributes",t=>{t instanceof Element&&t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}var J1,OV,PV,cS,uS,Ei,BV,FV,$V,zV,hS,qV,Ii,GV,YV,ld,d6,jV,HV,dS,p6,Zs,Mf,If,Yt,En=R(()=>{"use strict";Er(),J1=/<br\s*\/?>/gi,OV=o(e=>e?hS(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),PV=(()=>{let e=!1;return()=>{e||(RV(),e=!0)}})(),o(RV,"setupDompurifyHooks"),cS=o(e=>(PV(),Pt.sanitize(e)),"removeScript"),uS=o((e,t)=>{if(t.flowchart?.htmlLabels!==!1){let r=t.securityLevel;r==="antiscript"||r==="strict"?e=cS(e):r!=="loose"&&(e=hS(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=zV(e))}return e},"sanitizeMore"),Ei=o((e,t)=>e&&(t.dompurifyConfig?e=Pt.sanitize(uS(e,t),t.dompurifyConfig).toString():e=Pt.sanitize(uS(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),BV=o((e,t)=>typeof e=="string"?Ei(e,t):e.flat().map(r=>Ei(r,t)),"sanitizeTextOrArray"),FV=o(e=>J1.test(e),"hasBreaks"),$V=o(e=>e.split(J1),"splitBreaks"),zV=o(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),hS=o(e=>e.replace(J1,"#br#"),"breakToPlaceholder"),qV=o(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t},"getUrl"),Ii=o(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),GV=o(function(...e){let t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),YV=o(function(...e){let t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),ld=o(function(e){let t=e.split(/(,)/),r=[];for(let n=0;n<t.length;n++){let i=t[n];if(i===","&&n>0&&n+1<t.length){let a=t[n-1],s=t[n+1];jV(a,s)&&(i=a+","+s,n++,r.pop())}r.push(HV(i))}return r.join("")},"parseGenericTypes"),d6=o((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),jV=o((e,t)=>{let r=d6(e,"~"),n=d6(t,"~");return r===1&&n===1},"shouldCombineSets"),HV=o(e=>{let t=d6(e,"~"),r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);let n=[...e],i=n.indexOf("~"),a=n.lastIndexOf("~");for(;i!==-1&&a!==-1&&i!==a;)n[i]="<",n[a]=">",i=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")},"processSet"),dS=o(()=>window.MathMLElement!==void 0,"isMathMLSupported"),p6=/\$\$(.*)\$\$/g,Zs=o(e=>(e.match(p6)?.length??0)>0,"hasKatex"),Mf=o(async(e,t)=>{e=await If(e,t);let r=document.createElement("div");r.innerHTML=e,r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);let n={width:r.clientWidth,height:r.clientHeight};return r.remove(),n},"calculateMathMLDimensions"),If=o(async(e,t)=>{if(!Zs(e))return e;if(!(dS()||t.legacyMathML||t.forceLegacyMathML))return e.replace(p6,"MathML is unsupported in this environment.");let{default:r}=await Promise.resolve().then(()=>(sYe(),Zr)),n=t.forceLegacyMathML||!dS()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(J1).map(i=>Zs(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(p6,(i,a)=>r.renderToString(a,{throwOnError:!0,displayMode:!0,output:n}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),Yt={getRows:OV,sanitizeText:Ei,sanitizeTextOrArray:BV,hasBreaks:FV,splitBreaks:$V,lineBreakRegex:J1,removeScript:cS,getUrl:qV,evaluate:Ii,getMax:GV,getMin:YV}}),UV,VV,Qs,ep,Fa=R(()=>{"use strict";We(),UV=o(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),VV=o(function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n},"calculateSvgSizeAttrs"),Qs=o(function(e,t,r,n){let i=VV(t,r,n);UV(e,i)},"configureSvgSize"),ep=o(function(e,t,r,n){let i=t.node().getBBox(),a=i.width,s=i.height;J.info(`SVG bounds: ${a}x${s}`,i);let l=0,u=0;J.info(`Graph bounds: ${l}x${u}`,e),l=a+r*2,u=s+r*2,J.info(`Calculated bounds: ${l}x${u}`),Qs(t,u,l,n);let h=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",h)},"setupGraphViewbox")}),f4,WV,XV,KV,ZV=R(()=>{"use strict";We(),f4={},WV=o((e,t,r)=>{let n="";return e in f4&&f4[e]?n=f4[e](r):J.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${n}

  ${t}
`},"getStyles"),XV=o((e,t)=>{t!==void 0&&(f4[e]=t)},"addStylesForDiagram"),KV=WV}),pS={};yr(pS,{clear:()=>fs,getAccDescription:()=>Ms,getAccTitle:()=>Ls,getDiagramTitle:()=>Is,setAccDescription:()=>Ns,setAccTitle:()=>ms,setDiagramTitle:()=>_o});var g6,f6,m6,y6,fs,ms,Ls,Ns,Ms,_o,Is,ys=R(()=>{"use strict";En(),wo(),g6="",f6="",m6="",y6=o(e=>Ei(e,Ni()),"sanitizeText"),fs=o(()=>{g6="",m6="",f6=""},"clear"),ms=o(e=>{g6=y6(e).replace(/^\s+/g,"")},"setAccTitle"),Ls=o(()=>g6,"getAccTitle"),Ns=o(e=>{m6=y6(e).replace(/\n\s+/g,`
`)},"setAccDescription"),Ms=o(()=>m6,"getAccDescription"),_o=o(e=>{f6=y6(e)},"setDiagramTitle"),Is=o(()=>f6,"getDiagramTitle")}),gS,QV,Ge,fS,mS,yS,vS,JV,m4,y4,v6,eW,zr=R(()=>{"use strict";us(),We(),wo(),En(),Fa(),ZV(),ys(),gS=J,QV=_t,Ge=Ni,fS=hf,mS=Ss,yS=o(e=>Ei(e,Ge()),"sanitizeText"),vS=ep,JV=o(()=>pS,"getCommonDb"),m4={},y4=o((e,t,r)=>{m4[e]&&gS.warn(`Diagram with id ${e} already registered. Overwriting.`),m4[e]=t,r&&cl(e,r),XV(e,t.styles),t.injectUtils?.(gS,QV,Ge,yS,vS,JV(),()=>{})},"registerDiagram"),v6=o(e=>{if(e in m4)return m4[e];throw new eW(e)},"getDiagram"),eW=class extends Error{static{o(this,"DiagramNotFoundError")}constructor(e){super(`Diagram ${e} not found.`)}}}),mc,Gh,So,yc,Jc,Df,b6,x6,v4,b4,tW,rW,nW,iW,aW,sW,oW,lW,cW,uW,hW,dW,pW,gW,fW,mW,yW,vW,bS,bW,xW,xS,wW,kW,TW,EW,Yh,CW,_W,SW,AW,LW,w6,NW=R(()=>{"use strict";zr(),En(),ys(),mc=[],Gh=[""],So="global",yc="",Jc=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Df=[],b6="",x6=!1,v4=4,b4=2,rW=o(function(){return tW},"getC4Type"),nW=o(function(e){tW=Ei(e,Ge())},"setC4Type"),iW=o(function(e,t,r,n,i,a,s,l,u){if(e==null||t===void 0||t===null||r===void 0||r===null||n===void 0||n===null)return;let h={},d=Df.find(p=>p.from===t&&p.to===r);if(d?h=d:Df.push(h),h.type=e,h.from=t,h.to=r,h.label={text:n},i==null)h.techn={text:""};else if(typeof i=="object"){let[p,f]=Object.entries(i)[0];h[p]={text:f}}else h.techn={text:i};if(a==null)h.descr={text:""};else if(typeof a=="object"){let[p,f]=Object.entries(a)[0];h[p]={text:f}}else h.descr={text:a};if(typeof s=="object"){let[p,f]=Object.entries(s)[0];h[p]=f}else h.sprite=s;if(typeof l=="object"){let[p,f]=Object.entries(l)[0];h[p]=f}else h.tags=l;if(typeof u=="object"){let[p,f]=Object.entries(u)[0];h[p]=f}else h.link=u;h.wrap=Yh()},"addRel"),aW=o(function(e,t,r,n,i,a,s){if(t===null||r===null)return;let l={},u=mc.find(h=>h.alias===t);if(u&&t===u.alias?l=u:(l.alias=t,mc.push(l)),r==null?l.label={text:""}:l.label={text:r},n==null)l.descr={text:""};else if(typeof n=="object"){let[h,d]=Object.entries(n)[0];l[h]={text:d}}else l.descr={text:n};if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]=d}else l.sprite=i;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.tags=a;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.link=s;l.typeC4Shape={text:e},l.parentBoundary=So,l.wrap=Yh()},"addPersonOrSystem"),sW=o(function(e,t,r,n,i,a,s,l){if(t===null||r===null)return;let u={},h=mc.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,mc.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.techn={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.techn={text:n};if(i==null)u.descr={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.descr={text:i};if(typeof a=="object"){let[d,p]=Object.entries(a)[0];u[d]=p}else u.sprite=a;if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof l=="object"){let[d,p]=Object.entries(l)[0];u[d]=p}else u.link=l;u.wrap=Yh(),u.typeC4Shape={text:e},u.parentBoundary=So},"addContainer"),oW=o(function(e,t,r,n,i,a,s,l){if(t===null||r===null)return;let u={},h=mc.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,mc.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.techn={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.techn={text:n};if(i==null)u.descr={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.descr={text:i};if(typeof a=="object"){let[d,p]=Object.entries(a)[0];u[d]=p}else u.sprite=a;if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof l=="object"){let[d,p]=Object.entries(l)[0];u[d]=p}else u.link=l;u.wrap=Yh(),u.typeC4Shape={text:e},u.parentBoundary=So},"addComponent"),lW=o(function(e,t,r,n,i){if(e===null||t===null)return;let a={},s=Jc.find(l=>l.alias===e);if(s&&e===s.alias?a=s:(a.alias=e,Jc.push(a)),t==null?a.label={text:""}:a.label={text:t},r==null)a.type={text:"system"};else if(typeof r=="object"){let[l,u]=Object.entries(r)[0];a[l]={text:u}}else a.type={text:r};if(typeof n=="object"){let[l,u]=Object.entries(n)[0];a[l]=u}else a.tags=n;if(typeof i=="object"){let[l,u]=Object.entries(i)[0];a[l]=u}else a.link=i;a.parentBoundary=So,a.wrap=Yh(),yc=So,So=e,Gh.push(yc)},"addPersonOrSystemBoundary"),cW=o(function(e,t,r,n,i){if(e===null||t===null)return;let a={},s=Jc.find(l=>l.alias===e);if(s&&e===s.alias?a=s:(a.alias=e,Jc.push(a)),t==null?a.label={text:""}:a.label={text:t},r==null)a.type={text:"container"};else if(typeof r=="object"){let[l,u]=Object.entries(r)[0];a[l]={text:u}}else a.type={text:r};if(typeof n=="object"){let[l,u]=Object.entries(n)[0];a[l]=u}else a.tags=n;if(typeof i=="object"){let[l,u]=Object.entries(i)[0];a[l]=u}else a.link=i;a.parentBoundary=So,a.wrap=Yh(),yc=So,So=e,Gh.push(yc)},"addContainerBoundary"),uW=o(function(e,t,r,n,i,a,s,l){if(t===null||r===null)return;let u={},h=Jc.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,Jc.push(u)),r==null?u.label={text:""}:u.label={text:r},n==null)u.type={text:"node"};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.type={text:n};if(i==null)u.descr={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.descr={text:i};if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof l=="object"){let[d,p]=Object.entries(l)[0];u[d]=p}else u.link=l;u.nodeType=e,u.parentBoundary=So,u.wrap=Yh(),yc=So,So=t,Gh.push(yc)},"addDeploymentNode"),hW=o(function(){So=yc,Gh.pop(),yc=Gh.pop(),Gh.push(yc)},"popBoundaryParseStack"),dW=o(function(e,t,r,n,i,a,s,l,u,h,d){let p=mc.find(f=>f.alias===t);if(!(p===void 0&&(p=Jc.find(f=>f.alias===t),p===void 0))){if(r!=null)if(typeof r=="object"){let[f,g]=Object.entries(r)[0];p[f]=g}else p.bgColor=r;if(n!=null)if(typeof n=="object"){let[f,g]=Object.entries(n)[0];p[f]=g}else p.fontColor=n;if(i!=null)if(typeof i=="object"){let[f,g]=Object.entries(i)[0];p[f]=g}else p.borderColor=i;if(a!=null)if(typeof a=="object"){let[f,g]=Object.entries(a)[0];p[f]=g}else p.shadowing=a;if(s!=null)if(typeof s=="object"){let[f,g]=Object.entries(s)[0];p[f]=g}else p.shape=s;if(l!=null)if(typeof l=="object"){let[f,g]=Object.entries(l)[0];p[f]=g}else p.sprite=l;if(u!=null)if(typeof u=="object"){let[f,g]=Object.entries(u)[0];p[f]=g}else p.techn=u;if(h!=null)if(typeof h=="object"){let[f,g]=Object.entries(h)[0];p[f]=g}else p.legendText=h;if(d!=null)if(typeof d=="object"){let[f,g]=Object.entries(d)[0];p[f]=g}else p.legendSprite=d}},"updateElStyle"),pW=o(function(e,t,r,n,i,a,s){let l=Df.find(u=>u.from===t&&u.to===r);if(l!==void 0){if(n!=null)if(typeof n=="object"){let[u,h]=Object.entries(n)[0];l[u]=h}else l.textColor=n;if(i!=null)if(typeof i=="object"){let[u,h]=Object.entries(i)[0];l[u]=h}else l.lineColor=i;if(a!=null)if(typeof a=="object"){let[u,h]=Object.entries(a)[0];l[u]=parseInt(h)}else l.offsetX=parseInt(a);if(s!=null)if(typeof s=="object"){let[u,h]=Object.entries(s)[0];l[u]=parseInt(h)}else l.offsetY=parseInt(s)}},"updateRelStyle"),gW=o(function(e,t,r){let n=v4,i=b4;if(typeof t=="object"){let a=Object.values(t)[0];n=parseInt(a)}else n=parseInt(t);if(typeof r=="object"){let a=Object.values(r)[0];i=parseInt(a)}else i=parseInt(r);n>=1&&(v4=n),i>=1&&(b4=i)},"updateLayoutConfig"),fW=o(function(){return v4},"getC4ShapeInRow"),mW=o(function(){return b4},"getC4BoundaryInRow"),yW=o(function(){return So},"getCurrentBoundaryParse"),vW=o(function(){return yc},"getParentBoundaryParse"),bS=o(function(e){return e==null?mc:mc.filter(t=>t.parentBoundary===e)},"getC4ShapeArray"),bW=o(function(e){return mc.find(t=>t.alias===e)},"getC4Shape"),xW=o(function(e){return Object.keys(bS(e))},"getC4ShapeKeys"),xS=o(function(e){return e==null?Jc:Jc.filter(t=>t.parentBoundary===e)},"getBoundaries"),wW=xS,kW=o(function(){return Df},"getRels"),TW=o(function(){return b6},"getTitle"),EW=o(function(e){x6=e},"setWrap"),Yh=o(function(){return x6},"autoWrap"),CW=o(function(){mc=[],Jc=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],yc="",So="global",Gh=[""],Df=[],Gh=[""],b6="",x6=!1,v4=4,b4=2},"clear"),_W={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},SW={FILLED:0,OPEN:1},AW={LEFTOF:0,RIGHTOF:1,OVER:2},LW=o(function(e){b6=Ei(e,Ge())},"setTitle"),w6={addPersonOrSystem:aW,addPersonOrSystemBoundary:lW,addContainer:sW,addContainerBoundary:cW,addComponent:oW,addDeploymentNode:uW,popBoundaryParseStack:hW,addRel:iW,updateElStyle:dW,updateRelStyle:pW,updateLayoutConfig:gW,autoWrap:Yh,setWrap:EW,getC4ShapeArray:bS,getC4Shape:bW,getC4ShapeKeys:xW,getBoundaries:xS,getBoundarys:wW,getCurrentBoundaryParse:yW,getParentBoundaryParse:vW,getRels:kW,getTitle:TW,getC4Type:rW,getC4ShapeInRow:fW,getC4BoundaryInRow:mW,setAccTitle:ms,getAccTitle:Ls,getAccDescription:Ms,setAccDescription:Ns,getConfig:o(()=>Ge().c4,"getConfig"),clear:CW,LINETYPE:_W,ARROWTYPE:SW,PLACEMENT:AW,setTitle:LW,setC4Type:nW}});function x4(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var MW=R(()=>{"use strict";o(x4,"ascending")});function IW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var oYe=R(()=>{"use strict";o(IW,"descending")});function k6(e){let t,r,n;e.length!==2?(t=x4,r=o((l,u)=>x4(e(l),u),"compare2"),n=o((l,u)=>e(l)-u,"delta")):(t=e===x4||e===IW?e:DW,r=e,n=e);function i(l,u,h=0,d=l.length){if(h<d){if(t(u,u)!==0)return d;do{let p=h+d>>>1;r(l[p],u)<0?h=p+1:d=p}while(h<d)}return h}o(i,"left");function a(l,u,h=0,d=l.length){if(h<d){if(t(u,u)!==0)return d;do{let p=h+d>>>1;r(l[p],u)<=0?h=p+1:d=p}while(h<d)}return h}o(a,"right");function s(l,u,h=0,d=l.length){let p=i(l,u,h,d-1);return p>h&&n(l[p-1],u)>-n(l[p],u)?p-1:p}return o(s,"center"),{left:i,center:s,right:a}}function DW(){return 0}var RW=R(()=>{"use strict";MW(),oYe(),o(k6,"bisector"),o(DW,"zero")});function OW(e){return e===null?NaN:+e}var lYe=R(()=>{"use strict";o(OW,"number")}),wS,PW,cYe,uYe,BW,hYe=R(()=>{"use strict";MW(),RW(),lYe(),wS=k6(x4),PW=wS.right,cYe=wS.left,uYe=k6(OW).center,BW=PW});function kS({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function FW({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function $W({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function zW(e){return e!==null&&typeof e=="object"?e.valueOf():e}var TS,dYe=R(()=>{"use strict";TS=class extends Map{static{o(this,"InternMap")}constructor(e,t=zW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(let[r,n]of e)this.set(r,n)}get(e){return super.get(kS(this,e))}has(e){return super.has(kS(this,e))}set(e,t){return super.set(FW(this,e),t)}delete(e){return super.delete($W(this,e))}},o(kS,"intern_get"),o(FW,"intern_set"),o($W,"intern_delete"),o(zW,"keyof")});function w4(e,t,r){let n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=GW?10:a>=YW?5:a>=jW?2:1,l,u,h;return i<0?(h=Math.pow(10,-i)/s,l=Math.round(e*h),u=Math.round(t*h),l/h<e&&++l,u/h>t&&--u,h=-h):(h=Math.pow(10,i)*s,l=Math.round(e/h),u=Math.round(t/h),l*h<e&&++l,u*h>t&&--u),u<l&&.5<=r&&r<2?w4(e,t,r*2):[l,u,h]}function qW(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];let n=t<e,[i,a,s]=n?w4(t,e,r):w4(e,t,r);if(!(a>=i))return[];let l=a-i+1,u=new Array(l);if(n)if(s<0)for(let h=0;h<l;++h)u[h]=(a-h)/-s;else for(let h=0;h<l;++h)u[h]=(a-h)*s;else if(s<0)for(let h=0;h<l;++h)u[h]=(i+h)/-s;else for(let h=0;h<l;++h)u[h]=(i+h)*s;return u}function T6(e,t,r){return t=+t,e=+e,r=+r,w4(e,t,r)[2]}function E6(e,t,r){t=+t,e=+e,r=+r;let n=t<e,i=n?T6(t,e,r):T6(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}var GW,YW,jW,pYe=R(()=>{"use strict";GW=Math.sqrt(50),YW=Math.sqrt(10),jW=Math.sqrt(2),o(w4,"tickSpec"),o(qW,"ticks"),o(T6,"tickIncrement"),o(E6,"tickStep")});function HW(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}var gYe=R(()=>{"use strict";o(HW,"max")});function UW(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}var fYe=R(()=>{"use strict";o(UW,"min")});function VW(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}var mYe=R(()=>{"use strict";o(VW,"range")}),tp=R(()=>{"use strict";hYe(),RW(),gYe(),fYe(),mYe(),pYe(),dYe()});function WW(e){return e}var yYe=R(()=>{"use strict";o(WW,"default")});function XW(e){return"translate("+e+",0)"}function KW(e){return"translate(0,"+e+")"}function ZW(e){return t=>+e(t)}function QW(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function JW(){return!this.__axis}function ES(e,t){var r=[],n=null,i=null,a=6,s=6,l=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=e===k4||e===T4?-1:1,d=e===T4||e===C6?"x":"y",p=e===k4||e===_6?XW:KW;function f(g){var m=n??(t.ticks?t.ticks.apply(t,r):t.domain()),y=i??(t.tickFormat?t.tickFormat.apply(t,r):WW),b=Math.max(a,0)+l,v=t.range(),x=+v[0]+u,w=+v[v.length-1]+u,E=(t.bandwidth?QW:ZW)(t.copy(),u),A=g.selection?g.selection():g,N=A.selectAll(".domain").data([null]),L=A.selectAll(".tick").data(m,t).order(),C=L.exit(),D=L.enter().append("g").attr("class","tick"),P=L.select("line"),O=L.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),L=L.merge(D),P=P.merge(D.append("line").attr("stroke","currentColor").attr(d+"2",h*a)),O=O.merge(D.append("text").attr("fill","currentColor").attr(d,h*b).attr("dy",e===k4?"0em":e===_6?"0.71em":"0.32em")),g!==A&&(N=N.transition(g),L=L.transition(g),P=P.transition(g),O=O.transition(g),C=C.transition(g).attr("opacity",CS).attr("transform",function(I){return isFinite(I=E(I))?p(I+u):this.getAttribute("transform")}),D.attr("opacity",CS).attr("transform",function(I){var q=this.parentNode.__axis;return p((q&&isFinite(q=q(I))?q:E(I))+u)})),C.remove(),N.attr("d",e===T4||e===C6?s?"M"+h*s+","+x+"H"+u+"V"+w+"H"+h*s:"M"+u+","+x+"V"+w:s?"M"+x+","+h*s+"V"+u+"H"+w+"V"+h*s:"M"+x+","+u+"H"+w),L.attr("opacity",1).attr("transform",function(I){return p(E(I)+u)}),P.attr(d+"2",h*a),O.attr(d,h*b).text(y),A.filter(JW).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===C6?"start":e===T4?"end":"middle"),A.each(function(){this.__axis=E})}return o(f,"axis"),f.scale=function(g){return arguments.length?(t=g,f):t},f.ticks=function(){return r=Array.from(arguments),f},f.tickArguments=function(g){return arguments.length?(r=g==null?[]:Array.from(g),f):r.slice()},f.tickValues=function(g){return arguments.length?(n=g==null?null:Array.from(g),f):n&&n.slice()},f.tickFormat=function(g){return arguments.length?(i=g,f):i},f.tickSize=function(g){return arguments.length?(a=s=+g,f):a},f.tickSizeInner=function(g){return arguments.length?(a=+g,f):a},f.tickSizeOuter=function(g){return arguments.length?(s=+g,f):s},f.tickPadding=function(g){return arguments.length?(l=+g,f):l},f.offset=function(g){return arguments.length?(u=+g,f):u},f}function eX(e){return ES(k4,e)}function tX(e){return ES(_6,e)}var k4,C6,_6,T4,CS,vYe=R(()=>{"use strict";yYe(),k4=1,C6=2,_6=3,T4=4,CS=1e-6,o(XW,"translateX"),o(KW,"translateY"),o(ZW,"number"),o(QW,"center"),o(JW,"entering"),o(ES,"axis"),o(eX,"axisTop"),o(tX,"axisBottom")}),bYe=R(()=>{"use strict";vYe()});function _S(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new E4(r)}function E4(e){this._=e}function rX(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function nX(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function SS(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=iX,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var iX,aX,xYe=R(()=>{"use strict";iX={value:o(()=>{},"value")},o(_S,"dispatch"),o(E4,"Dispatch"),o(rX,"parseTypenames"),E4.prototype=_S.prototype={constructor:E4,on:o(function(e,t){var r=this._,n=rX(e+"",r),i,a=-1,s=n.length;if(arguments.length<2){for(;++a<s;)if((i=(e=n[a]).type)&&(i=nX(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=n[a]).type)r[i]=SS(r[i],e.name,t);else if(t==null)for(i in r)r[i]=SS(r[i],e.name,null);return this},"on"),copy:o(function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new E4(e)},"copy"),call:o(function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,i=a.length;n<i;++n)a[n].value.apply(t,r)},"call"),apply:o(function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)},"apply")},o(nX,"get"),o(SS,"set"),aX=_S}),sX=R(()=>{"use strict";xYe()}),S6,AS,oX=R(()=>{"use strict";S6="http://www.w3.org/1999/xhtml",AS={svg:"http://www.w3.org/2000/svg",xhtml:S6,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function C4(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),AS.hasOwnProperty(t)?{space:AS[t],local:e}:e}var LS=R(()=>{"use strict";oX(),o(C4,"default")});function lX(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===S6&&t.documentElement.namespaceURI===S6?t.createElement(e):t.createElementNS(r,e)}}function cX(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function NS(e){var t=C4(e);return(t.local?cX:lX)(t)}var uX=R(()=>{"use strict";LS(),oX(),o(lX,"creatorInherit"),o(cX,"creatorFixed"),o(NS,"default")});function hX(){}function A6(e){return e==null?hX:function(){return this.querySelector(e)}}var MS=R(()=>{"use strict";o(hX,"none"),o(A6,"default")});function dX(e){typeof e!="function"&&(e=A6(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,l=n[i]=new Array(s),u,h,d=0;d<s;++d)(u=a[d])&&(h=e.call(u,u.__data__,d,a))&&("__data__"in u&&(h.__data__=u.__data__),l[d]=h);return new ml(n,this._parents)}var wYe=R(()=>{"use strict";ju(),MS(),o(dX,"default")});function pX(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}var kYe=R(()=>{"use strict";o(pX,"array")});function gX(){return[]}function IS(e){return e==null?gX:function(){return this.querySelectorAll(e)}}var fX=R(()=>{"use strict";o(gX,"empty"),o(IS,"default")});function mX(e){return function(){return pX(e.apply(this,arguments))}}function yX(e){typeof e=="function"?e=mX(e):e=IS(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var s=t[a],l=s.length,u,h=0;h<l;++h)(u=s[h])&&(n.push(e.call(u,u.__data__,h,s)),i.push(u));return new ml(n,i)}var TYe=R(()=>{"use strict";ju(),kYe(),fX(),o(mX,"arrayAll"),o(yX,"default")});function DS(e){return function(){return this.matches(e)}}function RS(e){return function(t){return t.matches(e)}}var L6=R(()=>{"use strict";o(DS,"default"),o(RS,"childMatcher")});function vX(e){return function(){return wX.call(this.children,e)}}function bX(){return this.firstElementChild}function xX(e){return this.select(e==null?bX:vX(typeof e=="function"?e:RS(e)))}var wX,EYe=R(()=>{"use strict";L6(),wX=Array.prototype.find,o(vX,"childFind"),o(bX,"childFirst"),o(xX,"default")});function kX(){return Array.from(this.children)}function TX(e){return function(){return CX.call(this.children,e)}}function EX(e){return this.selectAll(e==null?kX:TX(typeof e=="function"?e:RS(e)))}var CX,CYe=R(()=>{"use strict";L6(),CX=Array.prototype.filter,o(kX,"children"),o(TX,"childrenFilter"),o(EX,"default")});function _X(e){typeof e!="function"&&(e=DS(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,l=n[i]=[],u,h=0;h<s;++h)(u=a[h])&&e.call(u,u.__data__,h,a)&&l.push(u);return new ml(n,this._parents)}var _Ye=R(()=>{"use strict";ju(),L6(),o(_X,"default")});function OS(e){return new Array(e.length)}var SX=R(()=>{"use strict";o(OS,"default")});function AX(){return new ml(this._enter||this._groups.map(OS),this._parents)}function _4(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var LX=R(()=>{"use strict";SX(),ju(),o(AX,"default"),o(_4,"EnterNode"),_4.prototype={constructor:_4,appendChild:o(function(e){return this._parent.insertBefore(e,this._next)},"appendChild"),insertBefore:o(function(e,t){return this._parent.insertBefore(e,t)},"insertBefore"),querySelector:o(function(e){return this._parent.querySelector(e)},"querySelector"),querySelectorAll:o(function(e){return this._parent.querySelectorAll(e)},"querySelectorAll")}});function NX(e){return function(){return e}}var SYe=R(()=>{"use strict";o(NX,"default")});function MX(e,t,r,n,i,a){for(var s=0,l,u=t.length,h=a.length;s<h;++s)(l=t[s])?(l.__data__=a[s],n[s]=l):r[s]=new _4(e,a[s]);for(;s<u;++s)(l=t[s])&&(i[s]=l)}function IX(e,t,r,n,i,a,s){var l,u,h=new Map,d=t.length,p=a.length,f=new Array(d),g;for(l=0;l<d;++l)(u=t[l])&&(f[l]=g=s.call(u,u.__data__,l,t)+"",h.has(g)?i[l]=u:h.set(g,u));for(l=0;l<p;++l)g=s.call(e,a[l],l,a)+"",(u=h.get(g))?(n[l]=u,u.__data__=a[l],h.delete(g)):r[l]=new _4(e,a[l]);for(l=0;l<d;++l)(u=t[l])&&h.get(f[l])===u&&(i[l]=u)}function DX(e){return e.__data__}function RX(e,t){if(!arguments.length)return Array.from(this,DX);var r=t?IX:MX,n=this._parents,i=this._groups;typeof e!="function"&&(e=NX(e));for(var a=i.length,s=new Array(a),l=new Array(a),u=new Array(a),h=0;h<a;++h){var d=n[h],p=i[h],f=p.length,g=OX(e.call(d,d&&d.__data__,h,n)),m=g.length,y=l[h]=new Array(m),b=s[h]=new Array(m),v=u[h]=new Array(f);r(d,p,y,b,v,g,t);for(var x=0,w=0,E,A;x<m;++x)if(E=y[x]){for(x>=w&&(w=x+1);!(A=b[w])&&++w<m;);E._next=A||null}}return s=new ml(s,n),s._enter=l,s._exit=u,s}function OX(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var AYe=R(()=>{"use strict";ju(),LX(),SYe(),o(MX,"bindIndex"),o(IX,"bindKey"),o(DX,"datum"),o(RX,"default"),o(OX,"arraylike")});function PX(){return new ml(this._exit||this._groups.map(OS),this._parents)}var LYe=R(()=>{"use strict";SX(),ju(),o(PX,"default")});function BX(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}var NYe=R(()=>{"use strict";o(BX,"default")});function FX(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,s=Math.min(i,a),l=new Array(i),u=0;u<s;++u)for(var h=r[u],d=n[u],p=h.length,f=l[u]=new Array(p),g,m=0;m<p;++m)(g=h[m]||d[m])&&(f[m]=g);for(;u<i;++u)l[u]=r[u];return new ml(l,this._parents)}var MYe=R(()=>{"use strict";ju(),o(FX,"default")});function $X(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,a=n[i],s;--i>=0;)(s=n[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}var IYe=R(()=>{"use strict";o($X,"default")});function zX(e){e||(e=qX);function t(p,f){return p&&f?e(p.__data__,f.__data__):!p-!f}o(t,"compareNode");for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var s=r[a],l=s.length,u=i[a]=new Array(l),h,d=0;d<l;++d)(h=s[d])&&(u[d]=h);u.sort(t)}return new ml(i,this._parents).order()}function qX(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var DYe=R(()=>{"use strict";ju(),o(zX,"default"),o(qX,"ascending")});function GX(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var RYe=R(()=>{"use strict";o(GX,"default")});function YX(){return Array.from(this)}var OYe=R(()=>{"use strict";o(YX,"default")});function jX(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var s=n[i];if(s)return s}return null}var PYe=R(()=>{"use strict";o(jX,"default")});function HX(){let e=0;for(let t of this)++e;return e}var BYe=R(()=>{"use strict";o(HX,"default")});function UX(){return!this.node()}var FYe=R(()=>{"use strict";o(UX,"default")});function VX(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],a=0,s=i.length,l;a<s;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}var $Ye=R(()=>{"use strict";o(VX,"default")});function WX(e){return function(){this.removeAttribute(e)}}function XX(e){return function(){this.removeAttributeNS(e.space,e.local)}}function KX(e,t){return function(){this.setAttribute(e,t)}}function ZX(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function QX(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function JX(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function eK(e,t){var r=C4(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?XX:WX:typeof t=="function"?r.local?JX:QX:r.local?ZX:KX)(r,t))}var zYe=R(()=>{"use strict";LS(),o(WX,"attrRemove"),o(XX,"attrRemoveNS"),o(KX,"attrConstant"),o(ZX,"attrConstantNS"),o(QX,"attrFunction"),o(JX,"attrFunctionNS"),o(eK,"default")});function PS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var tK=R(()=>{"use strict";o(PS,"default")});function rK(e){return function(){this.style.removeProperty(e)}}function nK(e,t,r){return function(){this.style.setProperty(e,t,r)}}function iK(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function aK(e,t,r){return arguments.length>1?this.each((t==null?rK:typeof t=="function"?iK:nK)(e,t,r??"")):rp(this.node(),e)}function rp(e,t){return e.style.getPropertyValue(t)||PS(e).getComputedStyle(e,null).getPropertyValue(t)}var sK=R(()=>{"use strict";tK(),o(rK,"styleRemove"),o(nK,"styleConstant"),o(iK,"styleFunction"),o(aK,"default"),o(rp,"styleValue")});function oK(e){return function(){delete this[e]}}function lK(e,t){return function(){this[e]=t}}function cK(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function uK(e,t){return arguments.length>1?this.each((t==null?oK:typeof t=="function"?cK:lK)(e,t)):this.node()[e]}var qYe=R(()=>{"use strict";o(oK,"propertyRemove"),o(lK,"propertyConstant"),o(cK,"propertyFunction"),o(uK,"default")});function BS(e){return e.trim().split(/^|\s+/)}function N6(e){return e.classList||new FS(e)}function FS(e){this._node=e,this._names=BS(e.getAttribute("class")||"")}function $S(e,t){for(var r=N6(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function zS(e,t){for(var r=N6(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function hK(e){return function(){$S(this,e)}}function dK(e){return function(){zS(this,e)}}function pK(e,t){return function(){(t.apply(this,arguments)?$S:zS)(this,e)}}function gK(e,t){var r=BS(e+"");if(arguments.length<2){for(var n=N6(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?pK:t?hK:dK)(r,t))}var GYe=R(()=>{"use strict";o(BS,"classArray"),o(N6,"classList"),o(FS,"ClassList"),FS.prototype={add:o(function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},"add"),remove:o(function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},"remove"),contains:o(function(e){return this._names.indexOf(e)>=0},"contains")},o($S,"classedAdd"),o(zS,"classedRemove"),o(hK,"classedTrue"),o(dK,"classedFalse"),o(pK,"classedFunction"),o(gK,"default")});function fK(){this.textContent=""}function mK(e){return function(){this.textContent=e}}function yK(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function vK(e){return arguments.length?this.each(e==null?fK:(typeof e=="function"?yK:mK)(e)):this.node().textContent}var YYe=R(()=>{"use strict";o(fK,"textRemove"),o(mK,"textConstant"),o(yK,"textFunction"),o(vK,"default")});function bK(){this.innerHTML=""}function xK(e){return function(){this.innerHTML=e}}function wK(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function kK(e){return arguments.length?this.each(e==null?bK:(typeof e=="function"?wK:xK)(e)):this.node().innerHTML}var jYe=R(()=>{"use strict";o(bK,"htmlRemove"),o(xK,"htmlConstant"),o(wK,"htmlFunction"),o(kK,"default")});function TK(){this.nextSibling&&this.parentNode.appendChild(this)}function EK(){return this.each(TK)}var HYe=R(()=>{"use strict";o(TK,"raise"),o(EK,"default")});function CK(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _K(){return this.each(CK)}var UYe=R(()=>{"use strict";o(CK,"lower"),o(_K,"default")});function SK(e){var t=typeof e=="function"?e:NS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var VYe=R(()=>{"use strict";uX(),o(SK,"default")});function AK(){return null}function LK(e,t){var r=typeof e=="function"?e:NS(e),n=t==null?AK:typeof t=="function"?t:A6(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}var WYe=R(()=>{"use strict";uX(),MS(),o(AK,"constantNull"),o(LK,"default")});function NK(){var e=this.parentNode;e&&e.removeChild(this)}function MK(){return this.each(NK)}var XYe=R(()=>{"use strict";o(NK,"remove"),o(MK,"default")});function IK(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function DK(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function RK(e){return this.select(e?DK:IK)}var KYe=R(()=>{"use strict";o(IK,"selection_cloneShallow"),o(DK,"selection_cloneDeep"),o(RK,"default")});function OK(e){return arguments.length?this.property("__data__",e):this.node().__data__}var ZYe=R(()=>{"use strict";o(OK,"default")});function PK(e){return function(t){e.call(this,t,this.__data__)}}function BK(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function FK(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function $K(e,t,r){return function(){var n=this.__on,i,a=PK(t);if(n){for(var s=0,l=n.length;s<l;++s)if((i=n[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function zK(e,t,r){var n=BK(e+""),i,a=n.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,h=l.length,d;u<h;++u)for(i=0,d=l[u];i<a;++i)if((s=n[i]).type===d.type&&s.name===d.name)return d.value}return}for(l=t?$K:FK,i=0;i<a;++i)this.each(l(n[i],t,r));return this}var QYe=R(()=>{"use strict";o(PK,"contextListener"),o(BK,"parseTypenames"),o(FK,"onRemove"),o($K,"onAdd"),o(zK,"default")});function qS(e,t,r){var n=PS(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function qK(e,t){return function(){return qS(this,e,t)}}function GK(e,t){return function(){return qS(this,e,t.apply(this,arguments))}}function YK(e,t){return this.each((typeof t=="function"?GK:qK)(e,t))}var JYe=R(()=>{"use strict";tK(),o(qS,"dispatchEvent"),o(qK,"dispatchConstant"),o(GK,"dispatchFunction"),o(YK,"default")});function*jK(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length,s;i<a;++i)(s=n[i])&&(yield s)}var eje=R(()=>{"use strict";o(jK,"default")});function ml(e,t){this._groups=e,this._parents=t}function GS(){return new ml([[document.documentElement]],YS)}function HK(){return this}var YS,Rf,ju=R(()=>{"use strict";wYe(),TYe(),EYe(),CYe(),_Ye(),AYe(),LX(),LYe(),NYe(),MYe(),IYe(),DYe(),RYe(),OYe(),PYe(),BYe(),FYe(),$Ye(),zYe(),sK(),qYe(),GYe(),YYe(),jYe(),HYe(),UYe(),VYe(),WYe(),XYe(),KYe(),ZYe(),QYe(),JYe(),eje(),YS=[null],o(ml,"Selection"),o(GS,"selection"),o(HK,"selection_selection"),ml.prototype=GS.prototype={constructor:ml,select:dX,selectAll:yX,selectChild:xX,selectChildren:EX,filter:_X,data:RX,enter:AX,exit:PX,join:BX,merge:FX,selection:HK,order:$X,sort:zX,call:GX,nodes:YX,node:jX,size:HX,empty:UX,each:VX,attr:eK,style:aK,property:uK,classed:gK,text:vK,html:kK,raise:EK,lower:_K,append:SK,insert:LK,remove:MK,clone:RK,datum:OK,on:zK,dispatch:YK,[Symbol.iterator]:jK},Rf=GS});function Bt(e){return typeof e=="string"?new ml([[document.querySelector(e)]],[document.documentElement]):new ml([[e]],YS)}var tje=R(()=>{"use strict";ju(),o(Bt,"default")}),Hu=R(()=>{"use strict";L6(),LS(),tje(),ju(),MS(),fX(),sK()}),rje=R(()=>{"use strict"});function Of(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function S4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}var UK=R(()=>{"use strict";o(Of,"default"),o(S4,"extend")});function cd(){}function jS(){return this.rgb().formatHex()}function VK(){return this.rgb().formatHex8()}function WK(){return ZS(this).formatHsl()}function HS(){return this.rgb().formatRgb()}function ud(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ZK.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?US(t):r===3?new Js(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?A4(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?A4(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QK.exec(e))?new Js(t[1],t[2],t[3],1):(t=JK.exec(e))?new Js(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eZ.exec(e))?A4(t[1],t[2],t[3],t[4]):(t=tZ.exec(e))?A4(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rZ.exec(e))?KS(t[1],t[2]/100,t[3]/100,1):(t=nZ.exec(e))?KS(t[1],t[2]/100,t[3]/100,t[4]):JS.hasOwnProperty(e)?US(JS[e]):e==="transparent"?new Js(NaN,NaN,NaN,0):null}function US(e){return new Js(e>>16&255,e>>8&255,e&255,1)}function A4(e,t,r,n){return n<=0&&(e=t=r=NaN),new Js(e,t,r,n)}function VS(e){return e instanceof cd||(e=ud(e)),e?(e=e.rgb(),new Js(e.r,e.g,e.b,e.opacity)):new Js}function L4(e,t,r,n){return arguments.length===1?VS(e):new Js(e,t,r,n??1)}function Js(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function WS(){return`#${dd(this.r)}${dd(this.g)}${dd(this.b)}`}function XK(){return`#${dd(this.r)}${dd(this.g)}${dd(this.b)}${dd((isNaN(this.opacity)?1:this.opacity)*255)}`}function XS(){let e=N4(this.opacity);return`${e===1?"rgb(":"rgba("}${hd(this.r)}, ${hd(this.g)}, ${hd(this.b)}${e===1?")":`, ${e})`}`}function N4(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function hd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function dd(e){return e=hd(e),(e<16?"0":"")+e.toString(16)}function KS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new vc(e,t,r,n)}function ZS(e){if(e instanceof vc)return new vc(e.h,e.s,e.l,e.opacity);if(e instanceof cd||(e=ud(e)),!e)return new vc;if(e instanceof vc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,l=a-i,u=(a+i)/2;return l?(t===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-t)/l+2:s=(t-r)/l+4,l/=u<.5?a+i:2-a-i,s*=60):l=u>0&&u<1?0:s,new vc(s,l,u,e.opacity)}function KK(e,t,r,n){return arguments.length===1?ZS(e):new vc(e,t,r,n??1)}function vc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function QS(e){return e=(e||0)%360,e<0?e+360:e}function M4(e){return Math.max(0,Math.min(1,e||0))}function M6(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var Pf,I4,np,Bf,eu,ZK,QK,JK,eZ,tZ,rZ,nZ,JS,iZ=R(()=>{"use strict";UK(),o(cd,"Color"),Pf=.7,I4=1/Pf,np="\\s*([+-]?\\d+)\\s*",Bf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZK=/^#([0-9a-f]{3,8})$/,QK=new RegExp(`^rgb\\(${np},${np},${np}\\)$`),JK=new RegExp(`^rgb\\(${eu},${eu},${eu}\\)$`),eZ=new RegExp(`^rgba\\(${np},${np},${np},${Bf}\\)$`),tZ=new RegExp(`^rgba\\(${eu},${eu},${eu},${Bf}\\)$`),rZ=new RegExp(`^hsl\\(${Bf},${eu},${eu}\\)$`),nZ=new RegExp(`^hsla\\(${Bf},${eu},${eu},${Bf}\\)$`),JS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Of(cd,ud,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jS,formatHex:jS,formatHex8:VK,formatHsl:WK,formatRgb:HS,toString:HS}),o(jS,"color_formatHex"),o(VK,"color_formatHex8"),o(WK,"color_formatHsl"),o(HS,"color_formatRgb"),o(ud,"color"),o(US,"rgbn"),o(A4,"rgba"),o(VS,"rgbConvert"),o(L4,"rgb"),o(Js,"Rgb"),Of(Js,L4,S4(cd,{brighter(e){return e=e==null?I4:Math.pow(I4,e),new Js(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pf:Math.pow(Pf,e),new Js(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Js(hd(this.r),hd(this.g),hd(this.b),N4(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WS,formatHex:WS,formatHex8:XK,formatRgb:XS,toString:XS})),o(WS,"rgb_formatHex"),o(XK,"rgb_formatHex8"),o(XS,"rgb_formatRgb"),o(N4,"clampa"),o(hd,"clampi"),o(dd,"hex"),o(KS,"hsla"),o(ZS,"hslConvert"),o(KK,"hsl"),o(vc,"Hsl"),Of(vc,KK,S4(cd,{brighter(e){return e=e==null?I4:Math.pow(I4,e),new vc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pf:Math.pow(Pf,e),new vc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Js(M6(e>=240?e-240:e+120,i,n),M6(e,i,n),M6(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new vc(QS(this.h),M4(this.s),M4(this.l),N4(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=N4(this.opacity);return`${e===1?"hsl(":"hsla("}${QS(this.h)}, ${M4(this.s)*100}%, ${M4(this.l)*100}%${e===1?")":`, ${e})`}`}})),o(QS,"clamph"),o(M4,"clampt"),o(M6,"hsl2rgb")}),aZ,sZ,nje=R(()=>{"use strict";aZ=Math.PI/180,sZ=180/Math.PI});function eA(e){if(e instanceof tu)return new tu(e.l,e.a,e.b,e.opacity);if(e instanceof Uu)return tA(e);e instanceof Js||(e=VS(e));var t=O6(e.r),r=O6(e.g),n=O6(e.b),i=I6((.2225045*t+.7168786*r+.0606169*n)/nA),a,s;return t===r&&r===n?a=s=i:(a=I6((.4360747*t+.3850649*r+.1430804*n)/rA),s=I6((.0139322*t+.0971045*r+.7141733*n)/iA)),new tu(116*i-16,500*(a-i),200*(i-s),e.opacity)}function oZ(e,t,r,n){return arguments.length===1?eA(e):new tu(e,t,r,n??1)}function tu(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function I6(e){return e>cZ?Math.pow(e,1/3):e/sA+aA}function D6(e){return e>ip?e*e*e:sA*(e-aA)}function R6(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function O6(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function lZ(e){if(e instanceof Uu)return new Uu(e.h,e.c,e.l,e.opacity);if(e instanceof tu||(e=eA(e)),e.a===0&&e.b===0)return new Uu(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*sZ;return new Uu(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function P6(e,t,r,n){return arguments.length===1?lZ(e):new Uu(e,t,r,n??1)}function Uu(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function tA(e){if(isNaN(e.h))return new tu(e.l,0,0,e.opacity);var t=e.h*aZ;return new tu(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}var D4,rA,nA,iA,aA,ip,sA,cZ,ije=R(()=>{"use strict";UK(),iZ(),nje(),D4=18,rA=.96422,nA=1,iA=.82521,aA=4/29,ip=6/29,sA=3*ip*ip,cZ=ip*ip*ip,o(eA,"labConvert"),o(oZ,"lab"),o(tu,"Lab"),Of(tu,oZ,S4(cd,{brighter(e){return new tu(this.l+D4*(e??1),this.a,this.b,this.opacity)},darker(e){return new tu(this.l-D4*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=rA*D6(t),e=nA*D6(e),r=iA*D6(r),new Js(R6(3.1338561*t-1.6168667*e-.4906146*r),R6(-.9787684*t+1.9161415*e+.033454*r),R6(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}})),o(I6,"xyz2lab"),o(D6,"lab2xyz"),o(R6,"lrgb2rgb"),o(O6,"rgb2lrgb"),o(lZ,"hclConvert"),o(P6,"hcl"),o(Uu,"Hcl"),o(tA,"hcl2lab"),Of(Uu,P6,S4(cd,{brighter(e){return new Uu(this.h,this.c,this.l+D4*(e??1),this.opacity)},darker(e){return new Uu(this.h,this.c,this.l-D4*(e??1),this.opacity)},rgb(){return tA(this).rgb()}}))}),R4=R(()=>{"use strict";iZ(),ije()});function oA(e,t,r,n,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*r+(1+3*e+3*a-3*s)*n+s*i)/6}function uZ(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],s=n>0?e[n-1]:2*i-a,l=n<t-1?e[n+2]:2*a-i;return oA((r-n/t)*t,s,i,a,l)}}var hZ=R(()=>{"use strict";o(oA,"basis"),o(uZ,"default")});function dZ(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],s=e[(n+1)%t],l=e[(n+2)%t];return oA((r-n/t)*t,i,a,s,l)}}var aje=R(()=>{"use strict";hZ(),o(dZ,"default")}),O4,pZ=R(()=>{"use strict";O4=o(e=>()=>e,"default")});function lA(e,t){return function(r){return e+r*t}}function gZ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function fZ(e,t){var r=t-e;return r?lA(e,r>180||r<-180?r-360*Math.round(r/360):r):O4(isNaN(e)?t:e)}function mZ(e){return(e=+e)==1?ap:function(t,r){return r-t?gZ(t,r,e):O4(isNaN(t)?r:t)}}function ap(e,t){var r=t-e;return r?lA(e,r):O4(isNaN(e)?t:e)}var yZ=R(()=>{"use strict";pZ(),o(lA,"linear"),o(gZ,"exponential"),o(fZ,"hue"),o(mZ,"gamma"),o(ap,"nogamma")});function cA(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),a=new Array(r),s,l;for(s=0;s<r;++s)l=L4(t[s]),n[s]=l.r||0,i[s]=l.g||0,a[s]=l.b||0;return n=e(n),i=e(i),a=e(a),l.opacity=1,function(u){return l.r=n(u),l.g=i(u),l.b=a(u),l+""}}}var P4,sje,oje,vZ=R(()=>{"use strict";R4(),hZ(),aje(),yZ(),P4=o(function e(t){var r=mZ(t);function n(i,a){var s=r((i=L4(i)).r,(a=L4(a)).r),l=r(i.g,a.g),u=r(i.b,a.b),h=ap(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=u(d),i.opacity=h(d),i+""}}return o(n,"rgb"),n.gamma=e,n},"rgbGamma")(1),o(cA,"rgbSpline"),sje=cA(uZ),oje=cA(dZ)});function bZ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function xZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var lje=R(()=>{"use strict";o(bZ,"default"),o(xZ,"isNumberArray")});function wZ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=z6(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}var cje=R(()=>{"use strict";hA(),o(wZ,"genericArray")});function kZ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}var uje=R(()=>{"use strict";o(kZ,"default")});function bc(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var B6=R(()=>{"use strict";o(bc,"default")});function TZ(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=z6(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var hje=R(()=>{"use strict";hA(),o(TZ,"default")});function EZ(e){return function(){return e}}function CZ(e){return function(t){return e(t)+""}}function uA(e,t){var r=F6.lastIndex=$6.lastIndex=0,n,i,a,s=-1,l=[],u=[];for(e=e+"",t=t+"";(n=F6.exec(e))&&(i=$6.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,u.push({i:s,x:bc(n,i)})),r=$6.lastIndex;return r<t.length&&(a=t.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?u[0]?CZ(u[0].x):EZ(t):(t=u.length,function(h){for(var d=0,p;d<t;++d)l[(p=u[d]).i]=p.x(h);return l.join("")})}var F6,$6,_Z=R(()=>{"use strict";B6(),F6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$6=new RegExp(F6.source,"g"),o(EZ,"zero"),o(CZ,"one"),o(uA,"default")});function z6(e,t){var r=typeof t,n;return t==null||r==="boolean"?O4(t):(r==="number"?bc:r==="string"?(n=ud(t))?(t=n,P4):uA:t instanceof ud?P4:t instanceof Date?kZ:xZ(t)?bZ:Array.isArray(t)?wZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?TZ:bc)(e,t)}var hA=R(()=>{"use strict";R4(),vZ(),cje(),uje(),B6(),hje(),_Z(),pZ(),lje(),o(z6,"default")});function SZ(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var dje=R(()=>{"use strict";o(SZ,"default")});function dA(e,t,r,n,i,a){var s,l,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,u/=l),e*n<t*r&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*pA,skewX:Math.atan(u)*pA,scaleX:s,scaleY:l}}var pA,q6,pje=R(()=>{"use strict";pA=180/Math.PI,q6={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},o(dA,"default")});function AZ(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?q6:dA(t.a,t.b,t.c,t.d,t.e,t.f)}function LZ(e){return e==null?q6:(G6||(G6=document.createElementNS("http://www.w3.org/2000/svg","g")),G6.setAttribute("transform",e),(e=G6.transform.baseVal.consolidate())?(e=e.matrix,dA(e.a,e.b,e.c,e.d,e.e,e.f)):q6)}var G6,gje=R(()=>{"use strict";pje(),o(AZ,"parseCss"),o(LZ,"parseSvg")});function gA(e,t,r,n){function i(h){return h.length?h.pop()+" ":""}o(i,"pop");function a(h,d,p,f,g,m){if(h!==p||d!==f){var y=g.push("translate(",null,t,null,r);m.push({i:y-4,x:bc(h,p)},{i:y-2,x:bc(d,f)})}else(p||f)&&g.push("translate("+p+t+f+r)}o(a,"translate");function s(h,d,p,f){h!==d?(h-d>180?d+=360:d-h>180&&(h+=360),f.push({i:p.push(i(p)+"rotate(",null,n)-2,x:bc(h,d)})):d&&p.push(i(p)+"rotate("+d+n)}o(s,"rotate");function l(h,d,p,f){h!==d?f.push({i:p.push(i(p)+"skewX(",null,n)-2,x:bc(h,d)}):d&&p.push(i(p)+"skewX("+d+n)}o(l,"skewX");function u(h,d,p,f,g,m){if(h!==p||d!==f){var y=g.push(i(g)+"scale(",null,",",null,")");m.push({i:y-4,x:bc(h,p)},{i:y-2,x:bc(d,f)})}else(p!==1||f!==1)&&g.push(i(g)+"scale("+p+","+f+")")}return o(u,"scale"),function(h,d){var p=[],f=[];return h=e(h),d=e(d),a(h.translateX,h.translateY,d.translateX,d.translateY,p,f),s(h.rotate,d.rotate,p,f),l(h.skewX,d.skewX,p,f),u(h.scaleX,h.scaleY,d.scaleX,d.scaleY,p,f),h=d=null,function(g){for(var m=-1,y=f.length,b;++m<y;)p[(b=f[m]).i]=b.x(g);return p.join("")}}}var NZ,MZ,fje=R(()=>{"use strict";B6(),gje(),o(gA,"interpolateTransform"),NZ=gA(AZ,"px, ","px)","deg)"),MZ=gA(LZ,", ",")",")")});function fA(e){return function(t,r){var n=e((t=P6(t)).h,(r=P6(r)).h),i=ap(t.c,r.c),a=ap(t.l,r.l),s=ap(t.opacity,r.opacity);return function(l){return t.h=n(l),t.c=i(l),t.l=a(l),t.opacity=s(l),t+""}}}var IZ,mje,yje=R(()=>{"use strict";R4(),yZ(),o(fA,"hcl"),IZ=fA(fZ),mje=fA(ap)}),B4=R(()=>{"use strict";hA(),B6(),dje(),_Z(),fje(),vZ(),yje()});function Y6(){return pd||(bA(DZ),pd=zf.now()+q4)}function DZ(){pd=0}function F4(){this._call=this._time=this._next=null}function mA(e,t,r){var n=new F4;return n.restart(e,t,r),n}function RZ(){Y6(),++sp;for(var e=H6,t;e;)(t=pd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--sp}function yA(){pd=(z4=zf.now())+q4,sp=Ff=0;try{RZ()}finally{sp=0,PZ(),pd=0}}function OZ(){var e=zf.now(),t=e-z4;t>vA&&(q4-=t,z4=e)}function PZ(){for(var e,t=H6,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:H6=r);$4=e,j6(n)}function j6(e){if(!sp){Ff&&(Ff=clearTimeout(Ff));var t=e-pd;t>24?(e<1/0&&(Ff=setTimeout(yA,e-zf.now()-q4)),$f&&($f=clearInterval($f))):($f||(z4=zf.now(),$f=setInterval(OZ,vA)),sp=1,bA(yA))}}var sp,Ff,$f,vA,H6,$4,z4,pd,q4,zf,bA,BZ=R(()=>{"use strict";sp=0,Ff=0,$f=0,vA=1e3,z4=0,pd=0,q4=0,zf=typeof performance=="object"&&performance.now?performance:Date,bA=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)},o(Y6,"now"),o(DZ,"clearNow"),o(F4,"Timer"),F4.prototype=mA.prototype={constructor:F4,restart:o(function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Y6():+r)+(t==null?0:+t),!this._next&&$4!==this&&($4?$4._next=this:H6=this,$4=this),this._call=e,this._time=r,j6()},"restart"),stop:o(function(){this._call&&(this._call=null,this._time=1/0,j6())},"stop")},o(mA,"timer"),o(RZ,"timerFlush"),o(yA,"wake"),o(OZ,"poke"),o(PZ,"nap"),o(j6,"sleep")});function xA(e,t,r){var n=new F4;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var vje=R(()=>{"use strict";BZ(),o(xA,"default")}),wA=R(()=>{"use strict";BZ(),vje()});function G4(e,t,r,n,i,a){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;FZ(e,r,{name:t,index:n,group:i,on:$Z,tween:zZ,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:kA})}function U6(e,t){var r=xc(e,t);if(r.state>kA)throw new Error("too late; already scheduled");return r}function ru(e,t){var r=xc(e,t);if(r.state>Y4)throw new Error("too late; already running");return r}function xc(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function FZ(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=mA(a,0,r.time);function a(h){r.state=TA,r.timer.restart(s,r.delay,r.time),r.delay<=h&&s(h-r.delay)}o(a,"schedule");function s(h){var d,p,f,g;if(r.state!==TA)return u();for(d in n)if(g=n[d],g.name===r.name){if(g.state===Y4)return xA(s);g.state===EA?(g.state=j4,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete n[d]):+d<t&&(g.state=j4,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete n[d])}if(xA(function(){r.state===Y4&&(r.state=EA,r.timer.restart(l,r.delay,r.time),l(h))}),r.state=V6,r.on.call("start",e,e.__data__,r.index,r.group),r.state===V6){for(r.state=Y4,i=new Array(f=r.tween.length),d=0,p=-1;d<f;++d)(g=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(i[++p]=g);i.length=p+1}}o(s,"start");function l(h){for(var d=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(u),r.state=W6,1),p=-1,f=i.length;++p<f;)i[p].call(e,d);r.state===W6&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}o(l,"tick");function u(){r.state=j4,r.timer.stop(),delete n[t];for(var h in n)return;delete e.__transition}o(u,"stop")}var $Z,zZ,kA,TA,V6,Y4,EA,W6,j4,Gl=R(()=>{"use strict";sX(),wA(),$Z=aX("start","end","cancel","interrupt"),zZ=[],kA=0,TA=1,V6=2,Y4=3,EA=4,W6=5,j4=6,o(G4,"default"),o(U6,"init"),o(ru,"set"),o(xc,"get"),o(FZ,"create")});function qZ(e,t){var r=e.__transition,n,i,a=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){a=!1;continue}i=n.state>V6&&n.state<W6,n.state=j4,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}a&&delete e.__transition}}var bje=R(()=>{"use strict";Gl(),o(qZ,"default")});function GZ(e){return this.each(function(){qZ(this,e)})}var xje=R(()=>{"use strict";bje(),o(GZ,"default")});function YZ(e,t){var r,n;return function(){var i=ru(this,e),a=i.tween;if(a!==r){n=r=a;for(var s=0,l=n.length;s<l;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function jZ(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=ru(this,e),s=a.tween;if(s!==n){i=(n=s).slice();for(var l={name:t,value:r},u=0,h=i.length;u<h;++u)if(i[u].name===t){i[u]=l;break}u===h&&i.push(l)}a.tween=i}}function HZ(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=xc(this.node(),r).tween,i=0,a=n.length,s;i<a;++i)if((s=n[i]).name===e)return s.value;return null}return this.each((t==null?YZ:jZ)(r,e,t))}function X6(e,t,r){var n=e._id;return e.each(function(){var i=ru(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return xc(i,n).value[t]}}var K6=R(()=>{"use strict";Gl(),o(YZ,"tweenRemove"),o(jZ,"tweenFunction"),o(HZ,"default"),o(X6,"tweenValue")});function CA(e,t){var r;return(typeof t=="number"?bc:t instanceof ud?P4:(r=ud(t))?(t=r,P4):uA)(e,t)}var UZ=R(()=>{"use strict";R4(),B4(),o(CA,"default")});function VZ(e){return function(){this.removeAttribute(e)}}function WZ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function XZ(e,t,r){var n,i=r+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===n?a:a=t(n=s,r)}}function KZ(e,t,r){var n,i=r+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===n?a:a=t(n=s,r)}}function ZZ(e,t,r){var n,i,a;return function(){var s,l=r(this),u;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=l+"",s===u?null:s===n&&u===i?a:(i=u,a=t(n=s,l)))}}function QZ(e,t,r){var n,i,a;return function(){var s,l=r(this),u;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=l+"",s===u?null:s===n&&u===i?a:(i=u,a=t(n=s,l)))}}function JZ(e,t){var r=C4(e),n=r==="transform"?MZ:CA;return this.attrTween(e,typeof t=="function"?(r.local?QZ:ZZ)(r,n,X6(this,"attr."+e,t)):t==null?(r.local?WZ:VZ)(r):(r.local?KZ:XZ)(r,n,t))}var wje=R(()=>{"use strict";B4(),Hu(),K6(),UZ(),o(VZ,"attrRemove"),o(WZ,"attrRemoveNS"),o(XZ,"attrConstant"),o(KZ,"attrConstantNS"),o(ZZ,"attrFunction"),o(QZ,"attrFunctionNS"),o(JZ,"default")});function eQ(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function tQ(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function rQ(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&tQ(e,a)),r}return o(i,"tween"),i._value=t,i}function nQ(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&eQ(e,a)),r}return o(i,"tween"),i._value=t,i}function iQ(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=C4(e);return this.tween(r,(n.local?rQ:nQ)(n,t))}var kje=R(()=>{"use strict";Hu(),o(eQ,"attrInterpolate"),o(tQ,"attrInterpolateNS"),o(rQ,"attrTweenNS"),o(nQ,"attrTween"),o(iQ,"default")});function aQ(e,t){return function(){U6(this,e).delay=+t.apply(this,arguments)}}function sQ(e,t){return t=+t,function(){U6(this,e).delay=t}}function oQ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?aQ:sQ)(t,e)):xc(this.node(),t).delay}var Tje=R(()=>{"use strict";Gl(),o(aQ,"delayFunction"),o(sQ,"delayConstant"),o(oQ,"default")});function lQ(e,t){return function(){ru(this,e).duration=+t.apply(this,arguments)}}function cQ(e,t){return t=+t,function(){ru(this,e).duration=t}}function uQ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?lQ:cQ)(t,e)):xc(this.node(),t).duration}var Eje=R(()=>{"use strict";Gl(),o(lQ,"durationFunction"),o(cQ,"durationConstant"),o(uQ,"default")});function hQ(e,t){if(typeof t!="function")throw new Error;return function(){ru(this,e).ease=t}}function dQ(e){var t=this._id;return arguments.length?this.each(hQ(t,e)):xc(this.node(),t).ease}var Cje=R(()=>{"use strict";Gl(),o(hQ,"easeConstant"),o(dQ,"default")});function pQ(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ru(this,e).ease=r}}function gQ(e){if(typeof e!="function")throw new Error;return this.each(pQ(this._id,e))}var _je=R(()=>{"use strict";Gl(),o(pQ,"easeVarying"),o(gQ,"default")});function fQ(e){typeof e!="function"&&(e=DS(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],s=a.length,l=n[i]=[],u,h=0;h<s;++h)(u=a[h])&&e.call(u,u.__data__,h,a)&&l.push(u);return new Vu(n,this._parents,this._name,this._id)}var Sje=R(()=>{"use strict";Hu(),qf(),o(fQ,"default")});function mQ(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),s=new Array(n),l=0;l<a;++l)for(var u=t[l],h=r[l],d=u.length,p=s[l]=new Array(d),f,g=0;g<d;++g)(f=u[g]||h[g])&&(p[g]=f);for(;l<n;++l)s[l]=t[l];return new Vu(s,this._parents,this._name,this._id)}var Aje=R(()=>{"use strict";qf(),o(mQ,"default")});function yQ(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function vQ(e,t,r){var n,i,a=yQ(t)?U6:ru;return function(){var s=a(this,e),l=s.on;l!==n&&(i=(n=l).copy()).on(t,r),s.on=i}}function bQ(e,t){var r=this._id;return arguments.length<2?xc(this.node(),r).on.on(e):this.each(vQ(r,e,t))}var Lje=R(()=>{"use strict";Gl(),o(yQ,"start"),o(vQ,"onFunction"),o(bQ,"default")});function xQ(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function wQ(){return this.on("end.remove",xQ(this._id))}var Nje=R(()=>{"use strict";o(xQ,"removeFunction"),o(wQ,"default")});function kQ(e){var t=this._name,r=this._id;typeof e!="function"&&(e=A6(e));for(var n=this._groups,i=n.length,a=new Array(i),s=0;s<i;++s)for(var l=n[s],u=l.length,h=a[s]=new Array(u),d,p,f=0;f<u;++f)(d=l[f])&&(p=e.call(d,d.__data__,f,l))&&("__data__"in d&&(p.__data__=d.__data__),h[f]=p,G4(h[f],t,r,f,h,xc(d,r)));return new Vu(a,this._parents,t,r)}var Mje=R(()=>{"use strict";Hu(),qf(),Gl(),o(kQ,"default")});function TQ(e){var t=this._name,r=this._id;typeof e!="function"&&(e=IS(e));for(var n=this._groups,i=n.length,a=[],s=[],l=0;l<i;++l)for(var u=n[l],h=u.length,d,p=0;p<h;++p)if(d=u[p]){for(var f=e.call(d,d.__data__,p,u),g,m=xc(d,r),y=0,b=f.length;y<b;++y)(g=f[y])&&G4(g,t,r,y,f,m);a.push(f),s.push(d)}return new Vu(a,s,t,r)}var Ije=R(()=>{"use strict";Hu(),qf(),Gl(),o(TQ,"default")});function EQ(){return new CQ(this._groups,this._parents)}var CQ,Dje=R(()=>{"use strict";Hu(),CQ=Rf.prototype.constructor,o(EQ,"default")});function _Q(e,t){var r,n,i;return function(){var a=rp(this,e),s=(this.style.removeProperty(e),rp(this,e));return a===s?null:a===r&&s===n?i:i=t(r=a,n=s)}}function _A(e){return function(){this.style.removeProperty(e)}}function SQ(e,t,r){var n,i=r+"",a;return function(){var s=rp(this,e);return s===i?null:s===n?a:a=t(n=s,r)}}function AQ(e,t,r){var n,i,a;return function(){var s=rp(this,e),l=r(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(e),rp(this,e))),s===u?null:s===n&&u===i?a:(i=u,a=t(n=s,l))}}function LQ(e,t){var r,n,i,a="style."+t,s="end."+a,l;return function(){var u=ru(this,e),h=u.on,d=u.value[a]==null?l||(l=_A(t)):void 0;(h!==r||i!==d)&&(n=(r=h).copy()).on(s,i=d),u.on=n}}function NQ(e,t,r){var n=(e+="")=="transform"?NZ:CA;return t==null?this.styleTween(e,_Q(e,n)).on("end.style."+e,_A(e)):typeof t=="function"?this.styleTween(e,AQ(e,n,X6(this,"style."+e,t))).each(LQ(this._id,e)):this.styleTween(e,SQ(e,n,t),r).on("end.style."+e,null)}var Rje=R(()=>{"use strict";B4(),Hu(),Gl(),K6(),UZ(),o(_Q,"styleNull"),o(_A,"styleRemove"),o(SQ,"styleConstant"),o(AQ,"styleFunction"),o(LQ,"styleMaybeRemove"),o(NQ,"default")});function MQ(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function IQ(e,t,r){var n,i;function a(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&MQ(e,s,r)),n}return o(a,"tween"),a._value=t,a}function DQ(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,IQ(e,t,r??""))}var Oje=R(()=>{"use strict";o(MQ,"styleInterpolate"),o(IQ,"styleTween"),o(DQ,"default")});function RQ(e){return function(){this.textContent=e}}function OQ(e){return function(){var t=e(this);this.textContent=t??""}}function PQ(e){return this.tween("text",typeof e=="function"?OQ(X6(this,"text",e)):RQ(e==null?"":e+""))}var Pje=R(()=>{"use strict";K6(),o(RQ,"textConstant"),o(OQ,"textFunction"),o(PQ,"default")});function BQ(e){return function(t){this.textContent=e.call(this,t)}}function FQ(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&BQ(i)),t}return o(n,"tween"),n._value=e,n}function $Q(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,FQ(e))}var Bje=R(()=>{"use strict";o(BQ,"textInterpolate"),o(FQ,"textTween"),o($Q,"default")});function zQ(){for(var e=this._name,t=this._id,r=SA(),n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],l=s.length,u,h=0;h<l;++h)if(u=s[h]){var d=xc(u,t);G4(u,e,r,h,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Vu(n,this._parents,e,r)}var Fje=R(()=>{"use strict";qf(),Gl(),o(zQ,"default")});function qQ(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,s){var l={value:s},u={value:o(function(){--i===0&&a()},"value")};r.each(function(){var h=ru(this,n),d=h.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(u)),h.on=t}),i===0&&a()})}var $je=R(()=>{"use strict";Gl(),o(qQ,"default")});function Vu(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function GQ(e){return Rf().transition(e)}function SA(){return++YQ}var YQ,Wu,qf=R(()=>{"use strict";Hu(),wje(),kje(),Tje(),Eje(),Cje(),_je(),Sje(),Aje(),Lje(),Nje(),Mje(),Ije(),Dje(),Rje(),Oje(),Pje(),Bje(),Fje(),K6(),$je(),YQ=0,o(Vu,"Transition"),o(GQ,"transition"),o(SA,"newId"),Wu=Rf.prototype,Vu.prototype=GQ.prototype={constructor:Vu,select:kQ,selectAll:TQ,selectChild:Wu.selectChild,selectChildren:Wu.selectChildren,filter:fQ,merge:mQ,selection:EQ,transition:zQ,call:Wu.call,nodes:Wu.nodes,node:Wu.node,size:Wu.size,empty:Wu.empty,each:Wu.each,on:bQ,attr:JZ,attrTween:iQ,style:NQ,styleTween:DQ,text:PQ,textTween:$Q,remove:wQ,tween:HZ,delay:oQ,duration:uQ,ease:dQ,easeVarying:gQ,end:qQ,[Symbol.iterator]:Wu[Symbol.iterator]}});function jQ(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var zje=R(()=>{"use strict";o(jQ,"cubicInOut")}),HQ=R(()=>{"use strict";zje()});function UQ(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function VQ(e){var t,r;e instanceof Vu?(t=e._id,e=e._name):(t=SA(),(r=WQ).time=Y6(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var s=n[a],l=s.length,u,h=0;h<l;++h)(u=s[h])&&G4(u,e,t,h,s,r||UQ(u,t));return new Vu(n,this._parents,e,t)}var WQ,qje=R(()=>{"use strict";qf(),Gl(),HQ(),wA(),WQ={time:null,delay:0,duration:250,ease:jQ},o(UQ,"inherit"),o(VQ,"default")}),Gje=R(()=>{"use strict";Hu(),xje(),qje(),Rf.prototype.interrupt=GZ,Rf.prototype.transition=VQ}),AA=R(()=>{"use strict";Gje()}),Yje=R(()=>{"use strict"}),jje=R(()=>{"use strict"}),Hje=R(()=>{"use strict"});function LA(e){return[+e[0],+e[1]]}function XQ(e){return[LA(e[0]),LA(e[1])]}function Z6(e){return{type:e}}var Uje,Vje,Wje,Xje,Kje,Zje,Qje=R(()=>{"use strict";AA(),Yje(),jje(),Hje(),{abs:Uje,max:Vje,min:Wje}=Math,o(LA,"number1"),o(XQ,"number2"),Xje={name:"x",handles:["w","e"].map(Z6),input:o(function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},"input"),output:o(function(e){return e&&[e[0][0],e[1][0]]},"output")},Kje={name:"y",handles:["n","s"].map(Z6),input:o(function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},"input"),output:o(function(e){return e&&[e[0][1],e[1][1]]},"output")},Zje={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Z6),input:o(function(e){return e==null?null:XQ(e)},"input"),output:o(function(e){return e},"output")},o(Z6,"type")}),Jje=R(()=>{"use strict";Qje()});function NA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function KQ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return NA;let r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}function ZQ(){return new e7}var Q6,J6,gd,QQ,e7,eHe=R(()=>{"use strict";Q6=Math.PI,J6=2*Q6,gd=1e-6,QQ=J6-gd,o(NA,"append"),o(KQ,"appendRound"),e7=class{static{o(this,"Path")}constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?NA:KQ(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,i,a){this._append`C${+e},${+t},${+r},${+n},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,r,n,i){if(e=+e,t=+t,r=+r,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,l=r-e,u=n-t,h=a-e,d=s-t,p=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(p>gd)if(!(Math.abs(d*l-u*h)>gd)||!i)this._append`L${this._x1=e},${this._y1=t}`;else{let f=r-a,g=n-s,m=l*l+u*u,y=f*f+g*g,b=Math.sqrt(m),v=Math.sqrt(p),x=i*Math.tan((Q6-Math.acos((m+p-y)/(2*b*v)))/2),w=x/v,E=x/b;Math.abs(w-1)>gd&&this._append`L${e+w*h},${t+w*d}`,this._append`A${i},${i},0,0,${+(d*f>h*g)},${this._x1=e+E*l},${this._y1=t+E*u}`}}arc(e,t,r,n,i,a){if(e=+e,t=+t,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(n),l=r*Math.sin(n),u=e+s,h=t+l,d=1^a,p=a?n-i:i-n;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>gd||Math.abs(this._y1-h)>gd)&&this._append`L${u},${h}`,r&&(p<0&&(p=p%J6+J6),p>QQ?this._append`A${r},${r},0,1,${d},${e-s},${t-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=h}`:p>gd&&this._append`A${r},${r},0,${+(p>=Q6)},${d},${this._x1=e+r*Math.cos(i)},${this._y1=t+r*Math.sin(i)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}},o(ZQ,"path"),ZQ.prototype=e7.prototype}),JQ=R(()=>{"use strict";eHe()}),tHe=R(()=>{"use strict"}),rHe=R(()=>{"use strict"}),nHe=R(()=>{"use strict"}),iHe=R(()=>{"use strict"}),aHe=R(()=>{"use strict"}),sHe=R(()=>{"use strict"}),oHe=R(()=>{"use strict"});function eJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function H4(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}var t7=R(()=>{"use strict";o(eJ,"default"),o(H4,"formatDecimalParts")});function op(e){return e=H4(Math.abs(e)),e?e[1]:NaN}var r7=R(()=>{"use strict";t7(),o(op,"default")});function tJ(e,t){return function(r,n){for(var i=r.length,a=[],s=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),a.push(r.substring(i-=l,i+l)),!((u+=l+1)>n));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}var lHe=R(()=>{"use strict";o(tJ,"default")});function rJ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cHe=R(()=>{"use strict";o(rJ,"default")});function U4(e){if(!(t=nJ.exec(e)))throw new Error("invalid format: "+e);var t;return new n7({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function n7(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var nJ,iJ=R(()=>{"use strict";nJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,o(U4,"formatSpecifier"),U4.prototype=n7.prototype,o(n7,"FormatSpecifier"),n7.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function aJ(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var uHe=R(()=>{"use strict";o(aJ,"default")});function sJ(e,t){var r=H4(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(oJ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+H4(e,Math.max(0,t+a-1))[0]}var oJ,lJ=R(()=>{"use strict";t7(),o(sJ,"default")});function MA(e,t){var r=H4(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var hHe=R(()=>{"use strict";t7(),o(MA,"default")}),IA,dHe=R(()=>{"use strict";t7(),lJ(),hHe(),IA={"%":o((e,t)=>(e*100).toFixed(t),"%"),b:o(e=>Math.round(e).toString(2),"b"),c:o(e=>e+"","c"),d:eJ,e:o((e,t)=>e.toExponential(t),"e"),f:o((e,t)=>e.toFixed(t),"f"),g:o((e,t)=>e.toPrecision(t),"g"),o:o(e=>Math.round(e).toString(8),"o"),p:o((e,t)=>MA(e*100,t),"p"),r:MA,s:sJ,X:o(e=>Math.round(e).toString(16).toUpperCase(),"X"),x:o(e=>Math.round(e).toString(16),"x")}});function DA(e){return e}var pHe=R(()=>{"use strict";o(DA,"default")});function cJ(e){var t=e.grouping===void 0||e.thousands===void 0?DA:tJ(RA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?DA:rJ(RA.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(p){p=U4(p);var f=p.fill,g=p.align,m=p.sign,y=p.symbol,b=p.zero,v=p.width,x=p.comma,w=p.precision,E=p.trim,A=p.type;A==="n"?(x=!0,A="g"):IA[A]||(w===void 0&&(w=12),E=!0,A="g"),(b||f==="0"&&g==="=")&&(b=!0,f="0",g="=");var N=y==="$"?r:y==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",L=y==="$"?n:/[%p]/.test(A)?s:"",C=IA[A],D=/[defgprs%]/.test(A);w=w===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(O){var I=N,q=L,S,B,F;if(A==="c")q=C(O)+q,O="";else{O=+O;var z=O<0||1/O<0;if(O=isNaN(O)?u:C(Math.abs(O),w),E&&(O=aJ(O)),z&&+O==0&&m!=="+"&&(z=!1),I=(z?m==="("?m:l:m==="-"||m==="("?"":m)+I,q=(A==="s"?OA[8+oJ/3]:"")+q+(z&&m==="("?")":""),D){for(S=-1,B=O.length;++S<B;)if(F=O.charCodeAt(S),48>F||F>57){q=(F===46?i+O.slice(S+1):O.slice(S))+q,O=O.slice(0,S);break}}}x&&!b&&(O=t(O,1/0));var M=I.length+O.length+q.length,G=M<v?new Array(v-M+1).join(f):"";switch(x&&b&&(O=t(G+O,G.length?v-q.length:1/0),G=""),g){case"<":O=I+O+q+G;break;case"=":O=I+G+O+q;break;case"^":O=G.slice(0,M=G.length>>1)+I+O+q+G.slice(M);break;default:O=G+I+O+q;break}return a(O)}return o(P,"format"),P.toString=function(){return p+""},P}o(h,"newFormat");function d(p,f){var g=h((p=U4(p),p.type="f",p)),m=Math.max(-8,Math.min(8,Math.floor(op(f)/3)))*3,y=Math.pow(10,-m),b=OA[8+m/3];return function(v){return g(y*v)+b}}return o(d,"formatPrefix"),{format:h,formatPrefix:d}}var RA,OA,gHe=R(()=>{"use strict";r7(),lHe(),cHe(),iJ(),uHe(),dHe(),lJ(),pHe(),RA=Array.prototype.map,OA=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"],o(cJ,"default")});function uJ(e){return i7=cJ(e),hJ=i7.format,dJ=i7.formatPrefix,i7}var i7,hJ,dJ,fHe=R(()=>{"use strict";gHe(),uJ({thousands:",",grouping:[3],currency:["$",""]}),o(uJ,"defaultLocale")});function pJ(e){return Math.max(0,-op(Math.abs(e)))}var mHe=R(()=>{"use strict";r7(),o(pJ,"default")});function gJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(op(t)/3)))*3-op(Math.abs(e)))}var yHe=R(()=>{"use strict";r7(),o(gJ,"default")});function fJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,op(t)-op(e))+1}var vHe=R(()=>{"use strict";r7(),o(fJ,"default")}),mJ=R(()=>{"use strict";fHe(),iJ(),mHe(),yHe(),vHe()}),bHe=R(()=>{"use strict"}),xHe=R(()=>{"use strict"}),wHe=R(()=>{"use strict"}),kHe=R(()=>{"use strict"});function V4(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var a7=R(()=>{"use strict";o(V4,"initRange")});function W4(){var e=new TS,t=[],r=[],n=PA;function i(a){let s=e.get(a);if(s===void 0){if(n!==PA)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return o(i,"scale"),i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new TS;for(let s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return W4(t,r).unknown(n)},V4.apply(i,arguments),i}var PA,yJ=R(()=>{"use strict";tp(),a7(),PA=Symbol("implicit"),o(W4,"ordinal")});function s7(){var e=W4().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,l=!1,u=0,h=0,d=.5;delete e.unknown;function p(){var f=t().length,g=i<n,m=g?i:n,y=g?n:i;a=(y-m)/Math.max(1,f-u+h*2),l&&(a=Math.floor(a)),m+=(y-m-a*(f-u))*d,s=a*(1-u),l&&(m=Math.round(m),s=Math.round(s));var b=VW(f).map(function(v){return m+a*v});return r(g?b.reverse():b)}return o(p,"rescale"),e.domain=function(f){return arguments.length?(t(f),p()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(f){return arguments.length?(l=!!f,p()):l},e.padding=function(f){return arguments.length?(u=Math.min(1,h=+f),p()):u},e.paddingInner=function(f){return arguments.length?(u=Math.min(1,f),p()):u},e.paddingOuter=function(f){return arguments.length?(h=+f,p()):h},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),p()):d},e.copy=function(){return s7(t(),[n,i]).round(l).paddingInner(u).paddingOuter(h).align(d)},V4.apply(p(),arguments)}var THe=R(()=>{"use strict";tp(),a7(),yJ(),o(s7,"band")});function vJ(e){return function(){return e}}var EHe=R(()=>{"use strict";o(vJ,"constants")});function bJ(e){return+e}var CHe=R(()=>{"use strict";o(bJ,"number")});function lp(e){return e}function o7(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vJ(isNaN(t)?NaN:.5)}function xJ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function wJ(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=o7(i,n),a=r(s,a)):(n=o7(n,i),a=r(a,s)),function(l){return a(n(l))}}function kJ(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=o7(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(l){var u=BW(e,l,1,n)-1;return a[u](i[u](l))}}function BA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function TJ(){var e=$A,t=$A,r=z6,n,i,a,s=lp,l,u,h;function d(){var f=Math.min(e.length,t.length);return s!==lp&&(s=xJ(e[0],e[f-1])),l=f>2?kJ:wJ,u=h=null,p}o(d,"rescale");function p(f){return f==null||isNaN(f=+f)?a:(u||(u=l(e.map(n),t,r)))(n(s(f)))}return o(p,"scale"),p.invert=function(f){return s(i((h||(h=l(t,e.map(n),bc)))(f)))},p.domain=function(f){return arguments.length?(e=Array.from(f,bJ),d()):e.slice()},p.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},p.rangeRound=function(f){return t=Array.from(f),r=SZ,d()},p.clamp=function(f){return arguments.length?(s=f?!0:lp,d()):s!==lp},p.interpolate=function(f){return arguments.length?(r=f,d()):r},p.unknown=function(f){return arguments.length?(a=f,p):a},function(f,g){return n=f,i=g,d()}}function FA(){return TJ()(lp,lp)}var $A,EJ=R(()=>{"use strict";tp(),B4(),EHe(),CHe(),$A=[0,1],o(lp,"identity"),o(o7,"normalize"),o(xJ,"clamper"),o(wJ,"bimap"),o(kJ,"polymap"),o(BA,"copy"),o(TJ,"transformer"),o(FA,"continuous")});function CJ(e,t,r,n){var i=E6(e,t,r),a;switch(n=U4(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=gJ(i,s))&&(n.precision=a),dJ(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=fJ(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=pJ(i))&&(n.precision=a-(n.type==="%")*2);break}}return hJ(n)}var _He=R(()=>{"use strict";tp(),mJ(),o(CJ,"tickFormat")});function _J(e){var t=e.domain;return e.ticks=function(r){var n=t();return qW(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return CJ(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],l=n[a],u,h,d=10;for(l<s&&(h=s,s=l,l=h,h=i,i=a,a=h);d-- >0;){if(h=T6(s,l,r),h===u)return n[i]=s,n[a]=l,t(n);if(h>0)s=Math.floor(s/h)*h,l=Math.ceil(l/h)*h;else if(h<0)s=Math.ceil(s*h)/h,l=Math.floor(l*h)/h;else break;u=h}return e},e}function cp(){var e=FA();return e.copy=function(){return BA(e,cp())},V4.apply(e,arguments),_J(e)}var SHe=R(()=>{"use strict";tp(),EJ(),a7(),_He(),o(_J,"linearish"),o(cp,"linear")});function SJ(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}var AHe=R(()=>{"use strict";o(SJ,"nice")});function Va(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return o(i,"interval"),i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{let s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{let u=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return u;let h;do u.push(h=new Date(+a)),t(a,l),e(a);while(h<a&&a<s);return u},i.filter=a=>Va(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(l7.setTime(+a),c7.setTime(+s),e(l7),e(c7),Math.floor(r(l7,c7))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}var l7,c7,fd=R(()=>{"use strict";l7=new Date,c7=new Date,o(Va,"timeInterval")}),up,LHe,AJ=R(()=>{"use strict";fd(),up=Va(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e),up.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Va(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):up),LHe=up.range}),jh,NHe,LJ=R(()=>{"use strict";fd(),jh=Va(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),NHe=jh.range}),Gf,MHe,zA,IHe,NJ=R(()=>{"use strict";fd(),Gf=Va(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),MHe=Gf.range,zA=Va(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),IHe=zA.range}),Yf,DHe,qA,RHe,MJ=R(()=>{"use strict";fd(),Yf=Va(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),DHe=Yf.range,qA=Va(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),RHe=qA.range}),md,OHe,u7,PHe,GA,BHe,IJ=R(()=>{"use strict";fd(),md=Va(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),OHe=md.range,u7=Va(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),PHe=u7.range,GA=Va(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),BHe=GA.range});function yd(e){return Va(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}function vd(e){return Va(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/6048e5)}var jf,Hf,YA,jA,bd,HA,UA,FHe,$He,zHe,qHe,GHe,YHe,jHe,h7,X4,DJ,RJ,hp,OJ,PJ,HHe,UHe,VHe,WHe,XHe,KHe,ZHe,BJ=R(()=>{"use strict";fd(),o(yd,"timeWeekday"),jf=yd(0),Hf=yd(1),YA=yd(2),jA=yd(3),bd=yd(4),HA=yd(5),UA=yd(6),FHe=jf.range,$He=Hf.range,zHe=YA.range,qHe=jA.range,GHe=bd.range,YHe=HA.range,jHe=UA.range,o(vd,"utcWeekday"),h7=vd(0),X4=vd(1),DJ=vd(2),RJ=vd(3),hp=vd(4),OJ=vd(5),PJ=vd(6),HHe=h7.range,UHe=X4.range,VHe=DJ.range,WHe=RJ.range,XHe=hp.range,KHe=OJ.range,ZHe=PJ.range}),Uf,QHe,VA,JHe,FJ=R(()=>{"use strict";fd(),Uf=Va(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),QHe=Uf.range,VA=Va(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),JHe=VA.range}),Xu,eUe,Hh,tUe,$J=R(()=>{"use strict";fd(),Xu=Va(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()),Xu.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Va(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}),eUe=Xu.range,Hh=Va(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear()),Hh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Va(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}),tUe=Hh.range});function WA(e,t,r,n,i,a){let s=[[jh,1,1e3],[jh,5,5e3],[jh,15,15e3],[jh,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,864e5],[n,2,1728e5],[r,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function l(h,d,p){let f=d<h;f&&([h,d]=[d,h]);let g=p&&typeof p.range=="function"?p:u(h,d,p),m=g?g.range(h,+d+1):[];return f?m.reverse():m}o(l,"ticks");function u(h,d,p){let f=Math.abs(d-h)/p,g=k6(([,,b])=>b).right(s,f);if(g===s.length)return e.every(E6(h/31536e6,d/31536e6,p));if(g===0)return up.every(Math.max(E6(h,d,p),1));let[m,y]=s[f/s[g-1][2]<s[g][2]/f?g-1:g];return m.every(y)}return o(u,"tickInterval"),[l,u]}var rUe,nUe,zJ,qJ,iUe=R(()=>{"use strict";tp(),AJ(),LJ(),NJ(),MJ(),IJ(),BJ(),FJ(),$J(),o(WA,"ticker"),[rUe,nUe]=WA(Hh,VA,h7,GA,qA,zA),[zJ,qJ]=WA(Xu,Uf,jf,md,Yf,Gf)}),XA=R(()=>{"use strict";AJ(),LJ(),NJ(),MJ(),IJ(),BJ(),FJ(),$J(),iUe()});function d7(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function p7(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function GJ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,h=Wf(i),d=Xf(i),p=Wf(a),f=Xf(a),g=Wf(s),m=Xf(s),y=Wf(l),b=Xf(l),v=Wf(u),x=Xf(u),w={a:z,A:M,b:G,B:Y,c:null,d:eL,e:eL,f:cee,g:bee,G:wee,H:see,I:oee,j:lee,L:tL,m:uee,M:hee,p:V,q:X,Q:oL,s:lL,S:dee,u:pee,U:gee,V:fee,w:mee,W:yee,x:null,X:null,y:vee,Y:xee,Z:kee,"%":sL},E={a:re,A:de,b:xe,B:he,c:null,d:nL,e:nL,f:_ee,g:Pee,G:Fee,H:Tee,I:Eee,j:Cee,L:iL,m:See,M:Aee,p:be,q:Q,Q:oL,s:lL,S:Lee,u:Nee,U:Mee,V:Iee,w:Dee,W:Ree,x:null,X:null,y:Oee,Y:Bee,Z:$ee,"%":sL},A={a:P,A:O,b:I,B:q,c:S,d:QA,e:QA,f:ree,g:ZA,G:KA,H:JA,I:JA,j:QJ,L:tee,m:ZJ,M:JJ,p:D,q:KJ,Q:iee,s:aee,S:eee,u:HJ,U:UJ,V:VJ,w:jJ,W:WJ,x:B,X:F,y:ZA,Y:KA,Z:XJ,"%":nee};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),E.x=N(r,E),E.X=N(n,E),E.c=N(t,E);function N(ne,ee){return function(pe){var ie=[],De=-1,se=0,je=ne.length,ge,rt,Qe;for(pe instanceof Date||(pe=new Date(+pe));++De<je;)ne.charCodeAt(De)===37&&(ie.push(ne.slice(se,De)),(rt=cL[ge=ne.charAt(++De)])!=null?ge=ne.charAt(++De):rt=ge==="e"?" ":"0",(Qe=ee[ge])&&(ge=Qe(pe,rt)),ie.push(ge),se=De+1);return ie.push(ne.slice(se,De)),ie.join("")}}o(N,"newFormat");function L(ne,ee){return function(pe){var ie=Vf(1900,void 0,1),De=C(ie,ne,pe+="",0),se,je;if(De!=pe.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(ee&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(se=p7(Vf(ie.y,0,1)),je=se.getUTCDay(),se=je>4||je===0?X4.ceil(se):X4(se),se=u7.offset(se,(ie.V-1)*7),ie.y=se.getUTCFullYear(),ie.m=se.getUTCMonth(),ie.d=se.getUTCDate()+(ie.w+6)%7):(se=d7(Vf(ie.y,0,1)),je=se.getDay(),se=je>4||je===0?Hf.ceil(se):Hf(se),se=md.offset(se,(ie.V-1)*7),ie.y=se.getFullYear(),ie.m=se.getMonth(),ie.d=se.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),je="Z"in ie?p7(Vf(ie.y,0,1)).getUTCDay():d7(Vf(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(je+5)%7:ie.w+ie.U*7-(je+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,p7(ie)):d7(ie)}}o(L,"newParse");function C(ne,ee,pe,ie){for(var De=0,se=ee.length,je=pe.length,ge,rt;De<se;){if(ie>=je)return-1;if(ge=ee.charCodeAt(De++),ge===37){if(ge=ee.charAt(De++),rt=A[ge in cL?ee.charAt(De++):ge],!rt||(ie=rt(ne,pe,ie))<0)return-1}else if(ge!=pe.charCodeAt(ie++))return-1}return ie}o(C,"parseSpecifier");function D(ne,ee,pe){var ie=h.exec(ee.slice(pe));return ie?(ne.p=d.get(ie[0].toLowerCase()),pe+ie[0].length):-1}o(D,"parsePeriod");function P(ne,ee,pe){var ie=g.exec(ee.slice(pe));return ie?(ne.w=m.get(ie[0].toLowerCase()),pe+ie[0].length):-1}o(P,"parseShortWeekday");function O(ne,ee,pe){var ie=p.exec(ee.slice(pe));return ie?(ne.w=f.get(ie[0].toLowerCase()),pe+ie[0].length):-1}o(O,"parseWeekday");function I(ne,ee,pe){var ie=v.exec(ee.slice(pe));return ie?(ne.m=x.get(ie[0].toLowerCase()),pe+ie[0].length):-1}o(I,"parseShortMonth");function q(ne,ee,pe){var ie=y.exec(ee.slice(pe));return ie?(ne.m=b.get(ie[0].toLowerCase()),pe+ie[0].length):-1}o(q,"parseMonth");function S(ne,ee,pe){return C(ne,t,ee,pe)}o(S,"parseLocaleDateTime");function B(ne,ee,pe){return C(ne,r,ee,pe)}o(B,"parseLocaleDate");function F(ne,ee,pe){return C(ne,n,ee,pe)}o(F,"parseLocaleTime");function z(ne){return s[ne.getDay()]}o(z,"formatShortWeekday");function M(ne){return a[ne.getDay()]}o(M,"formatWeekday");function G(ne){return u[ne.getMonth()]}o(G,"formatShortMonth");function Y(ne){return l[ne.getMonth()]}o(Y,"formatMonth");function V(ne){return i[+(ne.getHours()>=12)]}o(V,"formatPeriod");function X(ne){return 1+~~(ne.getMonth()/3)}o(X,"formatQuarter");function re(ne){return s[ne.getUTCDay()]}o(re,"formatUTCShortWeekday");function de(ne){return a[ne.getUTCDay()]}o(de,"formatUTCWeekday");function xe(ne){return u[ne.getUTCMonth()]}o(xe,"formatUTCShortMonth");function he(ne){return l[ne.getUTCMonth()]}o(he,"formatUTCMonth");function be(ne){return i[+(ne.getUTCHours()>=12)]}o(be,"formatUTCPeriod");function Q(ne){return 1+~~(ne.getUTCMonth()/3)}return o(Q,"formatUTCQuarter"),{format:o(function(ne){var ee=N(ne+="",w);return ee.toString=function(){return ne},ee},"format"),parse:o(function(ne){var ee=L(ne+="",!1);return ee.toString=function(){return ne},ee},"parse"),utcFormat:o(function(ne){var ee=N(ne+="",E);return ee.toString=function(){return ne},ee},"utcFormat"),utcParse:o(function(ne){var ee=L(ne+="",!0);return ee.toString=function(){return ne},ee},"utcParse")}}function ri(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function YJ(e){return e.replace(qee,"\\$&")}function Wf(e){return new RegExp("^(?:"+e.map(YJ).join("|")+")","i")}function Xf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function jJ(e,t,r){var n=vs.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function HJ(e,t,r){var n=vs.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function UJ(e,t,r){var n=vs.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function VJ(e,t,r){var n=vs.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function WJ(e,t,r){var n=vs.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function KA(e,t,r){var n=vs.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function ZA(e,t,r){var n=vs.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function XJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function KJ(e,t,r){var n=vs.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ZJ(e,t,r){var n=vs.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function QA(e,t,r){var n=vs.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function QJ(e,t,r){var n=vs.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function JA(e,t,r){var n=vs.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function JJ(e,t,r){var n=vs.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function eee(e,t,r){var n=vs.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function tee(e,t,r){var n=vs.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ree(e,t,r){var n=vs.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nee(e,t,r){var n=zee.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function iee(e,t,r){var n=vs.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function aee(e,t,r){var n=vs.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function eL(e,t){return ri(e.getDate(),t,2)}function see(e,t){return ri(e.getHours(),t,2)}function oee(e,t){return ri(e.getHours()%12||12,t,2)}function lee(e,t){return ri(1+md.count(Xu(e),e),t,3)}function tL(e,t){return ri(e.getMilliseconds(),t,3)}function cee(e,t){return tL(e,t)+"000"}function uee(e,t){return ri(e.getMonth()+1,t,2)}function hee(e,t){return ri(e.getMinutes(),t,2)}function dee(e,t){return ri(e.getSeconds(),t,2)}function pee(e){var t=e.getDay();return t===0?7:t}function gee(e,t){return ri(jf.count(Xu(e)-1,e),t,2)}function rL(e){var t=e.getDay();return t>=4||t===0?bd(e):bd.ceil(e)}function fee(e,t){return e=rL(e),ri(bd.count(Xu(e),e)+(Xu(e).getDay()===4),t,2)}function mee(e){return e.getDay()}function yee(e,t){return ri(Hf.count(Xu(e)-1,e),t,2)}function vee(e,t){return ri(e.getFullYear()%100,t,2)}function bee(e,t){return e=rL(e),ri(e.getFullYear()%100,t,2)}function xee(e,t){return ri(e.getFullYear()%1e4,t,4)}function wee(e,t){var r=e.getDay();return e=r>=4||r===0?bd(e):bd.ceil(e),ri(e.getFullYear()%1e4,t,4)}function kee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ri(t/60|0,"0",2)+ri(t%60,"0",2)}function nL(e,t){return ri(e.getUTCDate(),t,2)}function Tee(e,t){return ri(e.getUTCHours(),t,2)}function Eee(e,t){return ri(e.getUTCHours()%12||12,t,2)}function Cee(e,t){return ri(1+u7.count(Hh(e),e),t,3)}function iL(e,t){return ri(e.getUTCMilliseconds(),t,3)}function _ee(e,t){return iL(e,t)+"000"}function See(e,t){return ri(e.getUTCMonth()+1,t,2)}function Aee(e,t){return ri(e.getUTCMinutes(),t,2)}function Lee(e,t){return ri(e.getUTCSeconds(),t,2)}function Nee(e){var t=e.getUTCDay();return t===0?7:t}function Mee(e,t){return ri(h7.count(Hh(e)-1,e),t,2)}function aL(e){var t=e.getUTCDay();return t>=4||t===0?hp(e):hp.ceil(e)}function Iee(e,t){return e=aL(e),ri(hp.count(Hh(e),e)+(Hh(e).getUTCDay()===4),t,2)}function Dee(e){return e.getUTCDay()}function Ree(e,t){return ri(X4.count(Hh(e)-1,e),t,2)}function Oee(e,t){return ri(e.getUTCFullYear()%100,t,2)}function Pee(e,t){return e=aL(e),ri(e.getUTCFullYear()%100,t,2)}function Bee(e,t){return ri(e.getUTCFullYear()%1e4,t,4)}function Fee(e,t){var r=e.getUTCDay();return e=r>=4||r===0?hp(e):hp.ceil(e),ri(e.getUTCFullYear()%1e4,t,4)}function $ee(){return"+0000"}function sL(){return"%"}function oL(e){return+e}function lL(e){return Math.floor(+e/1e3)}var cL,vs,zee,qee,aUe=R(()=>{"use strict";XA(),o(d7,"localDate"),o(p7,"utcDate"),o(Vf,"newDate"),o(GJ,"formatLocale"),cL={"-":"",_:" ",0:"0"},vs=/^\s*\d+/,zee=/^%/,qee=/[\\^$*+?|[\]().{}]/g,o(ri,"pad"),o(YJ,"requote"),o(Wf,"formatRe"),o(Xf,"formatLookup"),o(jJ,"parseWeekdayNumberSunday"),o(HJ,"parseWeekdayNumberMonday"),o(UJ,"parseWeekNumberSunday"),o(VJ,"parseWeekNumberISO"),o(WJ,"parseWeekNumberMonday"),o(KA,"parseFullYear"),o(ZA,"parseYear"),o(XJ,"parseZone"),o(KJ,"parseQuarter"),o(ZJ,"parseMonthNumber"),o(QA,"parseDayOfMonth"),o(QJ,"parseDayOfYear"),o(JA,"parseHour24"),o(JJ,"parseMinutes"),o(eee,"parseSeconds"),o(tee,"parseMilliseconds"),o(ree,"parseMicroseconds"),o(nee,"parseLiteralPercent"),o(iee,"parseUnixTimestamp"),o(aee,"parseUnixTimestampSeconds"),o(eL,"formatDayOfMonth"),o(see,"formatHour24"),o(oee,"formatHour12"),o(lee,"formatDayOfYear"),o(tL,"formatMilliseconds"),o(cee,"formatMicroseconds"),o(uee,"formatMonthNumber"),o(hee,"formatMinutes"),o(dee,"formatSeconds"),o(pee,"formatWeekdayNumberMonday"),o(gee,"formatWeekNumberSunday"),o(rL,"dISO"),o(fee,"formatWeekNumberISO"),o(mee,"formatWeekdayNumberSunday"),o(yee,"formatWeekNumberMonday"),o(vee,"formatYear"),o(bee,"formatYearISO"),o(xee,"formatFullYear"),o(wee,"formatFullYearISO"),o(kee,"formatZone"),o(nL,"formatUTCDayOfMonth"),o(Tee,"formatUTCHour24"),o(Eee,"formatUTCHour12"),o(Cee,"formatUTCDayOfYear"),o(iL,"formatUTCMilliseconds"),o(_ee,"formatUTCMicroseconds"),o(See,"formatUTCMonthNumber"),o(Aee,"formatUTCMinutes"),o(Lee,"formatUTCSeconds"),o(Nee,"formatUTCWeekdayNumberMonday"),o(Mee,"formatUTCWeekNumberSunday"),o(aL,"UTCdISO"),o(Iee,"formatUTCWeekNumberISO"),o(Dee,"formatUTCWeekdayNumberSunday"),o(Ree,"formatUTCWeekNumberMonday"),o(Oee,"formatUTCYear"),o(Pee,"formatUTCYearISO"),o(Bee,"formatUTCFullYear"),o(Fee,"formatUTCFullYearISO"),o($ee,"formatUTCZone"),o(sL,"formatLiteralPercent"),o(oL,"formatUnixTimestamp"),o(lL,"formatUnixTimestampSeconds")});function Gee(e){return Kf=GJ(e),g7=Kf.format,sUe=Kf.parse,oUe=Kf.utcFormat,lUe=Kf.utcParse,Kf}var Kf,g7,sUe,oUe,lUe,cUe=R(()=>{"use strict";aUe(),Gee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),o(Gee,"defaultLocale")}),Yee=R(()=>{"use strict";cUe()});function jee(e){return new Date(e)}function Hee(e){return e instanceof Date?+e:+new Date(+e)}function uL(e,t,r,n,i,a,s,l,u,h){var d=FA(),p=d.invert,f=d.domain,g=h(".%L"),m=h(":%S"),y=h("%I:%M"),b=h("%I %p"),v=h("%a %d"),x=h("%b %d"),w=h("%B"),E=h("%Y");function A(N){return(u(N)<N?g:l(N)<N?m:s(N)<N?y:a(N)<N?b:n(N)<N?i(N)<N?v:x:r(N)<N?w:E)(N)}return o(A,"tickFormat"),d.invert=function(N){return new Date(p(N))},d.domain=function(N){return arguments.length?f(Array.from(N,Hee)):f().map(jee)},d.ticks=function(N){var L=f();return e(L[0],L[L.length-1],N??10)},d.tickFormat=function(N,L){return L==null?A:h(L)},d.nice=function(N){var L=f();return(!N||typeof N.range!="function")&&(N=t(L[0],L[L.length-1],N??10)),N?f(SJ(L,N)):d},d.copy=function(){return BA(d,uL(e,t,r,n,i,a,s,l,u,h))},d}function Uee(){return V4.apply(uL(zJ,qJ,Xu,Uf,jf,md,Yf,Gf,jh,g7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var uUe=R(()=>{"use strict";XA(),Yee(),EJ(),a7(),AHe(),o(jee,"date"),o(Hee,"number"),o(uL,"calendar"),o(Uee,"time")}),hUe=R(()=>{"use strict";THe(),SHe(),yJ(),uUe()});function Vee(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}var dUe=R(()=>{"use strict";o(Vee,"default")}),Wee,pUe=R(()=>{"use strict";dUe(),Wee=Vee("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")}),gUe=R(()=>{"use strict";pUe()});function _a(e){return o(function(){return e},"constant")}var hL=R(()=>{"use strict";o(_a,"default")});function Xee(e){return e>1?0:e<-1?Zf:Math.acos(e)}function dL(e){return e>=1?K4:e<=-1?-K4:Math.asin(e)}var pL,eo,xd,Kee,f7,nu,dp,to,Zf,K4,Z4,gL=R(()=>{"use strict";pL=Math.abs,eo=Math.atan2,xd=Math.cos,Kee=Math.max,f7=Math.min,nu=Math.sin,dp=Math.sqrt,to=1e-12,Zf=Math.PI,K4=Zf/2,Z4=2*Zf,o(Xee,"acos"),o(dL,"asin")});function fL(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new e7(t)}var Zee=R(()=>{"use strict";JQ(),o(fL,"withPath")});function Qee(e){return e.innerRadius}function Jee(e){return e.outerRadius}function ete(e){return e.startAngle}function tte(e){return e.endAngle}function rte(e){return e&&e.padAngle}function nte(e,t,r,n,i,a,s,l){var u=r-e,h=n-t,d=s-i,p=l-a,f=p*u-d*h;if(!(f*f<to))return f=(d*(t-a)-p*(e-i))/f,[e+f*u,t+f*h]}function Q4(e,t,r,n,i,a,s){var l=e-r,u=t-n,h=(s?a:-a)/dp(l*l+u*u),d=h*u,p=-h*l,f=e+d,g=t+p,m=r+d,y=n+p,b=(f+m)/2,v=(g+y)/2,x=m-f,w=y-g,E=x*x+w*w,A=i-a,N=f*y-m*g,L=(w<0?-1:1)*dp(Kee(0,A*A*E-N*N)),C=(N*w-x*L)/E,D=(-N*x-w*L)/E,P=(N*w+x*L)/E,O=(-N*x+w*L)/E,I=C-b,q=D-v,S=P-b,B=O-v;return I*I+q*q>S*S+B*B&&(C=P,D=O),{cx:C,cy:D,x01:-d,y01:-p,x11:C*(i/A-1),y11:D*(i/A-1)}}function pp(){var e=Qee,t=Jee,r=_a(0),n=null,i=ete,a=tte,s=rte,l=null,u=fL(h);function h(){var d,p,f=+e.apply(this,arguments),g=+t.apply(this,arguments),m=i.apply(this,arguments)-K4,y=a.apply(this,arguments)-K4,b=pL(y-m),v=y>m;if(l||(l=d=u()),g<f&&(p=g,g=f,f=p),!(g>to))l.moveTo(0,0);else if(b>Z4-to)l.moveTo(g*xd(m),g*nu(m)),l.arc(0,0,g,m,y,!v),f>to&&(l.moveTo(f*xd(y),f*nu(y)),l.arc(0,0,f,y,m,v));else{var x=m,w=y,E=m,A=y,N=b,L=b,C=s.apply(this,arguments)/2,D=C>to&&(n?+n.apply(this,arguments):dp(f*f+g*g)),P=f7(pL(g-f)/2,+r.apply(this,arguments)),O=P,I=P,q,S;if(D>to){var B=dL(D/f*nu(C)),F=dL(D/g*nu(C));(N-=B*2)>to?(B*=v?1:-1,E+=B,A-=B):(N=0,E=A=(m+y)/2),(L-=F*2)>to?(F*=v?1:-1,x+=F,w-=F):(L=0,x=w=(m+y)/2)}var z=g*xd(x),M=g*nu(x),G=f*xd(A),Y=f*nu(A);if(P>to){var V=g*xd(w),X=g*nu(w),re=f*xd(E),de=f*nu(E),xe;if(b<Zf)if(xe=nte(z,M,re,de,V,X,G,Y)){var he=z-xe[0],be=M-xe[1],Q=V-xe[0],ne=X-xe[1],ee=1/nu(Xee((he*Q+be*ne)/(dp(he*he+be*be)*dp(Q*Q+ne*ne)))/2),pe=dp(xe[0]*xe[0]+xe[1]*xe[1]);O=f7(P,(f-pe)/(ee-1)),I=f7(P,(g-pe)/(ee+1))}else O=I=0}L>to?I>to?(q=Q4(re,de,z,M,g,I,v),S=Q4(V,X,G,Y,g,I,v),l.moveTo(q.cx+q.x01,q.cy+q.y01),I<P?l.arc(q.cx,q.cy,I,eo(q.y01,q.x01),eo(S.y01,S.x01),!v):(l.arc(q.cx,q.cy,I,eo(q.y01,q.x01),eo(q.y11,q.x11),!v),l.arc(0,0,g,eo(q.cy+q.y11,q.cx+q.x11),eo(S.cy+S.y11,S.cx+S.x11),!v),l.arc(S.cx,S.cy,I,eo(S.y11,S.x11),eo(S.y01,S.x01),!v))):(l.moveTo(z,M),l.arc(0,0,g,x,w,!v)):l.moveTo(z,M),!(f>to)||!(N>to)?l.lineTo(G,Y):O>to?(q=Q4(G,Y,V,X,f,-O,v),S=Q4(z,M,re,de,f,-O,v),l.lineTo(q.cx+q.x01,q.cy+q.y01),O<P?l.arc(q.cx,q.cy,O,eo(q.y01,q.x01),eo(S.y01,S.x01),!v):(l.arc(q.cx,q.cy,O,eo(q.y01,q.x01),eo(q.y11,q.x11),!v),l.arc(0,0,f,eo(q.cy+q.y11,q.cx+q.x11),eo(S.cy+S.y11,S.cx+S.x11),v),l.arc(S.cx,S.cy,O,eo(S.y11,S.x11),eo(S.y01,S.x01),!v))):l.arc(0,0,f,A,E,v)}if(l.closePath(),d)return l=null,d+""||null}return o(h,"arc"),h.centroid=function(){var d=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Zf/2;return[xd(p)*d,nu(p)*d]},h.innerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:_a(+d),h):e},h.outerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:_a(+d),h):t},h.cornerRadius=function(d){return arguments.length?(r=typeof d=="function"?d:_a(+d),h):r},h.padRadius=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:_a(+d),h):n},h.startAngle=function(d){return arguments.length?(i=typeof d=="function"?d:_a(+d),h):i},h.endAngle=function(d){return arguments.length?(a=typeof d=="function"?d:_a(+d),h):a},h.padAngle=function(d){return arguments.length?(s=typeof d=="function"?d:_a(+d),h):s},h.context=function(d){return arguments.length?(l=d??null,h):l},h}var fUe=R(()=>{"use strict";hL(),gL(),Zee(),o(Qee,"arcInnerRadius"),o(Jee,"arcOuterRadius"),o(ete,"arcStartAngle"),o(tte,"arcEndAngle"),o(rte,"arcPadAngle"),o(nte,"intersect"),o(Q4,"cornerTangents"),o(pp,"default")});function mL(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var mUe,ite=R(()=>{"use strict";mUe=Array.prototype.slice,o(mL,"default")});function yL(e){this._context=e}function vL(e){return new yL(e)}var ate=R(()=>{"use strict";o(yL,"Linear"),yL.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._point=0},"lineStart"),lineEnd:o(function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}},"point")},o(vL,"default")});function ste(e){return e[0]}function ote(e){return e[1]}var yUe=R(()=>{"use strict";o(ste,"x"),o(ote,"y")});function wd(e,t){var r=_a(!0),n=null,i=vL,a=null,s=fL(l);e=typeof e=="function"?e:e===void 0?ste:_a(e),t=typeof t=="function"?t:t===void 0?ote:_a(t);function l(u){var h,d=(u=mL(u)).length,p,f=!1,g;for(n==null&&(a=i(g=s())),h=0;h<=d;++h)!(h<d&&r(p=u[h],h,u))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(p,h,u),+t(p,h,u));if(g)return a=null,g+""||null}return o(l,"line"),l.x=function(u){return arguments.length?(e=typeof u=="function"?u:_a(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:_a(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:_a(!!u),l):r},l.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),l):i},l.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),l):n},l}var vUe=R(()=>{"use strict";ite(),hL(),ate(),Zee(),yUe(),o(wd,"default")});function lte(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var bUe=R(()=>{"use strict";o(lte,"default")});function cte(e){return e}var xUe=R(()=>{"use strict";o(cte,"default")});function ute(){var e=cte,t=lte,r=null,n=_a(0),i=_a(Z4),a=_a(0);function s(l){var u,h=(l=mL(l)).length,d,p,f=0,g=new Array(h),m=new Array(h),y=+n.apply(this,arguments),b=Math.min(Z4,Math.max(-Z4,i.apply(this,arguments)-y)),v,x=Math.min(Math.abs(b)/h,a.apply(this,arguments)),w=x*(b<0?-1:1),E;for(u=0;u<h;++u)(E=m[g[u]=u]=+e(l[u],u,l))>0&&(f+=E);for(t!=null?g.sort(function(A,N){return t(m[A],m[N])}):r!=null&&g.sort(function(A,N){return r(l[A],l[N])}),u=0,p=f?(b-h*w)/f:0;u<h;++u,y=v)d=g[u],E=m[d],v=y+(E>0?E*p:0)+w,m[d]={data:l[d],index:u,value:E,startAngle:y,endAngle:v,padAngle:x};return m}return o(s,"pie"),s.value=function(l){return arguments.length?(e=typeof l=="function"?l:_a(+l),s):e},s.sortValues=function(l){return arguments.length?(t=l,r=null,s):t},s.sort=function(l){return arguments.length?(r=l,t=null,s):r},s.startAngle=function(l){return arguments.length?(n=typeof l=="function"?l:_a(+l),s):n},s.endAngle=function(l){return arguments.length?(i=typeof l=="function"?l:_a(+l),s):i},s.padAngle=function(l){return arguments.length?(a=typeof l=="function"?l:_a(+l),s):a},s}var wUe=R(()=>{"use strict";ite(),hL(),bUe(),xUe(),gL(),o(ute,"default")});function hte(e){return new bL(e,!0)}function dte(e){return new bL(e,!1)}var bL,kUe=R(()=>{"use strict";bL=class{static{o(this,"Bump")}constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}},o(hte,"bumpX"),o(dte,"bumpY")});function Uh(){}var m7=R(()=>{"use strict";o(Uh,"default")});function J4(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function e3(e){this._context=e}function Qf(e){return new e3(e)}var y7=R(()=>{"use strict";o(J4,"point"),o(e3,"Basis"),e3.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 3:J4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:J4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},o(Qf,"default")});function xL(e){this._context=e}function pte(e){return new xL(e)}var TUe=R(()=>{"use strict";m7(),y7(),o(xL,"BasisClosed"),xL.prototype={areaStart:Uh,areaEnd:Uh,lineStart:o(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:J4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},o(pte,"default")});function wL(e){this._context=e}function gte(e){return new wL(e)}var EUe=R(()=>{"use strict";y7(),o(wL,"BasisOpen"),wL.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:o(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:J4(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},o(gte,"default")});function kL(e,t){this._basis=new e3(e),this._beta=t}var fte,CUe=R(()=>{"use strict";y7(),o(kL,"Bundle"),kL.prototype={lineStart:o(function(){this._x=[],this._y=[],this._basis.lineStart()},"lineStart"),lineEnd:o(function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],a=e[r]-n,s=t[r]-i,l=-1,u;++l<=r;)u=l/r,this._basis.point(this._beta*e[l]+(1-this._beta)*(n+u*a),this._beta*t[l]+(1-this._beta)*(i+u*s));this._x=this._y=null,this._basis.lineEnd()},"lineEnd"),point:o(function(e,t){this._x.push(+e),this._y.push(+t)},"point")},fte=o(function e(t){function r(n){return t===1?new e3(n):new kL(n,t)}return o(r,"bundle"),r.beta=function(n){return e(+n)},r},"custom")(.85)});function t3(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function v7(e,t){this._context=e,this._k=(1-t)/6}var mte,b7=R(()=>{"use strict";o(t3,"point"),o(v7,"Cardinal"),v7.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:t3(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:t3(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},mte=o(function e(t){function r(n){return new v7(n,t)}return o(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0)});function x7(e,t){this._context=e,this._k=(1-t)/6}var yte,vte=R(()=>{"use strict";m7(),b7(),o(x7,"CardinalClosed"),x7.prototype={areaStart:Uh,areaEnd:Uh,lineStart:o(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:t3(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},yte=o(function e(t){function r(n){return new x7(n,t)}return o(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0)});function w7(e,t){this._context=e,this._k=(1-t)/6}var bte,xte=R(()=>{"use strict";b7(),o(w7,"CardinalOpen"),w7.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:o(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:t3(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},bte=o(function e(t){function r(n){return new w7(n,t)}return o(r,"cardinal"),r.tension=function(n){return e(+n)},r},"custom")(0)});function k7(e,t,r){var n=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>to){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>to){var h=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*h+e._x1*e._l23_2a-t*e._l12_2a)/d,s=(s*h+e._y1*e._l23_2a-r*e._l12_2a)/d}e._context.bezierCurveTo(n,i,a,s,e._x2,e._y2)}function TL(e,t){this._context=e,this._alpha=t}var wte,EL=R(()=>{"use strict";gL(),b7(),o(k7,"point"),o(TL,"CatmullRom"),TL.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:k7(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},wte=o(function e(t){function r(n){return t?new TL(n,t):new v7(n,0)}return o(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5)});function CL(e,t){this._context=e,this._alpha=t}var kte,_Ue=R(()=>{"use strict";vte(),m7(),EL(),o(CL,"CatmullRomClosed"),CL.prototype={areaStart:Uh,areaEnd:Uh,lineStart:o(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},"lineEnd"),point:o(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:k7(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},kte=o(function e(t){function r(n){return t?new CL(n,t):new x7(n,0)}return o(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5)});function _L(e,t){this._context=e,this._alpha=t}var Tte,SUe=R(()=>{"use strict";xte(),EL(),o(_L,"CatmullRomOpen"),_L.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:o(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:k7(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},Tte=o(function e(t){function r(n){return t?new _L(n,t):new w7(n,0)}return o(r,"catmullRom"),r.alpha=function(n){return e(+n)},r},"custom")(.5)});function SL(e){this._context=e}function Ete(e){return new SL(e)}var AUe=R(()=>{"use strict";m7(),o(SL,"LinearClosed"),SL.prototype={areaStart:Uh,areaEnd:Uh,lineStart:o(function(){this._point=0},"lineStart"),lineEnd:o(function(){this._point&&this._context.closePath()},"lineEnd"),point:o(function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))},"point")},o(Ete,"default")});function AL(e){return e<0?-1:1}function LL(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(AL(a)+AL(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function NL(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function T7(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,s-l*r,a,s)}function r3(e){this._context=e}function ML(e){this._context=new IL(e)}function IL(e){this._context=e}function Cte(e){return new r3(e)}function _te(e){return new ML(e)}var LUe=R(()=>{"use strict";o(AL,"sign"),o(LL,"slope3"),o(NL,"slope2"),o(T7,"point"),o(r3,"MonotoneX"),r3.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},"lineStart"),lineEnd:o(function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:T7(this,this._t0,NL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:o(function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,T7(this,NL(this,r=LL(this,e,t)),r);break;default:T7(this,this._t0,r=LL(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}},"point")},o(ML,"MonotoneY"),(ML.prototype=Object.create(r3.prototype)).point=function(e,t){r3.prototype.point.call(this,t,e)},o(IL,"ReflectContext"),IL.prototype={moveTo:o(function(e,t){this._context.moveTo(t,e)},"moveTo"),closePath:o(function(){this._context.closePath()},"closePath"),lineTo:o(function(e,t){this._context.lineTo(t,e)},"lineTo"),bezierCurveTo:o(function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)},"bezierCurveTo")},o(Cte,"monotoneX"),o(_te,"monotoneY")});function DL(e){this._context=e}function RL(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Ste(e){return new DL(e)}var NUe=R(()=>{"use strict";o(DL,"Natural"),DL.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x=[],this._y=[]},"lineStart"),lineEnd:o(function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=RL(e),i=RL(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},"lineEnd"),point:o(function(e,t){this._x.push(+e),this._y.push(+t)},"point")},o(RL,"controlPoints"),o(Ste,"default")});function n3(e,t){this._context=e,this._t=t}function Ate(e){return new n3(e,.5)}function Lte(e){return new n3(e,0)}function Nte(e){return new n3(e,1)}var MUe=R(()=>{"use strict";o(n3,"Step"),n3.prototype={areaStart:o(function(){this._line=0},"areaStart"),areaEnd:o(function(){this._line=NaN},"areaEnd"),lineStart:o(function(){this._x=this._y=NaN,this._point=0},"lineStart"),lineEnd:o(function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},"lineEnd"),point:o(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t},"point")},o(Ate,"default"),o(Lte,"stepBefore"),o(Nte,"stepAfter")}),IUe=R(()=>{"use strict";fUe(),vUe(),wUe(),TUe(),EUe(),y7(),kUe(),CUe(),vte(),xte(),b7(),_Ue(),SUe(),EL(),AUe(),ate(),LUe(),NUe(),MUe()}),DUe=R(()=>{"use strict"}),RUe=R(()=>{"use strict"});function gp(e,t,r){this.k=e,this.x=t,this.y=r}function Mte(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ite;return e.__zoom}var Ite,Dte=R(()=>{"use strict";o(gp,"Transform"),gp.prototype={constructor:gp,scale:o(function(e){return e===1?this:new gp(this.k*e,this.x,this.y)},"scale"),translate:o(function(e,t){return e===0&t===0?this:new gp(this.k,this.x+this.k*e,this.y+this.k*t)},"translate"),apply:o(function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},"apply"),applyX:o(function(e){return e*this.k+this.x},"applyX"),applyY:o(function(e){return e*this.k+this.y},"applyY"),invert:o(function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},"invert"),invertX:o(function(e){return(e-this.x)/this.k},"invertX"),invertY:o(function(e){return(e-this.y)/this.k},"invertY"),rescaleX:o(function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},"rescaleX"),rescaleY:o(function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},"rescaleY"),toString:o(function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"},"toString")},Ite=new gp(1,0,0),Mte.prototype=gp.prototype,o(Mte,"transform")}),OUe=R(()=>{"use strict"}),PUe=R(()=>{"use strict";AA(),DUe(),RUe(),Dte(),OUe()}),BUe=R(()=>{"use strict";PUe(),Dte()}),Ln=R(()=>{"use strict";tp(),bYe(),Jje(),tHe(),R4(),rHe(),nHe(),sX(),rje(),iHe(),HQ(),aHe(),oHe(),mJ(),bHe(),xHe(),B4(),JQ(),wHe(),sHe(),kHe(),hUe(),gUe(),Hu(),IUe(),XA(),Yee(),wA(),AA(),BUe()}),FUe=St(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BLANK_URL=e.relativeFirstCharacters=e.whitespaceEscapeCharsRegex=e.urlSchemeRegex=e.ctrlCharactersRegex=e.htmlCtrlEntityRegex=e.htmlEntitiesRegex=e.invalidProtocolRegex=void 0,e.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,e.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,e.htmlCtrlEntityRegex=/&(newline|tab);/gi,e.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,e.urlSchemeRegex=/^.+(:|&colon;)/gim,e.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,e.relativeFirstCharacters=[".","/"],e.BLANK_URL="about:blank"}),i3=St(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=void 0;var t=FUe();function r(l){return t.relativeFirstCharacters.indexOf(l[0])>-1}o(r,"isRelativeUrlWithoutProtocol");function n(l){var u=l.replace(t.ctrlCharactersRegex,"");return u.replace(t.htmlEntitiesRegex,function(h,d){return String.fromCharCode(d)})}o(n,"decodeHtmlCharacters");function i(l){return URL.canParse(l)}o(i,"isValidUrl");function a(l){try{return decodeURIComponent(l)}catch{return l}}o(a,"decodeURI");function s(l){if(!l)return t.BLANK_URL;var u,h=a(l.trim());do h=n(h).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),h=a(h),u=h.match(t.ctrlCharactersRegex)||h.match(t.htmlEntitiesRegex)||h.match(t.htmlCtrlEntityRegex)||h.match(t.whitespaceEscapeCharsRegex);while(u&&u.length>0);var d=h;if(!d)return t.BLANK_URL;if(r(d))return d;var p=d.trimStart(),f=p.match(t.urlSchemeRegex);if(!f)return d;var g=f[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(g))return t.BLANK_URL;var m=p.replace(/\\/g,"/");if(g==="mailto:"||g.includes("://"))return m;if(g==="http:"||g==="https:"){if(!i(m))return t.BLANK_URL;var y=new URL(m);return y.protocol=y.protocol.toLowerCase(),y.hostname=y.hostname.toLowerCase(),y.toString()}return m}o(s,"sanitizeUrl"),e.sanitizeUrl=s}),OL,a3,PL,Rte,Ote,Pte,kd,E7,C7=R(()=>{"use strict";OL=Pr(i3(),1),En(),a3=o((e,t)=>{let r=e.append("rect");if(r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),t.name&&r.attr("name",t.name),t.rx&&r.attr("rx",t.rx),t.ry&&r.attr("ry",t.ry),t.attrs!==void 0)for(let n in t.attrs)r.attr(n,t.attrs[n]);return t.class&&r.attr("class",t.class),r},"drawRect"),PL=o((e,t)=>{let r={x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,stroke:t.stroke,class:"rect"};a3(e,r).lower()},"drawBackgroundRect"),Rte=o((e,t)=>{let r=t.text.replace(J1," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class&&n.attr("class",t.class);let i=n.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.text(r),n},"drawText"),Ote=o((e,t,r,n)=>{let i=e.append("image");i.attr("x",t),i.attr("y",r);let a=(0,OL.sanitizeUrl)(n);i.attr("xlink:href",a)},"drawImage"),Pte=o((e,t,r,n)=>{let i=e.append("use");i.attr("x",t),i.attr("y",r);let a=(0,OL.sanitizeUrl)(n);i.attr("xlink:href",`#${a}`)},"drawEmbeddedImage"),kd=o(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),E7=o(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj")}),Bte,_7,BL,Fte,$te,zte,qte,Gte,Yte,jte,Hte,Ute,Vte,Wte,Xte,Ku,iu,$Ue=R(()=>{"use strict";En(),C7(),Bte=Pr(i3(),1),_7=o(function(e,t){return a3(e,t)},"drawRect"),BL=o(function(e,t,r,n,i,a){let s=e.append("image");s.attr("width",t),s.attr("height",r),s.attr("x",n),s.attr("y",i);let l=a.startsWith("data:image/png;base64")?a:(0,Bte.sanitizeUrl)(a);s.attr("xlink:href",l)},"drawImage"),Fte=o((e,t,r)=>{let n=e.append("g"),i=0;for(let a of t){let s=a.textColor?a.textColor:"#444444",l=a.lineColor?a.lineColor:"#444444",u=a.offsetX?parseInt(a.offsetX):0,h=a.offsetY?parseInt(a.offsetY):0,d="";if(i===0){let f=n.append("line");f.attr("x1",a.startPoint.x),f.attr("y1",a.startPoint.y),f.attr("x2",a.endPoint.x),f.attr("y2",a.endPoint.y),f.attr("stroke-width","1"),f.attr("stroke",l),f.style("fill","none"),a.type!=="rel_b"&&f.attr("marker-end","url("+d+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&f.attr("marker-start","url("+d+"#arrowend)"),i=-1}else{let f=n.append("path");f.attr("fill","none").attr("stroke-width","1").attr("stroke",l).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",a.startPoint.x).replaceAll("starty",a.startPoint.y).replaceAll("controlx",a.startPoint.x+(a.endPoint.x-a.startPoint.x)/2-(a.endPoint.x-a.startPoint.x)/4).replaceAll("controly",a.startPoint.y+(a.endPoint.y-a.startPoint.y)/2).replaceAll("stopx",a.endPoint.x).replaceAll("stopy",a.endPoint.y)),a.type!=="rel_b"&&f.attr("marker-end","url("+d+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&f.attr("marker-start","url("+d+"#arrowend)")}let p=r.messageFont();Ku(r)(a.label.text,n,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+u,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+h,a.label.width,a.label.height,{fill:s},p),a.techn&&a.techn.text!==""&&(p=r.messageFont(),Ku(r)("["+a.techn.text+"]",n,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+u,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+r.messageFontSize+5+h,Math.max(a.label.width,a.techn.width),a.techn.height,{fill:s,"font-style":"italic"},p))}},"drawRels"),$te=o(function(e,t,r){let n=e.append("g"),i=t.bgColor?t.bgColor:"none",a=t.borderColor?t.borderColor:"#444444",s=t.fontColor?t.fontColor:"black",l={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(l={"stroke-width":1});let u={x:t.x,y:t.y,fill:i,stroke:a,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:l};_7(n,u);let h=r.boundaryFont();h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=s,Ku(r)(t.label.text,n,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},h),t.type&&t.type.text!==""&&(h=r.boundaryFont(),h.fontColor=s,Ku(r)(t.type.text,n,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},h)),t.descr&&t.descr.text!==""&&(h=r.boundaryFont(),h.fontSize=h.fontSize-2,h.fontColor=s,Ku(r)(t.descr.text,n,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},h))},"drawBoundary"),zte=o(function(e,t,r){let n=t.bgColor?t.bgColor:r[t.typeC4Shape.text+"_bg_color"],i=t.borderColor?t.borderColor:r[t.typeC4Shape.text+"_border_color"],a=t.fontColor?t.fontColor:"#FFFFFF",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}let l=e.append("g");l.attr("class","person-man");let u=kd();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":u.x=t.x,u.y=t.y,u.fill=n,u.width=t.width,u.height=t.height,u.stroke=i,u.rx=2.5,u.ry=2.5,u.attrs={"stroke-width":.5},_7(l,u);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":l.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),l.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":l.append("path").attr("fill",n).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),l.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let h=Xte(r,t.typeC4Shape.text);switch(l.append("text").attr("fill",a).attr("font-family",h.fontFamily).attr("font-size",h.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":BL(l,48,48,t.x+t.width/2-24,t.y+t.image.Y,s);break}let d=r[t.typeC4Shape.text+"Font"]();return d.fontWeight="bold",d.fontSize=d.fontSize+2,d.fontColor=a,Ku(r)(t.label.text,l,t.x,t.y+t.label.Y,t.width,t.height,{fill:a},d),d=r[t.typeC4Shape.text+"Font"](),d.fontColor=a,t.techn&&t.techn?.text!==""?Ku(r)(t.techn.text,l,t.x,t.y+t.techn.Y,t.width,t.height,{fill:a,"font-style":"italic"},d):t.type&&t.type.text!==""&&Ku(r)(t.type.text,l,t.x,t.y+t.type.Y,t.width,t.height,{fill:a,"font-style":"italic"},d),t.descr&&t.descr.text!==""&&(d=r.personFont(),d.fontColor=a,Ku(r)(t.descr.text,l,t.x,t.y+t.descr.Y,t.width,t.height,{fill:a},d)),t.height},"drawC4Shape"),qte=o(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),Gte=o(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),Yte=o(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),jte=o(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),Hte=o(function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),Ute=o(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),Vte=o(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),Wte=o(function(e){let t=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);t.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),t.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),Xte=o((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"getC4ShapeFont"),Ku=function(){function e(i,a,s,l,u,h,d){let p=a.append("text").attr("x",s+u/2).attr("y",l+h/2+5).style("text-anchor","middle").text(i);n(p,d)}o(e,"byText");function t(i,a,s,l,u,h,d,p){let{fontSize:f,fontFamily:g,fontWeight:m}=p,y=i.split(Yt.lineBreakRegex);for(let b=0;b<y.length;b++){let v=b*f-f*(y.length-1)/2,x=a.append("text").attr("x",s+u/2).attr("y",l).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",f).style("font-weight",m).style("font-family",g);x.append("tspan").attr("dy",v).text(y[b]).attr("alignment-baseline","mathematical"),n(x,d)}}o(t,"byTspan");function r(i,a,s,l,u,h,d,p){let f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",l).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,s,l,u,h,d,p),n(g,d)}o(r,"byFo");function n(i,a){for(let s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return o(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),iu={drawRect:_7,drawBoundary:$te,drawC4Shape:zte,drawRels:Fte,drawImage:BL,insertArrowHead:jte,insertArrowEnd:Hte,insertArrowFilledHead:Ute,insertDynamicNumber:Vte,insertArrowCrossHead:Wte,insertDatabaseIcon:qte,insertComputerIcon:Gte,insertClockIcon:Yte}}),Kte,FL,Zte=R(()=>{"use strict";Kte=typeof global=="object"&&global&&global.Object===Object&&global,FL=Kte}),Qte,Jte,wc,au=R(()=>{"use strict";Zte(),Qte=typeof self=="object"&&self&&self.Object===Object&&self,Jte=FL||Qte||Function("return this")(),wc=Jte}),ere,Yl,Jf=R(()=>{"use strict";au(),ere=wc.Symbol,Yl=ere});function tre(e){var t=rre.call(e,em),r=e[em];try{e[em]=void 0;var n=!0}catch{}var i=nre.call(e);return n&&(t?e[em]=r:delete e[em]),i}var $L,rre,nre,em,ire,zUe=R(()=>{"use strict";Jf(),$L=Object.prototype,rre=$L.hasOwnProperty,nre=$L.toString,em=Yl?Yl.toStringTag:void 0,o(tre,"getRawTag"),ire=tre});function are(e){return ore.call(e)}var sre,ore,lre,qUe=R(()=>{"use strict";sre=Object.prototype,ore=sre.toString,o(are,"objectToString"),lre=are});function cre(e){return e==null?e===void 0?hre:ure:zL&&zL in Object(e)?ire(e):lre(e)}var ure,hre,zL,Zu,Td=R(()=>{"use strict";Jf(),zUe(),qUe(),ure="[object Null]",hre="[object Undefined]",zL=Yl?Yl.toStringTag:void 0,o(cre,"baseGetTag"),Zu=cre});function dre(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zo,kc=R(()=>{"use strict";o(dre,"isObject"),zo=dre});function pre(e){if(!zo(e))return!1;var t=Zu(e);return t==fre||t==mre||t==gre||t==yre}var gre,fre,mre,yre,jl,S7=R(()=>{"use strict";Td(),kc(),gre="[object AsyncFunction]",fre="[object Function]",mre="[object GeneratorFunction]",yre="[object Proxy]",o(pre,"isFunction"),jl=pre}),vre,A7,GUe=R(()=>{"use strict";au(),vre=wc["__core-js_shared__"],A7=vre});function bre(e){return!!qL&&qL in e}var qL,xre,YUe=R(()=>{"use strict";GUe(),qL=function(){var e=/[^.]+$/.exec(A7&&A7.keys&&A7.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),o(bre,"isMasked"),xre=bre});function wre(e){if(e!=null){try{return Tre.call(e)}catch{}try{return e+""}catch{}}return""}var kre,Tre,Ed,Ere=R(()=>{"use strict";kre=Function.prototype,Tre=kre.toString,o(wre,"toSource"),Ed=wre});function Cre(e){if(!zo(e)||xre(e))return!1;var t=jl(e)?Ire:Sre;return t.test(Ed(e))}var _re,Sre,Are,Lre,Nre,Mre,Ire,Dre,jUe=R(()=>{"use strict";S7(),YUe(),kc(),Ere(),_re=/[\\^$.*+?()[\]{}|]/g,Sre=/^\[object .+?Constructor\]$/,Are=Function.prototype,Lre=Object.prototype,Nre=Are.toString,Mre=Lre.hasOwnProperty,Ire=RegExp("^"+Nre.call(Mre).replace(_re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),o(Cre,"baseIsNative"),Dre=Cre});function Rre(e,t){return e?.[t]}var Ore,HUe=R(()=>{"use strict";o(Rre,"getValue"),Ore=Rre});function Pre(e,t){var r=Ore(e,t);return Dre(r)?r:void 0}var Cd,fp=R(()=>{"use strict";jUe(),HUe(),o(Pre,"getNative"),Cd=Pre}),Bre,tm,L7=R(()=>{"use strict";fp(),Bre=Cd(Object,"create"),tm=Bre});function Fre(){this.__data__=tm?tm(null):{},this.size=0}var $re,UUe=R(()=>{"use strict";L7(),o(Fre,"hashClear"),$re=Fre});function zre(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qre,VUe=R(()=>{"use strict";o(zre,"hashDelete"),qre=zre});function Gre(e){var t=this.__data__;if(tm){var r=t[e];return r===Yre?void 0:r}return Hre.call(t,e)?t[e]:void 0}var Yre,jre,Hre,Ure,WUe=R(()=>{"use strict";L7(),Yre="__lodash_hash_undefined__",jre=Object.prototype,Hre=jre.hasOwnProperty,o(Gre,"hashGet"),Ure=Gre});function Vre(e){var t=this.__data__;return tm?t[e]!==void 0:Xre.call(t,e)}var Wre,Xre,Kre,XUe=R(()=>{"use strict";L7(),Wre=Object.prototype,Xre=Wre.hasOwnProperty,o(Vre,"hashHas"),Kre=Vre});function Zre(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=tm&&t===void 0?Qre:t,this}var Qre,Jre,KUe=R(()=>{"use strict";L7(),Qre="__lodash_hash_undefined__",o(Zre,"hashSet"),Jre=Zre});function mp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var GL,ZUe=R(()=>{"use strict";UUe(),VUe(),WUe(),XUe(),KUe(),o(mp,"Hash"),mp.prototype.clear=$re,mp.prototype.delete=qre,mp.prototype.get=Ure,mp.prototype.has=Kre,mp.prototype.set=Jre,GL=mp});function ene(){this.__data__=[],this.size=0}var tne,QUe=R(()=>{"use strict";o(ene,"listCacheClear"),tne=ene});function rne(e,t){return e===t||e!==e&&t!==t}var yp,rm=R(()=>{"use strict";o(rne,"eq"),yp=rne});function nne(e,t){for(var r=e.length;r--;)if(yp(e[r][0],t))return r;return-1}var s3,N7=R(()=>{"use strict";rm(),o(nne,"assocIndexOf"),s3=nne});function ine(e){var t=this.__data__,r=s3(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():sne.call(t,r,1),--this.size,!0}var ane,sne,one,JUe=R(()=>{"use strict";N7(),ane=Array.prototype,sne=ane.splice,o(ine,"listCacheDelete"),one=ine});function lne(e){var t=this.__data__,r=s3(t,e);return r<0?void 0:t[r][1]}var cne,eVe=R(()=>{"use strict";N7(),o(lne,"listCacheGet"),cne=lne});function une(e){return s3(this.__data__,e)>-1}var hne,tVe=R(()=>{"use strict";N7(),o(une,"listCacheHas"),hne=une});function dne(e,t){var r=this.__data__,n=s3(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var pne,rVe=R(()=>{"use strict";N7(),o(dne,"listCacheSet"),pne=dne});function vp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var o3,M7=R(()=>{"use strict";QUe(),JUe(),eVe(),tVe(),rVe(),o(vp,"ListCache"),vp.prototype.clear=tne,vp.prototype.delete=one,vp.prototype.get=cne,vp.prototype.has=hne,vp.prototype.set=pne,o3=vp}),gne,nm,YL=R(()=>{"use strict";fp(),au(),gne=Cd(wc,"Map"),nm=gne});function fne(){this.size=0,this.__data__={hash:new GL,map:new(nm||o3),string:new GL}}var mne,nVe=R(()=>{"use strict";ZUe(),M7(),YL(),o(fne,"mapCacheClear"),mne=fne});function yne(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var vne,iVe=R(()=>{"use strict";o(yne,"isKeyable"),vne=yne});function bne(e,t){var r=e.__data__;return vne(t)?r[typeof t=="string"?"string":"hash"]:r.map}var l3,I7=R(()=>{"use strict";iVe(),o(bne,"getMapData"),l3=bne});function xne(e){var t=l3(this,e).delete(e);return this.size-=t?1:0,t}var wne,aVe=R(()=>{"use strict";I7(),o(xne,"mapCacheDelete"),wne=xne});function kne(e){return l3(this,e).get(e)}var Tne,sVe=R(()=>{"use strict";I7(),o(kne,"mapCacheGet"),Tne=kne});function Ene(e){return l3(this,e).has(e)}var Cne,oVe=R(()=>{"use strict";I7(),o(Ene,"mapCacheHas"),Cne=Ene});function _ne(e,t){var r=l3(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Sne,lVe=R(()=>{"use strict";I7(),o(_ne,"mapCacheSet"),Sne=_ne});function bp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}var c3,jL=R(()=>{"use strict";nVe(),aVe(),sVe(),oVe(),lVe(),o(bp,"MapCache"),bp.prototype.clear=mne,bp.prototype.delete=wne,bp.prototype.get=Tne,bp.prototype.has=Cne,bp.prototype.set=Sne,c3=bp});function D7(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ane);var r=o(function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s},"memoized");return r.cache=new(D7.Cache||c3),r}var Ane,u3,Lne=R(()=>{"use strict";jL(),Ane="Expected a function",o(D7,"memoize"),D7.Cache=c3,u3=D7});function Nne(){this.__data__=new o3,this.size=0}var Mne,cVe=R(()=>{"use strict";M7(),o(Nne,"stackClear"),Mne=Nne});function Ine(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Dne,uVe=R(()=>{"use strict";o(Ine,"stackDelete"),Dne=Ine});function Rne(e){return this.__data__.get(e)}var One,hVe=R(()=>{"use strict";o(Rne,"stackGet"),One=Rne});function Pne(e){return this.__data__.has(e)}var Bne,dVe=R(()=>{"use strict";o(Pne,"stackHas"),Bne=Pne});function Fne(e,t){var r=this.__data__;if(r instanceof o3){var n=r.__data__;if(!nm||n.length<$ne-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new c3(n)}return r.set(e,t),this.size=r.size,this}var $ne,zne,pVe=R(()=>{"use strict";M7(),YL(),jL(),$ne=200,o(Fne,"stackSet"),zne=Fne});function xp(e){var t=this.__data__=new o3(e);this.size=t.size}var wp,R7=R(()=>{"use strict";M7(),cVe(),uVe(),hVe(),dVe(),pVe(),o(xp,"Stack"),xp.prototype.clear=Mne,xp.prototype.delete=Dne,xp.prototype.get=One,xp.prototype.has=Bne,xp.prototype.set=zne,wp=xp}),qne,h3,Gne=R(()=>{"use strict";fp(),qne=function(){try{var e=Cd(Object,"defineProperty");return e({},"",{}),e}catch{}}(),h3=qne});function Yne(e,t,r){t=="__proto__"&&h3?h3(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var im,d3=R(()=>{"use strict";Gne(),o(Yne,"baseAssignValue"),im=Yne});function jne(e,t,r){(r!==void 0&&!yp(e[t],r)||r===void 0&&!(t in e))&&im(e,t,r)}var O7,Hne=R(()=>{"use strict";d3(),rm(),o(jne,"assignMergeValue"),O7=jne});function Une(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),l=s.length;l--;){var u=s[e?l:++i];if(r(a[u],u,a)===!1)break}return t}}var Vne,gVe=R(()=>{"use strict";o(Une,"createBaseFor"),Vne=Une}),Wne,P7,HL=R(()=>{"use strict";gVe(),Wne=Vne(),P7=Wne});function Xne(e,t){if(t)return e.slice();var r=e.length,n=XL?XL(r):new e.constructor(r);return e.copy(n),n}var UL,VL,Kne,WL,XL,KL,Zne=R(()=>{"use strict";au(),UL=typeof exports=="object"&&exports&&!exports.nodeType&&exports,VL=UL&&typeof module=="object"&&module&&!module.nodeType&&module,Kne=VL&&VL.exports===UL,WL=Kne?wc.Buffer:void 0,XL=WL?WL.allocUnsafe:void 0,o(Xne,"cloneBuffer"),KL=Xne}),Qne,p3,Jne=R(()=>{"use strict";au(),Qne=wc.Uint8Array,p3=Qne});function eie(e){var t=new e.constructor(e.byteLength);return new p3(t).set(new p3(e)),t}var B7,ZL=R(()=>{"use strict";Jne(),o(eie,"cloneArrayBuffer"),B7=eie});function tie(e,t){var r=t?B7(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var QL,rie=R(()=>{"use strict";ZL(),o(tie,"cloneTypedArray"),QL=tie});function nie(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var JL,iie=R(()=>{"use strict";o(nie,"copyArray"),JL=nie}),eN,aie,sie,fVe=R(()=>{"use strict";kc(),eN=Object.create,aie=function(){function e(){}return o(e,"object"),function(t){if(!zo(t))return{};if(eN)return eN(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),sie=aie});function oie(e,t){return function(r){return e(t(r))}}var tN,lie=R(()=>{"use strict";o(oie,"overArg"),tN=oie}),cie,F7,rN=R(()=>{"use strict";lie(),cie=tN(Object.getPrototypeOf,Object),F7=cie});function uie(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||hie;return e===r}var hie,am,g3=R(()=>{"use strict";hie=Object.prototype,o(uie,"isPrototype"),am=uie});function die(e){return typeof e.constructor=="function"&&!am(e)?sie(F7(e)):{}}var nN,pie=R(()=>{"use strict";fVe(),rN(),g3(),o(die,"initCloneObject"),nN=die});function gie(e){return e!=null&&typeof e=="object"}var Hl,su=R(()=>{"use strict";o(gie,"isObjectLike"),Hl=gie});function fie(e){return Hl(e)&&Zu(e)==mie}var mie,iN,mVe=R(()=>{"use strict";Td(),su(),mie="[object Arguments]",o(fie,"baseIsArguments"),iN=fie}),aN,yie,vie,bie,kp,f3=R(()=>{"use strict";mVe(),su(),aN=Object.prototype,yie=aN.hasOwnProperty,vie=aN.propertyIsEnumerable,bie=iN(function(){return arguments}())?iN:function(e){return Hl(e)&&yie.call(e,"callee")&&!vie.call(e,"callee")},kp=bie}),xie,zn,ha=R(()=>{"use strict";xie=Array.isArray,zn=xie});function wie(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=kie}var kie,$7,sN=R(()=>{"use strict";kie=9007199254740991,o(wie,"isLength"),$7=wie});function Tie(e){return e!=null&&$7(e.length)&&!jl(e)}var Tc,ou=R(()=>{"use strict";S7(),sN(),o(Tie,"isArrayLike"),Tc=Tie});function Eie(e){return Hl(e)&&Tc(e)}var m3,oN=R(()=>{"use strict";ou(),su(),o(Eie,"isArrayLikeObject"),m3=Eie});function Cie(){return!1}var _ie,yVe=R(()=>{"use strict";o(Cie,"stubFalse"),_ie=Cie}),lN,cN,Sie,uN,Aie,Lie,Tp,y3=R(()=>{"use strict";au(),yVe(),lN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cN=lN&&typeof module=="object"&&module&&!module.nodeType&&module,Sie=cN&&cN.exports===lN,uN=Sie?wc.Buffer:void 0,Aie=uN?uN.isBuffer:void 0,Lie=Aie||_ie,Tp=Lie});function Nie(e){if(!Hl(e)||Zu(e)!=Mie)return!1;var t=F7(e);if(t===null)return!0;var r=Rie.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&hN.call(r)==Oie}var Mie,Iie,Die,hN,Rie,Oie,Pie,vVe=R(()=>{"use strict";Td(),rN(),su(),Mie="[object Object]",Iie=Function.prototype,Die=Object.prototype,hN=Iie.toString,Rie=Die.hasOwnProperty,Oie=hN.call(Object),o(Nie,"isPlainObject"),Pie=Nie});function Bie(e){return Hl(e)&&$7(e.length)&&!!Yi[Zu(e)]}var Fie,$ie,zie,qie,Gie,Yie,jie,Hie,Uie,Vie,Wie,Xie,Kie,Zie,Qie,Jie,eae,tae,rae,nae,iae,aae,sae,oae,Yi,lae,bVe=R(()=>{"use strict";Td(),sN(),su(),Fie="[object Arguments]",$ie="[object Array]",zie="[object Boolean]",qie="[object Date]",Gie="[object Error]",Yie="[object Function]",jie="[object Map]",Hie="[object Number]",Uie="[object Object]",Vie="[object RegExp]",Wie="[object Set]",Xie="[object String]",Kie="[object WeakMap]",Zie="[object ArrayBuffer]",Qie="[object DataView]",Jie="[object Float32Array]",eae="[object Float64Array]",tae="[object Int8Array]",rae="[object Int16Array]",nae="[object Int32Array]",iae="[object Uint8Array]",aae="[object Uint8ClampedArray]",sae="[object Uint16Array]",oae="[object Uint32Array]",Yi={},Yi[Jie]=Yi[eae]=Yi[tae]=Yi[rae]=Yi[nae]=Yi[iae]=Yi[aae]=Yi[sae]=Yi[oae]=!0,Yi[Fie]=Yi[$ie]=Yi[Zie]=Yi[zie]=Yi[Qie]=Yi[qie]=Yi[Gie]=Yi[Yie]=Yi[jie]=Yi[Hie]=Yi[Uie]=Yi[Vie]=Yi[Wie]=Yi[Xie]=Yi[Kie]=!1,o(Bie,"baseIsTypedArray"),lae=Bie});function cae(e){return function(t){return e(t)}}var Ep,sm=R(()=>{"use strict";o(cae,"baseUnary"),Ep=cae}),dN,om,uae,z7,hae,Vh,q7=R(()=>{"use strict";Zte(),dN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,om=dN&&typeof module=="object"&&module&&!module.nodeType&&module,uae=om&&om.exports===dN,z7=uae&&FL.process,hae=function(){try{var e=om&&om.require&&om.require("util").types;return e||z7&&z7.binding&&z7.binding("util")}catch{}}(),Vh=hae}),pN,dae,v3,G7=R(()=>{"use strict";bVe(),sm(),q7(),pN=Vh&&Vh.isTypedArray,dae=pN?Ep(pN):lae,v3=dae});function pae(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Y7,gae=R(()=>{"use strict";o(pae,"safeGet"),Y7=pae});function fae(e,t,r){var n=e[t];(!(yae.call(e,t)&&yp(n,r))||r===void 0&&!(t in e))&&im(e,t,r)}var mae,yae,lm,b3=R(()=>{"use strict";d3(),rm(),mae=Object.prototype,yae=mae.hasOwnProperty,o(fae,"assignValue"),lm=fae});function vae(e,t,r,n){var i=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var l=t[a],u=n?n(r[l],e[l],l,r,e):void 0;u===void 0&&(u=e[l]),i?im(r,l,u):lm(r,l,u)}return r}var Cp,cm=R(()=>{"use strict";b3(),d3(),o(vae,"copyObject"),Cp=vae});function bae(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var xae,xVe=R(()=>{"use strict";o(bae,"baseTimes"),xae=bae});function wae(e,t){var r=typeof e;return t=t??kae,!!t&&(r=="number"||r!="symbol"&&Tae.test(e))&&e>-1&&e%1==0&&e<t}var kae,Tae,x3,j7=R(()=>{"use strict";kae=9007199254740991,Tae=/^(?:0|[1-9]\d*)$/,o(wae,"isIndex"),x3=wae});function Eae(e,t){var r=zn(e),n=!r&&kp(e),i=!r&&!n&&Tp(e),a=!r&&!n&&!i&&v3(e),s=r||n||i||a,l=s?xae(e.length,String):[],u=l.length;for(var h in e)(t||_ae.call(e,h))&&!(s&&(h=="length"||i&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||x3(h,u)))&&l.push(h);return l}var Cae,_ae,gN,Sae=R(()=>{"use strict";xVe(),f3(),ha(),y3(),j7(),G7(),Cae=Object.prototype,_ae=Cae.hasOwnProperty,o(Eae,"arrayLikeKeys"),gN=Eae});function Aae(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Lae,wVe=R(()=>{"use strict";o(Aae,"nativeKeysIn"),Lae=Aae});function Nae(e){if(!zo(e))return Lae(e);var t=am(e),r=[];for(var n in e)n=="constructor"&&(t||!Iae.call(e,n))||r.push(n);return r}var Mae,Iae,Dae,kVe=R(()=>{"use strict";kc(),g3(),wVe(),Mae=Object.prototype,Iae=Mae.hasOwnProperty,o(Nae,"baseKeysIn"),Dae=Nae});function Rae(e){return Tc(e)?gN(e,!0):Dae(e)}var _d,_p=R(()=>{"use strict";Sae(),kVe(),ou(),o(Rae,"keysIn"),_d=Rae});function Oae(e){return Cp(e,_d(e))}var Pae,TVe=R(()=>{"use strict";cm(),_p(),o(Oae,"toPlainObject"),Pae=Oae});function Bae(e,t,r,n,i,a,s){var l=Y7(e,r),u=Y7(t,r),h=s.get(u);if(h){O7(e,r,h);return}var d=a?a(l,u,r+"",e,t,s):void 0,p=d===void 0;if(p){var f=zn(u),g=!f&&Tp(u),m=!f&&!g&&v3(u);d=u,f||g||m?zn(l)?d=l:m3(l)?d=JL(l):g?(p=!1,d=KL(u,!0)):m?(p=!1,d=QL(u,!0)):d=[]:Pie(u)||kp(u)?(d=l,kp(l)?d=Pae(l):(!zo(l)||jl(l))&&(d=nN(u))):p=!1}p&&(s.set(u,d),i(d,u,n,a,s),s.delete(u)),O7(e,r,d)}var Fae,EVe=R(()=>{"use strict";Hne(),Zne(),rie(),iie(),pie(),f3(),ha(),oN(),y3(),S7(),kc(),vVe(),G7(),gae(),TVe(),o(Bae,"baseMergeDeep"),Fae=Bae});function fN(e,t,r,n,i){e!==t&&P7(t,function(a,s){if(i||(i=new wp),zo(a))Fae(e,t,s,r,fN,n,i);else{var l=n?n(Y7(e,s),a,s+"",e,t,i):void 0;l===void 0&&(l=a),O7(e,s,l)}},_d)}var $ae,CVe=R(()=>{"use strict";R7(),Hne(),HL(),EVe(),kc(),_p(),gae(),o(fN,"baseMerge"),$ae=fN});function zae(e){return e}var Qu,Sd=R(()=>{"use strict";o(zae,"identity"),Qu=zae});function qae(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Gae,_Ve=R(()=>{"use strict";o(qae,"apply"),Gae=qae});function Yae(e,t,r){return t=mN(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=mN(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(s),Gae(e,this,l)}}var mN,yN,jae=R(()=>{"use strict";_Ve(),mN=Math.max,o(Yae,"overRest"),yN=Yae});function Hae(e){return function(){return e}}var Wh,Uae=R(()=>{"use strict";o(Hae,"constant"),Wh=Hae}),Vae,Wae,SVe=R(()=>{"use strict";Uae(),Gne(),Sd(),Vae=h3?function(e,t){return h3(e,"toString",{configurable:!0,enumerable:!1,value:Wh(t),writable:!0})}:Qu,Wae=Vae});function Xae(e){var t=0,r=0;return function(){var n=Qae(),i=Zae-(n-r);if(r=n,i>0){if(++t>=Kae)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Kae,Zae,Qae,Jae,AVe=R(()=>{"use strict";Kae=800,Zae=16,Qae=Date.now,o(Xae,"shortOut"),Jae=Xae}),ese,vN,tse=R(()=>{"use strict";SVe(),AVe(),ese=Jae(Wae),vN=ese});function rse(e,t){return vN(yN(e,t,Qu),e+"")}var um,w3=R(()=>{"use strict";Sd(),jae(),tse(),o(rse,"baseRest"),um=rse});function nse(e,t,r){if(!zo(r))return!1;var n=typeof t;return(n=="number"?Tc(r)&&x3(t,r.length):n=="string"&&t in r)?yp(r[t],e):!1}var Ad,hm=R(()=>{"use strict";rm(),ou(),j7(),kc(),o(nse,"isIterateeCall"),Ad=nse});function ise(e){return um(function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,s&&Ad(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var l=r[n];l&&e(t,l,n,a)}return t})}var bN,ase=R(()=>{"use strict";w3(),hm(),o(ise,"createAssigner"),bN=ise}),sse,k3,ose=R(()=>{"use strict";CVe(),ase(),sse=bN(function(e,t,r){$ae(e,t,r)}),k3=sse});function xN(e,t){if(!e)return t;let r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return gse[r]??t}function lse(e,t){let r=e.trim();if(r)return t.securityLevel!=="loose"?(0,pse.sanitizeUrl)(r):r}function wN(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function cse(e){let t,r=0;e.forEach(i=>{r+=wN(i,t),t=i});let n=r/2;return U7(e,n)}function use(e){return e.length===1?e[0]:cse(e)}function hse(e,t,r){let n=structuredClone(r);J.info("our points",n),t!=="start_left"&&t!=="start_right"&&n.reverse();let i=25+e,a=U7(n,i),s=10+e*.5,l=Math.atan2(n[0].y-a.y,n[0].x-a.x),u={x:0,y:0};return t==="start_left"?(u.x=Math.sin(l+Math.PI)*s+(n[0].x+a.x)/2,u.y=-Math.cos(l+Math.PI)*s+(n[0].y+a.y)/2):t==="end_right"?(u.x=Math.sin(l-Math.PI)*s+(n[0].x+a.x)/2-5,u.y=-Math.cos(l-Math.PI)*s+(n[0].y+a.y)/2-5):t==="end_left"?(u.x=Math.sin(l)*s+(n[0].x+a.x)/2-5,u.y=-Math.cos(l)*s+(n[0].y+a.y)/2-5):(u.x=Math.sin(l)*s+(n[0].x+a.x)/2,u.y=-Math.cos(l)*s+(n[0].y+a.y)/2),u}function kN(e){let t="",r="";for(let n of e)n!==void 0&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}function dse(e){let t="",r="0123456789abcdef",n=r.length;for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*n));return t}function H7(e,t){return V7(e,t).height}function Ec(e,t){return V7(e,t).width}function TN(e){return"str"in e}function Xh(e,t){return k3({},e,t)}function qo(e){return e??null}var pse,EN,gse,fse,mse,CN,yse,vse,bse,_N,U7,xse,SN,AN,LN,wse,kse,NN,Tse,V7,Ese,W7,Cse,_se,Kh,mn,Sse,Ju,MN,kn=R(()=>{"use strict";pse=Pr(i3(),1),Ln(),En(),Ex(),We(),us(),hl(),Lne(),ose(),vn(),EN="\u200B",gse={curveBasis:Qf,curveBasisClosed:pte,curveBasisOpen:gte,curveBumpX:hte,curveBumpY:dte,curveBundle:fte,curveCardinalClosed:yte,curveCardinalOpen:bte,curveCardinal:mte,curveCatmullRomClosed:kte,curveCatmullRomOpen:Tte,curveCatmullRom:wte,curveLinear:vL,curveLinearClosed:Ete,curveMonotoneX:Cte,curveMonotoneY:_te,curveNatural:Ste,curveStep:Ate,curveStepAfter:Nte,curveStepBefore:Lte},fse=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,mse=o(function(e,t){let r=CN(e,/(?:init\b)|(?:initialize\b)/),n={};if(Array.isArray(r)){let s=r.map(l=>l.args);Lh(s),n=ci(n,[...s])}else n=r.args;if(!n)return;let i=Ra(e,t),a="config";return n[a]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),n[i]=n[a],delete n[a]),n},"detectInit"),CN=o(function(e,t=null){try{let r=new RegExp(`[%]{2}(?![{]${fse.source})(?=[}][%]{2}).*
`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),J.debug(`Detecting diagram directive${t!==null?" type:"+t:""} based on the text:${e}`);let n,i=[];for(;(n=er.exec(e))!==null;)if(n.index===er.lastIndex&&er.lastIndex++,n&&!t||t&&n[1]?.match(t)||t&&n[2]?.match(t)){let a=n[1]?n[1]:n[2],s=n[3]?n[3].trim():n[4]?JSON.parse(n[4].trim()):null;i.push({type:a,args:s})}return i.length===0?{type:e,args:null}:i.length===1?i[0]:i}catch(r){return J.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}},"detectDirective"),yse=o(function(e){return e.replace(er,"")},"removeDirectives"),vse=o(function(e,t){for(let[r,n]of t.entries())if(n.match(e))return r;return-1},"isSubstringInArray"),o(xN,"interpolateToCurve"),o(lse,"formatUrl"),bse=o((e,...t)=>{let r=e.split("."),n=r.length-1,i=r[n],a=window;for(let s=0;s<n;s++)if(a=a[r[s]],!a){J.error(`Function name: ${e} not found in window`);return}a[i](...t)},"runFunc"),o(wN,"distance"),o(cse,"traverseEdge"),o(use,"calcLabelPosition"),_N=o((e,t=2)=>{let r=Math.pow(10,t);return Math.round(e*r)/r},"roundNumber"),U7=o((e,t)=>{let r,n=t;for(let i of e){if(r){let a=wN(i,r);if(a<n)n-=a;else{let s=n/a;if(s<=0)return r;if(s>=1)return{x:i.x,y:i.y};if(s>0&&s<1)return{x:_N((1-s)*r.x+s*i.x,5),y:_N((1-s)*r.y+s*i.y,5)}}}r=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),xse=o((e,t,r)=>{J.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());let n=U7(t,25),i=e?10:5,a=Math.atan2(t[0].y-n.y,t[0].x-n.x),s={x:0,y:0};return s.x=Math.sin(a)*i+(t[0].x+n.x)/2,s.y=-Math.cos(a)*i+(t[0].y+n.y)/2,s},"calcCardinalityPosition"),o(hse,"calcTerminalLabelPosition"),o(kN,"getStylesFromArray"),SN=0,AN=o(()=>(SN++,"id-"+Math.random().toString(36).substr(2,12)+"-"+SN),"generateId"),o(dse,"makeRandomHex"),LN=o(e=>dse(e.length),"random"),wse=o(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),kse=o(function(e,t){let r=t.text.replace(Yt.lineBreakRegex," "),[,n]=Kh(t.fontSize),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.style("text-anchor",t.anchor),i.style("font-family",t.fontFamily),i.style("font-size",n),i.style("font-weight",t.fontWeight),i.attr("fill",t.fill),t.class!==void 0&&i.attr("class",t.class);let a=i.append("tspan");return a.attr("x",t.x+t.textMargin*2),a.attr("fill",t.fill),a.text(r),i},"drawSimpleText"),NN=u3((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),Yt.lineBreakRegex.test(e)))return e;let n=e.split(" ").filter(Boolean),i=[],a="";return n.forEach((s,l)=>{let u=Ec(`${s} `,r),h=Ec(a,r);if(u>t){let{hyphenatedStrings:d,remainingWord:p}=Tse(s,t,"-",r);i.push(a,...d),a=p}else h+u>=t?(i.push(a),a=s):a=[a,s].filter(Boolean).join(" ");l+1===n.length&&i.push(a)}),i.filter(s=>s!=="").join(r.joinWith)},(e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`),Tse=u3((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);let i=[...e],a=[],s="";return i.forEach((l,u)=>{let h=`${s}${l}`;if(Ec(h,n)>=t){let d=u+1,p=i.length===d,f=`${h}${r}`;a.push(p?h:f),s=""}else s=h}),{hyphenatedStrings:a,remainingWord:s}},(e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`),o(H7,"calculateTextHeight"),o(Ec,"calculateTextWidth"),V7=u3((e,t)=>{let{fontSize:r=12,fontFamily:n="Arial",fontWeight:i=400}=t;if(!e)return{width:0,height:0};let[,a]=Kh(r),s=["sans-serif",n],l=e.split(Yt.lineBreakRegex),u=[],h=Bt("body");if(!h.remove)return{width:0,height:0,lineHeight:0};let d=h.append("svg");for(let f of s){let g=0,m={width:0,height:0,lineHeight:0};for(let y of l){let b=wse();b.text=y||EN;let v=kse(d,b).style("font-size",a).style("font-weight",i).style("font-family",f),x=(v._groups||v)[0][0].getBBox();if(x.width===0&&x.height===0)throw new Error("svg element not in render tree");m.width=Math.round(Math.max(m.width,x.width)),g=Math.round(x.height),m.height+=g,m.lineHeight=Math.round(Math.max(m.lineHeight,g))}u.push(m)}d.remove();let p=isNaN(u[1].height)||isNaN(u[1].width)||isNaN(u[1].lineHeight)||u[0].height>u[1].height&&u[0].width>u[1].width&&u[0].lineHeight>u[1].lineHeight?0:1;return u[p]},(e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`),Ese=class{constructor(e=!1,t){this.count=0,this.count=t?t.length:0,this.next=e?()=>this.count++:()=>Date.now()}static{o(this,"InitIDGenerator")}},Cse=o(function(e){return W7=W7||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),W7.innerHTML=e,unescape(W7.textContent)},"entityDecode"),o(TN,"isDetailedError"),_se=o((e,t,r,n)=>{if(!n)return;let i=e.node()?.getBBox();i&&e.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",t)},"insertTitle"),Kh=o(e=>{if(typeof e=="number")return[e,e+"px"];let t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]},"parseFontSize"),o(Xh,"cleanAndMerge"),mn={assignWithDepth:ci,wrapLabel:NN,calculateTextHeight:H7,calculateTextWidth:Ec,calculateTextDimensions:V7,cleanAndMerge:Xh,detectInit:mse,detectDirective:CN,isSubstringInArray:vse,interpolateToCurve:xN,calcLabelPosition:use,calcCardinalityPosition:xse,calcTerminalLabelPosition:hse,formatUrl:lse,getStylesFromArray:kN,generateId:AN,random:LN,runFunc:bse,entityDecode:Cse,insertTitle:_se,parseFontSize:Kh,InitIDGenerator:Ese},Sse=o(function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/classDef.*:\S*#.*;/g,function(r){return r.substring(0,r.length-1)}),t=t.replace(/#\w+;/g,function(r){let n=r.substring(1,r.length-1);return/^\+?\d+$/.test(n)?"\uFB02\xB0\xB0"+n+"\xB6\xDF":"\uFB02\xB0"+n+"\xB6\xDF"}),t},"encodeEntities"),Ju=o(function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),MN=o((e,t,{counter:r=0,prefix:n,suffix:i})=>`${n?`${n}_`:""}${e}_${t}_${r}${i?`_${i}`:""}`,"getEdgeId"),o(qo,"handleUndefinedAttr")});function Cc(e,t,r,n,i){if(!t[e].width)if(r)t[e].text=NN(t[e].text,i,n),t[e].textLines=t[e].text.split(Yt.lineBreakRegex).length,t[e].width=i,t[e].height=H7(t[e].text,n);else{let a=t[e].text.split(Yt.lineBreakRegex);t[e].textLines=a.length;let s=0;t[e].height=0,t[e].width=0;for(let l of a)t[e].width=Math.max(Ec(l,n),t[e].width),s=H7(l,n),t[e].height=t[e].height+s}}function IN(e,t,r,n,i){let a=new RN(i);a.data.widthLimit=r.data.widthLimit/Math.min(X7,n.length);for(let[s,l]of n.entries()){let u=0;l.image={width:0,height:0,Y:0},l.sprite&&(l.image.width=48,l.image.height=48,l.image.Y=u,u=l.image.Y+l.image.height);let h=l.wrap&&Ir.wrap,d=C3(Ir);if(d.fontSize=d.fontSize+2,d.fontWeight="bold",Cc("label",l,h,d,a.data.widthLimit),l.label.Y=u+8,u=l.label.Y+l.label.height,l.type&&l.type.text!==""){l.type.text="["+l.type.text+"]";let m=C3(Ir);Cc("type",l,h,m,a.data.widthLimit),l.type.Y=u+5,u=l.type.Y+l.type.height}if(l.descr&&l.descr.text!==""){let m=C3(Ir);m.fontSize=m.fontSize-2,Cc("descr",l,h,m,a.data.widthLimit),l.descr.Y=u+20,u=l.descr.Y+l.descr.height}if(s==0||s%X7===0){let m=r.data.startx+Ir.diagramMarginX,y=r.data.stopy+Ir.diagramMarginY+u;a.setData(m,m,y,y)}else{let m=a.data.stopx!==a.data.startx?a.data.stopx+Ir.diagramMarginX:a.data.startx,y=a.data.starty;a.setData(m,m,y,y)}a.name=l.alias;let p=i.db.getC4ShapeArray(l.alias),f=i.db.getC4ShapeKeys(l.alias);f.length>0&&PN(a,e,p,f),t=l.alias;let g=i.db.getBoundarys(t);g.length>0&&IN(e,t,a,g,i),l.alias!=="global"&&ON(e,l,a),r.data.stopy=Math.max(a.data.stopy+Ir.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(a.data.stopx+Ir.c4ShapeMargin,r.data.stopx),T3=Math.max(T3,r.data.stopx),E3=Math.max(E3,r.data.stopy)}}var T3,E3,DN,X7,Ir,RN,K7,dm,C3,Ase,ON,PN,Ul,BN,Lse,Nse,Mse,FN,LVe=R(()=>{"use strict";Ln(),$Ue(),We(),ul(),En(),NW(),zr(),hl(),kn(),Fa(),T3=0,E3=0,DN=4,X7=2,ei.yy=w6,Ir={},RN=class{static{o(this,"Bounds")}constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,K7(e.db.getConfig())}setData(e,t,r,n){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=t,this.nextData.starty=this.data.starty=r,this.nextData.stopy=this.data.stopy=n}updateVal(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let t=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,r=t+e.width,n=this.nextData.starty+e.margin*2,i=n+e.height;(t>=this.data.widthLimit||r>=this.data.widthLimit||this.nextData.cnt>DN)&&(t=this.nextData.startx+e.margin+Ir.nextLinePaddingX,n=this.nextData.stopy+e.margin*2,this.nextData.stopx=r=t+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=i=n+e.height,this.nextData.cnt=1),e.x=t,e.y=n,this.updateVal(this.data,"startx",t,Math.min),this.updateVal(this.data,"starty",n,Math.min),this.updateVal(this.data,"stopx",r,Math.max),this.updateVal(this.data,"stopy",i,Math.max),this.updateVal(this.nextData,"startx",t,Math.min),this.updateVal(this.nextData,"starty",n,Math.min),this.updateVal(this.nextData,"stopx",r,Math.max),this.updateVal(this.nextData,"stopy",i,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},K7(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}},K7=o(function(e){ci(Ir,e),e.fontFamily&&(Ir.personFontFamily=Ir.systemFontFamily=Ir.messageFontFamily=e.fontFamily),e.fontSize&&(Ir.personFontSize=Ir.systemFontSize=Ir.messageFontSize=e.fontSize),e.fontWeight&&(Ir.personFontWeight=Ir.systemFontWeight=Ir.messageFontWeight=e.fontWeight)},"setConf"),dm=o((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"c4ShapeFont"),C3=o(e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight}),"boundaryFont"),Ase=o(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),o(Cc,"calcC4ShapeTextWH"),ON=o(function(e,t,r){t.x=r.data.startx,t.y=r.data.starty,t.width=r.data.stopx-r.data.startx,t.height=r.data.stopy-r.data.starty,t.label.y=Ir.c4ShapeMargin-35;let n=t.wrap&&Ir.wrap,i=C3(Ir);i.fontSize=i.fontSize+2,i.fontWeight="bold";let a=Ec(t.label.text,i);Cc("label",t,n,i,a),iu.drawBoundary(e,t,Ir)},"drawBoundary"),PN=o(function(e,t,r,n){let i=0;for(let a of n){i=0;let s=r[a],l=dm(Ir,s.typeC4Shape.text);switch(l.fontSize=l.fontSize-2,s.typeC4Shape.width=Ec("\xAB"+s.typeC4Shape.text+"\xBB",l),s.typeC4Shape.height=l.fontSize+2,s.typeC4Shape.Y=Ir.c4ShapePadding,i=s.typeC4Shape.Y+s.typeC4Shape.height-4,s.image={width:0,height:0,Y:0},s.typeC4Shape.text){case"person":case"external_person":s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height;break}s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height);let u=s.wrap&&Ir.wrap,h=Ir.width-Ir.c4ShapePadding*2,d=dm(Ir,s.typeC4Shape.text);if(d.fontSize=d.fontSize+2,d.fontWeight="bold",Cc("label",s,u,d,h),s.label.Y=i+8,i=s.label.Y+s.label.height,s.type&&s.type.text!==""){s.type.text="["+s.type.text+"]";let g=dm(Ir,s.typeC4Shape.text);Cc("type",s,u,g,h),s.type.Y=i+5,i=s.type.Y+s.type.height}else if(s.techn&&s.techn.text!==""){s.techn.text="["+s.techn.text+"]";let g=dm(Ir,s.techn.text);Cc("techn",s,u,g,h),s.techn.Y=i+5,i=s.techn.Y+s.techn.height}let p=i,f=s.label.width;if(s.descr&&s.descr.text!==""){let g=dm(Ir,s.typeC4Shape.text);Cc("descr",s,u,g,h),s.descr.Y=i+20,i=s.descr.Y+s.descr.height,f=Math.max(s.label.width,s.descr.width),p=i-s.descr.textLines*5}f=f+Ir.c4ShapePadding,s.width=Math.max(s.width||Ir.width,f,Ir.width),s.height=Math.max(s.height||Ir.height,p,Ir.height),s.margin=s.margin||Ir.c4ShapeMargin,e.insert(s),iu.drawC4Shape(t,s,Ir)}e.bumpLastMargin(Ir.c4ShapeMargin)},"drawC4ShapeArray"),Ul=class{static{o(this,"Point")}constructor(e,t){this.x=e,this.y=t}},BN=o(function(e,t){let r=e.x,n=e.y,i=t.x,a=t.y,s=r+e.width/2,l=n+e.height/2,u=Math.abs(r-i),h=Math.abs(n-a),d=h/u,p=e.height/e.width,f=null;return n==a&&r<i?f=new Ul(r+e.width,l):n==a&&r>i?f=new Ul(r,l):r==i&&n<a?f=new Ul(s,n+e.height):r==i&&n>a&&(f=new Ul(s,n)),r>i&&n<a?p>=d?f=new Ul(r,l+d*e.width/2):f=new Ul(s-u/h*e.height/2,n+e.height):r<i&&n<a?p>=d?f=new Ul(r+e.width,l+d*e.width/2):f=new Ul(s+u/h*e.height/2,n+e.height):r<i&&n>a?p>=d?f=new Ul(r+e.width,l-d*e.width/2):f=new Ul(s+e.height/2*u/h,n):r>i&&n>a&&(p>=d?f=new Ul(r,l-e.width/2*d):f=new Ul(s-e.height/2*u/h,n)),f},"getIntersectPoint"),Lse=o(function(e,t){let r={x:0,y:0};r.x=t.x+t.width/2,r.y=t.y+t.height/2;let n=BN(e,r);r.x=e.x+e.width/2,r.y=e.y+e.height/2;let i=BN(t,r);return{startPoint:n,endPoint:i}},"getIntersectPoints"),Nse=o(function(e,t,r,n){let i=0;for(let a of t){i=i+1;let s=a.wrap&&Ir.wrap,l=Ase(Ir);n.db.getC4Type()==="C4Dynamic"&&(a.label.text=i+": "+a.label.text);let u=Ec(a.label.text,l);Cc("label",a,s,l,u),a.techn&&a.techn.text!==""&&(u=Ec(a.techn.text,l),Cc("techn",a,s,l,u)),a.descr&&a.descr.text!==""&&(u=Ec(a.descr.text,l),Cc("descr",a,s,l,u));let h=r(a.from),d=r(a.to),p=Lse(h,d);a.startPoint=p.startPoint,a.endPoint=p.endPoint}iu.drawRels(e,t,Ir)},"drawRels"),o(IN,"drawInsideBoundary"),Mse=o(function(e,t,r,n){Ir=Ge().c4;let i=Ge().securityLevel,a;i==="sandbox"&&(a=Bt("#i"+t));let s=Bt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body"),l=n.db;n.db.setWrap(Ir.wrap),DN=l.getC4ShapeInRow(),X7=l.getC4BoundaryInRow(),J.debug(`C:${JSON.stringify(Ir,null,2)}`);let u=i==="sandbox"?s.select(`[id="${t}"]`):Bt(`[id="${t}"]`);iu.insertComputerIcon(u),iu.insertDatabaseIcon(u),iu.insertClockIcon(u);let h=new RN(n);h.setData(Ir.diagramMarginX,Ir.diagramMarginX,Ir.diagramMarginY,Ir.diagramMarginY),h.data.widthLimit=screen.availWidth,T3=Ir.diagramMarginX,E3=Ir.diagramMarginY;let d=n.db.getTitle(),p=n.db.getBoundarys("");IN(u,"",h,p,n),iu.insertArrowHead(u),iu.insertArrowEnd(u),iu.insertArrowCrossHead(u),iu.insertArrowFilledHead(u),Nse(u,n.db.getRels(),n.db.getC4Shape,n),h.data.stopx=T3,h.data.stopy=E3;let f=h.data,g=f.stopy-f.starty+2*Ir.diagramMarginY,m=f.stopx-f.startx+2*Ir.diagramMarginX;d&&u.append("text").text(d).attr("x",(f.stopx-f.startx)/2-4*Ir.diagramMarginX).attr("y",f.starty+Ir.diagramMarginY),Qs(u,g,m,Ir.useMaxWidth);let y=d?60:0;u.attr("viewBox",f.startx-Ir.diagramMarginX+" -"+(Ir.diagramMarginY+y)+" "+m+" "+(g+y)),J.debug("models:",f)},"draw"),FN={drawPersonOrSystemArray:PN,drawBoundary:ON,setConf:K7,draw:Mse}}),Ise,Dse,NVe=R(()=>{"use strict";Ise=o(e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,"getStyles"),Dse=Ise}),Rse={};yr(Rse,{diagram:()=>Ose});var Ose,MVe=R(()=>{"use strict";ul(),NW(),LVe(),NVe(),Ose={parser:Un,db:w6,renderer:FN,styles:Dse,init:o(({c4:e,wrap:t})=>{FN.setConf(e),w6.setWrap(t)},"init")}});function Z7(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function $N(e){Ld=e}function yl(e,t){if(t){if(YN.test(e))return e.replace($se,HN)}else if(jN.test(e))return e.replace(zse,HN);return e}function Pse(e){return e.replace(Gse,(t,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}function Ci(e,t){let r=typeof e=="string"?e:e.source;t=t||"";let n={replace:o((i,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(Yse,"$1"),r=r.replace(i,s),n},"replace"),getRegex:o(()=>new RegExp(r,t),"getRegex")};return n}function zN(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}function qN(e,t){let r=e.replace(/\|/g,(a,s,l)=>{let u=!1,h=s;for(;--h>=0&&l[h]==="\\";)u=!u;return u?"|":" |"}),n=r.split(/ \|/),i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function pm(e,t,r){let n=e.length;if(n===0)return"";let i=0;for(;i<n;){let a=e.charAt(n-i-1);if(a===t&&!r)i++;else if(a!==t&&r)i++;else break}return e.slice(0,n-i)}function Bse(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}function GN(e,t,r,n){let i=t.href,a=t.title?yl(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){n.state.inLink=!0;let l={type:"link",raw:r,href:i,title:a,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,l}return{type:"image",raw:r,href:i,title:a,text:yl(s)}}function Fse(e,t){let r=e.match(/^(\s+)(?:```)/);if(r===null)return t;let n=r[1];return t.split(`
`).map(i=>{let a=i.match(/^\s+/);if(a===null)return i;let[s]=a;return s.length>=n.length?i.slice(n.length):i}).join(`
`)}function hi(e,t){return Id.parse(e,t)}var Ld,YN,$se,jN,zse,qse,HN,Gse,Yse,gm,_3,jse,Hse,Use,fm,Vse,UN,VN,Q7,Wse,J7,Xse,Kse,S3,e8,Zse,WN,Qse,t8,XN,Jse,eoe,KN,toe,ZN,roe,mm,noe,ioe,aoe,soe,ooe,loe,coe,uoe,hoe,A3,doe,QN,JN,poe,r8,goe,n8,foe,L3,ym,Nd,N3,i8,Md,M3,moe,Id,IVe,DVe,RVe,OVe,PVe,BVe,FVe,$Ve=R(()=>{"use strict";o(Z7,"_getDefaults"),Ld=Z7(),o($N,"changeDefaults"),YN=/[&<>"']/,$se=new RegExp(YN.source,"g"),jN=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,zse=new RegExp(jN.source,"g"),qse={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},HN=o(e=>qse[e],"getEscapeReplacement"),o(yl,"escape$1"),Gse=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,o(Pse,"unescape"),Yse=/(^|[^\[])\^/g,o(Ci,"edit"),o(zN,"cleanUrl"),gm={exec:o(()=>null,"exec")},o(qN,"splitCells"),o(pm,"rtrim"),o(Bse,"findClosingBracket"),o(GN,"outputLink"),o(Fse,"indentCodeCompensation"),_3=class{static{o(this,"_Tokenizer")}options;rules;lexer;constructor(e){this.options=e||Ld}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:pm(r,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let r=t[0],n=Fse(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){let n=pm(r,"#");(this.options.pedantic||!n||/ $/.test(n))&&(r=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:pm(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let r=pm(t[0],`
`).split(`
`),n="",i="",a=[];for(;r.length>0;){let s=!1,l=[],u;for(u=0;u<r.length;u++)if(/^ {0,3}>/.test(r[u]))l.push(r[u]),s=!0;else if(!s)l.push(r[u]);else break;r=r.slice(u);let h=l.join(`
`),d=h.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");n=n?`${n}
${h}`:h,i=i?`${i}
${d}`:d;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,a,!0),this.lexer.state.top=p,r.length===0)break;let f=a[a.length-1];if(f?.type==="code")break;if(f?.type==="blockquote"){let g=f,m=g.raw+`
`+r.join(`
`),y=this.blockquote(m);a[a.length-1]=y,n=n.substring(0,n.length-g.raw.length)+y.raw,i=i.substring(0,i.length-g.text.length)+y.text;break}else if(f?.type==="list"){let g=f,m=g.raw+`
`+r.join(`
`),y=this.list(m);a[a.length-1]=y,n=n.substring(0,n.length-f.raw.length)+y.raw,i=i.substring(0,i.length-g.raw.length)+y.raw,r=m.substring(a[a.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:a,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim(),n=r.length>1,i={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");let a=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),s=!1;for(;e;){let l=!1,u="",h="";if(!(t=a.exec(e))||this.rules.block.hr.test(e))break;u=t[0],e=e.substring(u.length);let d=t[2].split(`
`,1)[0].replace(/^\t+/,b=>" ".repeat(3*b.length)),p=e.split(`
`,1)[0],f=!d.trim(),g=0;if(this.options.pedantic?(g=2,h=d.trimStart()):f?g=t[1].length+1:(g=t[2].search(/[^ ]/),g=g>4?1:g,h=d.slice(g),g+=t[1].length),f&&/^ *$/.test(p)&&(u+=p+`
`,e=e.substring(p.length+1),l=!0),!l){let b=new RegExp(`^ {0,${Math.min(3,g-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),v=new RegExp(`^ {0,${Math.min(3,g-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),x=new RegExp(`^ {0,${Math.min(3,g-1)}}(?:\`\`\`|~~~)`),w=new RegExp(`^ {0,${Math.min(3,g-1)}}#`);for(;e;){let E=e.split(`
`,1)[0];if(p=E,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),x.test(p)||w.test(p)||b.test(p)||v.test(e))break;if(p.search(/[^ ]/)>=g||!p.trim())h+=`
`+p.slice(g);else{if(f||d.search(/[^ ]/)>=4||x.test(d)||w.test(d)||v.test(d))break;h+=`
`+p}!f&&!p.trim()&&(f=!0),u+=E+`
`,e=e.substring(E.length+1),d=p.slice(g)}}i.loose||(s?i.loose=!0:/\n *\n *$/.test(u)&&(s=!0));let m=null,y;this.options.gfm&&(m=/^\[[ xX]\] /.exec(h),m&&(y=m[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:u,task:!!m,checked:y,loose:!1,text:h,tokens:[]}),i.raw+=u}i.items[i.items.length-1].raw=i.items[i.items.length-1].raw.trimEnd(),i.items[i.items.length-1].text=i.items[i.items.length-1].text.trimEnd(),i.raw=i.raw.trimEnd();for(let l=0;l<i.items.length;l++)if(this.lexer.state.top=!1,i.items[l].tokens=this.lexer.blockTokens(i.items[l].text,[]),!i.loose){let u=i.items[l].tokens.filter(d=>d.type==="space"),h=u.length>0&&u.some(d=>/\n.*\n/.test(d.raw));i.loose=h}if(i.loose)for(let l=0;l<i.items.length;l++)i.items[l].loose=!0;return i}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let r=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:n,title:i}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;let r=qN(t[1]),n=t[2].replace(/^\||\| *$/g,"").split("|"),i=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===n.length){for(let s of n)/^ *-+: *$/.test(s)?a.align.push("right"):/^ *:-+: *$/.test(s)?a.align.push("center"):/^ *:-+ *$/.test(s)?a.align.push("left"):a.align.push(null);for(let s=0;s<r.length;s++)a.header.push({text:r[s],tokens:this.lexer.inline(r[s]),header:!0,align:a.align[s]});for(let s of i)a.rows.push(qN(s,a.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:a.align[u]})));return a}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:yl(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;let a=pm(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{let a=Bse(t[2],"()");if(a>-1){let s=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){let a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);a&&(n=a[1],i=a[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(this.options.pedantic&&!/>$/.test(r)?n=n.slice(1):n=n.slice(1,-1)),GN(t,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let n=(r[2]||r[1]).replace(/\s+/g," "),i=t[n.toLowerCase()];if(!i){let a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return GN(r,i,r[0],this.lexer)}}emStrong(e,t,r=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&r.match(/[\p{L}\p{N}]/u))&&(!(n[1]||n[2])||!r||this.rules.inline.punctuation.exec(r))){let i=[...n[0]].length-1,a,s,l=i,u=0,h=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+i);(n=h.exec(t))!=null;){if(a=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!a)continue;if(s=[...a].length,n[3]||n[4]){l+=s;continue}else if((n[5]||n[6])&&i%3&&!((i+s)%3)){u+=s;continue}if(l-=s,l>0)continue;s=Math.min(s,s+l+u);let d=[...n[0]][0].length,p=e.slice(0,i+n.index+d+s);if(Math.min(i,s)%2){let g=p.slice(1,-1);return{type:"em",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}let f=p.slice(2,-2);return{type:"strong",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," "),n=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return n&&i&&(r=r.substring(1,r.length-1)),r=yl(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let r,n;return t[2]==="@"?(r=yl(t[1]),n="mailto:"+r):(r=yl(t[1]),n=r),{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let r,n;if(t[2]==="@")r=yl(t[0]),n="mailto:"+r;else{let i;do i=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(i!==t[0]);r=yl(t[0]),t[1]==="www."?n="http://"+t[0]:n=t[0]}return{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let r;return this.lexer.state.inRawBlock?r=t[0]:r=yl(t[0]),{type:"text",raw:t[0],text:r}}}},jse=/^(?: *(?:\n|$))+/,Hse=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Use=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,fm=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Vse=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,UN=/(?:[*+-]|\d{1,9}[.)])/,VN=Ci(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,UN).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Q7=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Wse=/^[^\n]+/,J7=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Xse=Ci(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",J7).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Kse=Ci(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,UN).getRegex(),S3="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",e8=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Zse=Ci("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",e8).replace("tag",S3).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),WN=Ci(Q7).replace("hr",fm).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S3).getRegex(),Qse=Ci(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",WN).getRegex(),t8={blockquote:Qse,code:Hse,def:Xse,fences:Use,heading:Vse,hr:fm,html:Zse,lheading:VN,list:Kse,newline:jse,paragraph:WN,table:gm,text:Wse},XN=Ci("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",fm).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S3).getRegex(),Jse={...t8,table:XN,paragraph:Ci(Q7).replace("hr",fm).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",XN).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",S3).getRegex()},eoe={...t8,html:Ci(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",e8).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:gm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ci(Q7).replace("hr",fm).replace("heading",` *#{1,6} *[^
]`).replace("lheading",VN).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},KN=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,toe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ZN=/^( {2,}|\\)\n(?!\s*$)/,roe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,mm="\\p{P}\\p{S}",noe=Ci(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,mm).getRegex(),ioe=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,aoe=Ci(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,mm).getRegex(),soe=Ci("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,mm).getRegex(),ooe=Ci("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,mm).getRegex(),loe=Ci(/\\([punct])/,"gu").replace(/punct/g,mm).getRegex(),coe=Ci(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),uoe=Ci(e8).replace("(?:-->|$)","-->").getRegex(),hoe=Ci("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",uoe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),A3=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,doe=Ci(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",A3).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),QN=Ci(/^!?\[(label)\]\[(ref)\]/).replace("label",A3).replace("ref",J7).getRegex(),JN=Ci(/^!?\[(ref)\](?:\[\])?/).replace("ref",J7).getRegex(),poe=Ci("reflink|nolink(?!\\()","g").replace("reflink",QN).replace("nolink",JN).getRegex(),r8={_backpedal:gm,anyPunctuation:loe,autolink:coe,blockSkip:ioe,br:ZN,code:toe,del:gm,emStrongLDelim:aoe,emStrongRDelimAst:soe,emStrongRDelimUnd:ooe,escape:KN,link:doe,nolink:JN,punctuation:noe,reflink:QN,reflinkSearch:poe,tag:hoe,text:roe,url:gm},goe={...r8,link:Ci(/^!?\[(label)\]\((.*?)\)/).replace("label",A3).getRegex(),reflink:Ci(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",A3).getRegex()},n8={...r8,escape:Ci(KN).replace("])","~|])").getRegex(),url:Ci(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},foe={...n8,br:Ci(ZN).replace("{2,}","*").getRegex(),text:Ci(n8.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},L3={normal:t8,gfm:Jse,pedantic:eoe},ym={normal:r8,gfm:n8,breaks:foe,pedantic:goe},Nd=class FH{static{o(this,"_Lexer")}tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ld,this.options.tokenizer=this.options.tokenizer||new _3,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let r={block:L3.normal,inline:ym.normal};this.options.pedantic?(r.block=L3.pedantic,r.inline=ym.pedantic):this.options.gfm&&(r.block=L3.gfm,this.options.breaks?r.inline=ym.breaks:r.inline=ym.gfm),this.tokenizer.rules=r}static get rules(){return{block:L3,inline:ym}}static lex(t,r){return new FH(r).lex(t)}static lexInline(t,r){return new FH(r).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){let n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,r=[],n=!1){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(l,u,h)=>u+"    ".repeat(h.length));let i,a,s;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(i=l.call({lexer:this},t,r))?(t=t.substring(i.raw.length),r.push(i),!0):!1))){if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length),i.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length),a=r[r.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),r.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),r.push(i);continue}if(s=t,this.options.extensions&&this.options.extensions.startBlock){let l=1/0,u=t.slice(1),h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},u),typeof h=="number"&&h>=0&&(l=Math.min(l,h))}),l<1/0&&l>=0&&(s=t.substring(0,l+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){a=r[r.length-1],n&&a?.type==="paragraph"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i),n=s.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length),a=r[r.length-1],a&&a.type==="text"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):r.push(i);continue}if(t){let l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,i,a,s=t,l,u,h;if(this.tokens.links){let d=Object.keys(this.tokens.links);if(d.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)d.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,l.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(u||(h=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(n=d.call({lexer:this},t,r))?(t=t.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),i=r[r.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,h)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(a=t,this.options.extensions&&this.options.extensions.startInline){let d=1/0,p=t.slice(1),f;this.options.extensions.startInline.forEach(g=>{f=g.call({lexer:this},p),typeof f=="number"&&f>=0&&(d=Math.min(d,f))}),d<1/0&&d>=0&&(a=t.substring(0,d+1))}if(n=this.tokenizer.inlineText(a)){t=t.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(h=n.raw.slice(-1)),u=!0,i=r[r.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):r.push(n);continue}if(t){let d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return r}},N3=class{static{o(this,"_Renderer")}options;parser;constructor(e){this.options=e||Ld}space(e){return""}code({text:e,lang:t,escaped:r}){let n=(t||"").match(/^\S*/)?.[0],i=e.replace(/\n$/,"")+`
`;return n?'<pre><code class="language-'+yl(n)+'">'+(r?i:yl(i,!0))+`</code></pre>
`:"<pre><code>"+(r?i:yl(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,r=e.start,n="";for(let s=0;s<e.items.length;s++){let l=e.items[s];n+=this.listitem(l)}let i=t?"ol":"ul",a=t&&r!==1?' start="'+r+'"':"";return"<"+i+a+`>
`+n+"</"+i+`>
`}listitem(e){let t="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" "}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let i=0;i<e.header.length;i++)r+=this.tablecell(e.header[i]);t+=this.tablerow({text:r});let n="";for(let i=0;i<e.rows.length;i++){let a=e.rows[i];r="";for(let s=0;s<a.length;s++)r+=this.tablecell(a[s]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){let n=this.parser.parseInline(r),i=zN(e);if(i===null)return n;e=i;let a='<a href="'+e+'"';return t&&(a+=' title="'+t+'"'),a+=">"+n+"</a>",a}image({href:e,title:t,text:r}){let n=zN(e);if(n===null)return r;e=n;let i=`<img src="${e}" alt="${r}"`;return t&&(i+=` title="${t}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}},i8=class{static{o(this,"_TextRenderer")}strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Md=class $H{static{o(this,"_Parser")}options;renderer;textRenderer;constructor(t){this.options=t||Ld,this.options.renderer=this.options.renderer||new N3,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new i8}static parse(t,r){return new $H(r).parse(t)}static parseInline(t,r){return new $H(r).parseInline(t)}parse(t,r=!0){let n="";for(let i=0;i<t.length;i++){let a=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){let l=a,u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){n+=u||"";continue}}let s=a;switch(s.type){case"space":{n+=this.renderer.space(s);continue}case"hr":{n+=this.renderer.hr(s);continue}case"heading":{n+=this.renderer.heading(s);continue}case"code":{n+=this.renderer.code(s);continue}case"table":{n+=this.renderer.table(s);continue}case"blockquote":{n+=this.renderer.blockquote(s);continue}case"list":{n+=this.renderer.list(s);continue}case"html":{n+=this.renderer.html(s);continue}case"paragraph":{n+=this.renderer.paragraph(s);continue}case"text":{let l=s,u=this.renderer.text(l);for(;i+1<t.length&&t[i+1].type==="text";)l=t[++i],u+=`
`+this.renderer.text(l);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u}]}):n+=u;continue}default:{let l='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let i=0;i<t.length;i++){let a=t[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){let l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){n+=l||"";continue}}let s=a;switch(s.type){case"escape":{n+=r.text(s);break}case"html":{n+=r.html(s);break}case"link":{n+=r.link(s);break}case"image":{n+=r.image(s);break}case"strong":{n+=r.strong(s);break}case"em":{n+=r.em(s);break}case"codespan":{n+=r.codespan(s);break}case"br":{n+=r.br(s);break}case"del":{n+=r.del(s);break}case"text":{n+=r.text(s);break}default:{let l='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return n}},M3=class{static{o(this,"_Hooks")}options;constructor(e){this.options=e||Ld}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}},moe=class{static{o(this,"Marked")}defaults=Z7();options=this.setOptions;parse=this.#e(Nd.lex,Md.parse);parseInline=this.#e(Nd.lexInline,Md.parseInline);Parser=Md;Renderer=N3;TextRenderer=i8;Lexer=Nd;Tokenizer=_3;Hooks=M3;constructor(...e){this.use(...e)}walkTokens(e,t){let r=[];for(let n of e)switch(r=r.concat(t.call(this,n)),n.type){case"table":{let i=n;for(let a of i.header)r=r.concat(this.walkTokens(a.tokens,t));for(let a of i.rows)for(let s of a)r=r.concat(this.walkTokens(s.tokens,t));break}case"list":{let i=n;r=r.concat(this.walkTokens(i.items,t));break}default:{let i=n;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(a=>{let s=i[a].flat(1/0);r=r.concat(this.walkTokens(s,t))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let a=t.renderers[i.name];a?t.renderers[i.name]=function(...s){let l=i.renderer.apply(this,s);return l===!1&&(l=a.apply(this,s)),l}:t.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=t[i.level];a?a.unshift(i.tokenizer):t[i.level]=[i.tokenizer],i.start&&(i.level==="block"?t.startBlock?t.startBlock.push(i.start):t.startBlock=[i.start]:i.level==="inline"&&(t.startInline?t.startInline.push(i.start):t.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(t.childTokens[i.name]=i.childTokens)}),n.extensions=t),r.renderer){let i=this.defaults.renderer||new N3(this.defaults);for(let a in r.renderer){if(!(a in i))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let s=a,l=r.renderer[s];r.useNewRenderer||(l=this.#t(l,s,i));let u=i[s];i[s]=(...h)=>{let d=l.apply(i,h);return d===!1&&(d=u.apply(i,h)),d||""}}n.renderer=i}if(r.tokenizer){let i=this.defaults.tokenizer||new _3(this.defaults);for(let a in r.tokenizer){if(!(a in i))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let s=a,l=r.tokenizer[s],u=i[s];i[s]=(...h)=>{let d=l.apply(i,h);return d===!1&&(d=u.apply(i,h)),d}}n.tokenizer=i}if(r.hooks){let i=this.defaults.hooks||new M3;for(let a in r.hooks){if(!(a in i))throw new Error(`hook '${a}' does not exist`);if(a==="options")continue;let s=a,l=r.hooks[s],u=i[s];M3.passThroughHooks.has(a)?i[s]=h=>{if(this.defaults.async)return Promise.resolve(l.call(i,h)).then(p=>u.call(i,p));let d=l.call(i,h);return u.call(i,d)}:i[s]=(...h)=>{let d=l.apply(i,h);return d===!1&&(d=u.apply(i,h)),d}}n.hooks=i}if(r.walkTokens){let i=this.defaults.walkTokens,a=r.walkTokens;n.walkTokens=function(s){let l=[];return l.push(a.call(this,s)),i&&(l=l.concat(i.call(this,s))),l}}this.defaults={...this.defaults,...n}}),this}#t(e,t,r){switch(t){case"heading":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,r.parser.parseInline(n.tokens),n.depth,Pse(r.parser.parseInline(n.tokens,r.parser.textRenderer)))};case"code":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,n.text,n.lang,!!n.escaped)};case"table":return function(n){if(!n.type||n.type!==t)return e.apply(this,arguments);let i="",a="";for(let l=0;l<n.header.length;l++)a+=this.tablecell({text:n.header[l].text,tokens:n.header[l].tokens,header:!0,align:n.align[l]});i+=this.tablerow({text:a});let s="";for(let l=0;l<n.rows.length;l++){let u=n.rows[l];a="";for(let h=0;h<u.length;h++)a+=this.tablecell({text:u[h].text,tokens:u[h].tokens,header:!1,align:n.align[h]});s+=this.tablerow({text:a})}return e.call(this,i,s)};case"blockquote":return function(n){if(!n.type||n.type!==t)return e.apply(this,arguments);let i=this.parser.parse(n.tokens);return e.call(this,i)};case"list":return function(n){if(!n.type||n.type!==t)return e.apply(this,arguments);let i=n.ordered,a=n.start,s=n.loose,l="";for(let u=0;u<n.items.length;u++){let h=n.items[u],d=h.checked,p=h.task,f="";if(h.task){let g=this.checkbox({checked:!!d});s?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=g+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=g+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:g+" "}):f+=g+" "}f+=this.parser.parse(h.tokens,s),l+=this.listitem({type:"list_item",raw:f,text:f,task:p,checked:!!d,loose:s,tokens:h.tokens})}return e.call(this,l,i,a)};case"html":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,n.text,n.block)};case"paragraph":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(n.tokens))};case"escape":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,n.text)};case"link":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,n.href,n.title,this.parser.parseInline(n.tokens))};case"image":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,n.href,n.title,n.text)};case"strong":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(n.tokens))};case"em":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(n.tokens))};case"codespan":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,n.text)};case"del":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,this.parser.parseInline(n.tokens))};case"text":return function(n){return!n.type||n.type!==t?e.apply(this,arguments):e.call(this,n.text)}}return e}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Nd.lex(e,t??this.defaults)}parser(e,t){return Md.parse(e,t??this.defaults)}#e(e,t){return(r,n)=>{let i={...n},a={...this.defaults,...i};this.defaults.async===!0&&i.async===!1&&(a.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),a.async=!0);let s=this.#r(!!a.silent,!!a.async);if(typeof r>"u"||r===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(a.hooks&&(a.hooks.options=a),a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(r):r).then(l=>e(l,a)).then(l=>a.hooks?a.hooks.processAllTokens(l):l).then(l=>a.walkTokens?Promise.all(this.walkTokens(l,a.walkTokens)).then(()=>l):l).then(l=>t(l,a)).then(l=>a.hooks?a.hooks.postprocess(l):l).catch(s);try{a.hooks&&(r=a.hooks.preprocess(r));let l=e(r,a);a.hooks&&(l=a.hooks.processAllTokens(l)),a.walkTokens&&this.walkTokens(l,a.walkTokens);let u=t(l,a);return a.hooks&&(u=a.hooks.postprocess(u)),u}catch(l){return s(l)}}}#r(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+yl(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}},Id=new moe,o(hi,"marked"),hi.options=hi.setOptions=function(e){return Id.setOptions(e),hi.defaults=Id.defaults,$N(hi.defaults),hi},hi.getDefaults=Z7,hi.defaults=Ld,hi.use=function(...e){return Id.use(...e),hi.defaults=Id.defaults,$N(hi.defaults),hi},hi.walkTokens=function(e,t){return Id.walkTokens(e,t)},hi.parseInline=Id.parseInline,hi.Parser=Md,hi.parser=Md.parse,hi.Renderer=N3,hi.TextRenderer=i8,hi.Lexer=Nd,hi.lexer=Nd.lex,hi.Tokenizer=_3,hi.Hooks=M3,hi.parse=hi,IVe=hi.options,DVe=hi.setOptions,RVe=hi.use,OVe=hi.walkTokens,PVe=hi.parseInline,BVe=Md.parse,FVe=Nd.lex});function yoe(e,{markdownAutoWrap:t}){let r=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),n=ye(r);return t===!1?n.replace(/ /g,"&nbsp;"):n}function voe(e,t={}){let r=yoe(e,t),n=hi.lexer(r),i=[[]],a=0;function s(l,u="normal"){l.type==="text"?l.text.split(`
`).forEach((h,d)=>{d!==0&&(a++,i.push([])),h.split(" ").forEach(p=>{p=p.replace(/&#39;/g,"'"),p&&i[a].push({content:p,type:u})})}):l.type==="strong"||l.type==="em"?l.tokens.forEach(h=>{s(h,l.type)}):l.type==="html"&&i[a].push({content:l.text,type:"normal"})}return o(s,"processNode"),n.forEach(l=>{l.type==="paragraph"?l.tokens?.forEach(u=>{s(u)}):l.type==="html"&&i[a].push({content:l.text,type:"normal"})}),i}function boe(e,{markdownAutoWrap:t}={}){let r=hi.lexer(e);function n(i){return i.type==="text"?t===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${i.tokens?.map(n).join("")}</strong>`:i.type==="em"?`<em>${i.tokens?.map(n).join("")}</em>`:i.type==="paragraph"?`<p>${i.tokens?.map(n).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:`Unsupported markdown: ${i.type}`}return o(n,"output"),r.map(n).join("")}var zVe=R(()=>{"use strict";$Ve(),Et(),o(yoe,"preprocessMarkdown"),o(voe,"markdownToLines"),o(boe,"markdownToHTML")});function xoe(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}function woe(e,t){let r=xoe(t.content);return eM(e,[],r,t.type)}function eM(e,t,r,n){if(r.length===0)return[{content:t.join(""),type:n},{content:"",type:n}];let[i,...a]=r,s=[...t,i];return e([{content:s.join(""),type:n}])?eM(e,s,a,n):(t.length===0&&i&&(t.push(i),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}function koe(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return a8(e,t)}function a8(e,t,r=[],n=[]){if(e.length===0)return n.length>0&&r.push(n),r.length>0?r:[];let i="";e[0].content===" "&&(i=" ",e.shift());let a=e.shift()??{content:" ",type:"normal"},s=[...n];if(i!==""&&s.push({content:i,type:"normal"}),s.push(a),t(s))return a8(e,t,r,s);if(n.length>0)r.push(n),e.unshift(a);else if(a.content){let[l,u]=woe(t,a);r.push([l]),u.content&&e.unshift(u)}return a8(e,t,r)}var qVe=R(()=>{"use strict";o(xoe,"splitTextToChars"),o(woe,"splitWordToFitWidth"),o(eM,"splitWordToFitWidthRecursion"),o(koe,"splitLineToFitWidth"),o(a8,"splitLineToFitWidthRecursion")});function tM(e,t){t&&e.attr("style",t)}async function Toe(e,t,r,n,i=!1){let a=e.append("foreignObject");a.attr("width",`${10*r}px`),a.attr("height",`${10*r}px`);let s=a.append("xhtml:div"),l=t.label;t.label&&Zs(t.label)&&(l=await If(t.label.replace(Yt.lineBreakRegex,`
`),Ge()));let u=t.isNode?"nodeLabel":"edgeLabel",h=s.append("span");h.html(l),tM(h,t.labelStyle),h.attr("class",`${u} ${n}`),tM(s,t.labelStyle),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("line-height","1.5"),s.style("max-width",r+"px"),s.style("text-align","center"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&s.attr("class","labelBkg");let d=s.node().getBoundingClientRect();return d.width===r&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",r+"px"),d=s.node().getBoundingClientRect()),a.node()}function s8(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}function Eoe(e,t,r){let n=e.append("text"),i=s8(n,1,t);o8(i,r);let a=i.node().getComputedTextLength();return n.remove(),a}function Coe(e,t,r){let n=e.append("text"),i=s8(n,1,t);o8(i,[{content:r,type:"normal"}]);let a=i.node()?.getBoundingClientRect();return a&&n.remove(),a}function _oe(e,t,r,n=!1){let i=t.append("g"),a=i.insert("rect").attr("class","background").attr("style","stroke: none"),s=i.append("text").attr("y","-10.1"),l=0;for(let u of r){let h=o(p=>Eoe(i,1.1,p)<=e,"checkWidth"),d=h(u)?[u]:koe(u,h);for(let p of d){let f=s8(s,l,1.1);o8(f,p),l++}}if(n){let u=s.node().getBBox(),h=2;return a.attr("x",u.x-h).attr("y",u.y-h).attr("width",u.width+2*h).attr("height",u.height+2*h),i.node()}else return s.node()}function o8(e,t){e.text(""),t.forEach((r,n)=>{let i=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");n===0?i.text(r.content):i.text(" "+r.content)})}function rM(e){return e.replace(/fa[bklrs]?:fa-[\w-]+/g,t=>`<i class='${t.replace(":"," ")}'></i>`)}var Vl,eh=R(()=>{"use strict";zr(),En(),Ln(),We(),zVe(),kn(),qVe(),o(tM,"applyStyle"),o(Toe,"addHtmlSpan"),o(s8,"createTspan"),o(Eoe,"computeWidthOfText"),o(Coe,"computeDimensionOfText"),o(_oe,"createFormattedText"),o(o8,"updateTextContentAndStyles"),o(rM,"replaceIconSubstring"),Vl=o(async(e,t="",{style:r="",isTitle:n=!1,classes:i="",useHtmlLabels:a=!0,isNode:s=!0,width:l=200,addSvgBackground:u=!1}={},h)=>{if(J.debug("XYZ createText",t,r,n,i,a,s,"addSvgBackground: ",u),a){let d=boe(t,h),p=rM(Ju(d)),f=t.replace(/\\\\/g,"\\"),g={isNode:s,label:Zs(t)?f:p,labelStyle:r.replace("fill:","color:")};return await Toe(e,g,l,i,u)}else{let d=t.replace(/<br\s*\/?>/g,"<br/>"),p=voe(d.replace("<br>","<br/>"),h),f=_oe(l,e,p,t?u:!1);if(s){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));let g=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Bt(f).attr("style",g)}else{let g=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Bt(f).select("rect").attr("style",g.replace(/background:/g,"fill:"));let m=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Bt(f).select("text").attr("style",m)}return f}},"createText")});function Xn(e){let t=e.map((r,n)=>`${n===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}function Dd(e,t,r,n,i,a){let s=[],l=r-e,u=n-t,h=l/a,d=2*Math.PI/h,p=t+u/2;for(let f=0;f<=50;f++){let g=f/50,m=e+g*l,y=p+i*Math.sin(d*(m-e));s.push({x:m,y})}return s}function nM(e,t,r,n,i,a){let s=[],l=i*Math.PI/180,u=(a*Math.PI/180-l)/(n-1);for(let h=0;h<n;h++){let d=l+h*u,p=e+r*Math.cos(d),f=t+r*Math.sin(d);s.push({x:-p,y:-f})}return s}var ln,l8,qr,cn,Sr=R(()=>{"use strict";eh(),zr(),Ln(),ka(),En(),kn(),ln=o(async(e,t,r)=>{let n,i=t.useHtmlLabels||Ii(Ge()?.htmlLabels);r?n=r:n="node default";let a=e.insert("g").attr("class",n).attr("id",t.domId||t.id),s=a.insert("g").attr("class","label").attr("style",qo(t.labelStyle)),l;t.label===void 0?l="":l=typeof t.label=="string"?t.label:t.label[0];let u=await Vl(s,Ei(Ju(l),Ge()),{useHtmlLabels:i,width:t.width||Ge().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img}),h=u.getBBox(),d=(t?.padding??0)/2;if(i){let p=u.children[0],f=Bt(u),g=p.getElementsByTagName("img");if(g){let m=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...g].map(y=>new Promise(b=>{function v(){if(y.style.display="flex",y.style.flexDirection="column",m){let x=Ge().fontSize?Ge().fontSize:window.getComputedStyle(document.body).fontSize,w=5,[E=Fn.fontSize]=Kh(x),A=E*w+"px";y.style.minWidth=A,y.style.maxWidth=A}else y.style.width="100%";b(y)}o(v,"setupImage"),setTimeout(()=>{y.complete&&v()}),y.addEventListener("error",v),y.addEventListener("load",v)})))}h=p.getBoundingClientRect(),f.attr("width",h.width),f.attr("height",h.height)}return i?s.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"):s.attr("transform","translate(0, "+-h.height/2+")"),t.centerLabel&&s.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:a,bbox:h,halfPadding:d,label:s}},"labelHelper"),l8=o(async(e,t,r)=>{let n=r.useHtmlLabels||Ii(Ge()?.flowchart?.htmlLabels),i=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),a=await Vl(i,Ei(Ju(t),Ge()),{useHtmlLabels:n,width:r.width||Ge()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img}),s=a.getBBox(),l=r.padding/2;if(Ii(Ge()?.flowchart?.htmlLabels)){let u=a.children[0],h=Bt(a);s=u.getBoundingClientRect(),h.attr("width",s.width),h.attr("height",s.height)}return n?i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"):i.attr("transform","translate(0, "+-s.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:e,bbox:s,halfPadding:l,label:i}},"insertLabel"),qr=o((e,t)=>{let r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),cn=o((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses"),o(Xn,"createPathFromPoints"),o(Dd,"generateFullSineWavePoints"),o(nM,"generateCirclePoints")});function Soe(e,t){return e.intersect(t)}var Aoe,GVe=R(()=>{"use strict";o(Soe,"intersectNode"),Aoe=Soe});function Loe(e,t,r,n){var i=e.x,a=e.y,s=i-n.x,l=a-n.y,u=Math.sqrt(t*t*l*l+r*r*s*s),h=Math.abs(t*r*s/u);n.x<i&&(h=-h);var d=Math.abs(t*r*l/u);return n.y<a&&(d=-d),{x:i+h,y:a+d}}var iM,Noe=R(()=>{"use strict";o(Loe,"intersectEllipse"),iM=Loe});function Moe(e,t,r){return iM(e,t,t,r)}var Ioe,YVe=R(()=>{"use strict";Noe(),o(Moe,"intersectCircle"),Ioe=Moe});function Doe(e,t,r,n){var i,a,s,l,u,h,d,p,f,g,m,y,b,v,x;if(i=t.y-e.y,s=e.x-t.x,u=t.x*e.y-e.x*t.y,f=i*r.x+s*r.y+u,g=i*n.x+s*n.y+u,!(f!==0&&g!==0&&aM(f,g))&&(a=n.y-r.y,l=r.x-n.x,h=n.x*r.y-r.x*n.y,d=a*e.x+l*e.y+h,p=a*t.x+l*t.y+h,!(d!==0&&p!==0&&aM(d,p))&&(m=i*l-a*s,m!==0)))return y=Math.abs(m/2),b=s*h-l*u,v=b<0?(b-y)/m:(b+y)/m,b=a*u-i*h,x=b<0?(b-y)/m:(b+y)/m,{x:v,y:x}}function aM(e,t){return e*t>0}var Roe,jVe=R(()=>{"use strict";o(Doe,"intersectLine"),o(aM,"sameSign"),Roe=Doe});function Ooe(e,t,r){let n=e.x,i=e.y,a=[],s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(d){s=Math.min(s,d.x),l=Math.min(l,d.y)}):(s=Math.min(s,t.x),l=Math.min(l,t.y));let u=n-e.width/2-s,h=i-e.height/2-l;for(let d=0;d<t.length;d++){let p=t[d],f=t[d<t.length-1?d+1:0],g=Roe(e,r,{x:u+p.x,y:h+p.y},{x:u+f.x,y:h+f.y});g&&a.push(g)}return a.length?(a.length>1&&a.sort(function(d,p){let f=d.x-r.x,g=d.y-r.y,m=Math.sqrt(f*f+g*g),y=p.x-r.x,b=p.y-r.y,v=Math.sqrt(y*y+b*b);return m<v?-1:m===v?0:1}),a[0]):e}var Poe,HVe=R(()=>{"use strict";jVe(),o(Ooe,"intersectPolygon"),Poe=Ooe}),Boe,Sp,Foe=R(()=>{"use strict";Boe=o((e,t)=>{var r=e.x,n=e.y,i=t.x-r,a=t.y-n,s=e.width/2,l=e.height/2,u,h;return Math.abs(a)*s>Math.abs(i)*l?(a<0&&(l=-l),u=a===0?0:l*i/a,h=l):(i<0&&(s=-s),u=s,h=i===0?0:s*a/i),{x:r+u,y:n+h}},"intersectRect"),Sp=Boe}),Lr,Wr=R(()=>{"use strict";GVe(),YVe(),Noe(),HVe(),Foe(),Lr={node:Aoe,circle:Ioe,ellipse:iM,polygon:Poe,rect:Sp}}),$oe,Ap,zoe,jr,Fr,Xr=R(()=>{"use strict";zr(),$oe=o(e=>{let{handDrawnSeed:t}=Ge();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),Ap=o(e=>{let t=zoe([...e.cssCompiledStyles||[],...e.cssStyles||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),zoe=o(e=>{let t=new Map;return e.forEach(r=>{let[n,i]=r.split(":");t.set(n.trim(),i?.trim())}),t},"styles2Map"),jr=o(e=>{let{stylesArray:t}=Ap(e),r=[],n=[],i=[],a=[];return t.forEach(s=>{let l=s[0];l==="color"||l==="font-size"||l==="font-family"||l==="font-weight"||l==="font-style"||l==="text-decoration"||l==="text-align"||l==="text-transform"||l==="line-height"||l==="letter-spacing"||l==="word-spacing"||l==="text-shadow"||l==="text-overflow"||l==="white-space"||l==="word-wrap"||l==="word-break"||l==="overflow-wrap"||l==="hyphens"?r.push(s.join(":")+" !important"):(n.push(s.join(":")+" !important"),l.includes("stroke")&&i.push(s.join(":")+" !important"),l==="fill"&&a.push(s.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:i,backgroundStyles:a}},"styles2String"),Fr=o((e,t)=>{let{themeVariables:r,handDrawnSeed:n}=Ge(),{nodeBorder:i,mainBkg:a}=r,{stylesMap:s}=Ap(e);return Object.assign({roughness:.7,fill:s.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||i,seed:n,strokeWidth:s.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0]},t)},"userNodeOverrides")});function c8(e,t,r){if(e&&e.length){let[n,i]=t,a=Math.PI/180*r,s=Math.cos(a),l=Math.sin(a);for(let u of e){let[h,d]=u;u[0]=(h-n)*s-(d-i)*l+n,u[1]=(h-n)*l+(d-i)*s+i}}}function qoe(e,t){return e[0]===t[0]&&e[1]===t[1]}function Goe(e,t,r,n=1){let i=r,a=Math.max(t,.1),s=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,l=[0,0];if(i)for(let h of s)c8(h,l,i);let u=function(h,d,p){let f=[];for(let x of h){let w=[...x];qoe(w[0],w[w.length-1])||w.push([w[0][0],w[0][1]]),w.length>2&&f.push(w)}let g=[];d=Math.max(d,.1);let m=[];for(let x of f)for(let w=0;w<x.length-1;w++){let E=x[w],A=x[w+1];if(E[1]!==A[1]){let N=Math.min(E[1],A[1]);m.push({ymin:N,ymax:Math.max(E[1],A[1]),x:N===E[1]?E[0]:A[0],islope:(A[0]-E[0])/(A[1]-E[1])})}}if(m.sort((x,w)=>x.ymin<w.ymin?-1:x.ymin>w.ymin?1:x.x<w.x?-1:x.x>w.x?1:x.ymax===w.ymax?0:(x.ymax-w.ymax)/Math.abs(x.ymax-w.ymax)),!m.length)return g;let y=[],b=m[0].ymin,v=0;for(;y.length||m.length;){if(m.length){let x=-1;for(let w=0;w<m.length&&!(m[w].ymin>b);w++)x=w;m.splice(0,x+1).forEach(w=>{y.push({s:b,edge:w})})}if(y=y.filter(x=>!(x.edge.ymax<=b)),y.sort((x,w)=>x.edge.x===w.edge.x?0:(x.edge.x-w.edge.x)/Math.abs(x.edge.x-w.edge.x)),(p!==1||v%d==0)&&y.length>1)for(let x=0;x<y.length;x+=2){let w=x+1;if(w>=y.length)break;let E=y[x].edge,A=y[w].edge;g.push([[Math.round(E.x),b],[Math.round(A.x),b]])}b+=p,y.forEach(x=>{x.edge.x=x.edge.x+p*x.edge.islope}),v++}return g}(s,a,n);if(i){for(let h of s)c8(h,l,-i);(function(h,d,p){let f=[];h.forEach(g=>f.push(...g)),c8(f,d,p)})(u,l,-i)}return u}function vm(e,t){var r;let n=t.hachureAngle+90,i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));let a=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(a=i),Goe(e,i,n,a||1)}function I3(e){let t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}function u8(e,t){return e.type===t}function h8(e){let t=[],r=function(s){let l=new Array;for(;s!=="";)if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([aAcChHlLmMqQsStTvVzZ])/))l[l.length]={type:Joe,text:RegExp.$1},s=s.substr(RegExp.$1.length);else{if(!s.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];l[l.length]={type:v8,text:`${parseFloat(RegExp.$1)}`},s=s.substr(RegExp.$1.length)}return l[l.length]={type:bM,text:""},l}(e),n="BOD",i=0,a=r[i];for(;!u8(a,bM);){let s=0,l=[];if(n==="BOD"){if(a.text!=="M"&&a.text!=="m")return h8("M0,0"+e);i++,s=$3[a.text],n=a.text}else u8(a,v8)?s=$3[n]:(i++,s=$3[a.text],n=a.text);if(!(i+s<r.length))throw new Error("Path data ended short");for(let u=i;u<i+s;u++){let h=r[u];if(!u8(h,v8))throw new Error("Param not a number: "+n+","+h.text);l[l.length]=+h.text}if(typeof $3[n]!="number")throw new Error("Bad segment: "+n);{let u={key:n,data:l};t.push(u),i+=s,a=r[i],n==="M"&&(n="L"),n==="m"&&(n="l")}}return t}function sM(e){let t=0,r=0,n=0,i=0,a=[];for(let{key:s,data:l}of e)switch(s){case"M":a.push({key:"M",data:[...l]}),[t,r]=l,[n,i]=l;break;case"m":t+=l[0],r+=l[1],a.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":a.push({key:"L",data:[...l]}),[t,r]=l;break;case"l":t+=l[0],r+=l[1],a.push({key:"L",data:[t,r]});break;case"C":a.push({key:"C",data:[...l]}),t=l[4],r=l[5];break;case"c":{let u=l.map((h,d)=>d%2?h+r:h+t);a.push({key:"C",data:u}),t=u[4],r=u[5];break}case"Q":a.push({key:"Q",data:[...l]}),t=l[2],r=l[3];break;case"q":{let u=l.map((h,d)=>d%2?h+r:h+t);a.push({key:"Q",data:u}),t=u[2],r=u[3];break}case"A":a.push({key:"A",data:[...l]}),t=l[5],r=l[6];break;case"a":t+=l[5],r+=l[6],a.push({key:"A",data:[l[0],l[1],l[2],l[3],l[4],t,r]});break;case"H":a.push({key:"H",data:[...l]}),t=l[0];break;case"h":t+=l[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...l]}),r=l[0];break;case"v":r+=l[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...l]}),t=l[2],r=l[3];break;case"s":{let u=l.map((h,d)=>d%2?h+r:h+t);a.push({key:"S",data:u}),t=u[2],r=u[3];break}case"T":a.push({key:"T",data:[...l]}),t=l[0],r=l[1];break;case"t":t+=l[0],r+=l[1],a.push({key:"T",data:[t,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=n,r=i}return a}function oM(e){let t=[],r="",n=0,i=0,a=0,s=0,l=0,u=0;for(let{key:h,data:d}of e){switch(h){case"M":t.push({key:"M",data:[...d]}),[n,i]=d,[a,s]=d;break;case"C":t.push({key:"C",data:[...d]}),n=d[4],i=d[5],l=d[2],u=d[3];break;case"L":t.push({key:"L",data:[...d]}),[n,i]=d;break;case"H":n=d[0],t.push({key:"L",data:[n,i]});break;case"V":i=d[0],t.push({key:"L",data:[n,i]});break;case"S":{let p=0,f=0;r==="C"||r==="S"?(p=n+(n-l),f=i+(i-u)):(p=n,f=i),t.push({key:"C",data:[p,f,...d]}),l=d[0],u=d[1],n=d[2],i=d[3];break}case"T":{let[p,f]=d,g=0,m=0;r==="Q"||r==="T"?(g=n+(n-l),m=i+(i-u)):(g=n,m=i);let y=n+2*(g-n)/3,b=i+2*(m-i)/3,v=p+2*(g-p)/3,x=f+2*(m-f)/3;t.push({key:"C",data:[y,b,v,x,p,f]}),l=g,u=m,n=p,i=f;break}case"Q":{let[p,f,g,m]=d,y=n+2*(p-n)/3,b=i+2*(f-i)/3,v=g+2*(p-g)/3,x=m+2*(f-m)/3;t.push({key:"C",data:[y,b,v,x,g,m]}),l=p,u=f,n=g,i=m;break}case"A":{let p=Math.abs(d[0]),f=Math.abs(d[1]),g=d[2],m=d[3],y=d[4],b=d[5],v=d[6];p===0||f===0?(t.push({key:"C",data:[n,i,b,v,b,v]}),n=b,i=v):(n!==b||i!==v)&&(lM(n,i,b,v,p,f,g,m,y).forEach(function(x){t.push({key:"C",data:x})}),n=b,i=v);break}case"Z":t.push({key:"Z",data:[]}),n=a,i=s}r=h}return t}function bm(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function lM(e,t,r,n,i,a,s,l,u,h){let d=(p=s,Math.PI*p/180);var p;let f=[],g=0,m=0,y=0,b=0;if(h)[g,m,y,b]=h;else{[e,t]=bm(e,t,-d),[r,n]=bm(r,n,-d);let q=(e-r)/2,S=(t-n)/2,B=q*q/(i*i)+S*S/(a*a);B>1&&(B=Math.sqrt(B),i*=B,a*=B);let F=i*i,z=a*a,M=F*z-F*S*S-z*q*q,G=F*S*S+z*q*q,Y=(l===u?-1:1)*Math.sqrt(Math.abs(M/G));y=Y*i*S/a+(e+r)/2,b=Y*-a*q/i+(t+n)/2,g=Math.asin(parseFloat(((t-b)/a).toFixed(9))),m=Math.asin(parseFloat(((n-b)/a).toFixed(9))),e<y&&(g=Math.PI-g),r<y&&(m=Math.PI-m),g<0&&(g=2*Math.PI+g),m<0&&(m=2*Math.PI+m),u&&g>m&&(g-=2*Math.PI),!u&&m>g&&(m-=2*Math.PI)}let v=m-g;if(Math.abs(v)>120*Math.PI/180){let q=m,S=r,B=n;m=u&&m>g?g+120*Math.PI/180*1:g+120*Math.PI/180*-1,f=lM(r=y+i*Math.cos(m),n=b+a*Math.sin(m),S,B,i,a,s,0,u,[m,q,y,b])}v=m-g;let x=Math.cos(g),w=Math.sin(g),E=Math.cos(m),A=Math.sin(m),N=Math.tan(v/4),L=4/3*i*N,C=4/3*a*N,D=[e,t],P=[e+L*w,t-C*x],O=[r+L*A,n-C*E],I=[r,n];if(P[0]=2*D[0]-P[0],P[1]=2*D[1]-P[1],h)return[P,O,I].concat(f);{f=[P,O,I].concat(f);let q=[];for(let S=0;S<f.length;S+=3){let B=bm(f[S][0],f[S][1],d),F=bm(f[S+1][0],f[S+1][1],d),z=bm(f[S+2][0],f[S+2][1],d);q.push([B[0],B[1],F[0],F[1],z[0],z[1]])}return q}}function cM(e,t,r,n,i){return{type:"path",ops:Zh(e,t,r,n,i)}}function D3(e,t,r){let n=(e||[]).length;if(n>2){let i=[];for(let a=0;a<n-1;a++)i.push(...Zh(e[a][0],e[a][1],e[a+1][0],e[a+1][1],r));return t&&i.push(...Zh(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return n===2?cM(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function Yoe(e,t,r,n,i){return function(a,s){return D3(a,!0,s)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}function uM(e,t){if(e.length){let r=typeof e[0][0]=="number"?[e]:e,n=O3(r[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:O3(r[0],1.5*(1+.22*t.roughness),gM(t));for(let a=1;a<r.length;a++){let s=r[a];if(s.length){let l=O3(s,1*(1+.2*t.roughness),t),u=t.disableMultiStroke?[]:O3(s,1.5*(1+.22*t.roughness),gM(t));for(let h of l)h.op!=="move"&&n.push(h);for(let h of u)h.op!=="move"&&i.push(h)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function hM(e,t,r){let n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),a=2*Math.PI/i,s=Math.abs(e/2),l=Math.abs(t/2),u=1-r.curveFitting;return s+=rn(s*u,r),l+=rn(l*u,r),{increment:a,rx:s,ry:l}}function d8(e,t,r,n){let[i,a]=mM(n.increment,e,t,n.rx,n.ry,1,n.increment*R3(.1,R3(.4,1,r),r),r),s=P3(i,null,r);if(!r.disableMultiStroke&&r.roughness!==0){let[l]=mM(n.increment,e,t,n.rx,n.ry,1.5,0,r),u=P3(l,null,r);s=s.concat(u)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function dM(e,t,r,n,i,a,s,l,u){let h=e,d=t,p=Math.abs(r/2),f=Math.abs(n/2);p+=rn(.01*p,u),f+=rn(.01*f,u);let g=i,m=a;for(;g<0;)g+=2*Math.PI,m+=2*Math.PI;m-g>2*Math.PI&&(g=0,m=2*Math.PI);let y=2*Math.PI/u.curveStepCount,b=Math.min(y/2,(m-g)/2),v=yM(b,h,d,p,f,g,m,1,u);if(!u.disableMultiStroke){let x=yM(b,h,d,p,f,g,m,1.5,u);v.push(...x)}return s&&(l?v.push(...Zh(h,d,h+p*Math.cos(g),d+f*Math.sin(g),u),...Zh(h,d,h+p*Math.cos(m),d+f*Math.sin(m),u)):v.push({op:"lineTo",data:[h,d]},{op:"lineTo",data:[h+p*Math.cos(g),d+f*Math.sin(g)]})),{type:"path",ops:v}}function pM(e,t){let r=oM(sM(h8(e))),n=[],i=[0,0],a=[0,0];for(let{key:s,data:l}of r)switch(s){case"M":a=[l[0],l[1]],i=[l[0],l[1]];break;case"L":n.push(...Zh(a[0],a[1],l[0],l[1],t)),a=[l[0],l[1]];break;case"C":{let[u,h,d,p,f,g]=l;n.push(...joe(u,h,d,p,f,g,a,t)),a=[f,g];break}case"Z":n.push(...Zh(a[0],a[1],i[0],i[1],t)),a=[i[0],i[1]]}return{type:"path",ops:n}}function p8(e,t){let r=[];for(let n of e)if(n.length){let i=t.maxRandomnessOffset||0,a=n.length;if(a>2){r.push({op:"move",data:[n[0][0]+rn(i,t),n[0][1]+rn(i,t)]});for(let s=1;s<a;s++)r.push({op:"lineTo",data:[n[s][0]+rn(i,t),n[s][1]+rn(i,t)]})}}return{type:"fillPath",ops:r}}function Lp(e,t){return function(r,n){let i=r.fillStyle||"hachure";if(!Go[i])switch(i){case"zigzag":Go[i]||(Go[i]=new Voe(n));break;case"cross-hatch":Go[i]||(Go[i]=new Woe(n));break;case"dots":Go[i]||(Go[i]=new Xoe(n));break;case"dashed":Go[i]||(Go[i]=new Koe(n));break;case"zigzag-line":Go[i]||(Go[i]=new Zoe(n));break;default:i="hachure",Go[i]||(Go[i]=new y8(n))}return Go[i]}(t,ele).fillPolygons(e,t)}function gM(e){let t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function fM(e){return e.randomizer||(e.randomizer=new Qoe(e.seed||0)),e.randomizer.next()}function R3(e,t,r,n=1){return r.roughness*n*(fM(r)*(t-e)+e)}function rn(e,t,r=1){return R3(-e,e,t,r)}function Zh(e,t,r,n,i,a=!1){let s=a?i.disableMultiStrokeFill:i.disableMultiStroke,l=g8(e,t,r,n,i,!0,!1);if(s)return l;let u=g8(e,t,r,n,i,!0,!0);return l.concat(u)}function g8(e,t,r,n,i,a,s){let l=Math.pow(e-r,2)+Math.pow(t-n,2),u=Math.sqrt(l),h=1;h=u<200?1:u>500?.4:-.0016668*u+1.233334;let d=i.maxRandomnessOffset||0;d*d*100>l&&(d=u/10);let p=d/2,f=.2+.2*fM(i),g=i.bowing*i.maxRandomnessOffset*(n-t)/200,m=i.bowing*i.maxRandomnessOffset*(e-r)/200;g=rn(g,i,h),m=rn(m,i,h);let y=[],b=o(()=>rn(p,i,h),"M"),v=o(()=>rn(d,i,h),"k"),x=i.preserveVertices;return a&&(s?y.push({op:"move",data:[e+(x?0:b()),t+(x?0:b())]}):y.push({op:"move",data:[e+(x?0:rn(d,i,h)),t+(x?0:rn(d,i,h))]})),s?y.push({op:"bcurveTo",data:[g+e+(r-e)*f+b(),m+t+(n-t)*f+b(),g+e+2*(r-e)*f+b(),m+t+2*(n-t)*f+b(),r+(x?0:b()),n+(x?0:b())]}):y.push({op:"bcurveTo",data:[g+e+(r-e)*f+v(),m+t+(n-t)*f+v(),g+e+2*(r-e)*f+v(),m+t+2*(n-t)*f+v(),r+(x?0:v()),n+(x?0:v())]}),y}function O3(e,t,r){if(!e.length)return[];let n=[];n.push([e[0][0]+rn(t,r),e[0][1]+rn(t,r)]),n.push([e[0][0]+rn(t,r),e[0][1]+rn(t,r)]);for(let i=1;i<e.length;i++)n.push([e[i][0]+rn(t,r),e[i][1]+rn(t,r)]),i===e.length-1&&n.push([e[i][0]+rn(t,r),e[i][1]+rn(t,r)]);return P3(n,null,r)}function P3(e,t,r){let n=e.length,i=[];if(n>3){let a=[],s=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let l=1;l+2<n;l++){let u=e[l];a[0]=[u[0],u[1]],a[1]=[u[0]+(s*e[l+1][0]-s*e[l-1][0])/6,u[1]+(s*e[l+1][1]-s*e[l-1][1])/6],a[2]=[e[l+1][0]+(s*e[l][0]-s*e[l+2][0])/6,e[l+1][1]+(s*e[l][1]-s*e[l+2][1])/6],a[3]=[e[l+1][0],e[l+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&t.length===2){let l=r.maxRandomnessOffset;i.push({op:"lineTo",data:[t[0]+rn(l,r),t[1]+rn(l,r)]})}}else n===3?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):n===2&&i.push(...g8(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return i}function mM(e,t,r,n,i,a,s,l){let u=[],h=[];if(l.roughness===0){e/=4,h.push([t+n*Math.cos(-e),r+i*Math.sin(-e)]);for(let d=0;d<=2*Math.PI;d+=e){let p=[t+n*Math.cos(d),r+i*Math.sin(d)];u.push(p),h.push(p)}h.push([t+n*Math.cos(0),r+i*Math.sin(0)]),h.push([t+n*Math.cos(e),r+i*Math.sin(e)])}else{let d=rn(.5,l)-Math.PI/2;h.push([rn(a,l)+t+.9*n*Math.cos(d-e),rn(a,l)+r+.9*i*Math.sin(d-e)]);let p=2*Math.PI+d-.01;for(let f=d;f<p;f+=e){let g=[rn(a,l)+t+n*Math.cos(f),rn(a,l)+r+i*Math.sin(f)];u.push(g),h.push(g)}h.push([rn(a,l)+t+n*Math.cos(d+2*Math.PI+.5*s),rn(a,l)+r+i*Math.sin(d+2*Math.PI+.5*s)]),h.push([rn(a,l)+t+.98*n*Math.cos(d+s),rn(a,l)+r+.98*i*Math.sin(d+s)]),h.push([rn(a,l)+t+.9*n*Math.cos(d+.5*s),rn(a,l)+r+.9*i*Math.sin(d+.5*s)])}return[h,u]}function yM(e,t,r,n,i,a,s,l,u){let h=a+rn(.1,u),d=[];d.push([rn(l,u)+t+.9*n*Math.cos(h-e),rn(l,u)+r+.9*i*Math.sin(h-e)]);for(let p=h;p<=s;p+=e)d.push([rn(l,u)+t+n*Math.cos(p),rn(l,u)+r+i*Math.sin(p)]);return d.push([t+n*Math.cos(s),r+i*Math.sin(s)]),d.push([t+n*Math.cos(s),r+i*Math.sin(s)]),P3(d,null,u)}function joe(e,t,r,n,i,a,s,l){let u=[],h=[l.maxRandomnessOffset||1,(l.maxRandomnessOffset||1)+.3],d=[0,0],p=l.disableMultiStroke?1:2,f=l.preserveVertices;for(let g=0;g<p;g++)g===0?u.push({op:"move",data:[s[0],s[1]]}):u.push({op:"move",data:[s[0]+(f?0:rn(h[0],l)),s[1]+(f?0:rn(h[0],l))]}),d=f?[i,a]:[i+rn(h[g],l),a+rn(h[g],l)],u.push({op:"bcurveTo",data:[e+rn(h[g],l),t+rn(h[g],l),r+rn(h[g],l),n+rn(h[g],l),d[0],d[1]]});return u}function xm(e){return[...e]}function vM(e,t=0){let r=e.length;if(r<3)throw new Error("A curve must have at least three points.");let n=[];if(r===3)n.push(xm(e[0]),xm(e[1]),xm(e[2]),xm(e[2]));else{let i=[];i.push(e[0],e[0]);for(let l=1;l<e.length;l++)i.push(e[l]),l===e.length-1&&i.push(e[l]);let a=[],s=1-t;n.push(xm(i[0]));for(let l=1;l+2<i.length;l++){let u=i[l];a[0]=[u[0],u[1]],a[1]=[u[0]+(s*i[l+1][0]-s*i[l-1][0])/6,u[1]+(s*i[l+1][1]-s*i[l-1][1])/6],a[2]=[i[l+1][0]+(s*i[l][0]-s*i[l+2][0])/6,i[l+1][1]+(s*i[l][1]-s*i[l+2][1])/6],a[3]=[i[l+1][0],i[l+1][1]],n.push(a[1],a[2],a[3])}}return n}function B3(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function Hoe(e,t,r){let n=B3(t,r);if(n===0)return B3(e,t);let i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),B3(e,Rd(t,r,i))}function Rd(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function f8(e,t,r,n){let i=n||[];if(function(l,u){let h=l[u+0],d=l[u+1],p=l[u+2],f=l[u+3],g=3*d[0]-2*h[0]-f[0];g*=g;let m=3*d[1]-2*h[1]-f[1];m*=m;let y=3*p[0]-2*f[0]-h[0];y*=y;let b=3*p[1]-2*f[1]-h[1];return b*=b,g<y&&(g=y),m<b&&(m=b),g+m}(e,t)<r){let l=e[t+0];i.length?(a=i[i.length-1],s=l,Math.sqrt(B3(a,s))>1&&i.push(l)):i.push(l),i.push(e[t+3])}else{let l=e[t+0],u=e[t+1],h=e[t+2],d=e[t+3],p=Rd(l,u,.5),f=Rd(u,h,.5),g=Rd(h,d,.5),m=Rd(p,f,.5),y=Rd(f,g,.5),b=Rd(m,y,.5);f8([l,p,m,b],0,r,i),f8([b,y,g,d],0,r,i)}var a,s;return i}function Uoe(e,t){return F3(e,0,e.length,t)}function F3(e,t,r,n,i){let a=i||[],s=e[t],l=e[r-1],u=0,h=1;for(let d=t+1;d<r-1;++d){let p=Hoe(e[d],s,l);p>u&&(u=p,h=d)}return Math.sqrt(u)>n?(F3(e,t,h+1,n,a),F3(e,h,r,n,a)):(a.length||a.push(s),a.push(l)),a}function m8(e,t=.15,r){let n=[],i=(e.length-1)/3;for(let a=0;a<i;a++)f8(e,3*a,t,n);return r&&r>0?F3(n,0,n.length,r):n}var y8,Voe,Woe,Xoe,Koe,Zoe,Go,Qoe,Joe,v8,bM,$3,ele,vl,z3,tle,q3,rle,Or,Kr=R(()=>{"use strict";o(c8,"t"),o(qoe,"e"),o(Goe,"s"),o(vm,"n"),y8=class{static{o(this,"o")}constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){let r=vm(e,t);return{type:"fillSketch",ops:this.renderLines(r,t)}}renderLines(e,t){let r=[];for(let n of e)r.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],t));return r}},o(I3,"a"),Voe=class extends y8{static{o(this,"h")}fillPolygons(e,t){let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);let n=vm(e,Object.assign({},t,{hachureGap:r})),i=Math.PI/180*t.hachureAngle,a=[],s=.5*r*Math.cos(i),l=.5*r*Math.sin(i);for(let[u,h]of n)I3([u,h])&&a.push([[u[0]-s,u[1]+l],[...h]],[[u[0]+s,u[1]-l],[...h]]);return{type:"fillSketch",ops:this.renderLines(a,t)}}},Woe=class extends y8{static{o(this,"r")}fillPolygons(e,t){let r=this._fillPolygons(e,t),n=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),i=this._fillPolygons(e,n);return r.ops=r.ops.concat(i.ops),r}},Xoe=class{static{o(this,"i")}constructor(e){this.helper=e}fillPolygons(e,t){let r=vm(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(r,t)}dotsOnLines(e,t){let r=[],n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);let i=t.fillWeight;i<0&&(i=t.strokeWidth/2);let a=n/4;for(let s of e){let l=I3(s),u=l/n,h=Math.ceil(u)-1,d=l-h*n,p=(s[0][0]+s[1][0])/2-n/4,f=Math.min(s[0][1],s[1][1]);for(let g=0;g<h;g++){let m=f+d+g*n,y=p-a+2*Math.random()*a,b=m-a+2*Math.random()*a,v=this.helper.ellipse(y,b,i,i,t);r.push(...v.ops)}}return{type:"fillSketch",ops:r}}},Koe=class{static{o(this,"c")}constructor(e){this.helper=e}fillPolygons(e,t){let r=vm(e,t);return{type:"fillSketch",ops:this.dashedLine(r,t)}}dashedLine(e,t){let r=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,n=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,i=[];return e.forEach(a=>{let s=I3(a),l=Math.floor(s/(r+n)),u=(s+n-l*(r+n))/2,h=a[0],d=a[1];h[0]>d[0]&&(h=a[1],d=a[0]);let p=Math.atan((d[1]-h[1])/(d[0]-h[0]));for(let f=0;f<l;f++){let g=f*(r+n),m=g+r,y=[h[0]+g*Math.cos(p)+u*Math.cos(p),h[1]+g*Math.sin(p)+u*Math.sin(p)],b=[h[0]+m*Math.cos(p)+u*Math.cos(p),h[1]+m*Math.sin(p)+u*Math.sin(p)];i.push(...this.helper.doubleLineOps(y[0],y[1],b[0],b[1],t))}}),i}},Zoe=class{static{o(this,"l")}constructor(e){this.helper=e}fillPolygons(e,t){let r=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,n=t.zigzagOffset<0?r:t.zigzagOffset,i=vm(e,t=Object.assign({},t,{hachureGap:r+n}));return{type:"fillSketch",ops:this.zigzagLines(i,n,t)}}zigzagLines(e,t,r){let n=[];return e.forEach(i=>{let a=I3(i),s=Math.round(a/(2*t)),l=i[0],u=i[1];l[0]>u[0]&&(l=i[1],u=i[0]);let h=Math.atan((u[1]-l[1])/(u[0]-l[0]));for(let d=0;d<s;d++){let p=2*d*t,f=2*(d+1)*t,g=Math.sqrt(2*Math.pow(t,2)),m=[l[0]+p*Math.cos(h),l[1]+p*Math.sin(h)],y=[l[0]+f*Math.cos(h),l[1]+f*Math.sin(h)],b=[m[0]+g*Math.cos(h+Math.PI/4),m[1]+g*Math.sin(h+Math.PI/4)];n.push(...this.helper.doubleLineOps(m[0],m[1],b[0],b[1],r),...this.helper.doubleLineOps(b[0],b[1],y[0],y[1],r))}}),n}},Go={},Qoe=class{static{o(this,"p")}constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}},Joe=0,v8=1,bM=2,$3={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},o(u8,"k"),o(h8,"b"),o(sM,"y"),o(oM,"m"),o(bm,"w"),o(lM,"x"),ele={randOffset:o(function(e,t){return rn(e,t)},"randOffset"),randOffsetWithRange:o(function(e,t,r){return R3(e,t,r)},"randOffsetWithRange"),ellipse:o(function(e,t,r,n,i){let a=hM(r,n,i);return d8(e,t,i,a).opset},"ellipse"),doubleLineOps:o(function(e,t,r,n,i){return Zh(e,t,r,n,i,!0)},"doubleLineOps")},o(cM,"v"),o(D3,"S"),o(Yoe,"O"),o(uM,"L"),o(hM,"T"),o(d8,"D"),o(dM,"A"),o(pM,"_"),o(p8,"I"),o(Lp,"C"),o(gM,"z"),o(fM,"W"),o(R3,"E"),o(rn,"G"),o(Zh,"$"),o(g8,"R"),o(O3,"j"),o(P3,"q"),o(mM,"F"),o(yM,"V"),o(joe,"Z"),o(xm,"Q"),o(vM,"H"),o(B3,"N"),o(Hoe,"B"),o(Rd,"J"),o(f8,"K"),o(Uoe,"U"),o(F3,"X"),o(m8,"Y"),vl="none",z3=class{static{o(this,"et")}constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,r){return{shape:e,sets:t||[],options:r||this.defaultOptions}}line(e,t,r,n,i){let a=this._o(i);return this._d("line",[cM(e,t,r,n,a)],a)}rectangle(e,t,r,n,i){let a=this._o(i),s=[],l=Yoe(e,t,r,n,a);if(a.fill){let u=[[e,t],[e+r,t],[e+r,t+n],[e,t+n]];a.fillStyle==="solid"?s.push(p8([u],a)):s.push(Lp([u],a))}return a.stroke!==vl&&s.push(l),this._d("rectangle",s,a)}ellipse(e,t,r,n,i){let a=this._o(i),s=[],l=hM(r,n,a),u=d8(e,t,a,l);if(a.fill)if(a.fillStyle==="solid"){let h=d8(e,t,a,l).opset;h.type="fillPath",s.push(h)}else s.push(Lp([u.estimatedPoints],a));return a.stroke!==vl&&s.push(u.opset),this._d("ellipse",s,a)}circle(e,t,r,n){let i=this.ellipse(e,t,r,r,n);return i.shape="circle",i}linearPath(e,t){let r=this._o(t);return this._d("linearPath",[D3(e,!1,r)],r)}arc(e,t,r,n,i,a,s=!1,l){let u=this._o(l),h=[],d=dM(e,t,r,n,i,a,s,!0,u);if(s&&u.fill)if(u.fillStyle==="solid"){let p=Object.assign({},u);p.disableMultiStroke=!0;let f=dM(e,t,r,n,i,a,!0,!1,p);f.type="fillPath",h.push(f)}else h.push(function(p,f,g,m,y,b,v){let x=p,w=f,E=Math.abs(g/2),A=Math.abs(m/2);E+=rn(.01*E,v),A+=rn(.01*A,v);let N=y,L=b;for(;N<0;)N+=2*Math.PI,L+=2*Math.PI;L-N>2*Math.PI&&(N=0,L=2*Math.PI);let C=(L-N)/v.curveStepCount,D=[];for(let P=N;P<=L;P+=C)D.push([x+E*Math.cos(P),w+A*Math.sin(P)]);return D.push([x+E*Math.cos(L),w+A*Math.sin(L)]),D.push([x,w]),Lp([D],v)}(e,t,r,n,i,a,u));return u.stroke!==vl&&h.push(d),this._d("arc",h,u)}curve(e,t){let r=this._o(t),n=[],i=uM(e,r);if(r.fill&&r.fill!==vl)if(r.fillStyle==="solid"){let a=uM(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{let a=[],s=e;if(s.length){let l=typeof s[0][0]=="number"?[s]:s;for(let u of l)u.length<3?a.push(...u):u.length===3?a.push(...m8(vM([u[0],u[0],u[1],u[2]]),10,(1+r.roughness)/2)):a.push(...m8(vM(u),10,(1+r.roughness)/2))}a.length&&n.push(Lp([a],r))}return r.stroke!==vl&&n.push(i),this._d("curve",n,r)}polygon(e,t){let r=this._o(t),n=[],i=D3(e,!0,r);return r.fill&&(r.fillStyle==="solid"?n.push(p8([e],r)):n.push(Lp([e],r))),r.stroke!==vl&&n.push(i),this._d("polygon",n,r)}path(e,t){let r=this._o(t),n=[];if(!e)return this._d("path",n,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let i=r.fill&&r.fill!=="transparent"&&r.fill!==vl,a=r.stroke!==vl,s=!!(r.simplification&&r.simplification<1),l=function(h,d,p){let f=oM(sM(h8(h))),g=[],m=[],y=[0,0],b=[],v=o(()=>{b.length>=4&&m.push(...m8(b,d)),b=[]},"i"),x=o(()=>{v(),m.length&&(g.push(m),m=[])},"c");for(let{key:E,data:A}of f)switch(E){case"M":x(),y=[A[0],A[1]],m.push(y);break;case"L":v(),m.push([A[0],A[1]]);break;case"C":if(!b.length){let N=m.length?m[m.length-1]:y;b.push([N[0],N[1]])}b.push([A[0],A[1]]),b.push([A[2],A[3]]),b.push([A[4],A[5]]);break;case"Z":v(),m.push([y[0],y[1]])}if(x(),!p)return g;let w=[];for(let E of g){let A=Uoe(E,p);A.length&&w.push(A)}return w}(e,1,s?4-4*(r.simplification||1):(1+r.roughness)/2),u=pM(e,r);if(i)if(r.fillStyle==="solid")if(l.length===1){let h=pM(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else n.push(p8(l,r));else n.push(Lp(l,r));return a&&(s?l.forEach(h=>{n.push(D3(h,!1,r))}):n.push(u)),this._d("path",n,r)}opsToPath(e,t){let r="";for(let n of e.ops){let i=typeof t=="number"&&t>=0?n.data.map(a=>+a.toFixed(t)):n.data;switch(n.op){case"move":r+=`M${i[0]} ${i[1]} `;break;case"bcurveTo":r+=`C${i[0]} ${i[1]}, ${i[2]} ${i[3]}, ${i[4]} ${i[5]} `;break;case"lineTo":r+=`L${i[0]} ${i[1]} `}}return r.trim()}toPaths(e){let t=e.sets||[],r=e.options||this.defaultOptions,n=[];for(let i of t){let a=null;switch(i.type){case"path":a={d:this.opsToPath(i),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:vl};break;case"fillPath":a={d:this.opsToPath(i),stroke:vl,strokeWidth:0,fill:r.fill||vl};break;case"fillSketch":a=this.fillSketch(i,r)}a&&n.push(a)}return n}fillSketch(e,t){let r=t.fillWeight;return r<0&&(r=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||vl,strokeWidth:r,fill:vl}}_mergedShape(e){return e.filter((t,r)=>r===0||t.op!=="move")}},tle=class{static{o(this,"st")}constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new z3(t)}draw(e){let t=e.sets||[],r=e.options||this.getDefaultOptions(),n=this.ctx,i=e.options.fixedDecimalPlaceDigits;for(let a of t)switch(a.type){case"path":n.save(),n.strokeStyle=r.stroke==="none"?"transparent":r.stroke,n.lineWidth=r.strokeWidth,r.strokeLineDash&&n.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(n.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(n,a,i),n.restore();break;case"fillPath":{n.save(),n.fillStyle=r.fill||"";let s=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(n,a,i,s),n.restore();break}case"fillSketch":this.fillSketch(n,a,r)}}fillSketch(e,t,r){let n=r.fillWeight;n<0&&(n=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=n,this._drawToContext(e,t,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,r,n="nonzero"){e.beginPath();for(let i of t.ops){let a=typeof r=="number"&&r>=0?i.data.map(s=>+s.toFixed(r)):i.data;switch(i.op){case"move":e.moveTo(a[0],a[1]);break;case"bcurveTo":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":e.lineTo(a[0],a[1])}}t.type==="fillPath"?e.fill(n):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,r,n,i){let a=this.gen.line(e,t,r,n,i);return this.draw(a),a}rectangle(e,t,r,n,i){let a=this.gen.rectangle(e,t,r,n,i);return this.draw(a),a}ellipse(e,t,r,n,i){let a=this.gen.ellipse(e,t,r,n,i);return this.draw(a),a}circle(e,t,r,n){let i=this.gen.circle(e,t,r,n);return this.draw(i),i}linearPath(e,t){let r=this.gen.linearPath(e,t);return this.draw(r),r}polygon(e,t){let r=this.gen.polygon(e,t);return this.draw(r),r}arc(e,t,r,n,i,a,s=!1,l){let u=this.gen.arc(e,t,r,n,i,a,s,l);return this.draw(u),u}curve(e,t){let r=this.gen.curve(e,t);return this.draw(r),r}path(e,t){let r=this.gen.path(e,t);return this.draw(r),r}},q3="http://www.w3.org/2000/svg",rle=class{static{o(this,"ot")}constructor(e,t){this.svg=e,this.gen=new z3(t)}draw(e){let t=e.sets||[],r=e.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,i=n.createElementNS(q3,"g"),a=e.options.fixedDecimalPlaceDigits;for(let s of t){let l=null;switch(s.type){case"path":l=n.createElementNS(q3,"path"),l.setAttribute("d",this.opsToPath(s,a)),l.setAttribute("stroke",r.stroke),l.setAttribute("stroke-width",r.strokeWidth+""),l.setAttribute("fill","none"),r.strokeLineDash&&l.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":l=n.createElementNS(q3,"path"),l.setAttribute("d",this.opsToPath(s,a)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",r.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(n,s,r)}l&&i.appendChild(l)}return i}fillSketch(e,t,r){let n=r.fillWeight;n<0&&(n=r.strokeWidth/2);let i=e.createElementNS(q3,"path");return i.setAttribute("d",this.opsToPath(t,r.fixedDecimalPlaceDigits)),i.setAttribute("stroke",r.fill||""),i.setAttribute("stroke-width",n+""),i.setAttribute("fill","none"),r.fillLineDash&&i.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&i.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),i}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,r,n,i){let a=this.gen.line(e,t,r,n,i);return this.draw(a)}rectangle(e,t,r,n,i){let a=this.gen.rectangle(e,t,r,n,i);return this.draw(a)}ellipse(e,t,r,n,i){let a=this.gen.ellipse(e,t,r,n,i);return this.draw(a)}circle(e,t,r,n){let i=this.gen.circle(e,t,r,n);return this.draw(i)}linearPath(e,t){let r=this.gen.linearPath(e,t);return this.draw(r)}polygon(e,t){let r=this.gen.polygon(e,t);return this.draw(r)}arc(e,t,r,n,i,a,s=!1,l){let u=this.gen.arc(e,t,r,n,i,a,s,l);return this.draw(u)}curve(e,t){let r=this.gen.curve(e,t);return this.draw(r)}path(e,t){let r=this.gen.path(e,t);return this.draw(r)}},Or={canvas:o((e,t)=>new tle(e,t),"canvas"),svg:o((e,t)=>new rle(e,t),"svg"),generator:o(e=>new z3(e),"generator"),newSeed:o(()=>z3.newSeed(),"newSeed")}});function nle(e,t){let{labelStyles:r}=jr(t);t.labelStyle=r;let n=cn(t),i=n;n||(i="anchor");let a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),s=1,{cssStyles:l}=t,u=Or.svg(a),h=Fr(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);let d=u.circle(0,0,s*2,h),p=a.insert(()=>d,":first-child");return p.attr("class","anchor").attr("style",qo(l)),qr(t,p),t.intersect=function(f){return J.info("Circle intersect",t,s,f),Lr.circle(t,s,f)},a}var UVe=R(()=>{"use strict";We(),Sr(),Wr(),Xr(),Kr(),kn(),o(nle,"anchor")});function xM(e,t,r,n,i,a,s){let l=(e+r)/2,u=(t+n)/2,h=Math.atan2(n-t,r-e),d=(r-e)/2,p=(n-t)/2,f=d/i,g=p/a,m=Math.sqrt(f**2+g**2);if(m>1)throw new Error("The given radii are too small to create an arc between the points.");let y=Math.sqrt(1-m**2),b=l+y*a*Math.sin(h)*(s?-1:1),v=u-y*i*Math.cos(h)*(s?-1:1),x=Math.atan2((t-v)/a,(e-b)/i),w=Math.atan2((n-v)/a,(r-b)/i)-x;s&&w<0&&(w+=2*Math.PI),!s&&w>0&&(w-=2*Math.PI);let E=[];for(let A=0;A<20;A++){let N=A/19,L=x+N*w,C=b+i*Math.cos(L),D=v+a*Math.sin(L);E.push({x:C,y:D})}return E}async function ile(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=a.width+t.padding+20,l=a.height+t.padding,u=l/2,h=u/(2.5+l/50),{cssStyles:d}=t,p=[{x:s/2,y:-l/2},{x:-s/2,y:-l/2},...xM(-s/2,-l/2,-s/2,l/2,h,u,!1),{x:s/2,y:l/2},...xM(s/2,l/2,s/2,-l/2,h,u,!0)],f=Or.svg(i),g=Fr(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=Xn(p),y=f.path(m,g),b=i.insert(()=>y,":first-child");return b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(${h/2}, 0)`),qr(t,b),t.intersect=function(v){return Lr.polygon(t,p,v)},i}var VVe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),o(xM,"generateArcPoints"),o(ile,"bowTieRect")});function Qh(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}var Od=R(()=>{"use strict";o(Qh,"insertPolygonShape")});async function ale(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=a.height+t.padding,l=12,u=a.width+t.padding+l,h=0,d=u,p=-s,f=0,g=[{x:h+l,y:p},{x:d,y:p},{x:d,y:f},{x:h,y:f},{x:h,y:p+l},{x:h+l,y:p}],m,{cssStyles:y}=t;if(t.look==="handDrawn"){let b=Or.svg(i),v=Fr(t,{}),x=Xn(g),w=b.path(x,v);m=i.insert(()=>w,":first-child").attr("transform",`translate(${-u/2}, ${s/2})`),y&&m.attr("style",y)}else m=Qh(i,u,s,g);return n&&m.attr("style",n),qr(t,m),t.intersect=function(b){return Lr.polygon(t,g,b)},i}var WVe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),Od(),Sr(),o(ale,"card")});function sle(e,t){let{nodeStyles:r}=jr(t);t.label="";let n=e.insert("g").attr("class",cn(t)).attr("id",t.domId??t.id),{cssStyles:i}=t,a=Math.max(28,t.width??0),s=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],l=Or.svg(n),u=Fr(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let h=Xn(s),d=l.path(h,u),p=n.insert(()=>d,":first-child");return i&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",i),r&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(f){return Lr.polygon(t,s,f)},n}var XVe=R(()=>{"use strict";Wr(),Kr(),Xr(),Sr(),o(sle,"choice")});async function ole(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,halfPadding:s}=await ln(e,t,cn(t)),l=a.width/2+s,u,{cssStyles:h}=t;if(t.look==="handDrawn"){let d=Or.svg(i),p=Fr(t,{}),f=d.circle(0,0,l*2,p);u=i.insert(()=>f,":first-child"),u.attr("class","basic label-container").attr("style",qo(h))}else u=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0);return qr(t,u),t.intersect=function(d){return J.info("Circle intersect",t,l,d),Lr.circle(t,l,d)},i}var KVe=R(()=>{"use strict";We(),Sr(),Wr(),Xr(),Kr(),kn(),o(ole,"circle")});function lle(e){let t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=e*2,i={x:n/2*t,y:n/2*r},a={x:-(n/2)*t,y:n/2*r},s={x:-(n/2)*t,y:-(n/2)*r},l={x:n/2*t,y:-(n/2)*r};return`M ${a.x},${a.y} L ${l.x},${l.y}
                   M ${i.x},${i.y} L ${s.x},${s.y}`}function cle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r,t.label="";let i=e.insert("g").attr("class",cn(t)).attr("id",t.domId??t.id),a=Math.max(30,t?.width??0),{cssStyles:s}=t,l=Or.svg(i),u=Fr(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let h=l.circle(0,0,a*2,u),d=lle(a),p=l.path(d,u),f=i.insert(()=>h,":first-child");return f.insert(()=>p),s&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",s),n&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",n),qr(t,f),t.intersect=function(g){return J.info("crossedCircle intersect",t,{radius:a,point:g}),Lr.circle(t,a,g)},i}var ZVe=R(()=>{"use strict";We(),Sr(),Xr(),Kr(),Wr(),o(lle,"createLine"),o(cle,"crossedCircle")});function Jh(e,t,r,n=100,i=0,a=180){let s=[],l=i*Math.PI/180,u=(a*Math.PI/180-l)/(n-1);for(let h=0;h<n;h++){let d=l+h*u,p=e+r*Math.cos(d),f=t+r*Math.sin(d);s.push({x:-p,y:-f})}return s}async function ule(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:d}=t,p=[...Jh(l/2,-u/2,h,30,-90,0),{x:-l/2-h,y:h},...Jh(l/2+h*2,-h,h,20,-180,-270),...Jh(l/2+h*2,h,h,20,-90,-180),{x:-l/2-h,y:-u/2},...Jh(l/2,u/2,h,20,0,90)],f=[{x:l/2,y:-u/2-h},{x:-l/2,y:-u/2-h},...Jh(l/2,-u/2,h,20,-90,0),{x:-l/2-h,y:-h},...Jh(l/2+l*.1,-h,h,20,-180,-270),...Jh(l/2+l*.1,h,h,20,-90,-180),{x:-l/2-h,y:u/2},...Jh(l/2,u/2,h,20,0,90),{x:-l/2,y:u/2+h},{x:l/2,y:u/2+h}],g=Or.svg(i),m=Fr(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=Xn(p).replace("Z",""),b=g.path(y,m),v=Xn(f),x=g.path(v,{...m}),w=i.insert("g",":first-child");return w.insert(()=>x,":first-child").attr("stroke-opacity",0),w.insert(()=>b,":first-child"),w.attr("class","text"),d&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(${h}, 0)`),s.attr("transform",`translate(${-l/2+h-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),qr(t,w),t.intersect=function(E){return Lr.polygon(t,f,E)},i}var QVe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),o(Jh,"generateCirclePoints"),o(ule,"curlyBraceLeft")});function e0(e,t,r,n=100,i=0,a=180){let s=[],l=i*Math.PI/180,u=(a*Math.PI/180-l)/(n-1);for(let h=0;h<n;h++){let d=l+h*u,p=e+r*Math.cos(d),f=t+r*Math.sin(d);s.push({x:p,y:f})}return s}async function hle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:d}=t,p=[...e0(l/2,-u/2,h,20,-90,0),{x:l/2+h,y:-h},...e0(l/2+h*2,-h,h,20,-180,-270),...e0(l/2+h*2,h,h,20,-90,-180),{x:l/2+h,y:u/2},...e0(l/2,u/2,h,20,0,90)],f=[{x:-l/2,y:-u/2-h},{x:l/2,y:-u/2-h},...e0(l/2,-u/2,h,20,-90,0),{x:l/2+h,y:-h},...e0(l/2+h*2,-h,h,20,-180,-270),...e0(l/2+h*2,h,h,20,-90,-180),{x:l/2+h,y:u/2},...e0(l/2,u/2,h,20,0,90),{x:l/2,y:u/2+h},{x:-l/2,y:u/2+h}],g=Or.svg(i),m=Fr(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=Xn(p).replace("Z",""),b=g.path(y,m),v=Xn(f),x=g.path(v,{...m}),w=i.insert("g",":first-child");return w.insert(()=>x,":first-child").attr("stroke-opacity",0),w.insert(()=>b,":first-child"),w.attr("class","text"),d&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(${-h}, 0)`),s.attr("transform",`translate(${-l/2+(t.padding??0)/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),qr(t,w),t.intersect=function(E){return Lr.polygon(t,f,E)},i}var JVe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),o(e0,"generateCirclePoints"),o(hle,"curlyBraceRight")});function ro(e,t,r,n=100,i=0,a=180){let s=[],l=i*Math.PI/180,u=(a*Math.PI/180-l)/(n-1);for(let h=0;h<n;h++){let d=l+h*u,p=e+r*Math.cos(d),f=t+r*Math.sin(d);s.push({x:-p,y:-f})}return s}async function dle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=a.width+(t.padding??0),u=a.height+(t.padding??0),h=Math.max(5,u*.1),{cssStyles:d}=t,p=[...ro(l/2,-u/2,h,30,-90,0),{x:-l/2-h,y:h},...ro(l/2+h*2,-h,h,20,-180,-270),...ro(l/2+h*2,h,h,20,-90,-180),{x:-l/2-h,y:-u/2},...ro(l/2,u/2,h,20,0,90)],f=[...ro(-l/2+h+h/2,-u/2,h,20,-90,-180),{x:l/2-h/2,y:h},...ro(-l/2-h/2,-h,h,20,0,90),...ro(-l/2-h/2,h,h,20,-90,0),{x:l/2-h/2,y:-h},...ro(-l/2+h+h/2,u/2,h,30,-180,-270)],g=[{x:l/2,y:-u/2-h},{x:-l/2,y:-u/2-h},...ro(l/2,-u/2,h,20,-90,0),{x:-l/2-h,y:-h},...ro(l/2+h*2,-h,h,20,-180,-270),...ro(l/2+h*2,h,h,20,-90,-180),{x:-l/2-h,y:u/2},...ro(l/2,u/2,h,20,0,90),{x:-l/2,y:u/2+h},{x:l/2-h-h/2,y:u/2+h},...ro(-l/2+h+h/2,-u/2,h,20,-90,-180),{x:l/2-h/2,y:h},...ro(-l/2-h/2,-h,h,20,0,90),...ro(-l/2-h/2,h,h,20,-90,0),{x:l/2-h/2,y:-h},...ro(-l/2+h+h/2,u/2,h,30,-180,-270)],m=Or.svg(i),y=Fr(t,{fill:"none"});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=Xn(p).replace("Z",""),v=m.path(b,y),x=Xn(f).replace("Z",""),w=m.path(x,y),E=Xn(g),A=m.path(E,{...y}),N=i.insert("g",":first-child");return N.insert(()=>A,":first-child").attr("stroke-opacity",0),N.insert(()=>v,":first-child"),N.insert(()=>w,":first-child"),N.attr("class","text"),d&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",d),n&&t.look!=="handDrawn"&&N.selectAll("path").attr("style",n),N.attr("transform",`translate(${h-h/4}, 0)`),s.attr("transform",`translate(${-l/2+(t.padding??0)/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)/2-(a.y-(a.top??0))})`),qr(t,N),t.intersect=function(L){return Lr.polygon(t,g,L)},i}var eWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),o(ro,"generateCirclePoints"),o(dle,"curlyBraces")});async function ple(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=80,l=20,u=Math.max(s,(a.width+(t.padding??0)*2)*1.25,t?.width??0),h=Math.max(l,a.height+(t.padding??0)*2,t?.height??0),d=h/2,{cssStyles:p}=t,f=Or.svg(i),g=Fr(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=u,y=h,b=m-d,v=y/4,x=[{x:b,y:0},{x:v,y:0},{x:0,y:y/2},{x:v,y},{x:b,y},...nM(-b,-y/2,d,50,270,90)],w=Xn(x),E=f.path(w,g),A=i.insert(()=>E,":first-child");return A.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",p),n&&t.look!=="handDrawn"&&A.selectChildren("path").attr("style",n),A.attr("transform",`translate(${-u/2}, ${-h/2})`),qr(t,A),t.intersect=function(N){return Lr.polygon(t,x,N)},i}var tWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),o(ple,"curvedTrapezoid")});async function gle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=Math.max(a.width+t.padding,t.width??0),u=l/2,h=u/(2.5+l/50),d=Math.max(a.height+h+t.padding,t.height??0),p,{cssStyles:f}=t;if(t.look==="handDrawn"){let g=Or.svg(i),m=mle(0,0,l,d,u,h),y=yle(0,h,l,d,u,h),b=g.path(m,Fr(t,{})),v=g.path(y,Fr(t,{fill:"none"}));p=i.insert(()=>v,":first-child"),p=i.insert(()=>b,":first-child"),p.attr("class","basic label-container"),f&&p.attr("style",f)}else{let g=fle(0,0,l,d,u,h);p=i.insert("path",":first-child").attr("d",g).attr("class","basic label-container").attr("style",qo(f)).attr("style",n)}return p.attr("label-offset-y",h),p.attr("transform",`translate(${-l/2}, ${-(d/2+h)})`),qr(t,p),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+(t.padding??0)/1.5-(a.y-(a.top??0))})`),t.intersect=function(g){let m=Lr.rect(t,g),y=m.x-(t.x??0);if(u!=0&&(Math.abs(y)<(t.width??0)/2||Math.abs(y)==(t.width??0)/2&&Math.abs(m.y-(t.y??0))>(t.height??0)/2-h)){let b=h*h*(1-y*y/(u*u));b>0&&(b=Math.sqrt(b)),b=h-b,g.y-(t.y??0)>0&&(b=-b),m.y+=b}return m},i}var fle,mle,yle,rWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),kn(),fle=o((e,t,r,n,i,a)=>[`M${e},${t+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createCylinderPathD"),mle=o((e,t,r,n,i,a)=>[`M${e},${t+a}`,`M${e+r},${t+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`].join(" "),"createOuterCylinderPathD"),yle=o((e,t,r,n,i,a)=>[`M${e-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD"),o(gle,"cylinder")});async function vle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=a.width+t.padding,u=a.height+t.padding,h=u*.2,d=-l/2,p=-u/2-h/2,{cssStyles:f}=t,g=Or.svg(i),m=Fr(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=[{x:d,y:p+h},{x:-d,y:p+h},{x:-d,y:-p},{x:d,y:-p},{x:d,y:p},{x:-d,y:p},{x:-d,y:p+h}],b=g.polygon(y.map(x=>[x.x,x.y]),m),v=i.insert(()=>b,":first-child");return v.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),s.attr("transform",`translate(${d+(t.padding??0)/2-(a.x-(a.left??0))}, ${p+h+(t.padding??0)/2-(a.y-(a.top??0))})`),qr(t,v),t.intersect=function(x){return Lr.rect(t,x)},i}var nWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),o(vle,"dividedRectangle")});async function ble(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,halfPadding:s}=await ln(e,t,cn(t)),l=a.width/2+s+5,u=a.width/2+s,h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=Or.svg(i),f=Fr(t,{roughness:.2,strokeWidth:2.5}),g=Fr(t,{roughness:.2,strokeWidth:1.5}),m=p.circle(0,0,l*2,f),y=p.circle(0,0,u*2,g);h=i.insert("g",":first-child"),h.attr("class",qo(t.cssClasses)).attr("style",qo(d)),h.node()?.appendChild(m),h.node()?.appendChild(y)}else{h=i.insert("g",":first-child");let p=h.insert("circle",":first-child"),f=h.insert("circle");h.attr("class","basic label-container").attr("style",n),p.attr("class","outer-circle").attr("style",n).attr("r",l).attr("cx",0).attr("cy",0),f.attr("class","inner-circle").attr("style",n).attr("r",u).attr("cx",0).attr("cy",0)}return qr(t,h),t.intersect=function(p){return J.info("DoubleCircle intersect",t,l,p),Lr.circle(t,l,p)},i}var iWe=R(()=>{"use strict";We(),Sr(),Wr(),Xr(),Kr(),kn(),o(ble,"doublecircle")});function xle(e,t,{config:{themeVariables:r}}){let{labelStyles:n,nodeStyles:i}=jr(t);t.label="",t.labelStyle=n;let a=e.insert("g").attr("class",cn(t)).attr("id",t.domId??t.id),s=7,{cssStyles:l}=t,u=Or.svg(a),{nodeBorder:h}=r,d=Fr(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(d.roughness=0);let p=u.circle(0,0,s*2,d),f=a.insert(()=>p,":first-child");return f.selectAll("path").attr("style",`fill: ${h} !important;`),l&&l.length>0&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",l),i&&t.look!=="handDrawn"&&f.selectAll("path").attr("style",i),qr(t,f),t.intersect=function(g){return J.info("filledCircle intersect",t,{radius:s,point:g}),Lr.circle(t,s,g)},a}var aWe=R(()=>{"use strict";Kr(),We(),Wr(),Xr(),Sr(),o(xle,"filledCircle")});async function wle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=a.width+(t.padding??0),u=l+a.height,h=l+a.height,d=[{x:0,y:-u},{x:h,y:-u},{x:h/2,y:0}],{cssStyles:p}=t,f=Or.svg(i),g=Fr(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=Xn(d),y=f.path(m,g),b=i.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return p&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",p),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),t.width=l,t.height=u,qr(t,b),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-u/2+(t.padding??0)/2+(a.y-(a.top??0))})`),t.intersect=function(v){return J.info("Triangle intersect",t,d,v),Lr.polygon(t,d,v)},i}var sWe=R(()=>{"use strict";We(),Sr(),Wr(),Xr(),Kr(),Sr(),o(wle,"flippedTriangle")});function kle(e,t,{dir:r,config:{state:n,themeVariables:i}}){let{nodeStyles:a}=jr(t);t.label="";let s=e.insert("g").attr("class",cn(t)).attr("id",t.domId??t.id),{cssStyles:l}=t,u=Math.max(70,t?.width??0),h=Math.max(10,t?.height??0);r==="LR"&&(u=Math.max(10,t?.width??0),h=Math.max(70,t?.height??0));let d=-1*u/2,p=-1*h/2,f=Or.svg(s),g=Fr(t,{stroke:i.lineColor,fill:i.lineColor});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=f.rectangle(d,p,u,h,g),y=s.insert(()=>m,":first-child");l&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",l),a&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",a),qr(t,y);let b=n?.padding??0;return t.width&&t.height&&(t.width+=b/2||0,t.height+=b/2||0),t.intersect=function(v){return Lr.rect(t,v)},s}var oWe=R(()=>{"use strict";Kr(),Wr(),Xr(),Sr(),o(kle,"forkJoin")});async function Tle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let i=80,a=50,{shapeSvg:s,bbox:l}=await ln(e,t,cn(t)),u=Math.max(i,l.width+(t.padding??0)*2,t?.width??0),h=Math.max(a,l.height+(t.padding??0)*2,t?.height??0),d=h/2,{cssStyles:p}=t,f=Or.svg(s),g=Fr(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=[{x:-u/2,y:-h/2},{x:u/2-d,y:-h/2},...nM(-u/2+d,0,d,50,90,270),{x:u/2-d,y:h/2},{x:-u/2,y:h/2}],y=Xn(m),b=f.path(y,g),v=s.insert(()=>b,":first-child");return v.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",p),n&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),qr(t,v),t.intersect=function(x){return J.info("Pill intersect",t,{radius:d,point:x}),Lr.polygon(t,m,x)},s}var lWe=R(()=>{"use strict";We(),Sr(),Wr(),Xr(),Kr(),o(Tle,"halfRoundedRectangle")});async function Ele(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=4,l=a.height+t.padding,u=l/s,h=a.width+2*u+t.padding,d=[{x:u,y:0},{x:h-u,y:0},{x:h,y:-l/2},{x:h-u,y:-l},{x:u,y:-l},{x:0,y:-l/2}],p,{cssStyles:f}=t;if(t.look==="handDrawn"){let g=Or.svg(i),m=Fr(t,{}),y=Cle(0,0,h,l,u),b=g.path(y,m);p=i.insert(()=>b,":first-child").attr("transform",`translate(${-h/2}, ${l/2})`),f&&p.attr("style",f)}else p=Qh(i,h,l,d);return n&&p.attr("style",n),t.width=h,t.height=l,qr(t,p),t.intersect=function(g){return Lr.polygon(t,d,g)},i}var Cle,cWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),Od(),Cle=o((e,t,r,n,i)=>[`M${e+i},${t}`,`L${e+r-i},${t}`,`L${e+r},${t-n/2}`,`L${e+r-i},${t-n}`,`L${e+i},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" "),"createHexagonPathD"),o(Ele,"hexagon")});async function _le(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.label="",t.labelStyle=r;let{shapeSvg:i}=await ln(e,t,cn(t)),a=Math.max(30,t?.width??0),s=Math.max(30,t?.height??0),{cssStyles:l}=t,u=Or.svg(i),h=Fr(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let d=[{x:0,y:0},{x:a,y:0},{x:0,y:s},{x:a,y:s}],p=Xn(d),f=u.path(p,h),g=i.insert(()=>f,":first-child");return g.attr("class","basic label-container"),l&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",l),n&&t.look!=="handDrawn"&&g.selectChildren("path").attr("style",n),g.attr("transform",`translate(${-a/2}, ${-s/2})`),qr(t,g),t.intersect=function(m){return J.info("Pill intersect",t,{points:d}),Lr.polygon(t,d,m)},i}var uWe=R(()=>{"use strict";We(),Sr(),Wr(),Xr(),Kr(),o(_le,"hourglass")});async function Sle(e,t,{config:{themeVariables:r,flowchart:n}}){let{labelStyles:i}=jr(t);t.labelStyle=i;let a=t.assetHeight??48,s=t.assetWidth??48,l=Math.max(a,s),u=n?.wrappingWidth;t.width=Math.max(l,u??0);let{shapeSvg:h,bbox:d,label:p}=await ln(e,t,"icon-shape default"),f=t.pos==="t",g=l,m=l,{nodeBorder:y}=r,{stylesMap:b}=Ap(t),v=-m/2,x=-g/2,w=t.label?8:0,E=Or.svg(h),A=Fr(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");let N=E.rectangle(v,x,m,g,A),L=Math.max(m,d.width),C=g+d.height+w,D=E.rectangle(-L/2,-C/2,L,C,{...A,fill:"transparent",stroke:"none"}),P=h.insert(()=>N,":first-child"),O=h.insert(()=>D);if(t.icon){let I=h.append("g");I.html(`<g>${await Ye(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);let q=I.node().getBBox(),S=q.width,B=q.height,F=q.x,z=q.y;I.attr("transform",`translate(${-S/2-F},${f?d.height/2+w/2-B/2-z:-d.height/2-w/2-B/2-z})`),I.attr("style",`color: ${b.get("stroke")??y};`)}return p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${f?-C/2:C/2-d.height})`),P.attr("transform",`translate(0,${f?d.height/2+w/2:-d.height/2-w/2})`),qr(t,O),t.intersect=function(I){if(J.info("iconSquare intersect",t,I),!t.label)return Lr.rect(t,I);let q=t.x??0,S=t.y??0,B=t.height??0,F=[];return f?F=[{x:q-d.width/2,y:S-B/2},{x:q+d.width/2,y:S-B/2},{x:q+d.width/2,y:S-B/2+d.height+w},{x:q+m/2,y:S-B/2+d.height+w},{x:q+m/2,y:S+B/2},{x:q-m/2,y:S+B/2},{x:q-m/2,y:S-B/2+d.height+w},{x:q-d.width/2,y:S-B/2+d.height+w}]:F=[{x:q-m/2,y:S-B/2},{x:q+m/2,y:S-B/2},{x:q+m/2,y:S-B/2+g},{x:q+d.width/2,y:S-B/2+g},{x:q+d.width/2/2,y:S+B/2},{x:q-d.width/2,y:S+B/2},{x:q-d.width/2,y:S-B/2+g},{x:q-m/2,y:S-B/2+g}],Lr.polygon(t,F,I)},h}var hWe=R(()=>{"use strict";Kr(),We(),Pe(),Wr(),Xr(),Sr(),o(Sle,"icon")});async function Ale(e,t,{config:{themeVariables:r,flowchart:n}}){let{labelStyles:i}=jr(t);t.labelStyle=i;let a=t.assetHeight??48,s=t.assetWidth??48,l=Math.max(a,s),u=n?.wrappingWidth;t.width=Math.max(l,u??0);let{shapeSvg:h,bbox:d,label:p}=await ln(e,t,"icon-shape default"),f=20,g=t.label?8:0,m=t.pos==="t",{nodeBorder:y,mainBkg:b}=r,{stylesMap:v}=Ap(t),x=Or.svg(h),w=Fr(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");let E=v.get("fill");w.stroke=E??b;let A=h.append("g");t.icon&&A.html(`<g>${await Ye(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);let N=A.node().getBBox(),L=N.width,C=N.height,D=N.x,P=N.y,O=Math.max(L,C)*Math.SQRT2+f*2,I=x.circle(0,0,O,w),q=Math.max(O,d.width),S=O+d.height+g,B=x.rectangle(-q/2,-S/2,q,S,{...w,fill:"transparent",stroke:"none"}),F=h.insert(()=>I,":first-child"),z=h.insert(()=>B);return A.attr("transform",`translate(${-L/2-D},${m?d.height/2+g/2-C/2-P:-d.height/2-g/2-C/2-P})`),A.attr("style",`color: ${v.get("stroke")??y};`),p.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${m?-S/2:S/2-d.height})`),F.attr("transform",`translate(0,${m?d.height/2+g/2:-d.height/2-g/2})`),qr(t,z),t.intersect=function(M){return J.info("iconSquare intersect",t,M),Lr.rect(t,M)},h}var dWe=R(()=>{"use strict";Kr(),We(),Pe(),Wr(),Xr(),Sr(),o(Ale,"iconCircle")}),th,Np=R(()=>{"use strict";th=o((e,t,r,n,i)=>["M",e+i,t,"H",e+r-i,"A",i,i,0,0,1,e+r,t+i,"V",t+n-i,"A",i,i,0,0,1,e+r-i,t+n,"H",e+i,"A",i,i,0,0,1,e,t+n-i,"V",t+i,"A",i,i,0,0,1,e+i,t,"Z"].join(" "),"createRoundedRectPathD")});async function Lle(e,t,{config:{themeVariables:r,flowchart:n}}){let{labelStyles:i}=jr(t);t.labelStyle=i;let a=t.assetHeight??48,s=t.assetWidth??48,l=Math.max(a,s),u=n?.wrappingWidth;t.width=Math.max(l,u??0);let{shapeSvg:h,bbox:d,halfPadding:p,label:f}=await ln(e,t,"icon-shape default"),g=t.pos==="t",m=l+p*2,y=l+p*2,{nodeBorder:b,mainBkg:v}=r,{stylesMap:x}=Ap(t),w=-y/2,E=-m/2,A=t.label?8:0,N=Or.svg(h),L=Fr(t,{});t.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");let C=x.get("fill");L.stroke=C??v;let D=N.path(th(w,E,y,m,5),L),P=Math.max(y,d.width),O=m+d.height+A,I=N.rectangle(-P/2,-O/2,P,O,{...L,fill:"transparent",stroke:"none"}),q=h.insert(()=>D,":first-child").attr("class","icon-shape2"),S=h.insert(()=>I);if(t.icon){let B=h.append("g");B.html(`<g>${await Ye(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);let F=B.node().getBBox(),z=F.width,M=F.height,G=F.x,Y=F.y;B.attr("transform",`translate(${-z/2-G},${g?d.height/2+A/2-M/2-Y:-d.height/2-A/2-M/2-Y})`),B.attr("style",`color: ${x.get("stroke")??b};`)}return f.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${g?-O/2:O/2-d.height})`),q.attr("transform",`translate(0,${g?d.height/2+A/2:-d.height/2-A/2})`),qr(t,S),t.intersect=function(B){if(J.info("iconSquare intersect",t,B),!t.label)return Lr.rect(t,B);let F=t.x??0,z=t.y??0,M=t.height??0,G=[];return g?G=[{x:F-d.width/2,y:z-M/2},{x:F+d.width/2,y:z-M/2},{x:F+d.width/2,y:z-M/2+d.height+A},{x:F+y/2,y:z-M/2+d.height+A},{x:F+y/2,y:z+M/2},{x:F-y/2,y:z+M/2},{x:F-y/2,y:z-M/2+d.height+A},{x:F-d.width/2,y:z-M/2+d.height+A}]:G=[{x:F-y/2,y:z-M/2},{x:F+y/2,y:z-M/2},{x:F+y/2,y:z-M/2+m},{x:F+d.width/2,y:z-M/2+m},{x:F+d.width/2/2,y:z+M/2},{x:F-d.width/2,y:z+M/2},{x:F-d.width/2,y:z-M/2+m},{x:F-y/2,y:z-M/2+m}],Lr.polygon(t,G,B)},h}var pWe=R(()=>{"use strict";Kr(),We(),Pe(),Wr(),Xr(),Np(),Sr(),o(Lle,"iconRounded")});async function Nle(e,t,{config:{themeVariables:r,flowchart:n}}){let{labelStyles:i}=jr(t);t.labelStyle=i;let a=t.assetHeight??48,s=t.assetWidth??48,l=Math.max(a,s),u=n?.wrappingWidth;t.width=Math.max(l,u??0);let{shapeSvg:h,bbox:d,halfPadding:p,label:f}=await ln(e,t,"icon-shape default"),g=t.pos==="t",m=l+p*2,y=l+p*2,{nodeBorder:b,mainBkg:v}=r,{stylesMap:x}=Ap(t),w=-y/2,E=-m/2,A=t.label?8:0,N=Or.svg(h),L=Fr(t,{});t.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");let C=x.get("fill");L.stroke=C??v;let D=N.path(th(w,E,y,m,.1),L),P=Math.max(y,d.width),O=m+d.height+A,I=N.rectangle(-P/2,-O/2,P,O,{...L,fill:"transparent",stroke:"none"}),q=h.insert(()=>D,":first-child"),S=h.insert(()=>I);if(t.icon){let B=h.append("g");B.html(`<g>${await Ye(t.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);let F=B.node().getBBox(),z=F.width,M=F.height,G=F.x,Y=F.y;B.attr("transform",`translate(${-z/2-G},${g?d.height/2+A/2-M/2-Y:-d.height/2-A/2-M/2-Y})`),B.attr("style",`color: ${x.get("stroke")??b};`)}return f.attr("transform",`translate(${-d.width/2-(d.x-(d.left??0))},${g?-O/2:O/2-d.height})`),q.attr("transform",`translate(0,${g?d.height/2+A/2:-d.height/2-A/2})`),qr(t,S),t.intersect=function(B){if(J.info("iconSquare intersect",t,B),!t.label)return Lr.rect(t,B);let F=t.x??0,z=t.y??0,M=t.height??0,G=[];return g?G=[{x:F-d.width/2,y:z-M/2},{x:F+d.width/2,y:z-M/2},{x:F+d.width/2,y:z-M/2+d.height+A},{x:F+y/2,y:z-M/2+d.height+A},{x:F+y/2,y:z+M/2},{x:F-y/2,y:z+M/2},{x:F-y/2,y:z-M/2+d.height+A},{x:F-d.width/2,y:z-M/2+d.height+A}]:G=[{x:F-y/2,y:z-M/2},{x:F+y/2,y:z-M/2},{x:F+y/2,y:z-M/2+m},{x:F+d.width/2,y:z-M/2+m},{x:F+d.width/2/2,y:z+M/2},{x:F-d.width/2,y:z+M/2},{x:F-d.width/2,y:z-M/2+m},{x:F-y/2,y:z-M/2+m}],Lr.polygon(t,G,B)},h}var gWe=R(()=>{"use strict";Kr(),We(),Pe(),Wr(),Np(),Xr(),Sr(),o(Nle,"iconSquare")});async function Mle(e,t,{config:{flowchart:r}}){let n=new Image;n.src=t?.img??"",await n.decode();let i=Number(n.naturalWidth.toString().replace("px","")),a=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=i/a;let{labelStyles:s}=jr(t);t.labelStyle=s;let l=r?.wrappingWidth;t.defaultWidth=r?.wrappingWidth;let u=Math.max(t.label?l??0:0,t?.assetWidth??i),h=t.constraint==="on"&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:u,d=t.constraint==="on"?h/t.imageAspectRatio:t?.assetHeight??a;t.width=Math.max(h,l??0);let{shapeSvg:p,bbox:f,label:g}=await ln(e,t,"image-shape default"),m=t.pos==="t",y=-h/2,b=-d/2,v=t.label?8:0,x=Or.svg(p),w=Fr(t,{});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");let E=x.rectangle(y,b,h,d,w),A=Math.max(h,f.width),N=d+f.height+v,L=x.rectangle(-A/2,-N/2,A,N,{...w,fill:"none",stroke:"none"}),C=p.insert(()=>E,":first-child"),D=p.insert(()=>L);if(t.img){let P=p.append("image");P.attr("href",t.img),P.attr("width",h),P.attr("height",d),P.attr("preserveAspectRatio","none"),P.attr("transform",`translate(${-h/2},${m?N/2-d:-N/2})`)}return g.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${m?-d/2-f.height/2-v/2:d/2-f.height/2+v/2})`),C.attr("transform",`translate(0,${m?f.height/2+v/2:-f.height/2-v/2})`),qr(t,D),t.intersect=function(P){if(J.info("iconSquare intersect",t,P),!t.label)return Lr.rect(t,P);let O=t.x??0,I=t.y??0,q=t.height??0,S=[];return m?S=[{x:O-f.width/2,y:I-q/2},{x:O+f.width/2,y:I-q/2},{x:O+f.width/2,y:I-q/2+f.height+v},{x:O+h/2,y:I-q/2+f.height+v},{x:O+h/2,y:I+q/2},{x:O-h/2,y:I+q/2},{x:O-h/2,y:I-q/2+f.height+v},{x:O-f.width/2,y:I-q/2+f.height+v}]:S=[{x:O-h/2,y:I-q/2},{x:O+h/2,y:I-q/2},{x:O+h/2,y:I-q/2+d},{x:O+f.width/2,y:I-q/2+d},{x:O+f.width/2/2,y:I+q/2},{x:O-f.width/2,y:I+q/2},{x:O-f.width/2,y:I-q/2+d},{x:O-h/2,y:I-q/2+d}],Lr.polygon(t,S,P)},p}var fWe=R(()=>{"use strict";Kr(),We(),Wr(),Xr(),Sr(),o(Mle,"imageSquare")});async function Ile(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=Math.max(a.width+(t.padding??0)*2,t?.width??0),l=Math.max(a.height+(t.padding??0)*2,t?.height??0),u=[{x:0,y:0},{x:s,y:0},{x:s+3*l/6,y:-l},{x:-3*l/6,y:-l}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=Or.svg(i),f=Fr(t,{}),g=Xn(u),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${l/2})`),d&&h.attr("style",d)}else h=Qh(i,s,l,u);return n&&h.attr("style",n),t.width=s,t.height=l,qr(t,h),t.intersect=function(p){return Lr.polygon(t,u,p)},i}var mWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),Od(),o(Ile,"inv_trapezoid")});async function b8(e,t,r){let{labelStyles:n,nodeStyles:i}=jr(t);t.labelStyle=n;let{shapeSvg:a,bbox:s}=await ln(e,t,cn(t)),l=Math.max(s.width+r.labelPaddingX*2,t?.width||0),u=Math.max(s.height+r.labelPaddingY*2,t?.height||0),h=-l/2,d=-u/2,p,{rx:f,ry:g}=t,{cssStyles:m}=t;if(r?.rx&&r.ry&&(f=r.rx,g=r.ry),t.look==="handDrawn"){let y=Or.svg(a),b=Fr(t,{}),v=f||g?y.path(th(h,d,l,u,f||0),b):y.rectangle(h,d,l,u,b);p=a.insert(()=>v,":first-child"),p.attr("class","basic label-container").attr("style",qo(m))}else p=a.insert("rect",":first-child"),p.attr("class","basic label-container").attr("style",i).attr("rx",qo(f)).attr("ry",qo(g)).attr("x",h).attr("y",d).attr("width",l).attr("height",u);return qr(t,p),t.intersect=function(y){return Lr.rect(t,y)},a}var x8=R(()=>{"use strict";Sr(),Wr(),Np(),Xr(),Kr(),kn(),o(b8,"drawRect")});async function Dle(e,t){let{shapeSvg:r,bbox:n,label:i}=await ln(e,t,"label"),a=r.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(n.width/2)-(n.x-(n.left??0))}, ${-(n.height/2)-(n.y-(n.top??0))})`),qr(t,a),t.intersect=function(s){return Lr.rect(t,s)},r}var yWe=R(()=>{"use strict";x8(),Sr(),Wr(),o(Dle,"labelRect")});async function Rle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=Math.max(a.width+(t.padding??0),t?.width??0),l=Math.max(a.height+(t.padding??0),t?.height??0),u=[{x:0,y:0},{x:s+3*l/6,y:0},{x:s,y:-l},{x:-(3*l)/6,y:-l}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=Or.svg(i),f=Fr(t,{}),g=Xn(u),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${l/2})`),d&&h.attr("style",d)}else h=Qh(i,s,l,u);return n&&h.attr("style",n),t.width=s,t.height=l,qr(t,h),t.intersect=function(p){return Lr.polygon(t,u,p)},i}var vWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),Od(),o(Rle,"lean_left")});async function Ole(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=Math.max(a.width+(t.padding??0),t?.width??0),l=Math.max(a.height+(t.padding??0),t?.height??0),u=[{x:-3*l/6,y:0},{x:s,y:0},{x:s+3*l/6,y:-l},{x:0,y:-l}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=Or.svg(i),f=Fr(t,{}),g=Xn(u),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${l/2})`),d&&h.attr("style",d)}else h=Qh(i,s,l,u);return n&&h.attr("style",n),t.width=s,t.height=l,qr(t,h),t.intersect=function(p){return Lr.polygon(t,u,p)},i}var bWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),Od(),o(Ole,"lean_right")});function Ple(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.label="",t.labelStyle=r;let i=e.insert("g").attr("class",cn(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,s=Math.max(35,t?.width??0),l=Math.max(35,t?.height??0),u=7,h=[{x:s,y:0},{x:0,y:l+u/2},{x:s-2*u,y:l+u/2},{x:0,y:2*l},{x:s,y:l-u/2},{x:2*u,y:l-u/2}],d=Or.svg(i),p=Fr(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let f=Xn(h),g=d.path(f,p),m=i.insert(()=>g,":first-child");return a&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",a),n&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",n),m.attr("transform",`translate(-${s/2},${-l})`),qr(t,m),t.intersect=function(y){return J.info("lightningBolt intersect",t,y),Lr.polygon(t,h,y)},i}var xWe=R(()=>{"use strict";We(),Sr(),Xr(),Kr(),Wr(),Sr(),o(Ple,"lightningBolt")});async function Ble(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=Math.max(a.width+(t.padding??0),t.width??0),u=l/2,h=u/(2.5+l/50),d=Math.max(a.height+h+(t.padding??0),t.height??0),p=d*.1,f,{cssStyles:g}=t;if(t.look==="handDrawn"){let m=Or.svg(i),y=$le(0,0,l,d,u,h,p),b=zle(0,h,l,d,u,h),v=Fr(t,{}),x=m.path(y,v),w=m.path(b,v);i.insert(()=>w,":first-child").attr("class","line"),f=i.insert(()=>x,":first-child"),f.attr("class","basic label-container"),g&&f.attr("style",g)}else{let m=Fle(0,0,l,d,u,h,p);f=i.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",qo(g)).attr("style",n)}return f.attr("label-offset-y",h),f.attr("transform",`translate(${-l/2}, ${-(d/2+h)})`),qr(t,f),s.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+h-(a.y-(a.top??0))})`),t.intersect=function(m){let y=Lr.rect(t,m),b=y.x-(t.x??0);if(u!=0&&(Math.abs(b)<(t.width??0)/2||Math.abs(b)==(t.width??0)/2&&Math.abs(y.y-(t.y??0))>(t.height??0)/2-h)){let v=h*h*(1-b*b/(u*u));v>0&&(v=Math.sqrt(v)),v=h-v,m.y-(t.y??0)>0&&(v=-v),y.y+=v}return y},i}var Fle,$le,zle,wWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),kn(),Fle=o((e,t,r,n,i,a,s)=>[`M${e},${t+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),$le=o((e,t,r,n,i,a,s)=>[`M${e},${t+a}`,`M${e+r},${t+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,`l0,${-n}`,`M${e},${t+a+s}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),zle=o((e,t,r,n,i,a)=>[`M${e-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD"),o(Ble,"linedCylinder")});async function qle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/4,d=u+h,{cssStyles:p}=t,f=Or.svg(i),g=Fr(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=[{x:-l/2-l/2*.1,y:-d/2},{x:-l/2-l/2*.1,y:d/2},...Dd(-l/2-l/2*.1,d/2,l/2+l/2*.1,d/2,h,.8),{x:l/2+l/2*.1,y:-d/2},{x:-l/2-l/2*.1,y:-d/2},{x:-l/2,y:-d/2},{x:-l/2,y:d/2*1.1},{x:-l/2,y:-d/2}],y=f.polygon(m.map(v=>[v.x,v.y]),g),b=i.insert(()=>y,":first-child");return b.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",n),b.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-l/2+(t.padding??0)+l/2*.1/2-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h/2-(a.y-(a.top??0))})`),qr(t,b),t.intersect=function(v){return Lr.polygon(t,m,v)},i}var kWe=R(()=>{"use strict";Sr(),Wr(),Kr(),Xr(),o(qle,"linedWaveEdgedRect")});async function Gle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=5,d=-l/2,p=-u/2,{cssStyles:f}=t,g=Or.svg(i),m=Fr(t,{}),y=[{x:d-h,y:p+h},{x:d-h,y:p+u+h},{x:d+l-h,y:p+u+h},{x:d+l-h,y:p+u},{x:d+l,y:p+u},{x:d+l,y:p+u-h},{x:d+l+h,y:p+u-h},{x:d+l+h,y:p-h},{x:d+h,y:p-h},{x:d+h,y:p},{x:d,y:p},{x:d,y:p+h}],b=[{x:d,y:p+h},{x:d+l-h,y:p+h},{x:d+l-h,y:p+u},{x:d+l,y:p+u},{x:d+l,y:p},{x:d,y:p}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let v=Xn(y),x=g.path(v,m),w=Xn(b),E=g.path(w,{...m,fill:"none"}),A=i.insert(()=>E,":first-child");return A.insert(()=>x,":first-child"),A.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",n),s.attr("transform",`translate(${-(a.width/2)-h-(a.x-(a.left??0))}, ${-(a.height/2)+h-(a.y-(a.top??0))})`),qr(t,A),t.intersect=function(N){return Lr.polygon(t,y,N)},i}var TWe=R(()=>{"use strict";Sr(),Xr(),Kr(),Wr(),o(Gle,"multiRect")});async function Yle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/4,d=u+h,p=-l/2,f=-d/2,g=5,{cssStyles:m}=t,y=Dd(p-g,f+d+g,p+l-g,f+d+g,h,.8),b=y?.[y.length-1],v=[{x:p-g,y:f+g},{x:p-g,y:f+d+g},...y,{x:p+l-g,y:b.y-g},{x:p+l,y:b.y-g},{x:p+l,y:b.y-2*g},{x:p+l+g,y:b.y-2*g},{x:p+l+g,y:f-g},{x:p+g,y:f-g},{x:p+g,y:f},{x:p,y:f},{x:p,y:f+g}],x=[{x:p,y:f+g},{x:p+l-g,y:f+g},{x:p+l-g,y:b.y-g},{x:p+l,y:b.y-g},{x:p+l,y:f},{x:p,y:f}],w=Or.svg(i),E=Fr(t,{});t.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");let A=Xn(v),N=w.path(A,E),L=Xn(x),C=w.path(L,E),D=i.insert(()=>N,":first-child");return D.insert(()=>C),D.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",m),n&&t.look!=="handDrawn"&&D.selectAll("path").attr("style",n),D.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-(a.width/2)-g-(a.x-(a.left??0))}, ${-(a.height/2)+g-h/2-(a.y-(a.top??0))})`),qr(t,D),t.intersect=function(P){return Lr.polygon(t,v,P)},i}var EWe=R(()=>{"use strict";Sr(),Wr(),Kr(),Xr(),o(Yle,"multiWaveEdgedRectangle")});async function jle(e,t,{config:{themeVariables:r}}){let{labelStyles:n,nodeStyles:i}=jr(t);t.labelStyle=n,t.useHtmlLabels||Ni().flowchart?.htmlLabels!==!1||(t.centerLabel=!0);let{shapeSvg:a,bbox:s}=await ln(e,t,cn(t)),l=Math.max(s.width+(t.padding??0)*2,t?.width??0),u=Math.max(s.height+(t.padding??0)*2,t?.height??0),h=-l/2,d=-u/2,{cssStyles:p}=t,f=Or.svg(a),g=Fr(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=f.rectangle(h,d,l,u,g),y=a.insert(()=>m,":first-child");return y.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",i),qr(t,y),t.intersect=function(b){return Lr.rect(t,b)},a}var CWe=R(()=>{"use strict";Kr(),Wr(),Xr(),Sr(),wo(),o(jle,"note")});async function Hle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=a.width+t.padding,l=a.height+t.padding,u=s+l,h=[{x:u/2,y:0},{x:u,y:-u/2},{x:u/2,y:-u},{x:0,y:-u/2}],d,{cssStyles:p}=t;if(t.look==="handDrawn"){let f=Or.svg(i),g=Fr(t,{}),m=Ule(0,0,u),y=f.path(m,g);d=i.insert(()=>y,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`),p&&d.attr("style",p)}else d=Qh(i,u,u,h);return n&&d.attr("style",n),qr(t,d),t.intersect=function(f){return J.debug(`APA12 Intersect called SPLIT
point:`,f,`
node:
`,t,`
res:`,Lr.polygon(t,h,f)),Lr.polygon(t,h,f)},i}var Ule,_We=R(()=>{"use strict";We(),Sr(),Wr(),Xr(),Kr(),Od(),Ule=o((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD"),o(Hle,"question")});async function Vle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=Math.max(a.width+(t.padding??0),t?.width??0),u=Math.max(a.height+(t.padding??0),t?.height??0),h=-l/2,d=-u/2,p=d/2,f=[{x:h+p,y:d},{x:h,y:0},{x:h+p,y:-d},{x:-h,y:-d},{x:-h,y:d}],{cssStyles:g}=t,m=Or.svg(i),y=Fr(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=Xn(f),v=m.path(b,y),x=i.insert(()=>v,":first-child");return x.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),x.attr("transform",`translate(${-p/2},0)`),s.attr("transform",`translate(${-p/2-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),qr(t,x),t.intersect=function(w){return Lr.polygon(t,f,w)},i}var SWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),o(Vle,"rect_left_inv_arrow")});function Wle(e,t){t&&e.attr("style",t)}async function Xle(e){let t=Bt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=e.label;e.label&&Zs(e.label)&&(n=await If(e.label.replace(Yt.lineBreakRegex,`
`),Ge()));let i=e.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+i+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>"),Wle(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}var Kle,Pd,wM=R(()=>{"use strict";Ln(),We(),zr(),En(),kn(),o(Wle,"applyStyle"),o(Xle,"addHtmlLabel"),Kle=o(async(e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),Ii(Ge().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),J.info("vertexText"+i);let a={isNode:n,label:Ju(i).replace(/fa[blrs]?:fa-[\w-]+/g,s=>`<i class='${s.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return await Xle(a)}else{let a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",t.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(let l of s){let u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=l.trim(),a.appendChild(u)}return a}},"createLabel"),Pd=Kle});async function Zle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let i;t.cssClasses?i="node "+t.cssClasses:i="node default";let a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),s=a.insert("g"),l=a.insert("g").attr("class","label").attr("style",n),u=t.description,h=t.label,d=l.node().appendChild(await Pd(h,t.labelStyle,!0,!0)),p={width:0,height:0};if(Ii(Ge()?.flowchart?.htmlLabels)){let C=d.children[0],D=Bt(d);p=C.getBoundingClientRect(),D.attr("width",p.width),D.attr("height",p.height)}J.info("Text 2",u);let f=u||[],g=d.getBBox(),m=l.node().appendChild(await Pd(f.join?f.join("<br/>"):f,t.labelStyle,!0,!0)),y=m.children[0],b=Bt(m);p=y.getBoundingClientRect(),b.attr("width",p.width),b.attr("height",p.height);let v=(t.padding||0)/2;Bt(m).attr("transform","translate( "+(p.width>g.width?0:(g.width-p.width)/2)+", "+(g.height+v+5)+")"),Bt(d).attr("transform","translate( "+(p.width<g.width?0:-(g.width-p.width)/2)+", 0)"),p=l.node().getBBox(),l.attr("transform","translate("+-p.width/2+", "+(-p.height/2-v+3)+")");let x=p.width+(t.padding||0),w=p.height+(t.padding||0),E=-p.width/2-v,A=-p.height/2-v,N,L;if(t.look==="handDrawn"){let C=Or.svg(a),D=Fr(t,{}),P=C.path(th(E,A,x,w,t.rx||0),D),O=C.line(-p.width/2-v,-p.height/2-v+g.height+v,p.width/2+v,-p.height/2-v+g.height+v,D);L=a.insert(()=>(J.debug("Rough node insert CXC",P),O),":first-child"),N=a.insert(()=>(J.debug("Rough node insert CXC",P),P),":first-child")}else N=s.insert("rect",":first-child"),L=s.insert("line"),N.attr("class","outer title-state").attr("style",n).attr("x",-p.width/2-v).attr("y",-p.height/2-v).attr("width",p.width+(t.padding||0)).attr("height",p.height+(t.padding||0)),L.attr("class","divider").attr("x1",-p.width/2-v).attr("x2",p.width/2+v).attr("y1",-p.height/2-v+g.height+v).attr("y2",-p.height/2-v+g.height+v);return qr(t,N),t.intersect=function(C){return Lr.rect(t,C)},a}var AWe=R(()=>{"use strict";Ln(),En(),Sr(),wM(),Wr(),Xr(),Kr(),zr(),Np(),We(),o(Zle,"rectWithTitle")});async function Qle(e,t){let r={rx:5,ry:5,classes:"",labelPaddingX:(t?.padding||0)*1,labelPaddingY:(t?.padding||0)*1};return b8(e,t,r)}var LWe=R(()=>{"use strict";x8(),o(Qle,"roundedRect")});async function Jle(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=t?.padding??0,u=Math.max(a.width+(t.padding??0)*2,t?.width??0),h=Math.max(a.height+(t.padding??0)*2,t?.height??0),d=-a.width/2-l,p=-a.height/2-l,{cssStyles:f}=t,g=Or.svg(i),m=Fr(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=[{x:d,y:p},{x:d+u+8,y:p},{x:d+u+8,y:p+h},{x:d-8,y:p+h},{x:d-8,y:p},{x:d,y:p},{x:d,y:p+h}],b=g.polygon(y.map(x=>[x.x,x.y]),m),v=i.insert(()=>b,":first-child");return v.attr("class","basic label-container").attr("style",qo(f)),n&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),f&&t.look!=="handDrawn"&&v.selectAll("path").attr("style",n),s.attr("transform",`translate(${-u/2+4+(t.padding??0)-(a.x-(a.left??0))},${-h/2+(t.padding??0)-(a.y-(a.top??0))})`),qr(t,v),t.intersect=function(x){return Lr.rect(t,x)},i}var NWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),kn(),o(Jle,"shadedProcess")});async function ece(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=-l/2,d=-u/2,{cssStyles:p}=t,f=Or.svg(i),g=Fr(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let m=[{x:h,y:d},{x:h,y:d+u},{x:h+l,y:d+u},{x:h+l,y:d-u/2}],y=Xn(m),b=f.path(y,g),v=i.insert(()=>b,":first-child");return v.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",p),n&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),v.attr("transform",`translate(0, ${u/4})`),s.attr("transform",`translate(${-l/2+(t.padding??0)-(a.x-(a.left??0))}, ${-u/4+(t.padding??0)-(a.y-(a.top??0))})`),qr(t,v),t.intersect=function(x){return Lr.polygon(t,m,x)},i}var MWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),o(ece,"slopedRect")});async function tce(e,t){let r={rx:0,ry:0,classes:"",labelPaddingX:(t?.padding||0)*2,labelPaddingY:(t?.padding||0)*1};return b8(e,t,r)}var IWe=R(()=>{"use strict";x8(),o(tce,"squareRect")});async function rce(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=a.height+t.padding,l=a.width+s/4+t.padding,u,{cssStyles:h}=t;if(t.look==="handDrawn"){let d=Or.svg(i),p=Fr(t,{}),f=th(-l/2,-s/2,l,s,s/2),g=d.path(f,p);u=i.insert(()=>g,":first-child"),u.attr("class","basic label-container").attr("style",qo(h))}else u=i.insert("rect",":first-child"),u.attr("class","basic label-container").attr("style",n).attr("rx",s/2).attr("ry",s/2).attr("x",-l/2).attr("y",-s/2).attr("width",l).attr("height",s);return qr(t,u),t.intersect=function(d){return Lr.rect(t,d)},i}var DWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),Np(),kn(),o(rce,"stadium")});async function nce(e,t){return b8(e,t,{rx:5,ry:5,classes:"flowchart-node"})}var RWe=R(()=>{"use strict";x8(),o(nce,"state")});function ice(e,t,{config:{themeVariables:r}}){let{labelStyles:n,nodeStyles:i}=jr(t);t.labelStyle=n;let{cssStyles:a}=t,{lineColor:s,stateBorder:l,nodeBorder:u}=r,h=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),d=Or.svg(h),p=Fr(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let f=d.circle(0,0,14,{...p,stroke:s,strokeWidth:2}),g=l??u,m=d.circle(0,0,5,{...p,fill:g,stroke:g,strokeWidth:2,fillStyle:"solid"}),y=h.insert(()=>f,":first-child");return y.insert(()=>m),a&&y.selectAll("path").attr("style",a),i&&y.selectAll("path").attr("style",i),qr(t,y),t.intersect=function(b){return Lr.circle(t,7,b)},h}var OWe=R(()=>{"use strict";Kr(),Wr(),Xr(),Sr(),o(ice,"stateEnd")});function ace(e,t,{config:{themeVariables:r}}){let{lineColor:n}=r,i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),a;if(t.look==="handDrawn"){let s=Or.svg(i).circle(0,0,14,$oe(n));a=i.insert(()=>s),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=i.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return qr(t,a),t.intersect=function(s){return Lr.circle(t,7,s)},i}var PWe=R(()=>{"use strict";Kr(),Wr(),Xr(),Sr(),o(ace,"stateStart")});async function sce(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=(t?.padding||0)/2,l=a.width+t.padding,u=a.height+t.padding,h=-a.width/2-s,d=-a.height/2-s,p=[{x:0,y:0},{x:l,y:0},{x:l,y:-u},{x:0,y:-u},{x:0,y:0},{x:-8,y:0},{x:l+8,y:0},{x:l+8,y:-u},{x:-8,y:-u},{x:-8,y:0}];if(t.look==="handDrawn"){let f=Or.svg(i),g=Fr(t,{}),m=f.rectangle(h-8,d,l+16,u,g),y=f.line(h,d,h,d+u,g),b=f.line(h+l,d,h+l,d+u,g);i.insert(()=>y,":first-child"),i.insert(()=>b,":first-child");let v=i.insert(()=>m,":first-child"),{cssStyles:x}=t;v.attr("class","basic label-container").attr("style",qo(x)),qr(t,v)}else{let f=Qh(i,l,u,p);n&&f.attr("style",n),qr(t,f)}return t.intersect=function(f){return Lr.polygon(t,p,f)},i}var BWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),Od(),kn(),o(sce,"subroutine")});async function oce(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=Math.max(a.width+(t.padding??0)*2,t?.width??0),l=Math.max(a.height+(t.padding??0)*2,t?.height??0),u=-s/2,h=-l/2,d=.2*l,p=.2*l,{cssStyles:f}=t,g=Or.svg(i),m=Fr(t,{}),y=[{x:u-d/2,y:h},{x:u+s+d/2,y:h},{x:u+s+d/2,y:h+l},{x:u-d/2,y:h+l}],b=[{x:u+s-d/2,y:h+l},{x:u+s+d/2,y:h+l},{x:u+s+d/2,y:h+l-p}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let v=Xn(y),x=g.path(v,m),w=Xn(b),E=g.path(w,{...m,fillStyle:"solid"}),A=i.insert(()=>E,":first-child");return A.insert(()=>x,":first-child"),A.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",n),qr(t,A),t.intersect=function(N){return Lr.polygon(t,y,N)},i}var FWe=R(()=>{"use strict";Sr(),Xr(),Kr(),Wr(),o(oce,"taggedRect")});async function lce(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/4,d=.2*l,p=.2*u,f=u+h,{cssStyles:g}=t,m=Or.svg(i),y=Fr(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=[{x:-l/2-l/2*.1,y:f/2},...Dd(-l/2-l/2*.1,f/2,l/2+l/2*.1,f/2,h,.8),{x:l/2+l/2*.1,y:-f/2},{x:-l/2-l/2*.1,y:-f/2}],v=-l/2+l/2*.1,x=-f/2-p*.4,w=[{x:v+l-d,y:(x+u)*1.4},{x:v+l,y:x+u-p},{x:v+l,y:(x+u)*.9},...Dd(v+l,(x+u)*1.3,v+l-d,(x+u)*1.5,-u*.03,.5)],E=Xn(b),A=m.path(E,y),N=Xn(w),L=m.path(N,{...y,fillStyle:"solid"}),C=i.insert(()=>L,":first-child");return C.insert(()=>A,":first-child"),C.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",g),n&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",n),C.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-l/2+(t.padding??0)-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h/2-(a.y-(a.top??0))})`),qr(t,C),t.intersect=function(D){return Lr.polygon(t,b,D)},i}var $We=R(()=>{"use strict";Sr(),Wr(),Kr(),Xr(),o(lce,"taggedWaveEdgedRectangle")});async function cce(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=Math.max(a.width+t.padding,t?.width||0),l=Math.max(a.height+t.padding,t?.height||0),u=-s/2,h=-l/2,d=i.insert("rect",":first-child");return d.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",u).attr("y",h).attr("width",s).attr("height",l),qr(t,d),t.intersect=function(p){return Lr.rect(t,p)},i}var zWe=R(()=>{"use strict";Sr(),Wr(),Xr(),o(cce,"text")});async function uce(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s,halfPadding:l}=await ln(e,t,cn(t)),u=t.look==="neo"?l*2:l,h=a.height+u,d=h/2,p=d/(2.5+h/50),f=a.width+p+u,{cssStyles:g}=t,m;if(t.look==="handDrawn"){let y=Or.svg(i),b=dce(0,0,f,h,p,d),v=pce(0,0,f,h,p,d),x=y.path(b,Fr(t,{})),w=y.path(v,Fr(t,{fill:"none"}));m=i.insert(()=>w,":first-child"),m=i.insert(()=>x,":first-child"),m.attr("class","basic label-container"),g&&m.attr("style",g)}else{let y=hce(0,0,f,h,p,d);m=i.insert("path",":first-child").attr("d",y).attr("class","basic label-container").attr("style",qo(g)).attr("style",n),m.attr("class","basic label-container"),g&&m.selectAll("path").attr("style",g),n&&m.selectAll("path").attr("style",n)}return m.attr("label-offset-x",p),m.attr("transform",`translate(${-f/2}, ${h/2} )`),s.attr("transform",`translate(${-(a.width/2)-p-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),qr(t,m),t.intersect=function(y){let b=Lr.rect(t,y),v=b.y-(t.y??0);if(d!=0&&(Math.abs(v)<(t.height??0)/2||Math.abs(v)==(t.height??0)/2&&Math.abs(b.x-(t.x??0))>(t.width??0)/2-p)){let x=p*p*(1-v*v/(d*d));x!=0&&(x=Math.sqrt(Math.abs(x))),x=p-x,y.x-(t.x??0)>0&&(x=-x),b.x+=x}return b},i}var hce,dce,pce,qWe=R(()=>{"use strict";Sr(),Xr(),Kr(),Wr(),kn(),hce=o((e,t,r,n,i,a)=>`M${e},${t}
    a${i},${a} 0,0,1 0,${-n}
    l${r},0
    a${i},${a} 0,0,1 0,${n}
    M${r},${-n}
    a${i},${a} 0,0,0 0,${n}
    l${-r},0`,"createCylinderPathD"),dce=o((e,t,r,n,i,a)=>[`M${e},${t}`,`M${e+r},${t}`,`a${i},${a} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${a} 0,0,0 0,${n}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),pce=o((e,t,r,n,i,a)=>[`M${e+r/2},${-n/2}`,`a${i},${a} 0,0,0 0,${n}`].join(" "),"createInnerCylinderPathD"),o(uce,"tiltedCylinder")});async function gce(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=a.width+t.padding,l=a.height+t.padding,u=[{x:-3*l/6,y:0},{x:s+3*l/6,y:0},{x:s,y:-l},{x:0,y:-l}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=Or.svg(i),f=Fr(t,{}),g=Xn(u),m=p.path(g,f);h=i.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${l/2})`),d&&h.attr("style",d)}else h=Qh(i,s,l,u);return n&&h.attr("style",n),t.width=s,t.height=l,qr(t,h),t.intersect=function(p){return Lr.polygon(t,u,p)},i}var GWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),Od(),o(gce,"trapezoid")});async function fce(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=60,l=20,u=Math.max(s,a.width+(t.padding??0)*2,t?.width??0),h=Math.max(l,a.height+(t.padding??0)*2,t?.height??0),{cssStyles:d}=t,p=Or.svg(i),f=Fr(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let g=[{x:-u/2*.8,y:-h/2},{x:u/2*.8,y:-h/2},{x:u/2,y:-h/2*.6},{x:u/2,y:h/2},{x:-u/2,y:h/2},{x:-u/2,y:-h/2*.6}],m=Xn(g),y=p.path(m,f),b=i.insert(()=>y,":first-child");return b.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",d),n&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",n),qr(t,b),t.intersect=function(v){return Lr.polygon(t,g,v)},i}var YWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),o(fce,"trapezoidalPentagon")});async function mce(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=Ii(Ge().flowchart?.htmlLabels),u=a.width+(t.padding??0),h=u+a.height,d=u+a.height,p=[{x:0,y:0},{x:d,y:0},{x:d/2,y:-h}],{cssStyles:f}=t,g=Or.svg(i),m=Fr(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=Xn(p),b=g.path(y,m),v=i.insert(()=>b,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return f&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",f),n&&t.look!=="handDrawn"&&v.selectChildren("path").attr("style",n),t.width=u,t.height=h,qr(t,v),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${h/2-(a.height+(t.padding??0)/(l?2:1)-(a.y-(a.top??0)))})`),t.intersect=function(x){return J.info("Triangle intersect",t,p,x),Lr.polygon(t,p,x)},i}var jWe=R(()=>{"use strict";We(),Sr(),Wr(),Xr(),Kr(),Sr(),En(),zr(),o(mce,"triangle")});async function yce(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=u/8,d=u+h,{cssStyles:p}=t,f=70-l,g=f>0?f/2:0,m=Or.svg(i),y=Fr(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=[{x:-l/2-g,y:d/2},...Dd(-l/2-g,d/2,l/2+g,d/2,h,.8),{x:l/2+g,y:-d/2},{x:-l/2-g,y:-d/2}],v=Xn(b),x=m.path(v,y),w=i.insert(()=>x,":first-child");return w.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",p),n&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-l/2+(t.padding??0)-(a.x-(a.left??0))},${-u/2+(t.padding??0)-h-(a.y-(a.top??0))})`),qr(t,w),t.intersect=function(E){return Lr.polygon(t,b,E)},i}var HWe=R(()=>{"use strict";Sr(),Wr(),Kr(),Xr(),o(yce,"waveEdgedRectangle")});async function vce(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a}=await ln(e,t,cn(t)),s=100,l=50,u=Math.max(a.width+(t.padding??0)*2,t?.width??0),h=Math.max(a.height+(t.padding??0)*2,t?.height??0),d=u/h,p=u,f=h;p>f*d?f=p/d:p=f*d,p=Math.max(p,s),f=Math.max(f,l);let g=Math.min(f*.2,f/4),m=f+g*2,{cssStyles:y}=t,b=Or.svg(i),v=Fr(t,{});t.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");let x=[{x:-p/2,y:m/2},...Dd(-p/2,m/2,p/2,m/2,g,1),{x:p/2,y:-m/2},...Dd(p/2,-m/2,-p/2,-m/2,g,-1)],w=Xn(x),E=b.path(w,v),A=i.insert(()=>E,":first-child");return A.attr("class","basic label-container"),y&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",y),n&&t.look!=="handDrawn"&&A.selectAll("path").attr("style",n),qr(t,A),t.intersect=function(N){return Lr.polygon(t,x,N)},i}var UWe=R(()=>{"use strict";Sr(),Wr(),Xr(),Kr(),o(vce,"waveRectangle")});async function bce(e,t){let{labelStyles:r,nodeStyles:n}=jr(t);t.labelStyle=r;let{shapeSvg:i,bbox:a,label:s}=await ln(e,t,cn(t)),l=Math.max(a.width+(t.padding??0)*2,t?.width??0),u=Math.max(a.height+(t.padding??0)*2,t?.height??0),h=5,d=-l/2,p=-u/2,{cssStyles:f}=t,g=Or.svg(i),m=Fr(t,{}),y=[{x:d-h,y:p-h},{x:d-h,y:p+u},{x:d+l,y:p+u},{x:d+l,y:p-h}],b=`M${d-h},${p-h} L${d+l},${p-h} L${d+l},${p+u} L${d-h},${p+u} L${d-h},${p-h}
                M${d-h},${p} L${d+l},${p}
                M${d},${p-h} L${d},${p+u}`;t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let v=g.path(b,m),x=i.insert(()=>v,":first-child");return x.attr("transform",`translate(${h/2}, ${h/2})`),x.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",f),n&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",n),s.attr("transform",`translate(${-(a.width/2)+h/2-(a.x-(a.left??0))}, ${-(a.height/2)+h/2-(a.y-(a.top??0))})`),qr(t,x),t.intersect=function(w){return Lr.polygon(t,y,w)},i}var VWe=R(()=>{"use strict";Sr(),Xr(),Kr(),Wr(),o(bce,"windowPane")});async function xce(e,t,r,n,i=r.class.padding??12){let a=n?0:3,s=e.insert("g").attr("class",cn(t)).attr("id",t.domId||t.id),l=null,u=null,h=null,d=null,p=0,f=0,g=0;if(l=s.insert("g").attr("class","annotation-group text"),t.annotations.length>0){let x=t.annotations[0];await G3(l,{text:`\xAB${x}\xBB`},0),p=l.node().getBBox().height}u=s.insert("g").attr("class","label-group text"),await G3(u,t,0,["font-weight: bolder"]);let m=u.node().getBBox();f=m.height,h=s.insert("g").attr("class","members-group text");let y=0;for(let x of t.members){let w=await G3(h,x,y,[x.parseClassifier()]);y+=w+a}g=h.node().getBBox().height,g<=0&&(g=i/2),d=s.insert("g").attr("class","methods-group text");let b=0;for(let x of t.methods){let w=await G3(d,x,b,[x.parseClassifier()]);b+=w+a}let v=s.node().getBBox();if(l!==null){let x=l.node().getBBox();l.attr("transform",`translate(${-x.width/2})`)}return u.attr("transform",`translate(${-m.width/2}, ${p})`),v=s.node().getBBox(),h.attr("transform",`translate(0, ${p+f+i*2})`),v=s.node().getBBox(),d.attr("transform",`translate(0, ${p+f+(g?g+i*4:i*2)})`),v=s.node().getBBox(),{shapeSvg:s,bbox:v}}async function G3(e,t,r,n=[]){let i=e.insert("g").attr("class","label").attr("style",n.join("; ")),a=Ni(),s="useHtmlLabels"in t?t.useHtmlLabels:Ii(a.htmlLabels)??!0,l="";"text"in t?l=t.text:l=t.label,!s&&l.startsWith("\\")&&(l=l.substring(1)),Zs(l)&&(s=!0);let u=await Vl(i,yS(Ju(l)),{width:Ec(l,a)+50,classes:"markdown-node-label",useHtmlLabels:s},a),h,d=1;if(s){let p=u.children[0],f=Bt(u);d=p.innerHTML.split("<br>").length,p.innerHTML.includes("</math>")&&(d+=p.innerHTML.split("<mrow>").length-1);let g=p.getElementsByTagName("img");if(g){let m=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...g].map(y=>new Promise(b=>{function v(){if(y.style.display="flex",y.style.flexDirection="column",m){let x=a.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,w=parseInt(x,10)*5+"px";y.style.minWidth=w,y.style.maxWidth=w}else y.style.width="100%";b(y)}o(v,"setupImage"),setTimeout(()=>{y.complete&&v()}),y.addEventListener("error",v),y.addEventListener("load",v)})))}h=p.getBoundingClientRect(),f.attr("width",h.width),f.attr("height",h.height)}else{n.includes("font-weight: bolder")&&Bt(u).selectAll("tspan").attr("font-weight",""),d=u.children.length;let p=u.children[0];(u.textContent===""||u.textContent.includes("&gt"))&&(p.textContent=l[0]+l.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),l[1]===" "&&(p.textContent=p.textContent[0]+" "+p.textContent.substring(1))),p.textContent==="undefined"&&(p.textContent=""),h=u.getBBox()}return i.attr("transform","translate(0,"+(-h.height/(2*d)+r)+")"),h.height}var WWe=R(()=>{"use strict";Ln(),wo(),Sr(),kn(),zr(),eh(),En(),o(xce,"textHelper"),o(G3,"addText")});async function wce(e,t){let r=Ge(),n=r.class.padding??12,i=n,a=t.useHtmlLabels??Ii(r.htmlLabels)??!0,s=t;s.annotations=s.annotations??[],s.members=s.members??[],s.methods=s.methods??[];let{shapeSvg:l,bbox:u}=await xce(e,t,r,a,i),{labelStyles:h,nodeStyles:d}=jr(t);t.labelStyle=h,t.cssStyles=s.styles||"";let p=s.styles?.join(";")||d||"";t.cssStyles||(t.cssStyles=p.replaceAll("!important","").split(";"));let f=s.members.length===0&&s.methods.length===0&&!r.class?.hideEmptyMembersBox,g=Or.svg(l),m=Fr(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let y=u.width,b=u.height;s.members.length===0&&s.methods.length===0?b+=i:s.members.length>0&&s.methods.length===0&&(b+=i*2);let v=-y/2,x=-b/2,w=g.rectangle(v-n,x-n-(f?n:s.members.length===0&&s.methods.length===0?-n/2:0),y+2*n,b+2*n+(f?n*2:s.members.length===0&&s.methods.length===0?-n:0),m),E=l.insert(()=>w,":first-child");E.attr("class","basic label-container");let A=E.node().getBBox();l.selectAll(".text").each((D,P,O)=>{let I=Bt(O[P]),q=I.attr("transform"),S=0;if(q){let z=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(q);z&&(S=parseFloat(z[2]))}let B=S+x+n-(f?n:s.members.length===0&&s.methods.length===0?-n/2:0);a||(B-=4);let F=v;(I.attr("class").includes("label-group")||I.attr("class").includes("annotation-group"))&&(F=-I.node()?.getBBox().width/2||0,l.selectAll("text").each(function(z,M,G){window.getComputedStyle(G[M]).textAnchor==="middle"&&(F=0)})),I.attr("transform",`translate(${F}, ${B})`)});let N=l.select(".annotation-group").node().getBBox().height-(f?n/2:0)||0,L=l.select(".label-group").node().getBBox().height-(f?n/2:0)||0,C=l.select(".members-group").node().getBBox().height-(f?n/2:0)||0;if(s.members.length>0||s.methods.length>0||f){let D=g.line(A.x,N+L+x+n,A.x+A.width,N+L+x+n,m);l.insert(()=>D).attr("class","divider").attr("style",p)}if(f||s.members.length>0||s.methods.length>0){let D=g.line(A.x,N+L+C+x+i*2+n,A.x+A.width,N+L+C+x+n+i*2,m);l.insert(()=>D).attr("class","divider").attr("style",p)}if(s.look!=="handDrawn"&&l.selectAll("path").attr("style",p),E.select(":nth-child(2)").attr("style",p),l.selectAll(".divider").select("path").attr("style",p),t.labelStyle?l.selectAll("span").attr("style",t.labelStyle):l.selectAll("span").attr("style",p),!a){let D=RegExp(/color\s*:\s*([^;]*)/),P=D.exec(p);if(P){let O=P[0].replace("color","fill");l.selectAll("tspan").attr("style",O)}else if(h){let O=D.exec(h);if(O){let I=O[0].replace("color","fill");l.selectAll("tspan").attr("style",I)}}}return qr(t,E),t.intersect=function(D){return Lr.rect(t,D)},l}var XWe=R(()=>{"use strict";Sr(),zr(),Ln(),Kr(),Xr(),Wr(),WWe(),En(),o(wce,"classBox")});async function kce(e,t,{config:r}){let{labelStyles:n,nodeStyles:i}=jr(t);t.labelStyle=n||"";let a=10,s=t.width;t.width=(t.width??200)-10;let{shapeSvg:l,bbox:u,label:h}=await ln(e,t,cn(t)),d=t.padding||10,p="",f;"ticket"in t&&t.ticket&&r?.kanban?.ticketBaseUrl&&(p=r?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),f=l.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",p).attr("target","_blank"));let g={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1},m,y;f?{label:m,bbox:y}=await l8(f,"ticket"in t&&t.ticket||"",g):{label:m,bbox:y}=await l8(l,"ticket"in t&&t.ticket||"",g);let{label:b,bbox:v}=await l8(l,"assigned"in t&&t.assigned||"",g);t.width=s;let x=10,w=t?.width||0,E=Math.max(y.height,v.height)/2,A=Math.max(u.height+x*2,t?.height||0)+E,N=-w/2,L=-A/2;h.attr("transform","translate("+(d-w/2)+", "+(-E-u.height/2)+")"),m.attr("transform","translate("+(d-w/2)+", "+(-E+u.height/2)+")"),b.attr("transform","translate("+(d+w/2-v.width-2*a)+", "+(-E+u.height/2)+")");let C,{rx:D,ry:P}=t,{cssStyles:O}=t;if(t.look==="handDrawn"){let I=Or.svg(l),q=Fr(t,{}),S=D||P?I.path(th(N,L,w,A,D||0),q):I.rectangle(N,L,w,A,q);C=l.insert(()=>S,":first-child"),C.attr("class","basic label-container").attr("style",O||null)}else{C=l.insert("rect",":first-child"),C.attr("class","basic label-container __APA__").attr("style",i).attr("rx",D??5).attr("ry",P??5).attr("x",N).attr("y",L).attr("width",w).attr("height",A);let I="priority"in t&&t.priority;if(I){let q=l.append("line"),S=N+2,B=L+Math.floor((D??0)/2),F=L+A-Math.floor((D??0)/2);q.attr("x1",S).attr("y1",B).attr("x2",S).attr("y2",F).attr("stroke-width","4").attr("stroke",Tce(I))}}return qr(t,C),t.height=A,t.intersect=function(I){return Lr.rect(t,I)},l}var Tce,KWe=R(()=>{"use strict";Sr(),Wr(),Np(),Xr(),Kr(),Tce=o(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority"),o(kce,"kanbanItem")});function Ece(e){return e in kM}var Cce,_ce,kM,Sce=R(()=>{"use strict";UVe(),VVe(),WVe(),XVe(),KVe(),ZVe(),QVe(),JVe(),eWe(),tWe(),rWe(),nWe(),iWe(),aWe(),sWe(),oWe(),lWe(),cWe(),uWe(),hWe(),dWe(),pWe(),gWe(),fWe(),mWe(),yWe(),vWe(),bWe(),xWe(),wWe(),kWe(),TWe(),EWe(),CWe(),_We(),SWe(),AWe(),LWe(),NWe(),MWe(),IWe(),DWe(),RWe(),OWe(),PWe(),BWe(),FWe(),$We(),zWe(),qWe(),GWe(),YWe(),jWe(),HWe(),UWe(),VWe(),XWe(),KWe(),Cce=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:tce},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:Qle},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:rce},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:sce},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:gle},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:ole},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:Hle},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:Ele},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:Ole},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Rle},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:gce},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Ile},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:ble},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:cce},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:ale},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:Jle},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:ace},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:ice},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:kle},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:_le},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:ule},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:hle},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:dle},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:Ple},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:yce},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:Tle},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:uce},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:Ble},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:ple},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:vle},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:mce},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:bce},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:xle},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:fce},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:wle},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:ece},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:Yle},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:Gle},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:ile},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:cle},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:lce},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:oce},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:vce},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:Vle},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:qle}],_ce=o(()=>{let e=[...Object.entries({state:nce,choice:sle,note:jle,rectWithTitle:Zle,labelRect:Dle,iconSquare:Nle,iconCircle:Ale,icon:Sle,iconRounded:Lle,imageSquare:Mle,anchor:nle,kanbanItem:kce,classBox:wce}),...Cce.flatMap(t=>[t.shortName,..."aliases"in t?t.aliases:[],..."internalAliases"in t?t.internalAliases:[]].map(r=>[r,t.handler]))];return Object.fromEntries(e)},"generateShapeMap"),kM=_ce(),o(Ece,"isValidShape")});function TM(e){return typeof e>"u"||e===null}function Ace(e){return typeof e=="object"&&e!==null}function Lce(e){return Array.isArray(e)?e:TM(e)?[]:[e]}function Nce(e,t){var r,n,i,a;if(t)for(a=Object.keys(t),r=0,n=a.length;r<n;r+=1)i=a[r],e[i]=t[i];return e}function Mce(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function Ice(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}function EM(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function wm(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=EM(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}function w8(e,t,r,n,i){var a="",s="",l=Math.floor(i/2)-1;return n-t>l&&(a=" ... ",t=n-l+a.length),r-n>l&&(s=" ...",r=n+l-s.length),{str:a+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+a.length}}function k8(e,t){return Wa.repeat(" ",t-e.length)+e}function Dce(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],a,s=-1;a=r.exec(e.buffer);)i.push(a.index),n.push(a.index+a[0].length),e.position<=a.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var l="",u,h,d=Math.min(e.line+t.linesAfter,i.length).toString().length,p=t.maxLength-(t.indent+d+3);for(u=1;u<=t.linesBefore&&!(s-u<0);u++)h=w8(e.buffer,n[s-u],i[s-u],e.position-(n[s]-n[s-u]),p),l=Wa.repeat(" ",t.indent)+k8((e.line-u+1).toString(),d)+" | "+h.str+`
`+l;for(h=w8(e.buffer,n[s],i[s],e.position,p),l+=Wa.repeat(" ",t.indent)+k8((e.line+1).toString(),d)+" | "+h.str+`
`,l+=Wa.repeat("-",t.indent+d+3+h.pos)+`^
`,u=1;u<=t.linesAfter&&!(s+u>=i.length);u++)h=w8(e.buffer,n[s+u],i[s+u],e.position-(n[s]-n[s+u]),p),l+=Wa.repeat(" ",t.indent)+k8((e.line+u+1).toString(),d)+" | "+h.str+`
`;return l.replace(/\n$/,"")}function Rce(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function Oce(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Que.indexOf(r)===-1)throw new jo('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Rce(t.styleAliases||null),Jue.indexOf(this.kind)===-1)throw new jo('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}function CM(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(a,s){a.tag===n.tag&&a.kind===n.kind&&a.multi===n.multi&&(i=s)}),r[i]=n}),r}function Pce(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(o(n,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function T8(e){return this.extend(e)}function Bce(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Fce(){return null}function $ce(e){return e===null}function zce(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function qce(e){return e==="true"||e==="True"||e==="TRUE"}function Gce(e){return Object.prototype.toString.call(e)==="[object Boolean]"}function Yce(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function jce(e){return 48<=e&&e<=55}function Hce(e){return 48<=e&&e<=57}function Uce(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!Yce(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!jce(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!Hce(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function Vce(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function Wce(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Wa.isNegativeZero(e)}function Xce(e){return!(e===null||!lhe.test(e)||e[e.length-1]==="_")}function Kce(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}function Zce(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Wa.isNegativeZero(e))return"-0.0";return r=e.toString(10),che.test(r)?r.replace("e",".e"):r}function Qce(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Wa.isNegativeZero(e))}function Jce(e){return e===null?!1:GM.exec(e)!==null||YM.exec(e)!==null}function eue(e){var t,r,n,i,a,s,l,u=0,h=null,d,p,f;if(t=GM.exec(e),t===null&&(t=YM.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(a=+t[4],s=+t[5],l=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(d=+t[10],p=+(t[11]||0),h=(d*60+p)*6e4,t[9]==="-"&&(h=-h)),f=new Date(Date.UTC(r,n,i,a,s,l,u)),h&&f.setTime(f.getTime()-h),f}function tue(e){return e.toISOString()}function rue(e){return e==="<<"||e===null}function nue(e){if(e===null)return!1;var t,r,n=0,i=e.length,a=L8;for(r=0;r<i;r++)if(t=a.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function iue(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,a=L8,s=0,l=[];for(t=0;t<i;t++)t%4===0&&t&&(l.push(s>>16&255),l.push(s>>8&255),l.push(s&255)),s=s<<6|a.indexOf(n.charAt(t));return r=i%4*6,r===0?(l.push(s>>16&255),l.push(s>>8&255),l.push(s&255)):r===18?(l.push(s>>10&255),l.push(s>>2&255)):r===12&&l.push(s>>4&255),new Uint8Array(l)}function aue(e){var t="",r=0,n,i,a=e.length,s=L8;for(n=0;n<a;n++)n%3===0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=a%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function sue(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}function oue(e){if(e===null)return!0;var t=[],r,n,i,a,s,l=e;for(r=0,n=l.length;r<n;r+=1){if(i=l[r],s=!1,mhe.call(i)!=="[object Object]")return!1;for(a in i)if(fhe.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function lue(e){return e!==null?e:[]}function cue(e){if(e===null)return!0;var t,r,n,i,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],vhe.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;a[t]=[i[0],n[i[0]]]}return!0}function uue(e){if(e===null)return[];var t,r,n,i,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),a[t]=[i[0],n[i[0]]];return a}function hue(e){if(e===null)return!0;var t,r=e;for(t in r)if(xhe.call(r,t)&&r[t]!==null)return!1;return!0}function due(e){return e!==null?e:{}}function _M(e){return Object.prototype.toString.call(e)}function lu(e){return e===10||e===13}function Bd(e){return e===9||e===32}function Yo(e){return e===9||e===32||e===10||e===13}function Mp(e){return e===44||e===91||e===93||e===123||e===125}function pue(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function gue(e){return e===120?2:e===117?4:e===85?8:0}function fue(e){return 48<=e&&e<=57?e-48:-1}function SM(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function mue(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function yue(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||jM,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function AM(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Zue(r),new jo(t,r)}function Hr(e,t){throw AM(e,t)}function Y3(e,t){e.onWarning&&e.onWarning.call(null,AM(e,t))}function t0(e,t,r,n){var i,a,s,l;if(t<r){if(l=e.input.slice(t,r),n)for(i=0,a=l.length;i<a;i+=1)s=l.charCodeAt(i),s===9||32<=s&&s<=1114111||Hr(e,"expected valid JSON character");else The.test(l)&&Hr(e,"the stream contains non-printable characters");e.result+=l}}function LM(e,t,r,n){var i,a,s,l;for(Wa.isObject(r)||Hr(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,l=i.length;s<l;s+=1)a=i[s],r0.call(t,a)||(t[a]=r[a],n[a]=!0)}function Ip(e,t,r,n,i,a,s,l,u){var h,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),h=0,d=i.length;h<d;h+=1)Array.isArray(i[h])&&Hr(e,"nested arrays are not supported inside keys"),typeof i=="object"&&_M(i[h])==="[object Object]"&&(i[h]="[object Object]");if(typeof i=="object"&&_M(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(h=0,d=a.length;h<d;h+=1)LM(e,t,a[h],r);else LM(e,t,a,r);else!e.json&&!r0.call(r,i)&&r0.call(t,i)&&(e.line=s||e.line,e.lineStart=l||e.lineStart,e.position=u||e.position,Hr(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete r[i];return t}function E8(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Hr(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function $a(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Bd(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(lu(i))for(E8(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Y3(e,"deficient indentation"),n}function j3(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Yo(r)))}function C8(e,t){t===1?e.result+=" ":t>1&&(e.result+=Wa.repeat(`
`,t-1))}function vue(e,t,r){var n,i,a,s,l,u,h,d,p=e.kind,f=e.result,g;if(g=e.input.charCodeAt(e.position),Yo(g)||Mp(g)||g===35||g===38||g===42||g===33||g===124||g===62||g===39||g===34||g===37||g===64||g===96||(g===63||g===45)&&(i=e.input.charCodeAt(e.position+1),Yo(i)||r&&Mp(i)))return!1;for(e.kind="scalar",e.result="",a=s=e.position,l=!1;g!==0;){if(g===58){if(i=e.input.charCodeAt(e.position+1),Yo(i)||r&&Mp(i))break}else if(g===35){if(n=e.input.charCodeAt(e.position-1),Yo(n))break}else{if(e.position===e.lineStart&&j3(e)||r&&Mp(g))break;if(lu(g))if(u=e.line,h=e.lineStart,d=e.lineIndent,$a(e,!1,-1),e.lineIndent>=t){l=!0,g=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=u,e.lineStart=h,e.lineIndent=d;break}}l&&(t0(e,a,s,!1),C8(e,e.line-u),a=s=e.position,l=!1),Bd(g)||(s=e.position+1),g=e.input.charCodeAt(++e.position)}return t0(e,a,s,!1),e.result?!0:(e.kind=p,e.result=f,!1)}function bue(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(t0(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else lu(r)?(t0(e,n,i,!0),C8(e,$a(e,!1,t)),n=i=e.position):e.position===e.lineStart&&j3(e)?Hr(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);Hr(e,"unexpected end of the stream within a single quoted scalar")}function xue(e,t){var r,n,i,a,s,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return t0(e,r,e.position,!0),e.position++,!0;if(l===92){if(t0(e,r,e.position,!0),l=e.input.charCodeAt(++e.position),lu(l))$a(e,!1,t);else if(l<256&&KM[l])e.result+=ZM[l],e.position++;else if((s=gue(l))>0){for(i=s,a=0;i>0;i--)l=e.input.charCodeAt(++e.position),(s=pue(l))>=0?a=(a<<4)+s:Hr(e,"expected hexadecimal character");e.result+=mue(a),e.position++}else Hr(e,"unknown escape sequence");r=n=e.position}else lu(l)?(t0(e,r,n,!0),C8(e,$a(e,!1,t)),r=n=e.position):e.position===e.lineStart&&j3(e)?Hr(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}Hr(e,"unexpected end of the stream within a double quoted scalar")}function wue(e,t){var r=!0,n,i,a,s=e.tag,l,u=e.anchor,h,d,p,f,g,m=Object.create(null),y,b,v,x;if(x=e.input.charCodeAt(e.position),x===91)d=93,g=!1,l=[];else if(x===123)d=125,g=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),x=e.input.charCodeAt(++e.position);x!==0;){if($a(e,!0,t),x=e.input.charCodeAt(e.position),x===d)return e.position++,e.tag=s,e.anchor=u,e.kind=g?"mapping":"sequence",e.result=l,!0;r?x===44&&Hr(e,"expected the node content, but found ','"):Hr(e,"missed comma between flow collection entries"),b=y=v=null,p=f=!1,x===63&&(h=e.input.charCodeAt(e.position+1),Yo(h)&&(p=f=!0,e.position++,$a(e,!0,t))),n=e.line,i=e.lineStart,a=e.position,Dp(e,t,U3,!1,!0),b=e.tag,y=e.result,$a(e,!0,t),x=e.input.charCodeAt(e.position),(f||e.line===n)&&x===58&&(p=!0,x=e.input.charCodeAt(++e.position),$a(e,!0,t),Dp(e,t,U3,!1,!0),v=e.result),g?Ip(e,l,m,b,y,v,n,i,a):p?l.push(Ip(e,null,m,b,y,v,n,i,a)):l.push(y),$a(e,!0,t),x=e.input.charCodeAt(e.position),x===44?(r=!0,x=e.input.charCodeAt(++e.position)):r=!1}Hr(e,"unexpected end of the stream within a flow collection")}function kue(e,t){var r,n,i=N8,a=!1,s=!1,l=t,u=0,h=!1,d,p;if(p=e.input.charCodeAt(e.position),p===124)n=!1;else if(p===62)n=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)N8===i?i=p===43?VM:khe:Hr(e,"repeat of a chomping mode identifier");else if((d=fue(p))>=0)d===0?Hr(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Hr(e,"repeat of an indentation width identifier"):(l=t+d-1,s=!0);else break;if(Bd(p)){do p=e.input.charCodeAt(++e.position);while(Bd(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!lu(p)&&p!==0)}for(;p!==0;){for(E8(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!s||e.lineIndent<l)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>l&&(l=e.lineIndent),lu(p)){u++;continue}if(e.lineIndent<l){i===VM?e.result+=Wa.repeat(`
`,a?1+u:u):i===N8&&a&&(e.result+=`
`);break}for(n?Bd(p)?(h=!0,e.result+=Wa.repeat(`
`,a?1+u:u)):h?(h=!1,e.result+=Wa.repeat(`
`,u+1)):u===0?a&&(e.result+=" "):e.result+=Wa.repeat(`
`,u):e.result+=Wa.repeat(`
`,a?1+u:u),a=!0,s=!0,u=0,r=e.position;!lu(p)&&p!==0;)p=e.input.charCodeAt(++e.position);t0(e,r,e.position,!1)}return!0}function NM(e,t){var r,n=e.tag,i=e.anchor,a=[],s,l=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Hr(e,"tab characters must not be used in indentation")),!(u!==45||(s=e.input.charCodeAt(e.position+1),!Yo(s))));){if(l=!0,e.position++,$a(e,!0,-1)&&e.lineIndent<=t){a.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,Dp(e,t,UM,!1,!0),a.push(e.result),$a(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)Hr(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function Tue(e,t,r){var n,i,a,s,l,u,h=e.tag,d=e.anchor,p={},f=Object.create(null),g=null,m=null,y=null,b=!1,v=!1,x;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),x=e.input.charCodeAt(e.position);x!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Hr(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),a=e.line,(x===63||x===58)&&Yo(n))x===63?(b&&(Ip(e,p,f,g,m,null,s,l,u),g=m=y=null),v=!0,b=!0,i=!0):b?(b=!1,i=!0):Hr(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,x=n;else{if(s=e.line,l=e.lineStart,u=e.position,!Dp(e,r,HM,!1,!0))break;if(e.line===a){for(x=e.input.charCodeAt(e.position);Bd(x);)x=e.input.charCodeAt(++e.position);if(x===58)x=e.input.charCodeAt(++e.position),Yo(x)||Hr(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Ip(e,p,f,g,m,null,s,l,u),g=m=y=null),v=!0,b=!1,i=!1,g=e.tag,m=e.result;else if(v)Hr(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=h,e.anchor=d,!0}else if(v)Hr(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=h,e.anchor=d,!0}if((e.line===a||e.lineIndent>t)&&(b&&(s=e.line,l=e.lineStart,u=e.position),Dp(e,t,V3,!0,i)&&(b?m=e.result:y=e.result),b||(Ip(e,p,f,g,m,y,s,l,u),g=m=y=null),$a(e,!0,-1),x=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&x!==0)Hr(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&Ip(e,p,f,g,m,null,s,l,u),v&&(e.tag=h,e.anchor=d,e.kind="mapping",e.result=p),v}function Eue(e){var t,r=!1,n=!1,i,a,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&Hr(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(a=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):Hr(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Yo(s);)s===33&&(n?Hr(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),WM.test(i)||Hr(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),Che.test(a)&&Hr(e,"tag suffix cannot contain flow indicator characters")}a&&!XM.test(a)&&Hr(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{Hr(e,"tag name is malformed: "+a)}return r?e.tag=a:r0.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:Hr(e,'undeclared tag handle "'+i+'"'),!0}function Cue(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&Hr(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Yo(r)&&!Mp(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&Hr(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function _ue(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Yo(n)&&!Mp(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&Hr(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),r0.call(e.anchorMap,r)||Hr(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],$a(e,!0,-1),!0}function Dp(e,t,r,n,i){var a,s,l,u=1,h=!1,d=!1,p,f,g,m,y,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=l=V3===r||UM===r,n&&$a(e,!0,-1)&&(h=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;Eue(e)||Cue(e);)$a(e,!0,-1)?(h=!0,l=a,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):l=!1;if(l&&(l=h||i),(u===1||V3===r)&&(U3===r||HM===r?y=t:y=t+1,b=e.position-e.lineStart,u===1?l&&(NM(e,b)||Tue(e,b,y))||wue(e,y)?d=!0:(s&&kue(e,y)||bue(e,y)||xue(e,y)?d=!0:_ue(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&Hr(e,"alias node should not have any properties")):vue(e,y,U3===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(d=l&&NM(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Hr(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,f=e.implicitTypes.length;p<f;p+=1)if(m=e.implicitTypes[p],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(r0.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,g=e.typeMap.multi[e.kind||"fallback"],p=0,f=g.length;p<f;p+=1)if(e.tag.slice(0,g[p].tag.length)===g[p].tag){m=g[p];break}m||Hr(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&Hr(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Hr(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function Sue(e){var t=e.position,r,n,i,a=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&($a(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(a=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!Yo(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&Hr(e,"directive name must not be less than one character in length");s!==0;){for(;Bd(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!lu(s));break}if(lu(s))break;for(r=e.position;s!==0&&!Yo(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&E8(e),r0.call(QM,n)?QM[n](e,n,i):Y3(e,'unknown document directive "'+n+'"')}if($a(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,$a(e,!0,-1)):a&&Hr(e,"directives end mark is expected"),Dp(e,e.lineIndent-1,V3,!1,!0),$a(e,!0,-1),e.checkLineBreaks&&Ehe.test(e.input.slice(t,e.position))&&Y3(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&j3(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,$a(e,!0,-1));return}if(e.position<e.length-1)Hr(e,"end of the stream or a document separator is expected");else return}function MM(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new yue(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,Hr(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Sue(r);return r.documents}function Aue(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=MM(e,r);if(typeof t!="function")return n;for(var i=0,a=n.length;i<a;i+=1)t(n[i])}function Lue(e,t){var r=MM(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new jo("expected a single document in the stream, but found more")}}function Nue(e,t){var r,n,i,a,s,l,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,a=n.length;i<a;i+=1)s=n[i],l=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),u=e.compiledTypeMap.fallback[s],u&&tI.call(u.styleAliases,l)&&(l=u.styleAliases[l]),r[s]=l;return r}function Mue(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new jo("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Wa.repeat("0",n-t.length)+t}function Iue(e){this.schema=e.schema||jM,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Wa.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Nue(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Cm:Uhe,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function IM(e,t){for(var r=Wa.repeat(" ",t),n=0,i=-1,a="",s,l=e.length;n<l;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=l):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(a+=r),a+=s;return a}function _8(e,t){return`
`+Wa.repeat(" ",e.indent*t)}function Due(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function H3(e){return e===Nhe||e===Ahe}function km(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==M8||65536<=e&&e<=1114111}function DM(e){return km(e)&&e!==M8&&e!==Lhe&&e!==Em}function RM(e,t,r){var n=DM(e),i=n&&!H3(e);return(r?n:n&&e!==rI&&e!==nI&&e!==iI&&e!==aI&&e!==sI)&&e!==I8&&!(t===W3&&!i)||DM(t)&&!H3(t)&&e===I8||t===W3&&i}function Rue(e){return km(e)&&e!==M8&&!H3(e)&&e!==Bhe&&e!==zhe&&e!==W3&&e!==rI&&e!==nI&&e!==iI&&e!==aI&&e!==sI&&e!==I8&&e!==Rhe&&e!==Phe&&e!==Mhe&&e!==Yhe&&e!==Fhe&&e!==$he&&e!==Ohe&&e!==Ihe&&e!==Dhe&&e!==qhe&&e!==Ghe}function Oue(e){return!H3(e)&&e!==W3}function Tm(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function OM(e){var t=/^\n* /;return t.test(e)}function Pue(e,t,r,n,i,a,s,l){var u,h=0,d=null,p=!1,f=!1,g=n!==-1,m=-1,y=Rue(Tm(e,0))&&Oue(Tm(e,e.length-1));if(t||s)for(u=0;u<e.length;h>=65536?u+=2:u++){if(h=Tm(e,u),!km(h))return Op;y=y&&RM(h,d,l),d=h}else{for(u=0;u<e.length;h>=65536?u+=2:u++){if(h=Tm(e,u),h===Em)p=!0,g&&(f=f||u-m-1>n&&e[m+1]!==" ",m=u);else if(!km(h))return Op;y=y&&RM(h,d,l),d=h}f=f||g&&u-m-1>n&&e[m+1]!==" "}return!p&&!f?y&&!s&&!i(e)?oI:a===Cm?Op:D8:r>9&&OM(e)?Op:s?a===Cm?Op:D8:f?cI:lI}function Bue(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===Cm?'""':"''";if(!e.noCompatMode&&(jhe.indexOf(t)!==-1||Hhe.test(t)))return e.quotingType===Cm?'"'+t+'"':"'"+t+"'";var a=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),l=n||e.flowLevel>-1&&r>=e.flowLevel;function u(h){return Due(e,h)}switch(o(u,"testAmbiguity"),Pue(t,l,e.indent,s,u,e.quotingType,e.forceQuotes&&!n,i)){case oI:return t;case D8:return"'"+t.replace(/'/g,"''")+"'";case lI:return"|"+PM(t,e.indent)+BM(IM(t,a));case cI:return">"+PM(t,e.indent)+BM(IM(Fue(t,s),a));case Op:return'"'+$ue(t)+'"';default:throw new jo("impossible error: invalid scalar style")}}()}function PM(e,t){var r=OM(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),a=i?"+":n?"":"-";return r+a+`
`}function BM(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Fue(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var h=e.indexOf(`
`);return h=h!==-1?h:e.length,r.lastIndex=h,FM(e.slice(0,h),t)}(),i=e[0]===`
`||e[0]===" ",a,s;s=r.exec(e);){var l=s[1],u=s[2];a=u[0]===" ",n+=l+(!i&&!a&&u!==""?`
`:"")+FM(u,t),i=a}return n}function FM(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,a,s=0,l=0,u="";n=r.exec(e);)l=n.index,l-i>t&&(a=s>i?s:l,u+=`
`+e.slice(i,a),i=a+1),s=l;return u+=`
`,e.length-i>t&&s>i?u+=e.slice(i,s)+`
`+e.slice(s+1):u+=e.slice(i),u.slice(1)}function $ue(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Tm(e,i),n=io[r],!n&&km(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||Mue(r);return t}function zue(e,t,r){var n="",i=e.tag,a,s,l;for(a=0,s=r.length;a<s;a+=1)l=r[a],e.replacer&&(l=e.replacer.call(r,String(a),l)),(rh(e,t,l,!1,!1)||typeof l>"u"&&rh(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function $M(e,t,r,n){var i="",a=e.tag,s,l,u;for(s=0,l=r.length;s<l;s+=1)u=r[s],e.replacer&&(u=e.replacer.call(r,String(s),u)),(rh(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&rh(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=_8(e,t)),e.dump&&Em===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=a,e.dump=i||"[]"}function que(e,t,r){var n="",i=e.tag,a=Object.keys(r),s,l,u,h,d;for(s=0,l=a.length;s<l;s+=1)d="",n!==""&&(d+=", "),e.condenseFlow&&(d+='"'),u=a[s],h=r[u],e.replacer&&(h=e.replacer.call(r,u,h)),rh(e,t,u,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),rh(e,t,h,!1,!1)&&(d+=e.dump,n+=d));e.tag=i,e.dump="{"+n+"}"}function Gue(e,t,r,n){var i="",a=e.tag,s=Object.keys(r),l,u,h,d,p,f;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new jo("sortKeys must be a boolean or a function");for(l=0,u=s.length;l<u;l+=1)f="",(!n||i!=="")&&(f+=_8(e,t)),h=s[l],d=r[h],e.replacer&&(d=e.replacer.call(r,h,d)),rh(e,t+1,h,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&Em===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,p&&(f+=_8(e,t)),rh(e,t+1,d,!0,p)&&(e.dump&&Em===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=a,e.dump=i||"{}"}function zM(e,t,r){var n,i,a,s,l,u;for(i=r?e.explicitTypes:e.implicitTypes,a=0,s=i.length;a<s;a+=1)if(l=i[a],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(r?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(u=e.styleMap[l.tag]||l.defaultStyle,eI.call(l.represent)==="[object Function]")n=l.represent(t,u);else if(tI.call(l.represent,u))n=l.represent[u](t,u);else throw new jo("!<"+l.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function rh(e,t,r,n,i,a,s){e.tag=null,e.dump=r,zM(e,r,!1)||zM(e,r,!0);var l=eI.call(e.dump),u=n,h;n&&(n=e.flowLevel<0||e.flowLevel>t);var d=l==="[object Object]"||l==="[object Array]",p,f;if(d&&(p=e.duplicates.indexOf(r),f=p!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(d&&f&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),l==="[object Object]")n&&Object.keys(e.dump).length!==0?(Gue(e,t,e.dump,i),f&&(e.dump="&ref_"+p+e.dump)):(que(e,t,e.dump),f&&(e.dump="&ref_"+p+" "+e.dump));else if(l==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?$M(e,t-1,e.dump,i):$M(e,t,e.dump,i),f&&(e.dump="&ref_"+p+e.dump)):(zue(e,t,e.dump),f&&(e.dump="&ref_"+p+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&Bue(e,e.dump,t,a,u);else{if(l==="[object Undefined]"||e.skipInvalid)return!1;throw new jo("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(h=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?h="!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?h="!!"+h.slice(18):h="!<"+h+">",e.dump=h+" "+e.dump)}return!0}function Yue(e,t){var r=[],n=[],i,a;for(S8(e,r,n),i=0,a=n.length;i<a;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(a)}function S8(e,t,r){var n,i,a;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,a=e.length;i<a;i+=1)S8(e[i],t,r);else for(n=Object.keys(e),i=0,a=n.length;i<a;i+=1)S8(e[n[i]],t,r)}function jue(e,t){t=t||{};var r=new Iue(t);r.noRefs||Yue(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),rh(r,0,n,!0,!0)?r.dump+`
`:""}function A8(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var Hue,Uue,Vue,Wue,Xue,Kue,Wa,jo,Zue,Que,Jue,no,ehe,the,rhe,nhe,ihe,ahe,she,ohe,lhe,che,uhe,qM,hhe,GM,YM,dhe,phe,L8,ghe,fhe,mhe,yhe,vhe,bhe,xhe,whe,jM,r0,U3,HM,UM,V3,N8,khe,VM,The,Ehe,Che,WM,XM,KM,ZM,Rp,QM,_he,She,JM,eI,tI,M8,Ahe,Em,Lhe,Nhe,Mhe,Ihe,I8,Dhe,Rhe,Ohe,Phe,rI,Bhe,W3,Fhe,$he,zhe,qhe,nI,iI,Ghe,aI,Yhe,sI,io,jhe,Hhe,Uhe,Cm,oI,D8,lI,cI,Op,Vhe,Whe,R8,O8,ZWe,QWe,JWe,eXe,tXe,uI=R(()=>{"use strict";for(o(TM,"isNothing"),o(Ace,"isObject"),o(Lce,"toArray"),o(Nce,"extend"),o(Mce,"repeat"),o(Ice,"isNegativeZero"),Hue=TM,Uue=Ace,Vue=Lce,Wue=Mce,Xue=Ice,Kue=Nce,Wa={isNothing:Hue,isObject:Uue,toArray:Vue,repeat:Wue,isNegativeZero:Xue,extend:Kue},o(EM,"formatError"),o(wm,"YAMLException$1"),wm.prototype=Object.create(Error.prototype),wm.prototype.constructor=wm,wm.prototype.toString=o(function(e){return this.name+": "+EM(this,e)},"toString"),jo=wm,o(w8,"getLine"),o(k8,"padStart"),o(Dce,"makeSnippet"),Zue=Dce,Que=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Jue=["scalar","sequence","mapping"],o(Rce,"compileStyleAliases"),o(Oce,"Type$1"),no=Oce,o(CM,"compileList"),o(Pce,"compileMap"),o(T8,"Schema$1"),T8.prototype.extend=o(function(e){var t=[],r=[];if(e instanceof no)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new jo("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(i){if(!(i instanceof no))throw new jo("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(i.loadKind&&i.loadKind!=="scalar")throw new jo("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(i.multi)throw new jo("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(i){if(!(i instanceof no))throw new jo("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(T8.prototype);return n.implicit=(this.implicit||[]).concat(t),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=CM(n,"implicit"),n.compiledExplicit=CM(n,"explicit"),n.compiledTypeMap=Pce(n.compiledImplicit,n.compiledExplicit),n},"extend"),ehe=T8,the=new no("tag:yaml.org,2002:str",{kind:"scalar",construct:o(function(e){return e!==null?e:""},"construct")}),rhe=new no("tag:yaml.org,2002:seq",{kind:"sequence",construct:o(function(e){return e!==null?e:[]},"construct")}),nhe=new no("tag:yaml.org,2002:map",{kind:"mapping",construct:o(function(e){return e!==null?e:{}},"construct")}),ihe=new ehe({explicit:[the,rhe,nhe]}),o(Bce,"resolveYamlNull"),o(Fce,"constructYamlNull"),o($ce,"isNull"),ahe=new no("tag:yaml.org,2002:null",{kind:"scalar",resolve:Bce,construct:Fce,predicate:$ce,represent:{canonical:o(function(){return"~"},"canonical"),lowercase:o(function(){return"null"},"lowercase"),uppercase:o(function(){return"NULL"},"uppercase"),camelcase:o(function(){return"Null"},"camelcase"),empty:o(function(){return""},"empty")},defaultStyle:"lowercase"}),o(zce,"resolveYamlBoolean"),o(qce,"constructYamlBoolean"),o(Gce,"isBoolean"),she=new no("tag:yaml.org,2002:bool",{kind:"scalar",resolve:zce,construct:qce,predicate:Gce,represent:{lowercase:o(function(e){return e?"true":"false"},"lowercase"),uppercase:o(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:o(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"}),o(Yce,"isHexCode"),o(jce,"isOctCode"),o(Hce,"isDecCode"),o(Uce,"resolveYamlInteger"),o(Vce,"constructYamlInteger"),o(Wce,"isInteger"),ohe=new no("tag:yaml.org,2002:int",{kind:"scalar",resolve:Uce,construct:Vce,predicate:Wce,represent:{binary:o(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:o(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:o(function(e){return e.toString(10)},"decimal"),hexadecimal:o(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),lhe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),o(Xce,"resolveYamlFloat"),o(Kce,"constructYamlFloat"),che=/^[-+]?[0-9]+e/,o(Zce,"representYamlFloat"),o(Qce,"isFloat"),uhe=new no("tag:yaml.org,2002:float",{kind:"scalar",resolve:Xce,construct:Kce,predicate:Qce,represent:Zce,defaultStyle:"lowercase"}),qM=ihe.extend({implicit:[ahe,she,ohe,uhe]}),hhe=qM,GM=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YM=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),o(Jce,"resolveYamlTimestamp"),o(eue,"constructYamlTimestamp"),o(tue,"representYamlTimestamp"),dhe=new no("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Jce,construct:eue,instanceOf:Date,represent:tue}),o(rue,"resolveYamlMerge"),phe=new no("tag:yaml.org,2002:merge",{kind:"scalar",resolve:rue}),L8=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`,o(nue,"resolveYamlBinary"),o(iue,"constructYamlBinary"),o(aue,"representYamlBinary"),o(sue,"isBinary"),ghe=new no("tag:yaml.org,2002:binary",{kind:"scalar",resolve:nue,construct:iue,predicate:sue,represent:aue}),fhe=Object.prototype.hasOwnProperty,mhe=Object.prototype.toString,o(oue,"resolveYamlOmap"),o(lue,"constructYamlOmap"),yhe=new no("tag:yaml.org,2002:omap",{kind:"sequence",resolve:oue,construct:lue}),vhe=Object.prototype.toString,o(cue,"resolveYamlPairs"),o(uue,"constructYamlPairs"),bhe=new no("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:cue,construct:uue}),xhe=Object.prototype.hasOwnProperty,o(hue,"resolveYamlSet"),o(due,"constructYamlSet"),whe=new no("tag:yaml.org,2002:set",{kind:"mapping",resolve:hue,construct:due}),jM=hhe.extend({implicit:[dhe,phe],explicit:[ghe,yhe,bhe,whe]}),r0=Object.prototype.hasOwnProperty,U3=1,HM=2,UM=3,V3=4,N8=1,khe=2,VM=3,The=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ehe=/[\x85\u2028\u2029]/,Che=/[,\[\]\{\}]/,WM=/^(?:!|!!|![a-z\-]+!)$/i,XM=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,o(_M,"_class"),o(lu,"is_EOL"),o(Bd,"is_WHITE_SPACE"),o(Yo,"is_WS_OR_EOL"),o(Mp,"is_FLOW_INDICATOR"),o(pue,"fromHexCode"),o(gue,"escapedHexLen"),o(fue,"fromDecimalCode"),o(SM,"simpleEscapeSequence"),o(mue,"charFromCodepoint"),KM=new Array(256),ZM=new Array(256),Rp=0;Rp<256;Rp++)KM[Rp]=SM(Rp)?1:0,ZM[Rp]=SM(Rp);o(yue,"State$1"),o(AM,"generateError"),o(Hr,"throwError"),o(Y3,"throwWarning"),QM={YAML:o(function(e,t,r){var n,i,a;e.version!==null&&Hr(e,"duplication of %YAML directive"),r.length!==1&&Hr(e,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),n===null&&Hr(e,"ill-formed argument of the YAML directive"),i=parseInt(n[1],10),a=parseInt(n[2],10),i!==1&&Hr(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&Y3(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:o(function(e,t,r){var n,i;r.length!==2&&Hr(e,"TAG directive accepts exactly two arguments"),n=r[0],i=r[1],WM.test(n)||Hr(e,"ill-formed tag handle (first argument) of the TAG directive"),r0.call(e.tagMap,n)&&Hr(e,'there is a previously declared suffix for "'+n+'" tag handle'),XM.test(i)||Hr(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch{Hr(e,"tag prefix is malformed: "+i)}e.tagMap[n]=i},"handleTagDirective")},o(t0,"captureSegment"),o(LM,"mergeMappings"),o(Ip,"storeMappingPair"),o(E8,"readLineBreak"),o($a,"skipSeparationSpace"),o(j3,"testDocumentSeparator"),o(C8,"writeFoldedLines"),o(vue,"readPlainScalar"),o(bue,"readSingleQuotedScalar"),o(xue,"readDoubleQuotedScalar"),o(wue,"readFlowCollection"),o(kue,"readBlockScalar"),o(NM,"readBlockSequence"),o(Tue,"readBlockMapping"),o(Eue,"readTagProperty"),o(Cue,"readAnchorProperty"),o(_ue,"readAlias"),o(Dp,"composeNode"),o(Sue,"readDocument"),o(MM,"loadDocuments"),o(Aue,"loadAll$1"),o(Lue,"load$1"),_he=Aue,She=Lue,JM={loadAll:_he,load:She},eI=Object.prototype.toString,tI=Object.prototype.hasOwnProperty,M8=65279,Ahe=9,Em=10,Lhe=13,Nhe=32,Mhe=33,Ihe=34,I8=35,Dhe=37,Rhe=38,Ohe=39,Phe=42,rI=44,Bhe=45,W3=58,Fhe=61,$he=62,zhe=63,qhe=64,nI=91,iI=93,Ghe=96,aI=123,Yhe=124,sI=125,io={},io[0]="\\0",io[7]="\\a",io[8]="\\b",io[9]="\\t",io[10]="\\n",io[11]="\\v",io[12]="\\f",io[13]="\\r",io[27]="\\e",io[34]='\\"',io[92]="\\\\",io[133]="\\N",io[160]="\\_",io[8232]="\\L",io[8233]="\\P",jhe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Hhe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/,o(Nue,"compileStyleMap"),o(Mue,"encodeHex"),Uhe=1,Cm=2,o(Iue,"State"),o(IM,"indentString"),o(_8,"generateNextLine"),o(Due,"testImplicitResolving"),o(H3,"isWhitespace"),o(km,"isPrintable"),o(DM,"isNsCharOrWhitespace"),o(RM,"isPlainSafe"),o(Rue,"isPlainSafeFirst"),o(Oue,"isPlainSafeLast"),o(Tm,"codePointAt"),o(OM,"needIndentIndicator"),oI=1,D8=2,lI=3,cI=4,Op=5,o(Pue,"chooseScalarStyle"),o(Bue,"writeScalar"),o(PM,"blockHeader"),o(BM,"dropEndingNewline"),o(Fue,"foldString"),o(FM,"foldLine"),o($ue,"escapeString"),o(zue,"writeFlowSequence"),o($M,"writeBlockSequence"),o(que,"writeFlowMapping"),o(Gue,"writeBlockMapping"),o(zM,"detectType"),o(rh,"writeNode"),o(Yue,"getDuplicateReferences"),o(S8,"inspectNode"),o(jue,"dump$1"),Vhe=jue,Whe={dump:Vhe},o(A8,"renamed"),R8=qM,O8=JM.load,ZWe=JM.loadAll,QWe=Whe.dump,JWe=A8("safeLoad","load"),eXe=A8("safeLoadAll","loadAll"),tXe=A8("safeDump","dump")});function P8(e){let t=[];for(let r of e){let n=_m.get(r);n?.styles&&(t=[...t,...n.styles??[]].map(i=>i.trim())),n?.textStyles&&(t=[...t,...n.textStyles??[]].map(i=>i.trim()))}return t}var Xhe,hI,Pp,n0,Ho,_m,nh,B8,F8,X3,$8,_c,z8,K3,Z3,Q3,Khe,Zhe,Qhe,Jhe,e0e,t0e,r0e,q8,n0e,i0e,a0e,dI,s0e,o0e,pI,gI,fI,l0e,mI,c0e,u0e,h0e,d0e,p0e,Sm,yI,vI,g0e,f0e,bI,m0e,y0e,v0e,b0e,x0e,xI,wI,w0e,k0e,T0e,E0e,C0e,_0e,G8,S0e=R(()=>{"use strict";Ln(),kn(),zr(),En(),Sce(),We(),uI(),ys(),Xhe="flowchart-",hI=0,Pp=Ge(),n0=new Map,Ho=[],_m=new Map,nh=[],B8=new Map,F8=new Map,X3=0,$8=!0,K3=[],Z3=o(e=>Yt.sanitizeText(e,Pp),"sanitizeText"),Q3=o(function(e){for(let t of n0.values())if(t.id===e)return t.domId;return e},"lookUpDomId"),Khe=o(function(e,t,r,n,i,a,s={},l){if(!e||e.trim().length===0)return;let u,h=n0.get(e);if(h===void 0&&(h={id:e,labelType:"text",domId:Xhe+e+"-"+hI,styles:[],classes:[]},n0.set(e,h)),hI++,t!==void 0?(Pp=Ge(),u=Z3(t.text.trim()),h.labelType=t.type,u.startsWith('"')&&u.endsWith('"')&&(u=u.substring(1,u.length-1)),h.text=u):h.text===void 0&&(h.text=e),r!==void 0&&(h.type=r),n?.forEach(function(d){h.styles.push(d)}),i?.forEach(function(d){h.classes.push(d)}),a!==void 0&&(h.dir=a),h.props===void 0?h.props=s:s!==void 0&&Object.assign(h.props,s),l!==void 0){let d;l.includes(`
`)?d=l+`
`:d=`{
`+l+`
}`;let p=O8(d,{schema:R8});if(p.shape){if(p.shape!==p.shape.toLowerCase()||p.shape.includes("_"))throw new Error(`No such shape: ${p.shape}. Shape names should be lowercase.`);if(!Ece(p.shape))throw new Error(`No such shape: ${p.shape}.`);h.type=p?.shape}p?.label&&(h.text=p?.label),p?.icon&&(h.icon=p?.icon,!p.label?.trim()&&h.text===e&&(h.text="")),p?.form&&(h.form=p?.form),p?.pos&&(h.pos=p?.pos),p?.img&&(h.img=p?.img,!p.label?.trim()&&h.text===e&&(h.text="")),p?.constraint&&(h.constraint=p.constraint),p.w&&(h.assetWidth=Number(p.w)),p.h&&(h.assetHeight=Number(p.h))}},"addVertex"),Zhe=o(function(e,t,r){let n={start:e,end:t,type:void 0,text:"",labelType:"text"};J.info("abc78 Got edge...",n);let i=r.text;if(i!==void 0&&(n.text=Z3(i.text.trim()),n.text.startsWith('"')&&n.text.endsWith('"')&&(n.text=n.text.substring(1,n.text.length-1)),n.labelType=i.type),r!==void 0&&(n.type=r.type,n.stroke=r.stroke,n.length=r.length>10?10:r.length),Ho.length<(Pp.maxEdges??500))J.info("Pushing edge..."),Ho.push(n);else throw new Error(`Edge limit exceeded. ${Ho.length} edges found, but the limit is ${Pp.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)},"addSingleLink"),Qhe=o(function(e,t,r){J.info("addLink",e,t,r);for(let n of e)for(let i of t)Zhe(n,i,r)},"addLink"),Jhe=o(function(e,t){e.forEach(function(r){r==="default"?Ho.defaultInterpolate=t:Ho[r].interpolate=t})},"updateLinkInterpolate"),e0e=o(function(e,t){e.forEach(function(r){if(typeof r=="number"&&r>=Ho.length)throw new Error(`The index ${r} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${Ho.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);r==="default"?Ho.defaultStyle=t:(Ho[r].style=t,(Ho[r]?.style?.length??0)>0&&!Ho[r]?.style?.some(n=>n?.startsWith("fill"))&&Ho[r]?.style?.push("fill:none"))})},"updateLink"),t0e=o(function(e,t){e.split(",").forEach(function(r){let n=_m.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},_m.set(r,n)),t?.forEach(function(i){if(/color/.exec(i)){let a=i.replace("fill","bgFill");n.textStyles.push(a)}n.styles.push(i)})})},"addClass"),r0e=o(function(e){_c=e,/.*</.exec(_c)&&(_c="RL"),/.*\^/.exec(_c)&&(_c="BT"),/.*>/.exec(_c)&&(_c="LR"),/.*v/.exec(_c)&&(_c="TB"),_c==="TD"&&(_c="TB")},"setDirection"),q8=o(function(e,t){for(let r of e.split(",")){let n=n0.get(r);n&&n.classes.push(t);let i=B8.get(r);i&&i.classes.push(t)}},"setClass"),n0e=o(function(e,t){if(t!==void 0){t=Z3(t);for(let r of e.split(","))F8.set(z8==="gen-1"?Q3(r):r,t)}},"setTooltip"),i0e=o(function(e,t,r){let n=Q3(e);if(Ge().securityLevel!=="loose"||t===void 0)return;let i=[];if(typeof r=="string"){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let s=0;s<i.length;s++){let l=i[s].trim();l.startsWith('"')&&l.endsWith('"')&&(l=l.substr(1,l.length-2)),i[s]=l}}i.length===0&&i.push(e);let a=n0.get(e);a&&(a.haveCallback=!0,K3.push(function(){let s=document.querySelector(`[id="${n}"]`);s!==null&&s.addEventListener("click",function(){mn.runFunc(t,...i)},!1)}))},"setClickFun"),a0e=o(function(e,t,r){e.split(",").forEach(function(n){let i=n0.get(n);i!==void 0&&(i.link=mn.formatUrl(t,Pp),i.linkTarget=r)}),q8(e,"clickable")},"setLink"),dI=o(function(e){return F8.get(e)},"getTooltip"),s0e=o(function(e,t,r){e.split(",").forEach(function(n){i0e(n,t,r)}),q8(e,"clickable")},"setClickEvent"),o0e=o(function(e){K3.forEach(function(t){t(e)})},"bindFunctions"),pI=o(function(){return _c.trim()},"getDirection"),gI=o(function(){return n0},"getVertices"),fI=o(function(){return Ho},"getEdges"),l0e=o(function(){return _m},"getClasses"),mI=o(function(e){let t=Bt(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=Bt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Bt(e).select("svg").selectAll("g.node").on("mouseover",function(){let r=Bt(this);if(r.attr("title")===null)return;let n=this?.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(r.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.bottom+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),r.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),Bt(this).classed("hover",!1)})},"setupToolTips"),K3.push(mI),c0e=o(function(e="gen-1"){n0=new Map,_m=new Map,Ho=[],K3=[mI],nh=[],B8=new Map,X3=0,F8=new Map,$8=!0,z8=e,Pp=Ge(),fs()},"clear"),u0e=o(e=>{z8=e||"gen-2"},"setGen"),h0e=o(function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},"defaultStyle"),d0e=o(function(e,t,r){let n=e.text.trim(),i=r.text;e===r&&/\s/.exec(r.text)&&(n=void 0);function a(h){let d={boolean:{},number:{},string:{}},p=[],f;return{nodeList:h.filter(function(g){let m=typeof g;return g.stmt&&g.stmt==="dir"?(f=g.value,!1):g.trim()===""?!1:m in d?d[m].hasOwnProperty(g)?!1:d[m][g]=!0:p.includes(g)?!1:p.push(g)}),dir:f}}o(a,"uniq");let{nodeList:s,dir:l}=a(t.flat());if(z8==="gen-1")for(let h=0;h<s.length;h++)s[h]=Q3(s[h]);n=n??"subGraph"+X3,i=i||"",i=Z3(i),X3=X3+1;let u={id:n,nodes:s,title:i.trim(),classes:[],dir:l,labelType:r.type};return J.info("Adding",u.id,u.nodes,u.dir),u.nodes=wI(u,nh).nodes,nh.push(u),B8.set(n,u),n},"addSubGraph"),p0e=o(function(e){for(let[t,r]of nh.entries())if(r.id===e)return t;return-1},"getPosForId"),Sm=-1,yI=[],vI=o(function(e,t){let r=nh[t].nodes;if(Sm=Sm+1,Sm>2e3)return{result:!1,count:0};if(yI[Sm]=t,nh[t].id===e)return{result:!0,count:0};let n=0,i=1;for(;n<r.length;){let a=p0e(r[n]);if(a>=0){let s=vI(e,a);if(s.result)return{result:!0,count:i+s.count};i=i+s.count}n=n+1}return{result:!1,count:i}},"indexNodes2"),g0e=o(function(e){return yI[e]},"getDepthFirstPos"),f0e=o(function(){Sm=-1,nh.length>0&&vI("none",nh.length-1)},"indexNodes"),bI=o(function(){return nh},"getSubGraphs"),m0e=o(()=>$8?($8=!1,!0):!1,"firstGraph"),y0e=o(e=>{let t=e.trim(),r="arrow_open";switch(t[0]){case"<":r="arrow_point",t=t.slice(1);break;case"x":r="arrow_cross",t=t.slice(1);break;case"o":r="arrow_circle",t=t.slice(1);break}let n="normal";return t.includes("=")&&(n="thick"),t.includes(".")&&(n="dotted"),{type:r,stroke:n}},"destructStartLink"),v0e=o((e,t)=>{let r=t.length,n=0;for(let i=0;i<r;++i)t[i]===e&&++n;return n},"countChar"),b0e=o(e=>{let t=e.trim(),r=t.slice(0,-1),n="arrow_open";switch(t.slice(-1)){case"x":n="arrow_cross",t.startsWith("x")&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",t.startsWith("<")&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",t.startsWith("o")&&(n="double_"+n,r=r.slice(1));break}let i="normal",a=r.length-1;r.startsWith("=")&&(i="thick"),r.startsWith("~")&&(i="invisible");let s=v0e(".",r);return s&&(i="dotted",a=s),{type:n,stroke:i,length:a}},"destructEndLink"),x0e=o((e,t)=>{let r=b0e(e),n;if(t){if(n=y0e(t),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if(n.type==="arrow_open")n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return n.type==="double_arrow"&&(n.type="double_arrow_point"),n.length=r.length,n}return r},"destructLink"),xI=o((e,t)=>{for(let r of e)if(r.nodes.includes(t))return!0;return!1},"exists"),wI=o((e,t)=>{let r=[];return e.nodes.forEach((n,i)=>{xI(t,n)||r.push(e.nodes[i])}),{nodes:r}},"makeUniq"),w0e={firstGraph:m0e},k0e=o(e=>{if(e.img)return"imageSquare";if(e.icon)return e.form==="circle"?"iconCircle":e.form==="square"?"iconSquare":e.form==="rounded"?"iconRounded":"icon";switch(e.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return e.type}},"getTypeFromVertex"),T0e=o((e,t)=>e.find(r=>r.id===t),"findNode"),E0e=o(e=>{let t="none",r="arrow_point";switch(e){case"arrow_point":case"arrow_circle":case"arrow_cross":r=e;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":t=e.replace("double_",""),r=t;break}return{arrowTypeStart:t,arrowTypeEnd:r}},"destructEdgeType"),C0e=o((e,t,r,n,i,a)=>{let s=r.get(e.id),l=n.get(e.id)??!1,u=T0e(t,e.id);if(u)u.cssStyles=e.styles,u.cssCompiledStyles=P8(e.classes),u.cssClasses=e.classes.join(" ");else{let h={id:e.id,label:e.text,labelStyle:"",parentId:s,padding:i.flowchart?.padding||8,cssStyles:e.styles,cssCompiledStyles:P8(["default","node",...e.classes]),cssClasses:"default "+e.classes.join(" "),dir:e.dir,domId:e.domId,look:a,link:e.link,linkTarget:e.linkTarget,tooltip:dI(e.id),icon:e.icon,pos:e.pos,img:e.img,assetWidth:e.assetWidth,assetHeight:e.assetHeight,constraint:e.constraint};l?t.push({...h,isGroup:!0,shape:"rect"}):t.push({...h,isGroup:!1,shape:k0e(e)})}},"addNodeFromVertex"),o(P8,"getCompiledStyles"),_0e=o(()=>{let e=Ge(),t=[],r=[],n=bI(),i=new Map,a=new Map;for(let l=n.length-1;l>=0;l--){let u=n[l];u.nodes.length>0&&a.set(u.id,!0);for(let h of u.nodes)i.set(h,u.id)}for(let l=n.length-1;l>=0;l--){let u=n[l];t.push({id:u.id,label:u.title,labelStyle:"",parentId:i.get(u.id),padding:8,cssCompiledStyles:P8(u.classes),cssClasses:u.classes.join(" "),shape:"rect",dir:u.dir,isGroup:!0,look:e.look})}gI().forEach(l=>{C0e(l,t,i,a,e,e.look||"classic")});let s=fI();return s.forEach((l,u)=>{let{arrowTypeStart:h,arrowTypeEnd:d}=E0e(l.type),p=[...s.defaultStyle??[]];l.style&&p.push(...l.style);let f={id:MN(l.start,l.end,{counter:u,prefix:"L"}),start:l.start,end:l.end,type:l.type??"normal",label:l.text,labelpos:"c",thickness:l.stroke,minlen:l.length,classes:l?.stroke==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:l?.stroke==="invisible"?"none":h,arrowTypeEnd:l?.stroke==="invisible"?"none":d,arrowheadStyle:"fill: #333",labelStyle:p,style:p,pattern:l.stroke,look:e.look};r.push(f)}),{nodes:t,edges:r,other:{},config:e}},"getData"),G8={defaultConfig:o(()=>mS.flowchart,"defaultConfig"),setAccTitle:ms,getAccTitle:Ls,getAccDescription:Ms,getData:_0e,setAccDescription:Ns,addVertex:Khe,lookUpDomId:Q3,addLink:Qhe,updateLinkInterpolate:Jhe,updateLink:e0e,addClass:t0e,setDirection:r0e,setClass:q8,setTooltip:n0e,getTooltip:dI,setClickEvent:s0e,setLink:a0e,bindFunctions:o0e,getDirection:pI,getVertices:gI,getEdges:fI,getClasses:l0e,clear:c0e,setGen:u0e,defaultStyle:h0e,addSubGraph:d0e,getDepthFirstPos:g0e,indexNodes:f0e,getSubGraphs:bI,destructLink:x0e,lex:w0e,exists:xI,makeUniq:wI,setDiagramTitle:_o,getDiagramTitle:Is}}),Y8,kI=R(()=>{"use strict";Ln(),Y8=o((e,t)=>{let r;return t==="sandbox"&&(r=Bt("#i"+e)),Bt(t==="sandbox"?r.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`)},"getDiagramElement")}),Am,j8=R(()=>{"use strict";Am=o(({flowchart:e})=>{let t=e?.subGraphTitleMargin?.top??0,r=e?.subGraphTitleMargin?.bottom??0,n=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:n}},"getSubGraphTitleMargins")}),TI,A0e,L0e,N0e,M0e,I0e,D0e,EI,H8,R0e,CI=R(()=>{"use strict";zr(),En(),We(),j8(),Ln(),Kr(),eh(),Foe(),wM(),Np(),Xr(),TI=o(async(e,t)=>{J.info("Creating subgraph rect for ",t.id,t);let r=Ge(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:a,clusterBorder:s}=n,{labelStyles:l,nodeStyles:u,borderStyles:h,backgroundStyles:d}=jr(t),p=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=Ii(r.flowchart.htmlLabels),g=p.insert("g").attr("class","cluster-label "),m=await Vl(g,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0}),y=m.getBBox();if(Ii(r.flowchart.htmlLabels)){let L=m.children[0],C=Bt(m);y=L.getBoundingClientRect(),C.attr("width",y.width),C.attr("height",y.height)}let b=t.width<=y.width+t.padding?y.width+t.padding:t.width;t.width<=y.width+t.padding?t.diff=(b-t.width)/2-t.padding:t.diff=-t.padding;let v=t.height,x=t.x-b/2,w=t.y-v/2;J.trace("Data ",t,JSON.stringify(t));let E;if(t.look==="handDrawn"){let L=Or.svg(p),C=Fr(t,{roughness:.7,fill:a,stroke:s,fillWeight:3,seed:i}),D=L.path(th(x,w,b,v,0),C);E=p.insert(()=>(J.debug("Rough node insert CXC",D),D),":first-child"),E.select("path:nth-child(2)").attr("style",h.join(";")),E.select("path").attr("style",d.join(";").replace("fill","stroke"))}else E=p.insert("rect",":first-child"),E.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",x).attr("y",w).attr("width",b).attr("height",v);let{subGraphTitleTopMargin:A}=Am(r);if(g.attr("transform",`translate(${t.x-y.width/2}, ${t.y-t.height/2+A})`),l){let L=g.select("span");L&&L.attr("style",l)}let N=E.node().getBBox();return t.offsetX=0,t.width=N.width,t.height=N.height,t.offsetY=y.height-t.padding/2,t.intersect=function(L){return Sp(t,L)},{cluster:p,labelBBox:y}},"rect"),A0e=o((e,t)=>{let r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,a=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-a).attr("y",t.y-t.height/2-a).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");let s=n.node().getBBox();return t.width=s.width,t.height=s.height,t.intersect=function(l){return Sp(t,l)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),L0e=o(async(e,t)=>{let r=Ge(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:a,compositeBackground:s,compositeTitleBackground:l,nodeBorder:u}=n,h=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),d=h.insert("g",":first-child"),p=h.insert("g").attr("class","cluster-label"),f=h.append("rect"),g=p.node().appendChild(await Pd(t.label,t.labelStyle,void 0,!0)),m=g.getBBox();if(Ii(r.flowchart.htmlLabels)){let D=g.children[0],P=Bt(g);m=D.getBoundingClientRect(),P.attr("width",m.width),P.attr("height",m.height)}let y=0*t.padding,b=y/2,v=(t.width<=m.width+t.padding?m.width+t.padding:t.width)+y;t.width<=m.width+t.padding?t.diff=(v-t.width)/2-t.padding:t.diff=-t.padding;let x=t.height+y,w=t.height+y-m.height-6,E=t.x-v/2,A=t.y-x/2;t.width=v;let N=t.y-t.height/2-b+m.height+2,L;if(t.look==="handDrawn"){let D=t.cssClasses.includes("statediagram-cluster-alt"),P=Or.svg(h),O=t.rx||t.ry?P.path(th(E,A,v,x,10),{roughness:.7,fill:l,fillStyle:"solid",stroke:u,seed:i}):P.rectangle(E,A,v,x,{seed:i});L=h.insert(()=>O,":first-child");let I=P.rectangle(E,N,v,w,{fill:D?a:s,fillStyle:D?"hachure":"solid",stroke:u,seed:i});L=h.insert(()=>O,":first-child"),f=h.insert(()=>I)}else L=d.insert("rect",":first-child"),L.attr("class","outer").attr("x",E).attr("y",A).attr("width",v).attr("height",x).attr("data-look",t.look),f.attr("class","inner").attr("x",E).attr("y",N).attr("width",v).attr("height",w);p.attr("transform",`translate(${t.x-m.width/2}, ${A+1-(Ii(r.flowchart.htmlLabels)?0:3)})`);let C=L.node().getBBox();return t.height=C.height,t.offsetX=0,t.offsetY=m.height-t.padding/2,t.labelBBox=m,t.intersect=function(D){return Sp(t,D)},{cluster:h,labelBBox:m}},"roundedWithTitle"),N0e=o(async(e,t)=>{J.info("Creating subgraph rect for ",t.id,t);let r=Ge(),{themeVariables:n,handDrawnSeed:i}=r,{clusterBkg:a,clusterBorder:s}=n,{labelStyles:l,nodeStyles:u,borderStyles:h,backgroundStyles:d}=jr(t),p=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),f=Ii(r.flowchart.htmlLabels),g=p.insert("g").attr("class","cluster-label "),m=await Vl(g,t.label,{style:t.labelStyle,useHtmlLabels:f,isNode:!0,width:t.width}),y=m.getBBox();if(Ii(r.flowchart.htmlLabels)){let L=m.children[0],C=Bt(m);y=L.getBoundingClientRect(),C.attr("width",y.width),C.attr("height",y.height)}let b=t.width<=y.width+t.padding?y.width+t.padding:t.width;t.width<=y.width+t.padding?t.diff=(b-t.width)/2-t.padding:t.diff=-t.padding;let v=t.height,x=t.x-b/2,w=t.y-v/2;J.trace("Data ",t,JSON.stringify(t));let E;if(t.look==="handDrawn"){let L=Or.svg(p),C=Fr(t,{roughness:.7,fill:a,stroke:s,fillWeight:4,seed:i}),D=L.path(th(x,w,b,v,t.rx),C);E=p.insert(()=>(J.debug("Rough node insert CXC",D),D),":first-child"),E.select("path:nth-child(2)").attr("style",h.join(";")),E.select("path").attr("style",d.join(";").replace("fill","stroke"))}else E=p.insert("rect",":first-child"),E.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",x).attr("y",w).attr("width",b).attr("height",v);let{subGraphTitleTopMargin:A}=Am(r);if(g.attr("transform",`translate(${t.x-y.width/2}, ${t.y-t.height/2+A})`),l){let L=g.select("span");L&&L.attr("style",l)}let N=E.node().getBBox();return t.offsetX=0,t.width=N.width,t.height=N.height,t.offsetY=y.height-t.padding/2,t.intersect=function(L){return Sp(t,L)},{cluster:p,labelBBox:y}},"kanbanSection"),M0e=o((e,t)=>{let r=Ge(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:a}=n,s=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),l=s.insert("g",":first-child"),u=0*t.padding,h=t.width+u;t.diff=-t.padding;let d=t.height+u,p=t.x-h/2,f=t.y-d/2;t.width=h;let g;if(t.look==="handDrawn"){let y=Or.svg(s).rectangle(p,f,h,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:i});g=s.insert(()=>y,":first-child")}else g=l.insert("rect",":first-child"),g.attr("class","divider").attr("x",p).attr("y",f).attr("width",h).attr("height",d).attr("data-look",t.look);let m=g.node().getBBox();return t.height=m.height,t.offsetX=0,t.offsetY=0,t.intersect=function(y){return Sp(t,y)},{cluster:s,labelBBox:{}}},"divider"),I0e=TI,D0e={rect:TI,squareRect:I0e,roundedWithTitle:L0e,noteGroup:A0e,divider:M0e,kanbanSection:N0e},EI=new Map,H8=o(async(e,t)=>{let r=t.shape||"rect",n=await D0e[r](e,t);return EI.set(t.id,n),n},"insertCluster"),R0e=o(()=>{EI=new Map},"clear")});function J3(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=Xi(e),t=Xi(t);let[r,n]=[e.x,e.y],[i,a]=[t.x,t.y],s=i-r,l=a-n;return{angle:Math.atan(l/s),deltaX:s,deltaY:l}}var Wl,Xi,_I,O0e=R(()=>{"use strict";Wl={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4},o(J3,"calculateDeltaAndAngle"),Xi=o(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),_I=o(e=>({x:o(function(t,r,n){let i=0,a=Xi(n[0]).x<Xi(n[n.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(Wl,e.arrowTypeStart)){let{angle:g,deltaX:m}=J3(n[0],n[1]);i=Wl[e.arrowTypeStart]*Math.cos(g)*(m>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Wl,e.arrowTypeEnd)){let{angle:g,deltaX:m}=J3(n[n.length-1],n[n.length-2]);i=Wl[e.arrowTypeEnd]*Math.cos(g)*(m>=0?1:-1)}let s=Math.abs(Xi(t).x-Xi(n[n.length-1]).x),l=Math.abs(Xi(t).y-Xi(n[n.length-1]).y),u=Math.abs(Xi(t).x-Xi(n[0]).x),h=Math.abs(Xi(t).y-Xi(n[0]).y),d=Wl[e.arrowTypeStart],p=Wl[e.arrowTypeEnd],f=1;if(s<p&&s>0&&l<p){let g=p+f-s;g*=a==="right"?-1:1,i-=g}if(u<d&&u>0&&h<d){let g=d+f-u;g*=a==="right"?-1:1,i+=g}return Xi(t).x+i},"x"),y:o(function(t,r,n){let i=0,a=Xi(n[0]).y<Xi(n[n.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(Wl,e.arrowTypeStart)){let{angle:g,deltaY:m}=J3(n[0],n[1]);i=Wl[e.arrowTypeStart]*Math.abs(Math.sin(g))*(m>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(Wl,e.arrowTypeEnd)){let{angle:g,deltaY:m}=J3(n[n.length-1],n[n.length-2]);i=Wl[e.arrowTypeEnd]*Math.abs(Math.sin(g))*(m>=0?1:-1)}let s=Math.abs(Xi(t).y-Xi(n[n.length-1]).y),l=Math.abs(Xi(t).x-Xi(n[n.length-1]).x),u=Math.abs(Xi(t).y-Xi(n[0]).y),h=Math.abs(Xi(t).x-Xi(n[0]).x),d=Wl[e.arrowTypeStart],p=Wl[e.arrowTypeEnd],f=1;if(s<p&&s>0&&l<p){let g=p+f-s;g*=a==="up"?-1:1,i-=g}if(u<d&&u>0&&h<d){let g=d+f-u;g*=a==="up"?-1:1,i+=g}return Xi(t).y+i},"y")}),"getLineFunctionsWithOffset")}),P0e,B0e,SI,rXe=R(()=>{"use strict";We(),P0e=o((e,t,r,n,i)=>{t.arrowTypeStart&&SI(e,"start",t.arrowTypeStart,r,n,i),t.arrowTypeEnd&&SI(e,"end",t.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),B0e={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},SI=o((e,t,r,n,i,a)=>{let s=B0e[r];if(!s){J.warn(`Unknown arrow type: ${r}`);return}let l=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${n}#${i}_${a}-${s}${l})`)},"addEdgeMarker")});function e5(e,t){Ge().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}function F0e(e){let t=[],r=[];for(let n=1;n<e.length-1;n++){let i=e[n-1],a=e[n],s=e[n+1];(i.x===a.x&&a.y===s.y&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-i.y)>5||i.y===a.y&&a.x===s.x&&Math.abs(a.x-i.x)>5&&Math.abs(a.y-s.y)>5)&&(t.push(a),r.push(n))}return{cornerPoints:t,cornerPointPositions:r}}var t5,Ds,$0e,Lm,AI,LI,z0e,q0e,NI,MI,G0e,II,Y0e=R(()=>{"use strict";zr(),En(),We(),eh(),kn(),O0e(),j8(),Ln(),Kr(),wM(),rXe(),t5=new Map,Ds=new Map,$0e=o(()=>{t5.clear(),Ds.clear()},"clear"),Lm=o(e=>e?e.reduce((t,r)=>t+";"+r,""):"","getLabelStyles"),AI=o(async(e,t)=>{let r=Ii(Ge().flowchart.htmlLabels),n=await Vl(e,t.label,{style:Lm(t.labelStyle),useHtmlLabels:r,addSvgBackground:!0,isNode:!1});J.info("abc82",t,t.labelType);let i=e.insert("g").attr("class","edgeLabel"),a=i.insert("g").attr("class","label");a.node().appendChild(n);let s=n.getBBox();if(r){let u=n.children[0],h=Bt(n);s=u.getBoundingClientRect(),h.attr("width",s.width),h.attr("height",s.height)}a.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),t5.set(t.id,i),t.width=s.width,t.height=s.height;let l;if(t.startLabelLeft){let u=await Pd(t.startLabelLeft,Lm(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);let p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),Ds.get(t.id)||Ds.set(t.id,{}),Ds.get(t.id).startLeft=h,e5(l,t.startLabelLeft)}if(t.startLabelRight){let u=await Pd(t.startLabelRight,Lm(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=h.node().appendChild(u),d.node().appendChild(u);let p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),Ds.get(t.id)||Ds.set(t.id,{}),Ds.get(t.id).startRight=h,e5(l,t.startLabelRight)}if(t.endLabelLeft){let u=await Pd(t.endLabelLeft,Lm(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);let p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),h.node().appendChild(u),Ds.get(t.id)||Ds.set(t.id,{}),Ds.get(t.id).endLeft=h,e5(l,t.endLabelLeft)}if(t.endLabelRight){let u=await Pd(t.endLabelRight,Lm(t.labelStyle)),h=e.insert("g").attr("class","edgeTerminals"),d=h.insert("g").attr("class","inner");l=d.node().appendChild(u);let p=u.getBBox();d.attr("transform","translate("+-p.width/2+", "+-p.height/2+")"),h.node().appendChild(u),Ds.get(t.id)||Ds.set(t.id,{}),Ds.get(t.id).endRight=h,e5(l,t.endLabelRight)}return n},"insertEdgeLabel"),o(e5,"setTerminalWidth"),LI=o((e,t)=>{J.debug("Moving label abc88 ",e.id,e.label,t5.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath,n=Ge(),{subGraphTitleTotalMargin:i}=Am(n);if(e.label){let a=t5.get(e.id),s=e.x,l=e.y;if(r){let u=mn.calcLabelPosition(r);J.debug("Moving label "+e.label+" from (",s,",",l,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(s=u.x,l=u.y)}a.attr("transform",`translate(${s}, ${l+i/2})`)}if(e.startLabelLeft){let a=Ds.get(e.id).startLeft,s=e.x,l=e.y;if(r){let u=mn.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.startLabelRight){let a=Ds.get(e.id).startRight,s=e.x,l=e.y;if(r){let u=mn.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.endLabelLeft){let a=Ds.get(e.id).endLeft,s=e.x,l=e.y;if(r){let u=mn.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.endLabelRight){let a=Ds.get(e.id).endRight,s=e.x,l=e.y;if(r){let u=mn.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}},"positionEdgeLabel"),z0e=o((e,t)=>{let r=e.x,n=e.y,i=Math.abs(t.x-r),a=Math.abs(t.y-n),s=e.width/2,l=e.height/2;return i>=s||a>=l},"outsideNode"),q0e=o((e,t,r)=>{J.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let n=e.x,i=e.y,a=Math.abs(n-r.x),s=e.width/2,l=r.x<t.x?s-a:s+a,u=e.height/2,h=Math.abs(t.y-r.y),d=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*s>Math.abs(n-t.x)*u){let p=r.y<t.y?t.y-u-i:i-u-t.y;l=d*p/h;let f={x:r.x<t.x?r.x+l:r.x-d+l,y:r.y<t.y?r.y+h-p:r.y-h+p};return l===0&&(f.x=t.x,f.y=t.y),d===0&&(f.x=t.x),h===0&&(f.y=t.y),J.debug(`abc89 top/bottom calc, Q ${h}, q ${p}, R ${d}, r ${l}`,f),f}else{r.x<t.x?l=t.x-s-n:l=n-s-t.x;let p=h*l/d,f=r.x<t.x?r.x+d-l:r.x-d+l,g=r.y<t.y?r.y+p:r.y-p;return J.debug(`sides calc abc89, Q ${h}, q ${p}, R ${d}, r ${l}`,{_x:f,_y:g}),l===0&&(f=t.x,g=t.y),d===0&&(f=t.x),h===0&&(g=t.y),{x:f,y:g}}},"intersection"),NI=o((e,t)=>{J.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(a=>{if(J.info("abc88 checking point",a,t),!z0e(t,a)&&!i){let s=q0e(t,n,a);J.debug("abc88 inside",a,n,s),J.debug("abc88 intersection",s,t);let l=!1;r.forEach(u=>{l=l||u.x===s.x&&u.y===s.y}),r.some(u=>u.x===s.x&&u.y===s.y)?J.warn("abc88 no intersect",s,r):r.push(s),i=!0}else J.warn("abc88 outside",a,n),n=a,i||r.push(a)}),J.debug("returning points",r),r},"cutPathAtIntersect"),o(F0e,"extractCornerPoints"),MI=o(function(e,t,r){let n=t.x-e.x,i=t.y-e.y,a=Math.sqrt(n*n+i*i),s=r/a;return{x:t.x-s*n,y:t.y-s*i}},"findAdjacentPoint"),G0e=o(function(e){let{cornerPointPositions:t}=F0e(e),r=[];for(let n=0;n<e.length;n++)if(t.includes(n)){let i=e[n-1],a=e[n+1],s=e[n],l=MI(i,s,5),u=MI(a,s,5),h=u.x-l.x,d=u.y-l.y;r.push(l);let p=Math.sqrt(2)*2,f={x:s.x,y:s.y};if(Math.abs(a.x-i.x)>10&&Math.abs(a.y-i.y)>=10){J.debug("Corner point fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));let g=5;s.x===l.x?f={x:h<0?l.x-g+p:l.x+g-p,y:d<0?l.y-p:l.y+p}:f={x:h<0?l.x-p:l.x+p,y:d<0?l.y-g+p:l.y+g-p}}else J.debug("Corner point skipping fixing",Math.abs(a.x-i.x),Math.abs(a.y-i.y));r.push(f,u)}else r.push(e[n]);return r},"fixCorners"),II=o(function(e,t,r,n,i,a,s){let{handDrawnSeed:l}=Ge(),u=t.points,h=!1,d=i;var p=a;p.intersect&&d.intersect&&(u=u.slice(1,t.points.length-1),u.unshift(d.intersect(u[0])),J.debug("Last point APA12",t.start,"-->",t.end,u[u.length-1],p,p.intersect(u[u.length-1])),u.push(p.intersect(u[u.length-1]))),t.toCluster&&(J.info("to cluster abc88",r.get(t.toCluster)),u=NI(t.points,r.get(t.toCluster).node),h=!0),t.fromCluster&&(J.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(u,null,2)),u=NI(u.reverse(),r.get(t.fromCluster).node).reverse(),h=!0);let f=u.filter(L=>!Number.isNaN(L.y));f=G0e(f);let g=Qf;t.curve&&(g=t.curve);let{x:m,y}=_I(t),b=wd().x(m).y(y).curve(g),v;switch(t.thickness){case"normal":v="edge-thickness-normal";break;case"thick":v="edge-thickness-thick";break;case"invisible":v="edge-thickness-invisible";break;default:v="edge-thickness-normal"}switch(t.pattern){case"solid":v+=" edge-pattern-solid";break;case"dotted":v+=" edge-pattern-dotted";break;case"dashed":v+=" edge-pattern-dashed";break;default:v+=" edge-pattern-solid"}let x,w=b(f),E=Array.isArray(t.style)?t.style:[t.style];if(t.look==="handDrawn"){let L=Or.svg(e);Object.assign([],f);let C=L.path(w,{roughness:.3,seed:l});v+=" transition",x=Bt(C).select("path").attr("id",t.id).attr("class"," "+v+(t.classes?" "+t.classes:"")).attr("style",E?E.reduce((P,O)=>P+";"+O,""):"");let D=x.attr("d");x.attr("d",D),e.node().appendChild(x.node())}else x=e.append("path").attr("d",w).attr("id",t.id).attr("class"," "+v+(t.classes?" "+t.classes:"")).attr("style",E?E.reduce((L,C)=>L+";"+C,""):"");let A="";(Ge().flowchart.arrowMarkerAbsolute||Ge().state.arrowMarkerAbsolute)&&(A=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,A=A.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),J.info("arrowTypeStart",t.arrowTypeStart),J.info("arrowTypeEnd",t.arrowTypeEnd),P0e(x,t,A,s,n);let N={};return h&&(N.updatedPath=u),N.originalPath=t.points,N},"insertEdge")}),j0e,H0e,U0e,V0e,W0e,X0e,K0e,Z0e,Q0e,J0e,ede,DI,tde=R(()=>{"use strict";We(),j0e=o((e,t,r,n)=>{t.forEach(i=>{ede[i](e,r,n)})},"insertMarkers"),H0e=o((e,t,r)=>{J.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),U0e=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),V0e=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),W0e=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),X0e=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),K0e=o((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),Z0e=o((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),Q0e=o((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),J0e=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),ede={extension:H0e,composition:U0e,aggregation:V0e,dependency:W0e,lollipop:X0e,point:K0e,circle:Z0e,cross:Q0e,barb:J0e},DI=j0e});async function U8(e,t,r){let n,i;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");let a=t.shape?kM[t.shape]:void 0;if(!a)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let s;r.config.securityLevel==="sandbox"?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",s??null),i=await a(n,t,r)}else i=await a(e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),r5.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}var r5,rde,nde,V8,RI=R(()=>{"use strict";We(),Sce(),r5=new Map,o(U8,"insertNode"),rde=o((e,t)=>{r5.set(t.id,e)},"setNodeElem"),nde=o(()=>{r5.clear()},"clear"),V8=o(e=>{let t=r5.get(e.id);J.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode")}),ide,nXe=R(()=>{"use strict";wo(),En(),We(),CI(),Y0e(),tde(),RI(),Sr(),kn(),ide={common:Yt,getConfig:Ni,insertCluster:H8,insertEdge:II,insertEdgeLabel:AI,insertMarkers:DI,insertNode:U8,interpolateToCurve:xN,labelHelper:ln,log:J,positionEdgeLabel:LI}});function ade(e){return typeof e=="symbol"||Hl(e)&&Zu(e)==sde}var sde,Fd,Nm=R(()=>{"use strict";Td(),su(),sde="[object Symbol]",o(ade,"isSymbol"),Fd=ade});function ode(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var i0,Mm=R(()=>{"use strict";o(ode,"arrayMap"),i0=ode});function OI(e){if(typeof e=="string")return e;if(zn(e))return i0(e,OI)+"";if(Fd(e))return BI?BI.call(e):"";var t=e+"";return t=="0"&&1/e==-lde?"-0":t}var lde,PI,BI,cde,iXe=R(()=>{"use strict";Jf(),Mm(),ha(),Nm(),lde=1/0,PI=Yl?Yl.prototype:void 0,BI=PI?PI.toString:void 0,o(OI,"baseToString"),cde=OI});function ude(e){for(var t=e.length;t--&&hde.test(e.charAt(t)););return t}var hde,dde,aXe=R(()=>{"use strict";hde=/\s/,o(ude,"trimmedEndIndex"),dde=ude});function pde(e){return e&&e.slice(0,dde(e)+1).replace(gde,"")}var gde,fde,sXe=R(()=>{"use strict";aXe(),gde=/^\s+/,o(pde,"baseTrim"),fde=pde});function mde(e){if(typeof e=="number")return e;if(Fd(e))return FI;if(zo(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=zo(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=fde(e);var r=vde.test(e);return r||bde.test(e)?xde(e.slice(2),r?2:8):yde.test(e)?FI:+e}var FI,yde,vde,bde,xde,wde,oXe=R(()=>{"use strict";sXe(),kc(),Nm(),FI=NaN,yde=/^[-+]0x[0-9a-f]+$/i,vde=/^0b[01]+$/i,bde=/^0o[0-7]+$/i,xde=parseInt,o(mde,"toNumber"),wde=mde});function kde(e){if(!e)return e===0?e:0;if(e=wde(e),e===$I||e===-$I){var t=e<0?-1:1;return t*Tde}return e===e?e:0}var $I,Tde,n5,Ede=R(()=>{"use strict";oXe(),$I=1/0,Tde=17976931348623157e292,o(kde,"toFinite"),n5=kde});function Cde(e){var t=n5(e),r=t%1;return t===t?r?t-r:t:0}var Im,i5=R(()=>{"use strict";Ede(),o(Cde,"toInteger"),Im=Cde}),_de,W8,lXe=R(()=>{"use strict";fp(),au(),_de=Cd(wc,"WeakMap"),W8=_de});function Sde(){}var Xa,Ade=R(()=>{"use strict";o(Sde,"noop"),Xa=Sde});function Lde(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var zI,Nde=R(()=>{"use strict";o(Lde,"arrayEach"),zI=Lde});function Mde(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var qI,Ide=R(()=>{"use strict";o(Mde,"baseFindIndex"),qI=Mde});function Dde(e){return e!==e}var Rde,cXe=R(()=>{"use strict";o(Dde,"baseIsNaN"),Rde=Dde});function Ode(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var Pde,uXe=R(()=>{"use strict";o(Ode,"strictIndexOf"),Pde=Ode});function Bde(e,t,r){return t===t?Pde(e,t,r):qI(e,Rde,r)}var X8,GI=R(()=>{"use strict";Ide(),cXe(),uXe(),o(Bde,"baseIndexOf"),X8=Bde});function Fde(e,t){var r=e==null?0:e.length;return!!r&&X8(e,t,0)>-1}var YI,$de=R(()=>{"use strict";GI(),o(Fde,"arrayIncludes"),YI=Fde}),zde,qde,hXe=R(()=>{"use strict";lie(),zde=tN(Object.keys,Object),qde=zde});function Gde(e){if(!am(e))return qde(e);var t=[];for(var r in Object(e))jde.call(e,r)&&r!="constructor"&&t.push(r);return t}var Yde,jde,K8,jI=R(()=>{"use strict";g3(),hXe(),Yde=Object.prototype,jde=Yde.hasOwnProperty,o(Gde,"baseKeys"),K8=Gde});function Hde(e){return Tc(e)?gN(e):K8(e)}var Ka,a0=R(()=>{"use strict";Sae(),jI(),ou(),o(Hde,"keys"),Ka=Hde}),Ude,Vde,Wde,bl,dXe=R(()=>{"use strict";b3(),cm(),ase(),ou(),g3(),a0(),Ude=Object.prototype,Vde=Ude.hasOwnProperty,Wde=bN(function(e,t){if(am(t)||Tc(t)){Cp(t,Ka(t),e);return}for(var r in t)Vde.call(t,r)&&lm(e,r,t[r])}),bl=Wde});function Xde(e,t){if(zn(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Fd(e)?!0:Zde.test(e)||!Kde.test(e)||t!=null&&e in Object(t)}var Kde,Zde,Z8,HI=R(()=>{"use strict";ha(),Nm(),Kde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zde=/^\w*$/,o(Xde,"isKey"),Z8=Xde});function Qde(e){var t=u3(e,function(n){return r.size===Jde&&r.clear(),n}),r=t.cache;return t}var Jde,e1e,pXe=R(()=>{"use strict";Lne(),Jde=500,o(Qde,"memoizeCapped"),e1e=Qde}),t1e,r1e,n1e,i1e,gXe=R(()=>{"use strict";pXe(),t1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r1e=/\\(\\)?/g,n1e=e1e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(t1e,function(r,n,i,a){t.push(i?a.replace(r1e,"$1"):n||r)}),t}),i1e=n1e});function a1e(e){return e==null?"":cde(e)}var UI,s1e=R(()=>{"use strict";iXe(),o(a1e,"toString"),UI=a1e});function o1e(e,t){return zn(e)?e:Z8(e,t)?[e]:i1e(UI(e))}var a5,Q8=R(()=>{"use strict";ha(),HI(),gXe(),s1e(),o(o1e,"castPath"),a5=o1e});function l1e(e){if(typeof e=="string"||Fd(e))return e;var t=e+"";return t=="0"&&1/e==-c1e?"-0":t}var c1e,Dm,s5=R(()=>{"use strict";Nm(),c1e=1/0,o(l1e,"toKey"),Dm=l1e});function u1e(e,t){t=a5(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Dm(t[r++])];return r&&r==n?e:void 0}var o5,J8=R(()=>{"use strict";Q8(),s5(),o(u1e,"baseGet"),o5=u1e});function h1e(e,t,r){var n=e==null?void 0:o5(e,t);return n===void 0?r:n}var d1e,fXe=R(()=>{"use strict";J8(),o(h1e,"get"),d1e=h1e});function p1e(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var ew,VI=R(()=>{"use strict";o(p1e,"arrayPush"),ew=p1e});function g1e(e){return zn(e)||kp(e)||!!(WI&&e&&e[WI])}var WI,f1e,mXe=R(()=>{"use strict";Jf(),f3(),ha(),WI=Yl?Yl.isConcatSpreadable:void 0,o(g1e,"isFlattenable"),f1e=g1e});function XI(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=f1e),i||(i=[]);++a<s;){var l=e[a];t>0&&r(l)?t>1?XI(l,t-1,r,n,i):ew(i,l):n||(i[i.length]=l)}return i}var Rm,l5=R(()=>{"use strict";VI(),mXe(),o(XI,"baseFlatten"),Rm=XI});function m1e(e){var t=e==null?0:e.length;return t?Rm(e,1):[]}var bs,KI=R(()=>{"use strict";l5(),o(m1e,"flatten"),bs=m1e});function y1e(e){return vN(yN(e,void 0,bs),e+"")}var v1e,yXe=R(()=>{"use strict";KI(),jae(),tse(),o(y1e,"flatRest"),v1e=y1e});function b1e(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var ZI,x1e=R(()=>{"use strict";o(b1e,"baseSlice"),ZI=b1e});function w1e(e){return L1e.test(e)}var k1e,T1e,E1e,C1e,_1e,S1e,A1e,L1e,N1e,vXe=R(()=>{"use strict";k1e="\\ud800-\\udfff",T1e="\\u0300-\\u036f",E1e="\\ufe20-\\ufe2f",C1e="\\u20d0-\\u20ff",_1e=T1e+E1e+C1e,S1e="\\ufe0e\\ufe0f",A1e="\\u200d",L1e=RegExp("["+A1e+k1e+_1e+S1e+"]"),o(w1e,"hasUnicode"),N1e=w1e});function M1e(e,t,r,n){var i=-1,a=e==null?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}var I1e,bXe=R(()=>{"use strict";o(M1e,"arrayReduce"),I1e=M1e});function D1e(e,t){return e&&Cp(t,Ka(t),e)}var R1e,xXe=R(()=>{"use strict";cm(),a0(),o(D1e,"baseAssign"),R1e=D1e});function O1e(e,t){return e&&Cp(t,_d(t),e)}var P1e,wXe=R(()=>{"use strict";cm(),_p(),o(O1e,"baseAssignIn"),P1e=O1e});function B1e(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var tw,QI=R(()=>{"use strict";o(B1e,"arrayFilter"),tw=B1e});function F1e(){return[]}var JI,$1e=R(()=>{"use strict";o(F1e,"stubArray"),JI=F1e}),z1e,q1e,eD,G1e,rw,tD=R(()=>{"use strict";QI(),$1e(),z1e=Object.prototype,q1e=z1e.propertyIsEnumerable,eD=Object.getOwnPropertySymbols,G1e=eD?function(e){return e==null?[]:(e=Object(e),tw(eD(e),function(t){return q1e.call(e,t)}))}:JI,rw=G1e});function Y1e(e,t){return Cp(e,rw(e),t)}var j1e,kXe=R(()=>{"use strict";cm(),tD(),o(Y1e,"copySymbols"),j1e=Y1e}),H1e,U1e,rD,V1e=R(()=>{"use strict";VI(),rN(),tD(),$1e(),H1e=Object.getOwnPropertySymbols,U1e=H1e?function(e){for(var t=[];e;)ew(t,rw(e)),e=F7(e);return t}:JI,rD=U1e});function W1e(e,t){return Cp(e,rD(e),t)}var X1e,TXe=R(()=>{"use strict";cm(),V1e(),o(W1e,"copySymbolsIn"),X1e=W1e});function K1e(e,t,r){var n=t(e);return zn(e)?n:ew(n,r(e))}var nD,Z1e=R(()=>{"use strict";VI(),ha(),o(K1e,"baseGetAllKeys"),nD=K1e});function Q1e(e){return nD(e,Ka,rw)}var nw,J1e=R(()=>{"use strict";Z1e(),tD(),a0(),o(Q1e,"getAllKeys"),nw=Q1e});function epe(e){return nD(e,_d,rD)}var iD,tpe=R(()=>{"use strict";Z1e(),V1e(),_p(),o(epe,"getAllKeysIn"),iD=epe}),rpe,iw,EXe=R(()=>{"use strict";fp(),au(),rpe=Cd(wc,"DataView"),iw=rpe}),npe,aw,CXe=R(()=>{"use strict";fp(),au(),npe=Cd(wc,"Promise"),aw=npe}),ipe,Bp,ape=R(()=>{"use strict";fp(),au(),ipe=Cd(wc,"Set"),Bp=ipe}),aD,spe,sD,oD,lD,cD,ope,lpe,cpe,upe,hpe,$d,zd,Om=R(()=>{"use strict";EXe(),YL(),CXe(),ape(),lXe(),Td(),Ere(),aD="[object Map]",spe="[object Object]",sD="[object Promise]",oD="[object Set]",lD="[object WeakMap]",cD="[object DataView]",ope=Ed(iw),lpe=Ed(nm),cpe=Ed(aw),upe=Ed(Bp),hpe=Ed(W8),$d=Zu,(iw&&$d(new iw(new ArrayBuffer(1)))!=cD||nm&&$d(new nm)!=aD||aw&&$d(aw.resolve())!=sD||Bp&&$d(new Bp)!=oD||W8&&$d(new W8)!=lD)&&($d=o(function(e){var t=Zu(e),r=t==spe?e.constructor:void 0,n=r?Ed(r):"";if(n)switch(n){case ope:return cD;case lpe:return aD;case cpe:return sD;case upe:return oD;case hpe:return lD}return t},"getTag")),zd=$d});function dpe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&gpe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var ppe,gpe,fpe,_Xe=R(()=>{"use strict";ppe=Object.prototype,gpe=ppe.hasOwnProperty,o(dpe,"initCloneArray"),fpe=dpe});function mpe(e,t){var r=t?B7(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var ype,SXe=R(()=>{"use strict";ZL(),o(mpe,"cloneDataView"),ype=mpe});function vpe(e){var t=new e.constructor(e.source,bpe.exec(e));return t.lastIndex=e.lastIndex,t}var bpe,xpe,AXe=R(()=>{"use strict";bpe=/\w*$/,o(vpe,"cloneRegExp"),xpe=vpe});function wpe(e){return hD?Object(hD.call(e)):{}}var uD,hD,kpe,LXe=R(()=>{"use strict";Jf(),uD=Yl?Yl.prototype:void 0,hD=uD?uD.valueOf:void 0,o(wpe,"cloneSymbol"),kpe=wpe});function Tpe(e,t,r){var n=e.constructor;switch(t){case Ipe:return B7(e);case Epe:case Cpe:return new n(+e);case Dpe:return ype(e,r);case Rpe:case Ope:case Ppe:case Bpe:case Fpe:case $pe:case zpe:case qpe:case Gpe:return QL(e,r);case _pe:return new n;case Spe:case Npe:return new n(e);case Ape:return xpe(e);case Lpe:return new n;case Mpe:return kpe(e)}}var Epe,Cpe,_pe,Spe,Ape,Lpe,Npe,Mpe,Ipe,Dpe,Rpe,Ope,Ppe,Bpe,Fpe,$pe,zpe,qpe,Gpe,Ype,NXe=R(()=>{"use strict";ZL(),SXe(),AXe(),LXe(),rie(),Epe="[object Boolean]",Cpe="[object Date]",_pe="[object Map]",Spe="[object Number]",Ape="[object RegExp]",Lpe="[object Set]",Npe="[object String]",Mpe="[object Symbol]",Ipe="[object ArrayBuffer]",Dpe="[object DataView]",Rpe="[object Float32Array]",Ope="[object Float64Array]",Ppe="[object Int8Array]",Bpe="[object Int16Array]",Fpe="[object Int32Array]",$pe="[object Uint8Array]",zpe="[object Uint8ClampedArray]",qpe="[object Uint16Array]",Gpe="[object Uint32Array]",o(Tpe,"initCloneByTag"),Ype=Tpe});function jpe(e){return Hl(e)&&zd(e)==Hpe}var Hpe,Upe,MXe=R(()=>{"use strict";Om(),su(),Hpe="[object Map]",o(jpe,"baseIsMap"),Upe=jpe}),dD,Vpe,Wpe,IXe=R(()=>{"use strict";MXe(),sm(),q7(),dD=Vh&&Vh.isMap,Vpe=dD?Ep(dD):Upe,Wpe=Vpe});function Xpe(e){return Hl(e)&&zd(e)==Kpe}var Kpe,Zpe,DXe=R(()=>{"use strict";Om(),su(),Kpe="[object Set]",o(Xpe,"baseIsSet"),Zpe=Xpe}),pD,Qpe,Jpe,RXe=R(()=>{"use strict";DXe(),sm(),q7(),pD=Vh&&Vh.isSet,Qpe=pD?Ep(pD):Zpe,Jpe=Qpe});function c5(e,t,r,n,i,a){var s,l=t&ege,u=t&tge,h=t&rge;if(r&&(s=i?r(e,n,i,a):r(e)),s!==void 0)return s;if(!zo(e))return e;var d=zn(e);if(d){if(s=fpe(e),!l)return JL(e,s)}else{var p=zd(e),f=p==fD||p==oge;if(Tp(e))return KL(e,l);if(p==mD||p==gD||f&&!i){if(s=u||f?{}:nN(e),!l)return u?X1e(e,P1e(s,e)):j1e(e,R1e(s,e))}else{if(!Pi[p])return i?e:{};s=Ype(e,p,l)}}a||(a=new wp);var g=a.get(e);if(g)return g;a.set(e,s),Jpe(e)?e.forEach(function(b){s.add(c5(b,t,r,b,e,a))}):Wpe(e)&&e.forEach(function(b,v){s.set(v,c5(b,t,r,v,e,a))});var m=h?u?iD:nw:u?_d:Ka,y=d?void 0:m(e);return zI(y||e,function(b,v){y&&(v=b,b=e[v]),lm(s,v,c5(b,t,r,v,e,a))}),s}var ege,tge,rge,gD,nge,ige,age,sge,fD,oge,lge,cge,mD,uge,hge,dge,pge,gge,fge,mge,yge,vge,bge,xge,wge,kge,Tge,Ege,Cge,Pi,yD,_ge=R(()=>{"use strict";R7(),Nde(),b3(),xXe(),wXe(),Zne(),iie(),kXe(),TXe(),J1e(),tpe(),Om(),_Xe(),NXe(),pie(),ha(),y3(),IXe(),kc(),RXe(),a0(),_p(),ege=1,tge=2,rge=4,gD="[object Arguments]",nge="[object Array]",ige="[object Boolean]",age="[object Date]",sge="[object Error]",fD="[object Function]",oge="[object GeneratorFunction]",lge="[object Map]",cge="[object Number]",mD="[object Object]",uge="[object RegExp]",hge="[object Set]",dge="[object String]",pge="[object Symbol]",gge="[object WeakMap]",fge="[object ArrayBuffer]",mge="[object DataView]",yge="[object Float32Array]",vge="[object Float64Array]",bge="[object Int8Array]",xge="[object Int16Array]",wge="[object Int32Array]",kge="[object Uint8Array]",Tge="[object Uint8ClampedArray]",Ege="[object Uint16Array]",Cge="[object Uint32Array]",Pi={},Pi[gD]=Pi[nge]=Pi[fge]=Pi[mge]=Pi[ige]=Pi[age]=Pi[yge]=Pi[vge]=Pi[bge]=Pi[xge]=Pi[wge]=Pi[lge]=Pi[cge]=Pi[mD]=Pi[uge]=Pi[hge]=Pi[dge]=Pi[pge]=Pi[kge]=Pi[Tge]=Pi[Ege]=Pi[Cge]=!0,Pi[sge]=Pi[fD]=Pi[gge]=!1,o(c5,"baseClone"),yD=c5});function Sge(e){return yD(e,Age)}var Age,Za,Lge=R(()=>{"use strict";_ge(),Age=4,o(Sge,"clone"),Za=Sge});function Nge(e){return yD(e,Mge|Ige)}var Mge,Ige,Dge,OXe=R(()=>{"use strict";_ge(),Mge=1,Ige=4,o(Nge,"cloneDeep"),Dge=Nge});function Rge(e){for(var t=-1,r=e==null?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i}var Pm,PXe=R(()=>{"use strict";o(Rge,"compact"),Pm=Rge});function Oge(e){return this.__data__.set(e,Pge),this}var Pge,Bge,BXe=R(()=>{"use strict";Pge="__lodash_hash_undefined__",o(Oge,"setCacheAdd"),Bge=Oge});function Fge(e){return this.__data__.has(e)}var $ge,FXe=R(()=>{"use strict";o(Fge,"setCacheHas"),$ge=Fge});function u5(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new c3;++t<r;)this.add(e[t])}var sw,vD=R(()=>{"use strict";jL(),BXe(),FXe(),o(u5,"SetCache"),u5.prototype.add=u5.prototype.push=Bge,u5.prototype.has=$ge,sw=u5});function zge(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var bD,qge=R(()=>{"use strict";o(zge,"arraySome"),bD=zge});function Gge(e,t){return e.has(t)}var ow,xD=R(()=>{"use strict";o(Gge,"cacheHas"),ow=Gge});function Yge(e,t,r,n,i,a){var s=r&jge,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var p=-1,f=!0,g=r&Hge?new sw:void 0;for(a.set(e,t),a.set(t,e);++p<l;){var m=e[p],y=t[p];if(n)var b=s?n(y,m,p,t,e,a):n(m,y,p,e,t,a);if(b!==void 0){if(b)continue;f=!1;break}if(g){if(!bD(t,function(v,x){if(!ow(g,x)&&(m===v||i(m,v,r,n,a)))return g.push(x)})){f=!1;break}}else if(!(m===y||i(m,y,r,n,a))){f=!1;break}}return a.delete(e),a.delete(t),f}var jge,Hge,wD,Uge=R(()=>{"use strict";vD(),qge(),xD(),jge=1,Hge=2,o(Yge,"equalArrays"),wD=Yge});function Vge(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var Wge,$Xe=R(()=>{"use strict";o(Vge,"mapToArray"),Wge=Vge});function Xge(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var lw,kD=R(()=>{"use strict";o(Xge,"setToArray"),lw=Xge});function Kge(e,t,r,n,i,a,s){switch(r){case cfe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case lfe:return!(e.byteLength!=t.byteLength||!a(new p3(e),new p3(t)));case Jge:case efe:case nfe:return yp(+e,+t);case tfe:return e.name==t.name&&e.message==t.message;case ife:case sfe:return e==t+"";case rfe:var l=Wge;case afe:var u=n&Zge;if(l||(l=lw),e.size!=t.size&&!u)return!1;var h=s.get(e);if(h)return h==t;n|=Qge,s.set(e,t);var d=wD(l(e),l(t),n,i,a,s);return s.delete(e),d;case ofe:if(cw)return cw.call(e)==cw.call(t)}return!1}var Zge,Qge,Jge,efe,tfe,rfe,nfe,ife,afe,sfe,ofe,lfe,cfe,TD,cw,ufe,zXe=R(()=>{"use strict";Jf(),Jne(),rm(),Uge(),$Xe(),kD(),Zge=1,Qge=2,Jge="[object Boolean]",efe="[object Date]",tfe="[object Error]",rfe="[object Map]",nfe="[object Number]",ife="[object RegExp]",afe="[object Set]",sfe="[object String]",ofe="[object Symbol]",lfe="[object ArrayBuffer]",cfe="[object DataView]",TD=Yl?Yl.prototype:void 0,cw=TD?TD.valueOf:void 0,o(Kge,"equalByTag"),ufe=Kge});function hfe(e,t,r,n,i,a){var s=r&dfe,l=nw(e),u=l.length,h=nw(t),d=h.length;if(u!=d&&!s)return!1;for(var p=u;p--;){var f=l[p];if(!(s?f in t:gfe.call(t,f)))return!1}var g=a.get(e),m=a.get(t);if(g&&m)return g==t&&m==e;var y=!0;a.set(e,t),a.set(t,e);for(var b=s;++p<u;){f=l[p];var v=e[f],x=t[f];if(n)var w=s?n(x,v,f,t,e,a):n(v,x,f,e,t,a);if(!(w===void 0?v===x||i(v,x,r,n,a):w)){y=!1;break}b||(b=f=="constructor")}if(y&&!b){var E=e.constructor,A=t.constructor;E!=A&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof A=="function"&&A instanceof A)&&(y=!1)}return a.delete(e),a.delete(t),y}var dfe,pfe,gfe,ffe,qXe=R(()=>{"use strict";J1e(),dfe=1,pfe=Object.prototype,gfe=pfe.hasOwnProperty,o(hfe,"equalObjects"),ffe=hfe});function mfe(e,t,r,n,i,a){var s=zn(e),l=zn(t),u=s?CD:zd(e),h=l?CD:zd(t);u=u==ED?h5:u,h=h==ED?h5:h;var d=u==h5,p=h==h5,f=u==h;if(f&&Tp(e)){if(!Tp(t))return!1;s=!0,d=!1}if(f&&!d)return a||(a=new wp),s||v3(e)?wD(e,t,r,n,i,a):ufe(e,t,u,r,n,i,a);if(!(r&yfe)){var g=d&&_D.call(e,"__wrapped__"),m=p&&_D.call(t,"__wrapped__");if(g||m){var y=g?e.value():e,b=m?t.value():t;return a||(a=new wp),i(y,b,r,n,a)}}return f?(a||(a=new wp),ffe(e,t,r,n,i,a)):!1}var yfe,ED,CD,h5,vfe,_D,bfe,GXe=R(()=>{"use strict";R7(),Uge(),zXe(),qXe(),Om(),ha(),y3(),G7(),yfe=1,ED="[object Arguments]",CD="[object Array]",h5="[object Object]",vfe=Object.prototype,_D=vfe.hasOwnProperty,o(mfe,"baseIsEqualDeep"),bfe=mfe});function SD(e,t,r,n,i){return e===t?!0:e==null||t==null||!Hl(e)&&!Hl(t)?e!==e&&t!==t:bfe(e,t,r,n,SD,i)}var AD,xfe=R(()=>{"use strict";GXe(),su(),o(SD,"baseIsEqual"),AD=SD});function wfe(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var l=r[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=r[i];var u=l[0],h=e[u],d=l[1];if(s&&l[2]){if(h===void 0&&!(u in e))return!1}else{var p=new wp;if(n)var f=n(h,d,u,e,t,p);if(!(f===void 0?AD(d,h,kfe|Tfe,n,p):f))return!1}}return!0}var kfe,Tfe,Efe,YXe=R(()=>{"use strict";R7(),xfe(),kfe=1,Tfe=2,o(wfe,"baseIsMatch"),Efe=wfe});function Cfe(e){return e===e&&!zo(e)}var LD,_fe=R(()=>{"use strict";kc(),o(Cfe,"isStrictComparable"),LD=Cfe});function Sfe(e){for(var t=Ka(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,LD(i)]}return t}var Afe,jXe=R(()=>{"use strict";_fe(),a0(),o(Sfe,"getMatchData"),Afe=Sfe});function Lfe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var ND,Nfe=R(()=>{"use strict";o(Lfe,"matchesStrictComparable"),ND=Lfe});function Mfe(e){var t=Afe(e);return t.length==1&&t[0][2]?ND(t[0][0],t[0][1]):function(r){return r===e||Efe(r,e,t)}}var Ife,HXe=R(()=>{"use strict";YXe(),jXe(),Nfe(),o(Mfe,"baseMatches"),Ife=Mfe});function Dfe(e,t){return e!=null&&t in Object(e)}var Rfe,UXe=R(()=>{"use strict";o(Dfe,"baseHasIn"),Rfe=Dfe});function Ofe(e,t,r){t=a5(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=Dm(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&$7(i)&&x3(s,i)&&(zn(e)||kp(e)))}var MD,Pfe=R(()=>{"use strict";Q8(),f3(),ha(),j7(),sN(),s5(),o(Ofe,"hasPath"),MD=Ofe});function Bfe(e,t){return e!=null&&MD(e,t,Rfe)}var ID,Ffe=R(()=>{"use strict";UXe(),Pfe(),o(Bfe,"hasIn"),ID=Bfe});function $fe(e,t){return Z8(e)&&LD(t)?ND(Dm(e),t):function(r){var n=d1e(r,e);return n===void 0&&n===t?ID(r,e):AD(t,n,zfe|qfe)}}var zfe,qfe,Gfe,VXe=R(()=>{"use strict";xfe(),fXe(),Ffe(),HI(),_fe(),Nfe(),s5(),zfe=1,qfe=2,o($fe,"baseMatchesProperty"),Gfe=$fe});function Yfe(e){return function(t){return t?.[e]}}var DD,jfe=R(()=>{"use strict";o(Yfe,"baseProperty"),DD=Yfe});function Hfe(e){return function(t){return o5(t,e)}}var Ufe,WXe=R(()=>{"use strict";J8(),o(Hfe,"basePropertyDeep"),Ufe=Hfe});function Vfe(e){return Z8(e)?DD(Dm(e)):Ufe(e)}var Wfe,XXe=R(()=>{"use strict";jfe(),WXe(),HI(),s5(),o(Vfe,"property"),Wfe=Vfe});function Xfe(e){return typeof e=="function"?e:e==null?Qu:typeof e=="object"?zn(e)?Gfe(e[0],e[1]):Ife(e):Wfe(e)}var Uo,xl=R(()=>{"use strict";HXe(),VXe(),Sd(),ha(),XXe(),o(Xfe,"baseIteratee"),Uo=Xfe});function Kfe(e,t,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;){var s=e[i];t(n,s,r(s),e)}return n}var Zfe,KXe=R(()=>{"use strict";o(Kfe,"arrayAggregator"),Zfe=Kfe});function Qfe(e,t){return e&&P7(e,t,Ka)}var uw,RD=R(()=>{"use strict";HL(),a0(),o(Qfe,"baseForOwn"),uw=Qfe});function Jfe(e,t){return function(r,n){if(r==null)return r;if(!Tc(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var eme,ZXe=R(()=>{"use strict";ou(),o(Jfe,"createBaseEach"),eme=Jfe}),tme,qd,Fp=R(()=>{"use strict";RD(),ZXe(),tme=eme(uw),qd=tme});function rme(e,t,r,n){return qd(e,function(i,a,s){t(n,i,r(i),s)}),n}var nme,QXe=R(()=>{"use strict";Fp(),o(rme,"baseAggregator"),nme=rme});function ime(e,t){return function(r,n){var i=zn(r)?Zfe:nme,a=t?t():{};return i(r,e,Uo(n,2),a)}}var ame,JXe=R(()=>{"use strict";KXe(),QXe(),xl(),ha(),o(ime,"createAggregator"),ame=ime}),sme,OD,eKe=R(()=>{"use strict";au(),sme=o(function(){return wc.Date.now()},"now"),OD=sme}),PD,ome,lme,d5,tKe=R(()=>{"use strict";w3(),rm(),hm(),_p(),PD=Object.prototype,ome=PD.hasOwnProperty,lme=um(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&Ad(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],s=_d(a),l=-1,u=s.length;++l<u;){var h=s[l],d=e[h];(d===void 0||yp(d,PD[h])&&!ome.call(e,h))&&(e[h]=a[h])}return e}),d5=lme});function cme(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var BD,ume=R(()=>{"use strict";o(cme,"arrayIncludesWith"),BD=cme});function hme(e,t,r,n){var i=-1,a=YI,s=!0,l=e.length,u=[],h=t.length;if(!l)return u;r&&(t=i0(t,Ep(r))),n?(a=BD,s=!1):t.length>=dme&&(a=ow,s=!1,t=new sw(t));e:for(;++i<l;){var d=e[i],p=r==null?d:r(d);if(d=n||d!==0?d:0,s&&p===p){for(var f=h;f--;)if(t[f]===p)continue e;u.push(d)}else a(t,p,n)||u.push(d)}return u}var dme,pme,rKe=R(()=>{"use strict";vD(),$de(),ume(),Mm(),sm(),xD(),dme=200,o(hme,"baseDifference"),pme=hme}),gme,p5,nKe=R(()=>{"use strict";rKe(),l5(),w3(),oN(),gme=um(function(e,t){return m3(e)?pme(e,Rm(t,1,m3,!0)):[]}),p5=gme});function fme(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var cu,iKe=R(()=>{"use strict";o(fme,"last"),cu=fme});function mme(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:Im(t),ZI(e,t<0?0:t,n)):[]}var Rs,aKe=R(()=>{"use strict";x1e(),i5(),o(mme,"drop"),Rs=mme});function yme(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:Im(t),t=n-t,ZI(e,0,t<0?0:t)):[]}var Bm,sKe=R(()=>{"use strict";x1e(),i5(),o(yme,"dropRight"),Bm=yme});function vme(e){return typeof e=="function"?e:Qu}var hw,FD=R(()=>{"use strict";Sd(),o(vme,"castFunction"),hw=vme});function bme(e,t){var r=zn(e)?zI:qd;return r(e,hw(t))}var ut,$D=R(()=>{"use strict";Nde(),Fp(),FD(),ha(),o(bme,"forEach"),ut=bme}),oKe=R(()=>{"use strict";$D()});function xme(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var wme,lKe=R(()=>{"use strict";o(xme,"arrayEvery"),wme=xme});function kme(e,t){var r=!0;return qd(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var Tme,cKe=R(()=>{"use strict";Fp(),o(kme,"baseEvery"),Tme=kme});function Eme(e,t,r){var n=zn(e)?wme:Tme;return r&&Ad(e,t,r)&&(t=void 0),n(e,Uo(t,3))}var Sc,uKe=R(()=>{"use strict";lKe(),cKe(),xl(),ha(),hm(),o(Eme,"every"),Sc=Eme});function Cme(e,t){var r=[];return qd(e,function(n,i,a){t(n,i,a)&&r.push(n)}),r}var zD,_me=R(()=>{"use strict";Fp(),o(Cme,"baseFilter"),zD=Cme});function Sme(e,t){var r=zn(e)?tw:zD;return r(e,Uo(t,3))}var da,Ame=R(()=>{"use strict";QI(),_me(),xl(),ha(),o(Sme,"filter"),da=Sme});function Lme(e){return function(t,r,n){var i=Object(t);if(!Tc(t)){var a=Uo(r,3);t=Ka(t),r=o(function(l){return a(i[l],l,i)},"predicate")}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:void 0}}var Nme,hKe=R(()=>{"use strict";xl(),ou(),a0(),o(Lme,"createFind"),Nme=Lme});function Mme(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Im(r);return i<0&&(i=Ime(n+i,0)),qI(e,Uo(t,3),i)}var Ime,Dme,dKe=R(()=>{"use strict";Ide(),xl(),i5(),Ime=Math.max,o(Mme,"findIndex"),Dme=Mme}),Rme,ih,pKe=R(()=>{"use strict";hKe(),dKe(),Rme=Nme(Dme),ih=Rme});function Ome(e){return e&&e.length?e[0]:void 0}var Ac,gKe=R(()=>{"use strict";o(Ome,"head"),Ac=Ome}),fKe=R(()=>{"use strict";gKe()});function Pme(e,t){var r=-1,n=Tc(e)?Array(e.length):[];return qd(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var qD,Bme=R(()=>{"use strict";Fp(),ou(),o(Pme,"baseMap"),qD=Pme});function Fme(e,t){var r=zn(e)?i0:qD;return r(e,Uo(t,3))}var nr,g5=R(()=>{"use strict";Mm(),xl(),Bme(),ha(),o(Fme,"map"),nr=Fme});function $me(e,t){return Rm(nr(e,t),1)}var wl,zme=R(()=>{"use strict";l5(),g5(),o($me,"flatMap"),wl=$me});function qme(e,t){return e==null?e:P7(e,hw(t),_d)}var Gme,mKe=R(()=>{"use strict";HL(),FD(),_p(),o(qme,"forIn"),Gme=qme});function Yme(e,t){return e&&uw(e,hw(t))}var jme,yKe=R(()=>{"use strict";RD(),FD(),o(Yme,"forOwn"),jme=Yme}),Hme,Ume,Vme,Wme,vKe=R(()=>{"use strict";d3(),JXe(),Hme=Object.prototype,Ume=Hme.hasOwnProperty,Vme=ame(function(e,t,r){Ume.call(e,r)?e[r].push(t):im(e,r,[t])}),Wme=Vme});function Xme(e,t){return e>t}var Kme,bKe=R(()=>{"use strict";o(Xme,"baseGt"),Kme=Xme});function Zme(e,t){return e!=null&&Jme.call(e,t)}var Qme,Jme,e2e,xKe=R(()=>{"use strict";Qme=Object.prototype,Jme=Qme.hasOwnProperty,o(Zme,"baseHas"),e2e=Zme});function t2e(e,t){return e!=null&&MD(e,t,e2e)}var Jr,wKe=R(()=>{"use strict";xKe(),Pfe(),o(t2e,"has"),Jr=t2e});function r2e(e){return typeof e=="string"||!zn(e)&&Hl(e)&&Zu(e)==n2e}var n2e,Ao,GD=R(()=>{"use strict";Td(),ha(),su(),n2e="[object String]",o(r2e,"isString"),Ao=r2e});function i2e(e,t){return i0(t,function(r){return e[r]})}var a2e,kKe=R(()=>{"use strict";Mm(),o(i2e,"baseValues"),a2e=i2e});function s2e(e){return e==null?[]:a2e(e,Ka(e))}var _i,o2e=R(()=>{"use strict";kKe(),a0(),o(s2e,"values"),_i=s2e});function l2e(e,t,r,n){e=Tc(e)?e:_i(e),r=r&&!n?Im(r):0;var i=e.length;return r<0&&(r=c2e(i+r,0)),Ao(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&X8(e,t,r)>-1}var c2e,Lo,TKe=R(()=>{"use strict";GI(),ou(),GD(),i5(),o2e(),c2e=Math.max,o(l2e,"includes"),Lo=l2e});function u2e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:Im(r);return i<0&&(i=h2e(n+i,0)),X8(e,t,i)}var h2e,YD,EKe=R(()=>{"use strict";GI(),i5(),h2e=Math.max,o(u2e,"indexOf"),YD=u2e});function d2e(e){if(e==null)return!0;if(Tc(e)&&(zn(e)||typeof e=="string"||typeof e.splice=="function"||Tp(e)||v3(e)||kp(e)))return!e.length;var t=zd(e);if(t==p2e||t==g2e)return!e.size;if(am(e))return!K8(e).length;for(var r in e)if(m2e.call(e,r))return!1;return!0}var p2e,g2e,f2e,m2e,si,jD=R(()=>{"use strict";jI(),Om(),f3(),ha(),ou(),y3(),g3(),G7(),p2e="[object Map]",g2e="[object Set]",f2e=Object.prototype,m2e=f2e.hasOwnProperty,o(d2e,"isEmpty"),si=d2e});function y2e(e){return Hl(e)&&Zu(e)==v2e}var v2e,b2e,CKe=R(()=>{"use strict";Td(),su(),v2e="[object RegExp]",o(y2e,"baseIsRegExp"),b2e=y2e}),HD,x2e,ah,_Ke=R(()=>{"use strict";CKe(),sm(),q7(),HD=Vh&&Vh.isRegExp,x2e=HD?Ep(HD):b2e,ah=x2e});function w2e(e){return e===void 0}var di,SKe=R(()=>{"use strict";o(w2e,"isUndefined"),di=w2e});function k2e(e,t){return e<t}var UD,T2e=R(()=>{"use strict";o(k2e,"baseLt"),UD=k2e});function E2e(e,t){var r={};return t=Uo(t,3),uw(e,function(n,i,a){im(r,i,t(n,i,a))}),r}var f5,AKe=R(()=>{"use strict";d3(),RD(),xl(),o(E2e,"mapValues"),f5=E2e});function C2e(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(l===void 0?s===s&&!Fd(s):r(s,l)))var l=s,u=a}return u}var dw,VD=R(()=>{"use strict";Nm(),o(C2e,"baseExtremum"),dw=C2e});function _2e(e){return e&&e.length?dw(e,Qu,Kme):void 0}var Gd,LKe=R(()=>{"use strict";VD(),bKe(),Sd(),o(_2e,"max"),Gd=_2e});function S2e(e){return e&&e.length?dw(e,Qu,UD):void 0}var $p,A2e=R(()=>{"use strict";VD(),T2e(),Sd(),o(S2e,"min"),$p=S2e});function L2e(e,t){return e&&e.length?dw(e,Uo(t,2),UD):void 0}var pw,NKe=R(()=>{"use strict";VD(),xl(),T2e(),o(L2e,"minBy"),pw=L2e});function N2e(e){if(typeof e!="function")throw new TypeError(M2e);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var M2e,I2e,MKe=R(()=>{"use strict";M2e="Expected a function",o(N2e,"negate"),I2e=N2e});function D2e(e,t,r,n){if(!zo(e))return e;t=a5(t,e);for(var i=-1,a=t.length,s=a-1,l=e;l!=null&&++i<a;){var u=Dm(t[i]),h=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=s){var d=l[u];h=n?n(d,u,l):void 0,h===void 0&&(h=zo(d)?d:x3(t[i+1])?[]:{})}lm(l,u,h),l=l[u]}return e}var R2e,IKe=R(()=>{"use strict";b3(),Q8(),j7(),kc(),s5(),o(D2e,"baseSet"),R2e=D2e});function O2e(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var s=t[n],l=o5(e,s);r(l,s)&&R2e(a,a5(s,e),l)}return a}var WD,P2e=R(()=>{"use strict";J8(),IKe(),Q8(),o(O2e,"basePickBy"),WD=O2e});function B2e(e,t){if(e==null)return{};var r=i0(iD(e),function(n){return[n]});return t=Uo(t),WD(e,r,function(n,i){return t(n,i[0])})}var Lc,DKe=R(()=>{"use strict";Mm(),xl(),P2e(),tpe(),o(B2e,"pickBy"),Lc=B2e});function F2e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var $2e,RKe=R(()=>{"use strict";o(F2e,"baseSortBy"),$2e=F2e});function z2e(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=Fd(e),s=t!==void 0,l=t===null,u=t===t,h=Fd(t);if(!l&&!h&&!a&&e>t||a&&s&&u&&!l&&!h||n&&s&&u||!r&&u||!i)return 1;if(!n&&!a&&!h&&e<t||h&&r&&i&&!n&&!a||l&&r&&i||!s&&i||!u)return-1}return 0}var q2e,OKe=R(()=>{"use strict";Nm(),o(z2e,"compareAscending"),q2e=z2e});function G2e(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,l=r.length;++n<s;){var u=q2e(i[n],a[n]);if(u){if(n>=l)return u;var h=r[n];return u*(h=="desc"?-1:1)}}return e.index-t.index}var Y2e,PKe=R(()=>{"use strict";OKe(),o(G2e,"compareMultiple"),Y2e=G2e});function j2e(e,t,r){t.length?t=i0(t,function(a){return zn(a)?function(s){return o5(s,a.length===1?a[0]:a)}:a}):t=[Qu];var n=-1;t=i0(t,Ep(Uo));var i=qD(e,function(a,s,l){var u=i0(t,function(h){return h(a)});return{criteria:u,index:++n,value:a}});return $2e(i,function(a,s){return Y2e(a,s,r)})}var H2e,BKe=R(()=>{"use strict";Mm(),J8(),xl(),Bme(),RKe(),sm(),PKe(),Sd(),ha(),o(j2e,"baseOrderBy"),H2e=j2e}),U2e,V2e,FKe=R(()=>{"use strict";jfe(),U2e=DD("length"),V2e=U2e});function W2e(e){for(var t=tR.lastIndex=0;tR.test(e);)++t;return t}var XD,X2e,K2e,Z2e,Q2e,J2e,eye,gw,fw,tye,KD,ZD,QD,rye,JD,eR,nye,iye,aye,tR,sye,$Ke=R(()=>{"use strict";XD="\\ud800-\\udfff",X2e="\\u0300-\\u036f",K2e="\\ufe20-\\ufe2f",Z2e="\\u20d0-\\u20ff",Q2e=X2e+K2e+Z2e,J2e="\\ufe0e\\ufe0f",eye="["+XD+"]",gw="["+Q2e+"]",fw="\\ud83c[\\udffb-\\udfff]",tye="(?:"+gw+"|"+fw+")",KD="[^"+XD+"]",ZD="(?:\\ud83c[\\udde6-\\uddff]){2}",QD="[\\ud800-\\udbff][\\udc00-\\udfff]",rye="\\u200d",JD=tye+"?",eR="["+J2e+"]?",nye="(?:"+rye+"(?:"+[KD,ZD,QD].join("|")+")"+eR+JD+")*",iye=eR+JD+nye,aye="(?:"+[KD+gw+"?",gw,ZD,QD,eye].join("|")+")",tR=RegExp(fw+"(?="+fw+")|"+aye+iye,"g"),o(W2e,"unicodeSize"),sye=W2e});function oye(e){return N1e(e)?sye(e):V2e(e)}var lye,zKe=R(()=>{"use strict";FKe(),vXe(),$Ke(),o(oye,"stringSize"),lye=oye});function cye(e,t){return WD(e,t,function(r,n){return ID(e,n)})}var uye,qKe=R(()=>{"use strict";P2e(),Ffe(),o(cye,"basePick"),uye=cye}),hye,m5,GKe=R(()=>{"use strict";qKe(),yXe(),hye=v1e(function(e,t){return e==null?{}:uye(e,t)}),m5=hye});function dye(e,t,r,n){for(var i=-1,a=gye(pye((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var pye,gye,fye,YKe=R(()=>{"use strict";pye=Math.ceil,gye=Math.max,o(dye,"baseRange"),fye=dye});function mye(e){return function(t,r,n){return n&&typeof n!="number"&&Ad(t,r,n)&&(r=n=void 0),t=n5(t),r===void 0?(r=t,t=0):r=n5(r),n=n===void 0?t<r?1:-1:n5(n),fye(t,r,n,e)}}var yye,jKe=R(()=>{"use strict";YKe(),hm(),Ede(),o(mye,"createRange"),yye=mye}),vye,zp,HKe=R(()=>{"use strict";jKe(),vye=yye(),zp=vye});function bye(e,t,r,n,i){return i(e,function(a,s,l){r=n?(n=!1,a):t(r,a,s,l)}),r}var xye,UKe=R(()=>{"use strict";o(bye,"baseReduce"),xye=bye});function wye(e,t,r){var n=zn(e)?I1e:xye,i=arguments.length<3;return n(e,Uo(t,4),r,i,qd)}var za,kye=R(()=>{"use strict";bXe(),Fp(),xl(),UKe(),ha(),o(wye,"reduce"),za=wye});function Tye(e,t){var r=zn(e)?tw:zD;return r(e,I2e(Uo(t,3)))}var y5,VKe=R(()=>{"use strict";QI(),_me(),xl(),ha(),MKe(),o(Tye,"reject"),y5=Tye});function Eye(e){if(e==null)return 0;if(Tc(e))return Ao(e)?lye(e):e.length;var t=zd(e);return t==Cye||t==_ye?e.size:K8(e).length}var Cye,_ye,Sye,WKe=R(()=>{"use strict";jI(),Om(),ou(),GD(),zKe(),Cye="[object Map]",_ye="[object Set]",o(Eye,"size"),Sye=Eye});function Aye(e,t){var r;return qd(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var Lye,XKe=R(()=>{"use strict";Fp(),o(Aye,"baseSome"),Lye=Aye});function Nye(e,t,r){var n=zn(e)?bD:Lye;return r&&Ad(e,t,r)&&(t=void 0),n(e,Uo(t,3))}var rR,KKe=R(()=>{"use strict";qge(),xl(),XKe(),ha(),hm(),o(Nye,"some"),rR=Nye}),Mye,Fm,ZKe=R(()=>{"use strict";l5(),BKe(),w3(),hm(),Mye=um(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Ad(e,t[0],t[1])?t=[]:r>2&&Ad(t[0],t[1],t[2])&&(t=[t[0]]),H2e(e,Rm(t,1),[])}),Fm=Mye}),Iye,Dye,Rye,QKe=R(()=>{"use strict";ape(),Ade(),kD(),Iye=1/0,Dye=Bp&&1/lw(new Bp([,-0]))[1]==Iye?function(e){return new Bp(e)}:Xa,Rye=Dye});function Oye(e,t,r){var n=-1,i=YI,a=e.length,s=!0,l=[],u=l;if(r)s=!1,i=BD;else if(a>=Pye){var h=t?null:Rye(e);if(h)return lw(h);s=!1,i=ow,u=new sw}else u=t?[]:l;e:for(;++n<a;){var d=e[n],p=t?t(d):d;if(d=r||d!==0?d:0,s&&p===p){for(var f=u.length;f--;)if(u[f]===p)continue e;t&&u.push(p),l.push(d)}else i(u,p,r)||(u!==l&&u.push(p),l.push(d))}return l}var Pye,mw,nR=R(()=>{"use strict";vD(),$de(),ume(),xD(),QKe(),kD(),Pye=200,o(Oye,"baseUniq"),mw=Oye}),Bye,Fye,JKe=R(()=>{"use strict";l5(),w3(),nR(),oN(),Bye=um(function(e){return mw(Rm(e,1,m3,!0))}),Fye=Bye});function $ye(e){return e&&e.length?mw(e):[]}var yw,eZe=R(()=>{"use strict";nR(),o($ye,"uniq"),yw=$ye});function zye(e,t){return e&&e.length?mw(e,Uo(t,2)):[]}var qye,tZe=R(()=>{"use strict";xl(),nR(),o(zye,"uniqBy"),qye=zye});function Gye(e){var t=++Yye;return UI(e)+t}var Yye,vw,rZe=R(()=>{"use strict";s1e(),Yye=0,o(Gye,"uniqueId"),vw=Gye});function jye(e,t,r){for(var n=-1,i=e.length,a=t.length,s={};++n<i;){var l=n<a?t[n]:void 0;r(s,e[n],l)}return s}var Hye,nZe=R(()=>{"use strict";o(jye,"baseZipObject"),Hye=jye});function Uye(e,t){return Hye(e||[],t||[],lm)}var Vye,iZe=R(()=>{"use strict";b3(),nZe(),o(Uye,"zipObject"),Vye=Uye}),Gr=R(()=>{"use strict";dXe(),Lge(),OXe(),PXe(),Uae(),tKe(),nKe(),aKe(),sKe(),oKe(),uKe(),Ame(),pKe(),fKe(),zme(),KI(),$D(),mKe(),yKe(),vKe(),wKe(),Sd(),TKe(),EKe(),ha(),jD(),S7(),kc(),_Ke(),GD(),SKe(),a0(),iKe(),g5(),AKe(),LKe(),ose(),A2e(),NKe(),Ade(),eKe(),GKe(),DKe(),HKe(),kye(),VKe(),WKe(),KKe(),ZKe(),JKe(),eZe(),rZe(),o2e(),iZe()});function iR(e,t){e[t]?e[t]++:e[t]=1}function aR(e,t){--e[t]||delete e[t]}function $m(e,t,r,n){var i=""+t,a=""+r;if(!e&&i>a){var s=i;i=a,a=s}return i+sR+a+sR+(di(n)?Xye:n)}function Wye(e,t,r,n){var i=""+t,a=""+r;if(!e&&i>a){var s=i;i=a,a=s}var l={v:i,w:a};return n&&(l.name=n),l}function bw(e,t){return $m(e,t.v,t.w,t.name)}var Xye,Yd,sR,ao,oR=R(()=>{"use strict";Gr(),Xye="\0",Yd="\0",sR="",ao=class{static{o(this,"Graph")}constructor(e={}){this._isDirected=Object.prototype.hasOwnProperty.call(e,"directed")?e.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(e,"multigraph")?e.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Wh(void 0),this._defaultEdgeLabelFn=Wh(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Yd]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return jl(e)||(e=Wh(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return Ka(this._nodes)}sources(){var e=this;return da(this.nodes(),function(t){return si(e._in[t])})}sinks(){var e=this;return da(this.nodes(),function(t){return si(e._out[t])})}setNodes(e,t){var r=arguments,n=this;return ut(e,function(i){r.length>1?n.setNode(i,t):n.setNode(i)}),this}setNode(e,t){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Yd,this._children[e]={},this._children[Yd][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var t=o(r=>this.removeEdge(this._edgeObjs[r]),"removeEdge");delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],ut(this.children(e),r=>{this.setParent(r)}),delete this._children[e]),ut(Ka(this._in[e]),t),delete this._in[e],delete this._preds[e],ut(Ka(this._out[e]),t),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(di(t))t=Yd;else{t+="";for(var r=t;!di(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==Yd)return t}}children(e){if(di(e)&&(e=Yd),this._isCompound){var t=this._children[e];if(t)return Ka(t)}else{if(e===Yd)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var t=this._preds[e];if(t)return Ka(t)}successors(e){var t=this._sucs[e];if(t)return Ka(t)}neighbors(e){var t=this.predecessors(e);if(t)return Fye(t,this.successors(e))}isLeaf(e){var t;return this.isDirected()?t=this.successors(e):t=this.neighbors(e),t.length===0}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;ut(this._nodes,function(a,s){e(s)&&t.setNode(s,a)}),ut(this._edgeObjs,function(a){t.hasNode(a.v)&&t.hasNode(a.w)&&t.setEdge(a,r.edge(a))});var n={};function i(a){var s=r.parent(a);return s===void 0||t.hasNode(s)?(n[a]=s,s):s in n?n[s]:i(s)}return o(i,"findParent"),this._isCompound&&ut(t.nodes(),function(a){t.setParent(a,i(a))}),t}setDefaultEdgeLabel(e){return jl(e)||(e=Wh(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return _i(this._edgeObjs)}setPath(e,t){var r=this,n=arguments;return za(e,function(i,a){return n.length>1?r.setEdge(i,a,t):r.setEdge(i,a),a}),this}setEdge(){var e,t,r,n,i=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,t=a.w,r=a.name,arguments.length===2&&(n=arguments[1],i=!0)):(e=a,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),e=""+e,t=""+t,di(r)||(r=""+r);var s=$m(this._isDirected,e,t,r);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,s))return i&&(this._edgeLabels[s]=n),this;if(!di(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[s]=i?n:this._defaultEdgeLabelFn(e,t,r);var l=Wye(this._isDirected,e,t,r);return e=l.v,t=l.w,Object.freeze(l),this._edgeObjs[s]=l,iR(this._preds[t],e),iR(this._sucs[e],t),this._in[t][s]=l,this._out[e][s]=l,this._edgeCount++,this}edge(e,t,r){var n=arguments.length===1?bw(this._isDirected,arguments[0]):$m(this._isDirected,e,t,r);return this._edgeLabels[n]}hasEdge(e,t,r){var n=arguments.length===1?bw(this._isDirected,arguments[0]):$m(this._isDirected,e,t,r);return Object.prototype.hasOwnProperty.call(this._edgeLabels,n)}removeEdge(e,t,r){var n=arguments.length===1?bw(this._isDirected,arguments[0]):$m(this._isDirected,e,t,r),i=this._edgeObjs[n];return i&&(e=i.v,t=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],aR(this._preds[t],e),aR(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this}inEdges(e,t){var r=this._in[e];if(r){var n=_i(r);return t?da(n,function(i){return i.v===t}):n}}outEdges(e,t){var r=this._out[e];if(r){var n=_i(r);return t?da(n,function(i){return i.w===t}):n}}nodeEdges(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))}},ao.prototype._nodeCount=0,ao.prototype._edgeCount=0,o(iR,"incrementOrInitEntry"),o(aR,"decrementOrRemoveEntry"),o($m,"edgeArgsToId"),o(Wye,"edgeArgsToObj"),o(bw,"edgeObjToId")}),Xl=R(()=>{"use strict";oR()});function lR(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Kye(e,t){if(e!=="_next"&&e!=="_prev")return t}var Zye,aZe=R(()=>{"use strict";Zye=class{static{o(this,"List")}constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,t=e._prev;if(t!==e)return lR(t),t}enqueue(e){var t=this._sentinel;e._prev&&e._next&&lR(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t}toString(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,Kye)),r=r._prev;return"["+e.join(", ")+"]"}},o(lR,"unlink"),o(Kye,"filterOutLinks")});function Qye(e,t){if(e.nodeCount()<=1)return[];var r=e4e(e,t||t4e),n=Jye(r.graph,r.buckets,r.zeroIdx);return bs(nr(n,function(i){return e.outEdges(i.v,i.w)}))}function Jye(e,t,r){for(var n=[],i=t[t.length-1],a=t[0],s;e.nodeCount();){for(;s=a.dequeue();)xw(e,t,r,s);for(;s=i.dequeue();)xw(e,t,r,s);if(e.nodeCount()){for(var l=t.length-2;l>0;--l)if(s=t[l].dequeue(),s){n=n.concat(xw(e,t,r,s,!0));break}}}return n}function xw(e,t,r,n,i){var a=i?[]:void 0;return ut(e.inEdges(n.v),function(s){var l=e.edge(s),u=e.node(s.v);i&&a.push({v:s.v,w:s.w}),u.out-=l,ww(t,r,u)}),ut(e.outEdges(n.v),function(s){var l=e.edge(s),u=s.w,h=e.node(u);h.in-=l,ww(t,r,h)}),e.removeNode(n.v),a}function e4e(e,t){var r=new ao,n=0,i=0;ut(e.nodes(),function(l){r.setNode(l,{v:l,in:0,out:0})}),ut(e.edges(),function(l){var u=r.edge(l.v,l.w)||0,h=t(l),d=u+h;r.setEdge(l.v,l.w,d),i=Math.max(i,r.node(l.v).out+=h),n=Math.max(n,r.node(l.w).in+=h)});var a=zp(i+n+3).map(function(){return new Zye}),s=n+1;return ut(r.nodes(),function(l){ww(a,s,r.node(l))}),{graph:r,buckets:a,zeroIdx:s}}function ww(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var t4e,sZe=R(()=>{"use strict";Gr(),Xl(),aZe(),t4e=Wh(1),o(Qye,"greedyFAS"),o(Jye,"doGreedyFAS"),o(xw,"removeNode"),o(e4e,"buildState"),o(ww,"assignBucket")});function r4e(e){var t=e.graph().acyclicer==="greedy"?Qye(e,r(e)):n4e(e);ut(t,function(n){var i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,vw("rev"))});function r(n){return function(i){return n.edge(i).weight}}o(r,"weightFn")}function n4e(e){var t=[],r={},n={};function i(a){Object.prototype.hasOwnProperty.call(n,a)||(n[a]=!0,r[a]=!0,ut(e.outEdges(a),function(s){Object.prototype.hasOwnProperty.call(r,s.w)?t.push(s):i(s.w)}),delete r[a])}return o(i,"dfs"),ut(e.nodes(),i),t}function i4e(e){ut(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}var a4e=R(()=>{"use strict";Gr(),sZe(),o(r4e,"run"),o(n4e,"dfsFAS"),o(i4e,"undo")});function qp(e,t,r,n){var i;do i=vw(n);while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}function s4e(e){var t=new ao().setGraph(e.graph());return ut(e.nodes(),function(r){t.setNode(r,e.node(r))}),ut(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t}function cR(e){var t=new ao({multigraph:e.isMultigraph()}).setGraph(e.graph());return ut(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),ut(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function uR(e,t){var r=e.x,n=e.y,i=t.x-r,a=t.y-n,s=e.width/2,l=e.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var u,h;return Math.abs(a)*s>Math.abs(i)*l?(a<0&&(l=-l),u=l*i/a,h=l):(i<0&&(s=-s),u=s,h=s*a/i),{x:r+u,y:n+h}}function v5(e){var t=nr(zp(dR(e)+1),function(){return[]});return ut(e.nodes(),function(r){var n=e.node(r),i=n.rank;di(i)||(t[i][n.order]=r)}),t}function o4e(e){var t=$p(nr(e.nodes(),function(r){return e.node(r).rank}));ut(e.nodes(),function(r){var n=e.node(r);Jr(n,"rank")&&(n.rank-=t)})}function l4e(e){var t=$p(nr(e.nodes(),function(a){return e.node(a).rank})),r=[];ut(e.nodes(),function(a){var s=e.node(a).rank-t;r[s]||(r[s]=[]),r[s].push(a)});var n=0,i=e.graph().nodeRankFactor;ut(r,function(a,s){di(a)&&s%i!==0?--n:n&&ut(a,function(l){e.node(l).rank+=n})})}function hR(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),qp(e,"border",i,t)}function dR(e){return Gd(nr(e.nodes(),function(t){var r=e.node(t).rank;if(!di(r))return r}))}function c4e(e,t){var r={lhs:[],rhs:[]};return ut(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function u4e(e,t){var r=OD();try{return t()}finally{console.log(e+" time: "+(OD()-r)+"ms")}}function h4e(e,t){return t()}var s0=R(()=>{"use strict";Gr(),Xl(),o(qp,"addDummyNode"),o(s4e,"simplify"),o(cR,"asNonCompoundGraph"),o(uR,"intersectRect"),o(v5,"buildLayerMatrix"),o(o4e,"normalizeRanks"),o(l4e,"removeEmptyRanks"),o(hR,"addBorderNode"),o(dR,"maxRank"),o(c4e,"partition"),o(u4e,"time"),o(h4e,"notime")});function d4e(e){function t(r){var n=e.children(r),i=e.node(r);if(n.length&&ut(n,t),Object.prototype.hasOwnProperty.call(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,s=i.maxRank+1;a<s;++a)pR(e,"borderLeft","_bl",r,i,a),pR(e,"borderRight","_br",r,i,a)}}o(t,"dfs"),ut(e.children(),t)}function pR(e,t,r,n,i,a){var s={width:0,height:0,rank:a,borderType:t},l=i[t][a-1],u=qp(e,"border",s,r);i[t][a]=u,e.setParent(u,n),l&&e.setEdge(l,u,{weight:1})}var oZe=R(()=>{"use strict";Gr(),s0(),o(d4e,"addBorderSegments"),o(pR,"addBorderNode")});function p4e(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&gR(e)}function g4e(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&f4e(e),(t==="lr"||t==="rl")&&(m4e(e),gR(e))}function gR(e){ut(e.nodes(),function(t){fR(e.node(t))}),ut(e.edges(),function(t){fR(e.edge(t))})}function fR(e){var t=e.width;e.width=e.height,e.height=t}function f4e(e){ut(e.nodes(),function(t){kw(e.node(t))}),ut(e.edges(),function(t){var r=e.edge(t);ut(r.points,kw),Object.prototype.hasOwnProperty.call(r,"y")&&kw(r)})}function kw(e){e.y=-e.y}function m4e(e){ut(e.nodes(),function(t){Tw(e.node(t))}),ut(e.edges(),function(t){var r=e.edge(t);ut(r.points,Tw),Object.prototype.hasOwnProperty.call(r,"x")&&Tw(r)})}function Tw(e){var t=e.x;e.x=e.y,e.y=t}var lZe=R(()=>{"use strict";Gr(),o(p4e,"adjust"),o(g4e,"undo"),o(gR,"swapWidthHeight"),o(fR,"swapWidthHeightOne"),o(f4e,"reverseY"),o(kw,"reverseYOne"),o(m4e,"swapXY"),o(Tw,"swapXYOne")});function y4e(e){e.graph().dummyChains=[],ut(e.edges(),function(t){v4e(e,t)})}function v4e(e,t){var r=t.v,n=e.node(r).rank,i=t.w,a=e.node(i).rank,s=t.name,l=e.edge(t),u=l.labelRank;if(a!==n+1){e.removeEdge(t);var h=void 0,d,p;for(p=0,++n;n<a;++p,++n)l.points=[],h={width:0,height:0,edgeLabel:l,edgeObj:t,rank:n},d=qp(e,"edge",h,"_d"),n===u&&(h.width=l.width,h.height=l.height,h.dummy="edge-label",h.labelpos=l.labelpos),e.setEdge(r,d,{weight:l.weight},s),p===0&&e.graph().dummyChains.push(d),r=d;e.setEdge(r,i,{weight:l.weight},s)}}function b4e(e){ut(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,i;for(e.setEdge(r.edgeObj,n);r.dummy;)i=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=i,r=e.node(t)})}var x4e=R(()=>{"use strict";Gr(),s0(),o(y4e,"run"),o(v4e,"normalizeEdge"),o(b4e,"undo")});function Ew(e){var t={};function r(n){var i=e.node(n);if(Object.prototype.hasOwnProperty.call(t,n))return i.rank;t[n]=!0;var a=$p(nr(e.outEdges(n),function(s){return r(s.w)-e.edge(s).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}o(r,"dfs"),ut(e.sources(),r)}function zm(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var mR=R(()=>{"use strict";Gr(),o(Ew,"longestPath"),o(zm,"slack")});function yR(e){var t=new ao({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var i,a;w4e(t,e)<n;)i=k4e(t,e),a=t.hasNode(i.v)?zm(e,i):-zm(e,i),T4e(t,e,a);return t}function w4e(e,t){function r(n){ut(t.nodeEdges(n),function(i){var a=i.v,s=n===a?i.w:a;!e.hasNode(s)&&!zm(t,i)&&(e.setNode(s,{}),e.setEdge(n,s,{}),r(s))})}return o(r,"dfs"),ut(e.nodes(),r),e.nodeCount()}function k4e(e,t){return pw(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return zm(t,r)})}function T4e(e,t,r){ut(e.nodes(),function(n){t.node(n).rank+=r})}var E4e=R(()=>{"use strict";Gr(),Xl(),mR(),o(yR,"feasibleTree"),o(w4e,"tightTree"),o(k4e,"findMinSlackEdge"),o(T4e,"shiftRanks")}),cZe=R(()=>{"use strict"}),C4e=R(()=>{"use strict"}),uZe,_4e=R(()=>{"use strict";Gr(),C4e(),uZe=Wh(1)}),hZe=R(()=>{"use strict";_4e()}),S4e=R(()=>{"use strict"}),dZe=R(()=>{"use strict";S4e()}),pZe,gZe=R(()=>{"use strict";Gr(),pZe=Wh(1)});function A4e(e){var t={},r={},n=[];function i(a){if(Object.prototype.hasOwnProperty.call(r,a))throw new b5;Object.prototype.hasOwnProperty.call(t,a)||(r[a]=!0,t[a]=!0,ut(e.predecessors(a),i),delete r[a],n.push(a))}if(o(i,"visit"),ut(e.sinks(),i),Sye(t)!==e.nodeCount())throw new b5;return n}function b5(){}var L4e=R(()=>{"use strict";Gr(),A4e.CycleException=b5,o(A4e,"topsort"),o(b5,"CycleException"),b5.prototype=new Error}),fZe=R(()=>{"use strict";L4e()});function vR(e,t,r){zn(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],a={};return ut(t,function(s){if(!e.hasNode(s))throw new Error("Graph does not have node: "+s);bR(e,s,r==="post",a,n,i)}),i}function bR(e,t,r,n,i,a){Object.prototype.hasOwnProperty.call(n,t)||(n[t]=!0,r||a.push(t),ut(i(t),function(s){bR(e,s,r,n,i,a)}),r&&a.push(t))}var N4e=R(()=>{"use strict";Gr(),o(vR,"dfs"),o(bR,"doDfs")});function M4e(e,t){return vR(e,t,"post")}var mZe=R(()=>{"use strict";N4e(),o(M4e,"postorder")});function I4e(e,t){return vR(e,t,"pre")}var yZe=R(()=>{"use strict";N4e(),o(I4e,"preorder")}),vZe=R(()=>{"use strict";C4e(),oR()}),bZe=R(()=>{"use strict";cZe(),_4e(),hZe(),dZe(),gZe(),fZe(),mZe(),yZe(),vZe(),S4e(),L4e()});function jd(e){e=s4e(e),Ew(e);var t=yR(e);_w(t),Cw(t,e);for(var r,n;r=kR(t);)n=TR(t,e,r),ER(t,e,r,n)}function Cw(e,t){var r=M4e(e,e.nodes());r=r.slice(0,r.length-1),ut(r,function(n){D4e(e,t,n)})}function D4e(e,t,r){var n=e.node(r),i=n.parent;e.edge(r,i).cutvalue=xR(e,t,r)}function xR(e,t,r){var n=e.node(r),i=n.parent,a=!0,s=t.edge(r,i),l=0;return s||(a=!1,s=t.edge(i,r)),l=s.weight,ut(t.nodeEdges(r),function(u){var h=u.v===r,d=h?u.w:u.v;if(d!==i){var p=h===a,f=t.edge(u).weight;if(l+=p?f:-f,O4e(e,r,d)){var g=e.edge(r,d).cutvalue;l+=p?-g:g}}}),l}function _w(e,t){arguments.length<2&&(t=e.nodes()[0]),wR(e,{},1,t)}function wR(e,t,r,n,i){var a=r,s=e.node(n);return t[n]=!0,ut(e.neighbors(n),function(l){Object.prototype.hasOwnProperty.call(t,l)||(r=wR(e,t,r,l,n))}),s.low=a,s.lim=r++,i?s.parent=i:delete s.parent,r}function kR(e){return ih(e.edges(),function(t){return e.edge(t).cutvalue<0})}function TR(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var a=e.node(n),s=e.node(i),l=a,u=!1;a.lim>s.lim&&(l=s,u=!0);var h=da(t.edges(),function(d){return u===CR(e,e.node(d.v),l)&&u!==CR(e,e.node(d.w),l)});return pw(h,function(d){return zm(t,d)})}function ER(e,t,r,n){var i=r.v,a=r.w;e.removeEdge(i,a),e.setEdge(n.v,n.w,{}),_w(e),Cw(e,t),R4e(e,t)}function R4e(e,t){var r=ih(e.nodes(),function(i){return!t.node(i).parent}),n=I4e(e,r);n=n.slice(1),ut(n,function(i){var a=e.node(i).parent,s=t.edge(i,a),l=!1;s||(s=t.edge(a,i),l=!0),t.node(i).rank=t.node(a).rank+(l?s.minlen:-s.minlen)})}function O4e(e,t,r){return e.hasEdge(t,r)}function CR(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var xZe=R(()=>{"use strict";Gr(),bZe(),s0(),E4e(),mR(),jd.initLowLimValues=_w,jd.initCutValues=Cw,jd.calcCutValue=xR,jd.leaveEdge=kR,jd.enterEdge=TR,jd.exchangeEdges=ER,o(jd,"networkSimplex"),o(Cw,"initCutValues"),o(D4e,"assignCutValue"),o(xR,"calcCutValue"),o(_w,"initLowLimValues"),o(wR,"dfsAssignLowLim"),o(kR,"leaveEdge"),o(TR,"enterEdge"),o(ER,"exchangeEdges"),o(R4e,"updateRanks"),o(O4e,"isTreeEdge"),o(CR,"isDescendant")});function P4e(e){switch(e.graph().ranker){case"network-simplex":_R(e);break;case"tight-tree":B4e(e);break;case"longest-path":F4e(e);break;default:_R(e)}}function B4e(e){Ew(e),yR(e)}function _R(e){jd(e)}var F4e,$4e=R(()=>{"use strict";E4e(),xZe(),mR(),o(P4e,"rank"),F4e=Ew,o(B4e,"tightTreeRanker"),o(_R,"networkSimplexRanker")});function z4e(e){var t=qp(e,"root",{},"_root"),r=q4e(e),n=Gd(_i(r))-1,i=2*n+1;e.graph().nestingRoot=t,ut(e.edges(),function(s){e.edge(s).minlen*=i});var a=G4e(e)+1;ut(e.children(),function(s){SR(e,t,i,a,n,r,s)}),e.graph().nodeRankFactor=i}function SR(e,t,r,n,i,a,s){var l=e.children(s);if(!l.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:r});return}var u=hR(e,"_bt"),h=hR(e,"_bb"),d=e.node(s);e.setParent(u,s),d.borderTop=u,e.setParent(h,s),d.borderBottom=h,ut(l,function(p){SR(e,t,r,n,i,a,p);var f=e.node(p),g=f.borderTop?f.borderTop:p,m=f.borderBottom?f.borderBottom:p,y=f.borderTop?n:2*n,b=g!==m?1:i-a[s]+1;e.setEdge(u,g,{weight:y,minlen:b,nestingEdge:!0}),e.setEdge(m,h,{weight:y,minlen:b,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,u,{weight:0,minlen:i+a[s]})}function q4e(e){var t={};function r(n,i){var a=e.children(n);a&&a.length&&ut(a,function(s){r(s,i+1)}),t[n]=i}return o(r,"dfs"),ut(e.children(),function(n){r(n,1)}),t}function G4e(e){return za(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function Y4e(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,ut(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}var wZe=R(()=>{"use strict";Gr(),s0(),o(z4e,"run"),o(SR,"dfs"),o(q4e,"treeDepths"),o(G4e,"sumWeights"),o(Y4e,"cleanup")});function j4e(e,t,r){var n={},i;ut(r,function(a){for(var s=e.parent(a),l,u;s;){if(l=e.parent(s),l?(u=n[l],n[l]=s):(u=i,i=s),u&&u!==s){t.setEdge(u,s);return}s=l}})}var kZe=R(()=>{"use strict";Gr(),o(j4e,"addSubgraphConstraints")});function H4e(e,t,r){var n=U4e(e),i=new ao({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(a){return e.node(a)});return ut(e.nodes(),function(a){var s=e.node(a),l=e.parent(a);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(a),i.setParent(a,l||n),ut(e[r](a),function(u){var h=u.v===a?u.w:u.v,d=i.edge(h,a),p=di(d)?0:d.weight;i.setEdge(h,a,{weight:e.edge(u).weight+p})}),Object.prototype.hasOwnProperty.call(s,"minRank")&&i.setNode(a,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function U4e(e){for(var t;e.hasNode(t=vw("_root")););return t}var TZe=R(()=>{"use strict";Gr(),Xl(),o(H4e,"buildLayerGraph"),o(U4e,"createRootNode")});function V4e(e,t){for(var r=0,n=1;n<t.length;++n)r+=W4e(e,t[n-1],t[n]);return r}function W4e(e,t,r){for(var n=Vye(r,nr(r,function(h,d){return d})),i=bs(nr(t,function(h){return Fm(nr(e.outEdges(h),function(d){return{pos:n[d.w],weight:e.edge(d).weight}}),"pos")})),a=1;a<r.length;)a<<=1;var s=2*a-1;a-=1;var l=nr(new Array(s),function(){return 0}),u=0;return ut(i.forEach(function(h){var d=h.pos+a;l[d]+=h.weight;for(var p=0;d>0;)d%2&&(p+=l[d+1]),d=d-1>>1,l[d]+=h.weight;u+=h.weight*p})),u}var EZe=R(()=>{"use strict";Gr(),o(V4e,"crossCount"),o(W4e,"twoLayerCrossCount")});function X4e(e){var t={},r=da(e.nodes(),function(l){return!e.children(l).length}),n=Gd(nr(r,function(l){return e.node(l).rank})),i=nr(zp(n+1),function(){return[]});function a(l){if(!Jr(t,l)){t[l]=!0;var u=e.node(l);i[u.rank].push(l),ut(e.successors(l),a)}}o(a,"dfs");var s=Fm(r,function(l){return e.node(l).rank});return ut(s,a),i}var CZe=R(()=>{"use strict";Gr(),o(X4e,"initOrder")});function K4e(e,t){return nr(t,function(r){var n=e.inEdges(r);if(n.length){var i=za(n,function(a,s){var l=e.edge(s),u=e.node(s.v);return{sum:a.sum+l.weight*u.order,weight:a.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}var _Ze=R(()=>{"use strict";Gr(),o(K4e,"barycenter")});function Z4e(e,t){var r={};ut(e,function(i,a){var s=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};di(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),ut(t.edges(),function(i){var a=r[i.v],s=r[i.w];!di(a)&&!di(s)&&(s.indegree++,a.out.push(r[i.w]))});var n=da(r,function(i){return!i.indegree});return Q4e(n)}function Q4e(e){var t=[];function r(a){return function(s){s.merged||(di(s.barycenter)||di(a.barycenter)||s.barycenter>=a.barycenter)&&J4e(a,s)}}o(r,"handleIn");function n(a){return function(s){s.in.push(a),--s.indegree===0&&e.push(s)}}for(o(n,"handleOut");e.length;){var i=e.pop();t.push(i),ut(i.in.reverse(),r(i)),ut(i.out,n(i))}return nr(da(t,function(a){return!a.merged}),function(a){return m5(a,["vs","i","barycenter","weight"])})}function J4e(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}var SZe=R(()=>{"use strict";Gr(),o(Z4e,"resolveConflicts"),o(Q4e,"doResolveConflicts"),o(J4e,"mergeEntries")});function e3e(e,t){var r=c4e(e,function(d){return Object.prototype.hasOwnProperty.call(d,"barycenter")}),n=r.lhs,i=Fm(r.rhs,function(d){return-d.i}),a=[],s=0,l=0,u=0;n.sort(t3e(!!t)),u=AR(a,i,u),ut(n,function(d){u+=d.vs.length,a.push(d.vs),s+=d.barycenter*d.weight,l+=d.weight,u=AR(a,i,u)});var h={vs:bs(a)};return l&&(h.barycenter=s/l,h.weight=l),h}function AR(e,t,r){for(var n;t.length&&(n=cu(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function t3e(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var AZe=R(()=>{"use strict";Gr(),s0(),o(e3e,"sort"),o(AR,"consumeUnsortable"),o(t3e,"compareWithBias")});function LR(e,t,r,n){var i=e.children(t),a=e.node(t),s=a?a.borderLeft:void 0,l=a?a.borderRight:void 0,u={};s&&(i=da(i,function(m){return m!==s&&m!==l}));var h=K4e(e,i);ut(h,function(m){if(e.children(m.v).length){var y=LR(e,m.v,r,n);u[m.v]=y,Object.prototype.hasOwnProperty.call(y,"barycenter")&&n3e(m,y)}});var d=Z4e(h,r);r3e(d,u);var p=e3e(d,n);if(s&&(p.vs=bs([s,p.vs,l]),e.predecessors(s).length)){var f=e.node(e.predecessors(s)[0]),g=e.node(e.predecessors(l)[0]);Object.prototype.hasOwnProperty.call(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+f.order+g.order)/(p.weight+2),p.weight+=2}return p}function r3e(e,t){ut(e,function(r){r.vs=bs(r.vs.map(function(n){return t[n]?t[n].vs:n}))})}function n3e(e,t){di(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var LZe=R(()=>{"use strict";Gr(),_Ze(),SZe(),AZe(),o(LR,"sortSubgraph"),o(r3e,"expandSubgraphs"),o(n3e,"mergeBarycenters")});function i3e(e){var t=dR(e),r=NR(e,zp(1,t+1),"inEdges"),n=NR(e,zp(t-1,-1,-1),"outEdges"),i=X4e(e);MR(e,i);for(var a=Number.POSITIVE_INFINITY,s,l=0,u=0;u<4;++l,++u){a3e(l%2?r:n,l%4>=2),i=v5(e);var h=V4e(e,i);h<a&&(u=0,s=Dge(i),a=h)}MR(e,s)}function NR(e,t,r){return nr(t,function(n){return H4e(e,n,r)})}function a3e(e,t){var r=new ao;ut(e,function(n){var i=n.graph().root,a=LR(n,i,r,t);ut(a.vs,function(s,l){n.node(s).order=l}),j4e(n,r,a.vs)})}function MR(e,t){ut(t,function(r){ut(r,function(n,i){e.node(n).order=i})})}var NZe=R(()=>{"use strict";Gr(),Xl(),s0(),kZe(),TZe(),EZe(),CZe(),LZe(),o(i3e,"order"),o(NR,"buildLayerGraphs"),o(a3e,"sweepLayerGraphs"),o(MR,"assignOrder")});function s3e(e){var t=l3e(e);ut(e.graph().dummyChains,function(r){for(var n=e.node(r),i=n.edgeObj,a=o3e(e,t,i.v,i.w),s=a.path,l=a.lca,u=0,h=s[u],d=!0;r!==i.w;){if(n=e.node(r),d){for(;(h=s[u])!==l&&e.node(h).maxRank<n.rank;)u++;h===l&&(d=!1)}if(!d){for(;u<s.length-1&&e.node(h=s[u+1]).minRank<=n.rank;)u++;h=s[u]}e.setParent(r,h),r=e.successors(r)[0]}})}function o3e(e,t,r,n){var i=[],a=[],s=Math.min(t[r].low,t[n].low),l=Math.max(t[r].lim,t[n].lim),u,h;u=r;do u=e.parent(u),i.push(u);while(u&&(t[u].low>s||l>t[u].lim));for(h=u,u=n;(u=e.parent(u))!==h;)a.push(u);return{path:i.concat(a.reverse()),lca:h}}function l3e(e){var t={},r=0;function n(i){var a=r;ut(e.children(i),n),t[i]={low:a,lim:r++}}return o(n,"dfs"),ut(e.children(),n),t}var MZe=R(()=>{"use strict";Gr(),o(s3e,"parentDummyChains"),o(o3e,"findPath"),o(l3e,"postorder")});function c3e(e,t){var r={};function n(i,a){var s=0,l=0,u=i.length,h=cu(a);return ut(a,function(d,p){var f=h3e(e,d),g=f?e.node(f).order:u;(f||d===h)&&(ut(a.slice(l,p+1),function(m){ut(e.predecessors(m),function(y){var b=e.node(y),v=b.order;(v<s||g<v)&&!(b.dummy&&e.node(m).dummy)&&IR(r,y,m)})}),l=p+1,s=g)}),a}return o(n,"visitLayer"),za(t,n),r}function u3e(e,t){var r={};function n(a,s,l,u,h){var d;ut(zp(s,l),function(p){d=a[p],e.node(d).dummy&&ut(e.predecessors(d),function(f){var g=e.node(f);g.dummy&&(g.order<u||g.order>h)&&IR(r,f,d)})})}o(n,"scan");function i(a,s){var l=-1,u,h=0;return ut(s,function(d,p){if(e.node(d).dummy==="border"){var f=e.predecessors(d);f.length&&(u=e.node(f[0]).order,n(s,h,p,l,u),h=p,l=u)}n(s,h,s.length,u,a.length)}),s}return o(i,"visitLayer"),za(t,i),r}function h3e(e,t){if(e.node(t).dummy)return ih(e.predecessors(t),function(r){return e.node(r).dummy})}function IR(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];i||(e[t]=i={}),i[r]=!0}function d3e(e,t,r){if(t>r){var n=t;t=r,r=n}return!!e[t]&&Object.prototype.hasOwnProperty.call(e[t],r)}function p3e(e,t,r,n){var i={},a={},s={};return ut(t,function(l){ut(l,function(u,h){i[u]=u,a[u]=u,s[u]=h})}),ut(t,function(l){var u=-1;ut(l,function(h){var d=n(h);if(d.length){d=Fm(d,function(y){return s[y]});for(var p=(d.length-1)/2,f=Math.floor(p),g=Math.ceil(p);f<=g;++f){var m=d[f];a[h]===h&&u<s[m]&&!d3e(r,h,m)&&(a[m]=h,a[h]=i[h]=i[m],u=s[m])}}})}),{root:i,align:a}}function g3e(e,t,r,n,i){var a={},s=f3e(e,t,r,i),l=i?"borderLeft":"borderRight";function u(p,f){for(var g=s.nodes(),m=g.pop(),y={};m;)y[m]?p(m):(y[m]=!0,g.push(m),g=g.concat(f(m))),m=g.pop()}o(u,"iterate");function h(p){a[p]=s.inEdges(p).reduce(function(f,g){return Math.max(f,a[g.v]+s.edge(g))},0)}o(h,"pass1");function d(p){var f=s.outEdges(p).reduce(function(m,y){return Math.min(m,a[y.w]-s.edge(y))},Number.POSITIVE_INFINITY),g=e.node(p);f!==Number.POSITIVE_INFINITY&&g.borderType!==l&&(a[p]=Math.max(a[p],f))}return o(d,"pass2"),u(h,s.predecessors.bind(s)),u(d,s.successors.bind(s)),ut(n,function(p){a[p]=a[r[p]]}),a}function f3e(e,t,r,n){var i=new ao,a=e.graph(),s=x3e(a.nodesep,a.edgesep,n);return ut(t,function(l){var u;ut(l,function(h){var d=r[h];if(i.setNode(d),u){var p=r[u],f=i.edge(p,d);i.setEdge(p,d,Math.max(s(e,h,u),f||0))}u=h})}),i}function m3e(e,t){return pw(_i(t),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return Gme(r,function(a,s){var l=w3e(e,s)/2;n=Math.max(a+l,n),i=Math.min(a-l,i)}),n-i})}function y3e(e,t){var r=_i(t),n=$p(r),i=Gd(r);ut(["u","d"],function(a){ut(["l","r"],function(s){var l=a+s,u=e[l],h;if(u!==t){var d=_i(u);h=s==="l"?n-$p(d):i-Gd(d),h&&(e[l]=f5(u,function(p){return p+h}))}})})}function v3e(e,t){return f5(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var i=Fm(nr(e,n));return(i[1]+i[2])/2})}function b3e(e){var t=v5(e),r=k3(c3e(e,t),u3e(e,t)),n={},i;ut(["u","d"],function(s){i=s==="u"?t:_i(t).reverse(),ut(["l","r"],function(l){l==="r"&&(i=nr(i,function(p){return _i(p).reverse()}));var u=(s==="u"?e.predecessors:e.successors).bind(e),h=p3e(e,i,r,u),d=g3e(e,i,h.root,h.align,l==="r");l==="r"&&(d=f5(d,function(p){return-p})),n[s+l]=d})});var a=m3e(e,n);return y3e(n,a),v3e(n,e.graph().align)}function x3e(e,t,r){return function(n,i,a){var s=n.node(i),l=n.node(a),u=0,h;if(u+=s.width/2,Object.prototype.hasOwnProperty.call(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":h=-s.width/2;break;case"r":h=s.width/2;break}if(h&&(u+=r?h:-h),h=0,u+=(s.dummy?t:e)/2,u+=(l.dummy?t:e)/2,u+=l.width/2,Object.prototype.hasOwnProperty.call(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":h=l.width/2;break;case"r":h=-l.width/2;break}return h&&(u+=r?h:-h),h=0,u}}function w3e(e,t){return e.node(t).width}var IZe=R(()=>{"use strict";Gr(),Xl(),s0(),o(c3e,"findType1Conflicts"),o(u3e,"findType2Conflicts"),o(h3e,"findOtherInnerSegmentNode"),o(IR,"addConflict"),o(d3e,"hasConflict"),o(p3e,"verticalAlignment"),o(g3e,"horizontalCompaction"),o(f3e,"buildBlockGraph"),o(m3e,"findSmallestWidthAlignment"),o(y3e,"alignCoordinates"),o(v3e,"balance"),o(b3e,"positionX"),o(x3e,"sep"),o(w3e,"width")});function k3e(e){e=cR(e),T3e(e),jme(b3e(e),function(t,r){e.node(r).x=t})}function T3e(e){var t=v5(e),r=e.graph().ranksep,n=0;ut(t,function(i){var a=Gd(nr(i,function(s){return e.node(s).height}));ut(i,function(s){e.node(s).y=n+a/2}),n+=a+r})}var DZe=R(()=>{"use strict";Gr(),s0(),IZe(),o(k3e,"position"),o(T3e,"positionY")});function x5(e,t){var r=t&&t.debugTiming?u4e:h4e;r("layout",()=>{var n=r("  buildLayoutGraph",()=>_3e(e));r("  runLayout",()=>E3e(n,r)),r("  updateInputGraph",()=>C3e(e,n))})}function E3e(e,t){t("    makeSpaceForEdgeLabels",()=>S3e(e)),t("    removeSelfEdges",()=>P3e(e)),t("    acyclic",()=>r4e(e)),t("    nestingGraph.run",()=>z4e(e)),t("    rank",()=>P4e(cR(e))),t("    injectEdgeLabelProxies",()=>A3e(e)),t("    removeEmptyRanks",()=>l4e(e)),t("    nestingGraph.cleanup",()=>Y4e(e)),t("    normalizeRanks",()=>o4e(e)),t("    assignRankMinMax",()=>L3e(e)),t("    removeEdgeLabelProxies",()=>N3e(e)),t("    normalize.run",()=>y4e(e)),t("    parentDummyChains",()=>s3e(e)),t("    addBorderSegments",()=>d4e(e)),t("    order",()=>i3e(e)),t("    insertSelfEdges",()=>B3e(e)),t("    adjustCoordinateSystem",()=>p4e(e)),t("    position",()=>k3e(e)),t("    positionSelfEdges",()=>F3e(e)),t("    removeBorderNodes",()=>O3e(e)),t("    normalize.undo",()=>b4e(e)),t("    fixupEdgeLabelCoords",()=>D3e(e)),t("    undoCoordinateSystem",()=>g4e(e)),t("    translateGraph",()=>M3e(e)),t("    assignNodeIntersects",()=>I3e(e)),t("    reversePoints",()=>R3e(e)),t("    acyclic.undo",()=>i4e(e))}function C3e(e,t){ut(e.nodes(),function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))}),ut(e.edges(),function(r){var n=e.edge(r),i=t.edge(r);n.points=i.points,Object.prototype.hasOwnProperty.call(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}function _3e(e){var t=new ao({multigraph:!0,compound:!0}),r=Aw(e.graph());return t.setGraph(k3({},z3e,Sw(r,$3e),m5(r,q3e))),ut(e.nodes(),function(n){var i=Aw(e.node(n));t.setNode(n,d5(Sw(i,G3e),Y3e)),t.setParent(n,e.parent(n))}),ut(e.edges(),function(n){var i=Aw(e.edge(n));t.setEdge(n,k3({},H3e,Sw(i,j3e),m5(i,U3e)))}),t}function S3e(e){var t=e.graph();t.ranksep/=2,ut(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function A3e(e){ut(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),i=e.node(t.w),a={rank:(i.rank-n.rank)/2+n.rank,e:t};qp(e,"edge-proxy",a,"_ep")}})}function L3e(e){var t=0;ut(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=Gd(t,n.maxRank))}),e.graph().maxRank=t}function N3e(e){ut(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function M3e(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,a=e.graph(),s=a.marginx||0,l=a.marginy||0;function u(h){var d=h.x,p=h.y,f=h.width,g=h.height;t=Math.min(t,d-f/2),r=Math.max(r,d+f/2),n=Math.min(n,p-g/2),i=Math.max(i,p+g/2)}o(u,"getExtremes"),ut(e.nodes(),function(h){u(e.node(h))}),ut(e.edges(),function(h){var d=e.edge(h);Object.prototype.hasOwnProperty.call(d,"x")&&u(d)}),t-=s,n-=l,ut(e.nodes(),function(h){var d=e.node(h);d.x-=t,d.y-=n}),ut(e.edges(),function(h){var d=e.edge(h);ut(d.points,function(p){p.x-=t,p.y-=n}),Object.prototype.hasOwnProperty.call(d,"x")&&(d.x-=t),Object.prototype.hasOwnProperty.call(d,"y")&&(d.y-=n)}),a.width=r-t+s,a.height=i-n+l}function I3e(e){ut(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),a,s;r.points?(a=r.points[0],s=r.points[r.points.length-1]):(r.points=[],a=i,s=n),r.points.unshift(uR(n,a)),r.points.push(uR(i,s))})}function D3e(e){ut(e.edges(),function(t){var r=e.edge(t);if(Object.prototype.hasOwnProperty.call(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function R3e(e){ut(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function O3e(e){ut(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),a=e.node(cu(r.borderLeft)),s=e.node(cu(r.borderRight));r.width=Math.abs(s.x-a.x),r.height=Math.abs(i.y-n.y),r.x=a.x+r.width/2,r.y=n.y+r.height/2}}),ut(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function P3e(e){ut(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function B3e(e){var t=v5(e);ut(t,function(r){var n=0;ut(r,function(i,a){var s=e.node(i);s.order=a+n,ut(s.selfEdges,function(l){qp(e,"selfedge",{width:l.label.width,height:l.label.height,rank:s.rank,order:a+ ++n,e:l.e,label:l.label},"_se")}),delete s.selfEdges})})}function F3e(e){ut(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),i=n.x+n.width/2,a=n.y,s=r.x-i,l=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*s/3,y:a-l},{x:i+5*s/6,y:a-l},{x:i+s,y:a},{x:i+5*s/6,y:a+l},{x:i+2*s/3,y:a+l}],r.label.x=r.x,r.label.y=r.y}})}function Sw(e,t){return f5(m5(e,t),Number)}function Aw(e){var t={};return ut(e,function(r,n){t[n.toLowerCase()]=r}),t}var $3e,z3e,q3e,G3e,Y3e,j3e,H3e,U3e,RZe=R(()=>{"use strict";Gr(),Xl(),oZe(),lZe(),a4e(),x4e(),$4e(),wZe(),NZe(),MZe(),DZe(),s0(),o(x5,"layout"),o(E3e,"runLayout"),o(C3e,"updateInputGraph"),$3e=["nodesep","edgesep","ranksep","marginx","marginy"],z3e={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},q3e=["acyclicer","ranker","rankdir","align"],G3e=["width","height"],Y3e={width:0,height:0},j3e=["minlen","weight","width","height","labeloffset"],H3e={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},U3e=["labelpos"],o(_3e,"buildLayoutGraph"),o(S3e,"makeSpaceForEdgeLabels"),o(A3e,"injectEdgeLabelProxies"),o(L3e,"assignRankMinMax"),o(N3e,"removeEdgeLabelProxies"),o(M3e,"translateGraph"),o(I3e,"assignNodeIntersects"),o(D3e,"fixupEdgeLabelCoords"),o(R3e,"reversePointsForReversedEdges"),o(O3e,"removeBorderNodes"),o(P3e,"removeSelfEdges"),o(B3e,"insertSelfEdges"),o(F3e,"positionSelfEdges"),o(Sw,"selectNumberAttrs"),o(Aw,"canonicalize")}),Lw=R(()=>{"use strict";a4e(),RZe(),x4e(),$4e()});function uu(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:V3e(e),edges:W3e(e)};return di(e.graph())||(t.value=Za(e.graph())),t}function V3e(e){return nr(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),i={v:t};return di(r)||(i.value=r),di(n)||(i.parent=n),i})}function W3e(e){return nr(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return di(t.name)||(n.name=t.name),di(r)||(n.value=r),n})}var X3e=R(()=>{"use strict";Gr(),oR(),o(uu,"write"),o(V3e,"writeNodes"),o(W3e,"writeEdges")}),Mn,Hd,DR,K3e,w5,Z3e,RR,OR,Q3e,qm,PR,J3e,BR,FR,e5e,OZe=R(()=>{"use strict";We(),Xl(),X3e(),Mn=new Map,Hd=new Map,DR=new Map,K3e=o(()=>{Hd.clear(),DR.clear(),Mn.clear()},"clear"),w5=o((e,t)=>{let r=Hd.get(t)||[];return J.trace("In isDescendant",t," ",e," = ",r.includes(e)),r.includes(e)},"isDescendant"),Z3e=o((e,t)=>{let r=Hd.get(t)||[];return J.info("Descendants of ",t," is ",r),J.info("Edge is ",e),e.v===t||e.w===t?!1:r?r.includes(e.v)||w5(e.v,t)||w5(e.w,t)||r.includes(e.w):(J.debug("Tilt, ",t,",not in descendants"),!1)},"edgeInCluster"),RR=o((e,t,r,n)=>{J.warn("Copying children of ",e,"root",n,"data",t.node(e),n);let i=t.children(e)||[];e!==n&&i.push(e),J.warn("Copying (nodes) clusterId",e,"nodes",i),i.forEach(a=>{if(t.children(a).length>0)RR(a,t,r,n);else{let s=t.node(a);J.info("cp ",a," to ",n," with parent ",e),r.setNode(a,s),n!==t.parent(a)&&(J.warn("Setting parent",a,t.parent(a)),r.setParent(a,t.parent(a))),e!==n&&a!==e?(J.debug("Setting parent",a,e),r.setParent(a,e)):(J.info("In copy ",e,"root",n,"data",t.node(e),n),J.debug("Not Setting parent for node=",a,"cluster!==rootId",e!==n,"node!==clusterId",a!==e));let l=t.edges(a);J.debug("Copying Edges",l),l.forEach(u=>{J.info("Edge",u);let h=t.edge(u.v,u.w,u.name);J.info("Edge data",h,n);try{Z3e(u,n)?(J.info("Copying as ",u.v,u.w,h,u.name),r.setEdge(u.v,u.w,h,u.name),J.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):J.info("Skipping copy of edge ",u.v,"-->",u.w," rootId: ",n," clusterId:",e)}catch(d){J.error(d)}})}J.debug("Removing node",a),t.removeNode(a)})},"copy"),OR=o((e,t)=>{let r=t.children(e),n=[...r];for(let i of r)DR.set(i,e),n=[...n,...OR(i,t)];return n},"extractDescendants"),Q3e=o((e,t,r)=>{let n=e.edges().filter(l=>l.v===t||l.w===t),i=e.edges().filter(l=>l.v===r||l.w===r),a=n.map(l=>({v:l.v===t?r:l.v,w:l.w===t?t:l.w})),s=i.map(l=>({v:l.v,w:l.w}));return a.filter(l=>s.some(u=>l.v===u.v&&l.w===u.w))},"findCommonEdges"),qm=o((e,t,r)=>{let n=t.children(e);if(J.trace("Searching children of id ",e,n),n.length<1)return e;let i;for(let a of n){let s=qm(a,t,r),l=Q3e(t,r,s);if(s)if(l.length>0)i=s;else return s}return i},"findNonClusterChild"),PR=o(e=>!Mn.has(e)||!Mn.get(e).externalConnections?e:Mn.has(e)?Mn.get(e).id:e,"getAnchorId"),J3e=o((e,t)=>{if(!e||t>10){J.debug("Opting out, no graph ");return}else J.debug("Opting in, graph ");e.nodes().forEach(function(r){e.children(r).length>0&&(J.warn("Cluster identified",r," Replacement id in edges: ",qm(r,e,r)),Hd.set(r,OR(r,e)),Mn.set(r,{id:qm(r,e,r),clusterData:e.node(r)}))}),e.nodes().forEach(function(r){let n=e.children(r),i=e.edges();n.length>0?(J.debug("Cluster identified",r,Hd),i.forEach(a=>{let s=w5(a.v,r),l=w5(a.w,r);s^l&&(J.warn("Edge: ",a," leaves cluster ",r),J.warn("Descendants of XXX ",r,": ",Hd.get(r)),Mn.get(r).externalConnections=!0)})):J.debug("Not a cluster ",r,Hd)});for(let r of Mn.keys()){let n=Mn.get(r).id,i=e.parent(n);i!==r&&Mn.has(i)&&!Mn.get(i).externalConnections&&(Mn.get(r).id=i)}e.edges().forEach(function(r){let n=e.edge(r);J.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),J.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(e.edge(r)));let i=r.v,a=r.w;if(J.warn("Fix XXX",Mn,"ids:",r.v,r.w,"Translating: ",Mn.get(r.v)," --- ",Mn.get(r.w)),Mn.get(r.v)||Mn.get(r.w)){if(J.warn("Fixing and trying - removing XXX",r.v,r.w,r.name),i=PR(r.v),a=PR(r.w),e.removeEdge(r.v,r.w,r.name),i!==r.v){let s=e.parent(i);Mn.get(s).externalConnections=!0,n.fromCluster=r.v}if(a!==r.w){let s=e.parent(a);Mn.get(s).externalConnections=!0,n.toCluster=r.w}J.warn("Fix Replacing with XXX",i,a,r.name),e.setEdge(i,a,n,r.name)}}),J.warn("Adjusted Graph",uu(e)),BR(e,0),J.trace(Mn)},"adjustClustersAndEdges"),BR=o((e,t)=>{if(J.warn("extractor - ",t,uu(e),e.children("D")),t>10){J.error("Bailing out");return}let r=e.nodes(),n=!1;for(let i of r){let a=e.children(i);n=n||a.length>0}if(!n){J.debug("Done, no node has children",e.nodes());return}J.debug("Nodes = ",r,t);for(let i of r)if(J.debug("Extracting node",i,Mn,Mn.has(i)&&!Mn.get(i).externalConnections,!e.parent(i),e.node(i),e.children("D")," Depth ",t),!Mn.has(i))J.debug("Not a cluster",i,t);else if(!Mn.get(i).externalConnections&&e.children(i)&&e.children(i).length>0){J.warn("Cluster without external connections, without a parent and with children",i,t);let a=e.graph().rankdir==="TB"?"LR":"TB";Mn.get(i)?.clusterData?.dir&&(a=Mn.get(i).clusterData.dir,J.warn("Fixing dir",Mn.get(i).clusterData.dir,a));let s=new ao({multigraph:!0,compound:!0}).setGraph({rankdir:a,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});J.warn("Old graph before copy",uu(e)),RR(i,e,s,i),e.setNode(i,{clusterNode:!0,id:i,clusterData:Mn.get(i).clusterData,label:Mn.get(i).label,graph:s}),J.warn("New graph after copy node: (",i,")",uu(s)),J.debug("Old graph after copy",uu(e))}else J.warn("Cluster ** ",i," **not meeting the criteria !externalConnections:",!Mn.get(i).externalConnections," no parent: ",!e.parent(i)," children ",e.children(i)&&e.children(i).length>0,e.children("D"),t),J.debug(Mn);r=e.nodes(),J.warn("New list of nodes",r);for(let i of r){let a=e.node(i);J.warn(" Now next level",i,a),a?.clusterNode&&BR(a.graph,t+1)}},"extractor"),FR=o((e,t)=>{if(t.length===0)return[];let r=Object.assign([],t);return t.forEach(n=>{let i=e.children(n),a=FR(e,i);r=[...r,...a]}),r},"sorter"),e5e=o(e=>FR(e,e.children()),"sortNodesByHierarchy")}),t5e={};yr(t5e,{render:()=>r5e});var $R,r5e,PZe=R(()=>{"use strict";Lw(),X3e(),Xl(),tde(),Sr(),OZe(),RI(),CI(),Y0e(),We(),j8(),zr(),$R=o(async(e,t,r,n,i,a)=>{J.warn("Graph in recursive render:XAX",uu(t),i);let s=t.graph().rankdir;J.trace("Dir in recursive render - dir:",s);let l=e.insert("g").attr("class","root");t.nodes()?J.info("Recursive render XXX",t.nodes()):J.info("No nodes found for",t),t.edges().length>0&&J.info("Recursive edges",t.edge(t.edges()[0]));let u=l.insert("g").attr("class","clusters"),h=l.insert("g").attr("class","edgePaths"),d=l.insert("g").attr("class","edgeLabels"),p=l.insert("g").attr("class","nodes");await Promise.all(t.nodes().map(async function(m){let y=t.node(m);if(i!==void 0){let b=JSON.parse(JSON.stringify(i.clusterData));J.trace(`Setting data for parent cluster XXX
 Node.id = `,m,`
 data=`,b.height,`
Parent cluster`,i.height),t.setNode(i.id,b),t.parent(m)||(J.trace("Setting parent",m,i.id),t.setParent(m,i.id,b))}if(J.info("(Insert) Node XXX"+m+": "+JSON.stringify(t.node(m))),y?.clusterNode){J.info("Cluster identified XBX",m,y.width,t.node(m));let{ranksep:b,nodesep:v}=t.graph();y.graph.setGraph({...y.graph.graph(),ranksep:b+25,nodesep:v});let x=await $R(p,y.graph,r,n,t.node(m),a),w=x.elem;qr(y,w),y.diff=x.diff||0,J.info("New compound node after recursive render XAX",m,"width",y.width,"height",y.height),rde(w,y)}else t.children(m).length>0?(J.trace("Cluster - the non recursive path XBX",m,y.id,y,y.width,"Graph:",t),J.trace(qm(y.id,t)),Mn.set(y.id,{id:qm(y.id,t),node:y})):(J.trace("Node - the non recursive path XAX",m,p,t.node(m),s),await U8(p,t.node(m),{config:a,dir:s}))})),await o(async()=>{let m=t.edges().map(async function(y){let b=t.edge(y.v,y.w,y.name);J.info("Edge "+y.v+" -> "+y.w+": "+JSON.stringify(y)),J.info("Edge "+y.v+" -> "+y.w+": ",y," ",JSON.stringify(t.edge(y))),J.info("Fix",Mn,"ids:",y.v,y.w,"Translating: ",Mn.get(y.v),Mn.get(y.w)),await AI(d,b)});await Promise.all(m)},"processEdges")(),J.info("Graph before layout:",JSON.stringify(uu(t))),J.info("############################################# XXX"),J.info("###                Layout                 ### XXX"),J.info("############################################# XXX"),x5(t),J.info("Graph after layout:",JSON.stringify(uu(t)));let f=0,{subGraphTitleTotalMargin:g}=Am(a);return await Promise.all(e5e(t).map(async function(m){let y=t.node(m);if(J.info("Position XBX => "+m+": ("+y.x,","+y.y,") width: ",y.width," height: ",y.height),y?.clusterNode)y.y+=g,J.info("A tainted cluster node XBX1",m,y.id,y.width,y.height,y.x,y.y,t.parent(m)),Mn.get(y.id).node=y,V8(y);else if(t.children(m).length>0){J.info("A pure cluster node XBX1",m,y.id,y.x,y.y,y.width,y.height,t.parent(m)),y.height+=g,t.node(y.parentId);let b=y?.padding/2||0,v=y?.labelBBox?.height||0,x=v-b||0;J.debug("OffsetY",x,"labelHeight",v,"halfPadding",b),await H8(u,y),Mn.get(y.id).node=y}else{let b=t.node(y.parentId);y.y+=g/2,J.info("A regular node XBX1 - using the padding",y.id,"parent",y.parentId,y.width,y.height,y.x,y.y,"offsetY",y.offsetY,"parent",b,b?.offsetY,y),V8(y)}})),t.edges().forEach(function(m){let y=t.edge(m);J.info("Edge "+m.v+" -> "+m.w+": "+JSON.stringify(y),y),y.points.forEach(w=>w.y+=g/2);let b=t.node(m.v);var v=t.node(m.w);let x=II(h,y,Mn,r,b,v,n);LI(y,x)}),t.nodes().forEach(function(m){let y=t.node(m);J.info(m,y.type,y.diff),y.isGroup&&(f=y.diff)}),J.warn("Returning from recursive render XAX",l,f),{elem:l,diff:f}},"recursiveRender"),r5e=o(async(e,t)=>{let r=new ao({multigraph:!0,compound:!0}).setGraph({rankdir:e.direction,nodesep:e.config?.nodeSpacing||e.config?.flowchart?.nodeSpacing||e.nodeSpacing,ranksep:e.config?.rankSpacing||e.config?.flowchart?.rankSpacing||e.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),n=t.select("g");DI(n,e.markers,e.type,e.diagramId),nde(),$0e(),R0e(),K3e(),e.nodes.forEach(a=>{r.setNode(a.id,{...a}),a.parentId&&r.setParent(a.id,a.parentId)}),J.debug("Edges:",e.edges),e.edges.forEach(a=>{if(a.start===a.end){let s=a.start,l=s+"---"+s+"---1",u=s+"---"+s+"---2",h=r.node(s);r.setNode(l,{domId:l,id:l,parentId:h.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(l,h.parentId),r.setNode(u,{domId:u,id:u,parentId:h.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(u,h.parentId);let d=structuredClone(a),p=structuredClone(a),f=structuredClone(a);d.label="",d.arrowTypeEnd="none",d.id=s+"-cyclic-special-1",p.arrowTypeEnd="none",p.id=s+"-cyclic-special-mid",f.label="",h.isGroup&&(d.fromCluster=s,f.toCluster=s),f.id=s+"-cyclic-special-2",r.setEdge(s,l,d,s+"-cyclic-special-0"),r.setEdge(l,u,p,s+"-cyclic-special-1"),r.setEdge(u,s,f,s+"-cyc<lic-special-2")}else r.setEdge(a.start,a.end,{...a},a.id)}),J.warn("Graph at first:",JSON.stringify(uu(r))),J3e(r),J.warn("Graph after XAX:",JSON.stringify(uu(r)));let i=Ge();await $R(n,r,e.type,e.diagramId,void 0,i)},"render")}),Gm,zR,n5e,Nw,qR,Mw=R(()=>{"use strict";nXe(),We(),Gm={},zR=o(e=>{for(let t of e)Gm[t.name]=t},"registerLayoutLoaders"),n5e=o(()=>{zR([{name:"dagre",loader:o(async()=>await Promise.resolve().then(()=>(PZe(),t5e)),"loader")}])},"registerDefaultLayoutLoaders"),n5e(),Nw=o(async(e,t)=>{if(!(e.layoutAlgorithm in Gm))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);let r=Gm[e.layoutAlgorithm];return(await r.loader()).render(e,t,ide,{algorithm:r.algorithm})},"render"),qR=o((e="",{fallback:t="dagre"}={})=>{if(e in Gm)return e;if(t in Gm)return J.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm")}),Iw,i5e,a5e,GR=R(()=>{"use strict";Fa(),We(),Iw=o((e,t,r,n)=>{e.attr("class",r);let{width:i,height:a,x:s,y:l}=i5e(e,t);Qs(e,a,i,n);let u=a5e(s,l,i,a,t);e.attr("viewBox",u),J.debug(`viewBox configured: ${u} with padding: ${t}`)},"setupViewPortForSVG"),i5e=o((e,t)=>{let r=e.node()?.getBBox()||{width:0,height:0,x:0,y:0};return{width:r.width+t*2,height:r.height+t*2,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),a5e=o((e,t,r,n,i)=>`${e-i} ${t-i} ${r} ${n}`,"createViewBox")}),s5e,o5e,l5e,BZe=R(()=>{"use strict";Ln(),zr(),We(),kI(),Mw(),GR(),kn(),S0e(),s5e=o(function(e,t){return t.db.getClasses()},"getClasses"),o5e=o(async function(e,t,r,n){J.info("REF0:"),J.info("Drawing state diagram (v2)",t);let{securityLevel:i,flowchart:a,layout:s}=Ge(),l;i==="sandbox"&&(l=Bt("#i"+t));let u=i==="sandbox"?l.nodes()[0].contentDocument:document;J.debug("Before getData: ");let h=n.db.getData();J.debug("Data: ",h);let d=Y8(t,i),p=pI();h.type=n.type,h.layoutAlgorithm=qR(s),h.layoutAlgorithm==="dagre"&&s==="elk"&&J.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),h.direction=p,h.nodeSpacing=a?.nodeSpacing||50,h.rankSpacing=a?.rankSpacing||50,h.markers=["point","circle","cross"],h.diagramId=t,J.debug("REF1:",h),await Nw(h,d);let f=h.config.flowchart?.diagramPadding??8;mn.insertTitle(d,"flowchartTitleText",a?.titleTopMargin||0,n.db.getDiagramTitle()),Iw(d,f,"flowchart",a?.useMaxWidth||!1);for(let g of h.nodes){let m=Bt(`#${t} [id="${g.id}"]`);if(!m||!g.link)continue;let y=u.createElementNS("http://www.w3.org/2000/svg","a");y.setAttributeNS("http://www.w3.org/2000/svg","class",g.cssClasses),y.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?y.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):g.linkTarget&&y.setAttributeNS("http://www.w3.org/2000/svg","target",g.linkTarget);let b=m.insert(function(){return y},":first-child"),v=m.select(".label-container");v&&b.append(function(){return v.node()});let x=m.select(".label");x&&b.append(function(){return x.node()})}},"draw"),l5e={getClasses:s5e,draw:o5e}}),Dw,c5e,FZe=R(()=>{"use strict";Dw=function(){var e=o(function(Ri,Qt,kr,Vt){for(kr=kr||{},Vt=Ri.length;Vt--;kr[Ri[Vt]]=Qt);return kr},"o"),t=[1,4],r=[1,3],n=[1,5],i=[1,8,9,10,11,27,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],a=[2,2],s=[1,13],l=[1,14],u=[1,15],h=[1,16],d=[1,23],p=[1,25],f=[1,26],g=[1,27],m=[1,49],y=[1,48],b=[1,29],v=[1,30],x=[1,31],w=[1,32],E=[1,33],A=[1,44],N=[1,46],L=[1,42],C=[1,47],D=[1,43],P=[1,50],O=[1,45],I=[1,51],q=[1,52],S=[1,34],B=[1,35],F=[1,36],z=[1,37],M=[1,57],G=[1,8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],Y=[1,61],V=[1,60],X=[1,62],re=[8,9,11,75,77],de=[1,77],xe=[1,90],he=[1,95],be=[1,94],Q=[1,91],ne=[1,87],ee=[1,93],pe=[1,89],ie=[1,96],De=[1,92],se=[1,97],je=[1,88],ge=[8,9,10,11,40,75,77],rt=[8,9,10,11,40,46,75,77],Qe=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,88,101,104,105,108,110,113,114,115],tt=[8,9,11,44,60,75,77,88,101,104,105,108,110,113,114,115],mt=[44,60,88,101,104,105,108,110,113,114,115],yt=[1,123],Nt=[1,122],kt=[1,130],te=[1,144],Ne=[1,145],Ce=[1,146],Fe=[1,147],oe=[1,132],st=[1,134],ae=[1,138],ht=[1,139],fe=[1,140],Le=[1,141],Ue=[1,142],Ke=[1,143],it=[1,148],qe=[1,149],xt=[1,128],at=[1,129],jt=[1,136],mr=[1,131],cr=[1,135],Zt=[1,133],vr=[8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],Gt=[1,151],Tt=[1,153],wt=[8,9,11],pr=[8,9,10,11,14,44,60,88,104,105,108,110,113,114,115],Mt=[1,173],Rr=[1,169],Cr=[1,170],Kt=[1,174],Xt=[1,171],Ft=[1,172],Tr=[77,115,118],ir=[8,9,10,11,12,14,27,29,32,44,60,75,83,84,85,86,87,88,89,104,108,110,113,114,115],oi=[10,105],xn=[31,49,51,53,55,57,62,64,66,67,69,71,115,116,117],On=[1,242],Qi=[1,240],fi=[1,244],aa=[1,238],zi=[1,239],sa=[1,241],Be=[1,243],rr=[1,245],tr=[1,263],qn=[8,9,11,105],jn=[8,9,10,11,60,83,104,105,108,109,110,111],Ai={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,edgeTextToken:78,STR:79,MD_STR:80,textToken:81,keywords:82,STYLE:83,LINKSTYLE:84,CLASSDEF:85,CLASS:86,CLICK:87,DOWN:88,UP:89,textNoTagsToken:90,stylesOpt:91,"idString[vertex]":92,"idString[class]":93,CALLBACKNAME:94,CALLBACKARGS:95,HREF:96,LINK_TARGET:97,"STR[link]":98,"STR[tooltip]":99,alphaNum:100,DEFAULT:101,numList:102,INTERPOLATE:103,NUM:104,COMMA:105,style:106,styleComponent:107,NODE_STRING:108,UNIT:109,BRKT:110,PCT:111,idStringToken:112,MINUS:113,MULT:114,UNICODE_TEXT:115,TEXT:116,TAGSTART:117,EDGE_TEXT:118,alphaNumToken:119,direction_tb:120,direction_bt:121,direction_rl:122,direction_lr:123,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",79:"STR",80:"MD_STR",83:"STYLE",84:"LINKSTYLE",85:"CLASSDEF",86:"CLASS",87:"CLICK",88:"DOWN",89:"UP",92:"idString[vertex]",93:"idString[class]",94:"CALLBACKNAME",95:"CALLBACKARGS",96:"HREF",97:"LINK_TARGET",98:"STR[link]",99:"STR[tooltip]",101:"DEFAULT",103:"INTERPOLATE",104:"NUM",105:"COMMA",108:"NODE_STRING",109:"UNIT",110:"BRKT",111:"PCT",113:"MINUS",114:"MULT",115:"UNICODE_TEXT",116:"TEXT",117:"TAGSTART",118:"EDGE_TEXT",120:"direction_tb",121:"direction_bt",122:"direction_rl",123:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[76,1],[76,2],[76,1],[76,1],[72,1],[73,3],[30,1],[30,2],[30,1],[30,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[102,1],[102,3],[91,1],[91,3],[106,1],[106,2],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[81,1],[81,1],[81,1],[81,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[78,1],[78,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[47,1],[47,2],[100,1],[100,2],[33,1],[33,1],[33,1],[33,1]],performAction:o(function(Ri,Qt,kr,Vt,li,_e,yn){var Re=_e.length-1;switch(li){case 2:this.$=[];break;case 3:(!Array.isArray(_e[Re])||_e[Re].length>0)&&_e[Re-1].push(_e[Re]),this.$=_e[Re-1];break;case 4:case 181:this.$=_e[Re];break;case 11:Vt.setDirection("TB"),this.$="TB";break;case 12:Vt.setDirection(_e[Re-1]),this.$=_e[Re-1];break;case 27:this.$=_e[Re-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=Vt.addSubGraph(_e[Re-6],_e[Re-1],_e[Re-4]);break;case 34:this.$=Vt.addSubGraph(_e[Re-3],_e[Re-1],_e[Re-3]);break;case 35:this.$=Vt.addSubGraph(void 0,_e[Re-1],void 0);break;case 37:this.$=_e[Re].trim(),Vt.setAccTitle(this.$);break;case 38:case 39:this.$=_e[Re].trim(),Vt.setAccDescription(this.$);break;case 43:this.$=_e[Re-1]+_e[Re];break;case 44:this.$=_e[Re];break;case 45:Vt.addVertex(_e[Re-1][0],void 0,void 0,void 0,void 0,void 0,void 0,_e[Re]),Vt.addLink(_e[Re-3].stmt,_e[Re-1],_e[Re-2]),this.$={stmt:_e[Re-1],nodes:_e[Re-1].concat(_e[Re-3].nodes)};break;case 46:Vt.addLink(_e[Re-2].stmt,_e[Re],_e[Re-1]),this.$={stmt:_e[Re],nodes:_e[Re].concat(_e[Re-2].nodes)};break;case 47:Vt.addLink(_e[Re-3].stmt,_e[Re-1],_e[Re-2]),this.$={stmt:_e[Re-1],nodes:_e[Re-1].concat(_e[Re-3].nodes)};break;case 48:this.$={stmt:_e[Re-1],nodes:_e[Re-1]};break;case 49:Vt.addVertex(_e[Re-1][0],void 0,void 0,void 0,void 0,void 0,void 0,_e[Re]),this.$={stmt:_e[Re-1],nodes:_e[Re-1],shapeData:_e[Re]};break;case 50:this.$={stmt:_e[Re],nodes:_e[Re]};break;case 51:this.$=[_e[Re]];break;case 52:Vt.addVertex(_e[Re-5][0],void 0,void 0,void 0,void 0,void 0,void 0,_e[Re-4]),this.$=_e[Re-5].concat(_e[Re]);break;case 53:this.$=_e[Re-4].concat(_e[Re]);break;case 54:this.$=_e[Re];break;case 55:this.$=_e[Re-2],Vt.setClass(_e[Re-2],_e[Re]);break;case 56:this.$=_e[Re-3],Vt.addVertex(_e[Re-3],_e[Re-1],"square");break;case 57:this.$=_e[Re-3],Vt.addVertex(_e[Re-3],_e[Re-1],"doublecircle");break;case 58:this.$=_e[Re-5],Vt.addVertex(_e[Re-5],_e[Re-2],"circle");break;case 59:this.$=_e[Re-3],Vt.addVertex(_e[Re-3],_e[Re-1],"ellipse");break;case 60:this.$=_e[Re-3],Vt.addVertex(_e[Re-3],_e[Re-1],"stadium");break;case 61:this.$=_e[Re-3],Vt.addVertex(_e[Re-3],_e[Re-1],"subroutine");break;case 62:this.$=_e[Re-7],Vt.addVertex(_e[Re-7],_e[Re-1],"rect",void 0,void 0,void 0,Object.fromEntries([[_e[Re-5],_e[Re-3]]]));break;case 63:this.$=_e[Re-3],Vt.addVertex(_e[Re-3],_e[Re-1],"cylinder");break;case 64:this.$=_e[Re-3],Vt.addVertex(_e[Re-3],_e[Re-1],"round");break;case 65:this.$=_e[Re-3],Vt.addVertex(_e[Re-3],_e[Re-1],"diamond");break;case 66:this.$=_e[Re-5],Vt.addVertex(_e[Re-5],_e[Re-2],"hexagon");break;case 67:this.$=_e[Re-3],Vt.addVertex(_e[Re-3],_e[Re-1],"odd");break;case 68:this.$=_e[Re-3],Vt.addVertex(_e[Re-3],_e[Re-1],"trapezoid");break;case 69:this.$=_e[Re-3],Vt.addVertex(_e[Re-3],_e[Re-1],"inv_trapezoid");break;case 70:this.$=_e[Re-3],Vt.addVertex(_e[Re-3],_e[Re-1],"lean_right");break;case 71:this.$=_e[Re-3],Vt.addVertex(_e[Re-3],_e[Re-1],"lean_left");break;case 72:this.$=_e[Re],Vt.addVertex(_e[Re]);break;case 73:_e[Re-1].text=_e[Re],this.$=_e[Re-1];break;case 74:case 75:_e[Re-2].text=_e[Re-1],this.$=_e[Re-2];break;case 76:this.$=_e[Re];break;case 77:var Ji=Vt.destructLink(_e[Re],_e[Re-2]);this.$={type:Ji.type,stroke:Ji.stroke,length:Ji.length,text:_e[Re-1]};break;case 78:this.$={text:_e[Re],type:"text"};break;case 79:this.$={text:_e[Re-1].text+""+_e[Re],type:_e[Re-1].type};break;case 80:this.$={text:_e[Re],type:"string"};break;case 81:this.$={text:_e[Re],type:"markdown"};break;case 82:var Ji=Vt.destructLink(_e[Re]);this.$={type:Ji.type,stroke:Ji.stroke,length:Ji.length};break;case 83:this.$=_e[Re-1];break;case 84:this.$={text:_e[Re],type:"text"};break;case 85:this.$={text:_e[Re-1].text+""+_e[Re],type:_e[Re-1].type};break;case 86:this.$={text:_e[Re],type:"string"};break;case 87:case 102:this.$={text:_e[Re],type:"markdown"};break;case 99:this.$={text:_e[Re],type:"text"};break;case 100:this.$={text:_e[Re-1].text+""+_e[Re],type:_e[Re-1].type};break;case 101:this.$={text:_e[Re],type:"text"};break;case 103:this.$=_e[Re-4],Vt.addClass(_e[Re-2],_e[Re]);break;case 104:this.$=_e[Re-4],Vt.setClass(_e[Re-2],_e[Re]);break;case 105:case 113:this.$=_e[Re-1],Vt.setClickEvent(_e[Re-1],_e[Re]);break;case 106:case 114:this.$=_e[Re-3],Vt.setClickEvent(_e[Re-3],_e[Re-2]),Vt.setTooltip(_e[Re-3],_e[Re]);break;case 107:this.$=_e[Re-2],Vt.setClickEvent(_e[Re-2],_e[Re-1],_e[Re]);break;case 108:this.$=_e[Re-4],Vt.setClickEvent(_e[Re-4],_e[Re-3],_e[Re-2]),Vt.setTooltip(_e[Re-4],_e[Re]);break;case 109:this.$=_e[Re-2],Vt.setLink(_e[Re-2],_e[Re]);break;case 110:this.$=_e[Re-4],Vt.setLink(_e[Re-4],_e[Re-2]),Vt.setTooltip(_e[Re-4],_e[Re]);break;case 111:this.$=_e[Re-4],Vt.setLink(_e[Re-4],_e[Re-2],_e[Re]);break;case 112:this.$=_e[Re-6],Vt.setLink(_e[Re-6],_e[Re-4],_e[Re]),Vt.setTooltip(_e[Re-6],_e[Re-2]);break;case 115:this.$=_e[Re-1],Vt.setLink(_e[Re-1],_e[Re]);break;case 116:this.$=_e[Re-3],Vt.setLink(_e[Re-3],_e[Re-2]),Vt.setTooltip(_e[Re-3],_e[Re]);break;case 117:this.$=_e[Re-3],Vt.setLink(_e[Re-3],_e[Re-2],_e[Re]);break;case 118:this.$=_e[Re-5],Vt.setLink(_e[Re-5],_e[Re-4],_e[Re]),Vt.setTooltip(_e[Re-5],_e[Re-2]);break;case 119:this.$=_e[Re-4],Vt.addVertex(_e[Re-2],void 0,void 0,_e[Re]);break;case 120:this.$=_e[Re-4],Vt.updateLink([_e[Re-2]],_e[Re]);break;case 121:this.$=_e[Re-4],Vt.updateLink(_e[Re-2],_e[Re]);break;case 122:this.$=_e[Re-8],Vt.updateLinkInterpolate([_e[Re-6]],_e[Re-2]),Vt.updateLink([_e[Re-6]],_e[Re]);break;case 123:this.$=_e[Re-8],Vt.updateLinkInterpolate(_e[Re-6],_e[Re-2]),Vt.updateLink(_e[Re-6],_e[Re]);break;case 124:this.$=_e[Re-6],Vt.updateLinkInterpolate([_e[Re-4]],_e[Re]);break;case 125:this.$=_e[Re-6],Vt.updateLinkInterpolate(_e[Re-4],_e[Re]);break;case 126:case 128:this.$=[_e[Re]];break;case 127:case 129:_e[Re-2].push(_e[Re]),this.$=_e[Re-2];break;case 131:this.$=_e[Re-1]+_e[Re];break;case 179:this.$=_e[Re];break;case 180:this.$=_e[Re-1]+""+_e[Re];break;case 182:this.$=_e[Re-1]+""+_e[Re];break;case 183:this.$={stmt:"dir",value:"TB"};break;case 184:this.$={stmt:"dir",value:"BT"};break;case 185:this.$={stmt:"dir",value:"RL"};break;case 186:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:t,10:r,12:n},{1:[3]},e(i,a,{5:6}),{4:7,9:t,10:r,12:n},{4:8,9:t,10:r,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:s,9:l,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,33:24,34:p,36:f,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:b,84:v,85:x,86:w,87:E,88:A,101:N,104:L,105:C,108:D,110:P,112:41,113:O,114:I,115:q,120:S,121:B,122:F,123:z},e(i,[2,9]),e(i,[2,10]),e(i,[2,11]),{8:[1,54],9:[1,55],10:M,15:53,18:56},e(G,[2,3]),e(G,[2,4]),e(G,[2,5]),e(G,[2,6]),e(G,[2,7]),e(G,[2,8]),{8:Y,9:V,11:X,21:58,41:59,72:63,75:[1,64],77:[1,65]},{8:Y,9:V,11:X,21:66},{8:Y,9:V,11:X,21:67},{8:Y,9:V,11:X,21:68},{8:Y,9:V,11:X,21:69},{8:Y,9:V,11:X,21:70},{8:Y,9:V,10:[1,71],11:X,21:72},e(G,[2,36]),{35:[1,73]},{37:[1,74]},e(G,[2,39]),e(re,[2,50],{18:75,39:76,10:M,40:de}),{10:[1,78]},{10:[1,79]},{10:[1,80]},{10:[1,81]},{14:xe,44:he,60:be,79:[1,85],88:Q,94:[1,82],96:[1,83],100:84,104:ne,105:ee,108:pe,110:ie,113:De,114:se,115:je,119:86},e(G,[2,183]),e(G,[2,184]),e(G,[2,185]),e(G,[2,186]),e(ge,[2,51]),e(ge,[2,54],{46:[1,98]}),e(rt,[2,72],{112:111,29:[1,99],44:m,48:[1,100],50:[1,101],52:[1,102],54:[1,103],56:[1,104],58:[1,105],60:y,63:[1,106],65:[1,107],67:[1,108],68:[1,109],70:[1,110],88:A,101:N,104:L,105:C,108:D,110:P,113:O,114:I,115:q}),e(Qe,[2,179]),e(Qe,[2,140]),e(Qe,[2,141]),e(Qe,[2,142]),e(Qe,[2,143]),e(Qe,[2,144]),e(Qe,[2,145]),e(Qe,[2,146]),e(Qe,[2,147]),e(Qe,[2,148]),e(Qe,[2,149]),e(Qe,[2,150]),e(i,[2,12]),e(i,[2,18]),e(i,[2,19]),{9:[1,112]},e(tt,[2,26],{18:113,10:M}),e(G,[2,27]),{42:114,43:38,44:m,45:39,47:40,60:y,88:A,101:N,104:L,105:C,108:D,110:P,112:41,113:O,114:I,115:q},e(G,[2,40]),e(G,[2,41]),e(G,[2,42]),e(mt,[2,76],{73:115,62:[1,117],74:[1,116]}),{76:118,78:119,79:[1,120],80:[1,121],115:yt,118:Nt},e([44,60,62,74,88,101,104,105,108,110,113,114,115],[2,82]),e(G,[2,28]),e(G,[2,29]),e(G,[2,30]),e(G,[2,31]),e(G,[2,32]),{10:kt,12:te,14:Ne,27:Ce,28:124,32:Fe,44:oe,60:st,75:ae,79:[1,126],80:[1,127],82:137,83:ht,84:fe,85:Le,86:Ue,87:Ke,88:it,89:qe,90:125,104:xt,108:at,110:jt,113:mr,114:cr,115:Zt},e(vr,a,{5:150}),e(G,[2,37]),e(G,[2,38]),e(re,[2,48],{44:Gt}),e(re,[2,49],{18:152,10:M,40:Tt}),e(ge,[2,44]),{44:m,47:154,60:y,88:A,101:N,104:L,105:C,108:D,110:P,112:41,113:O,114:I,115:q},{101:[1,155],102:156,104:[1,157]},{44:m,47:158,60:y,88:A,101:N,104:L,105:C,108:D,110:P,112:41,113:O,114:I,115:q},{44:m,47:159,60:y,88:A,101:N,104:L,105:C,108:D,110:P,112:41,113:O,114:I,115:q},e(wt,[2,105],{10:[1,160],95:[1,161]}),{79:[1,162]},e(wt,[2,113],{119:164,10:[1,163],14:xe,44:he,60:be,88:Q,104:ne,105:ee,108:pe,110:ie,113:De,114:se,115:je}),e(wt,[2,115],{10:[1,165]}),e(pr,[2,181]),e(pr,[2,168]),e(pr,[2,169]),e(pr,[2,170]),e(pr,[2,171]),e(pr,[2,172]),e(pr,[2,173]),e(pr,[2,174]),e(pr,[2,175]),e(pr,[2,176]),e(pr,[2,177]),e(pr,[2,178]),{44:m,47:166,60:y,88:A,101:N,104:L,105:C,108:D,110:P,112:41,113:O,114:I,115:q},{30:167,67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},{30:175,67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},{30:177,50:[1,176],67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},{30:178,67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},{30:179,67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},{30:180,67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},{108:[1,181]},{30:182,67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},{30:183,65:[1,184],67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},{30:185,67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},{30:186,67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},{30:187,67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},e(Qe,[2,180]),e(i,[2,20]),e(tt,[2,25]),e(re,[2,46],{39:188,18:189,10:M,40:de}),e(mt,[2,73],{10:[1,190]}),{10:[1,191]},{30:192,67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},{77:[1,193],78:194,115:yt,118:Nt},e(Tr,[2,78]),e(Tr,[2,80]),e(Tr,[2,81]),e(Tr,[2,166]),e(Tr,[2,167]),{8:Y,9:V,10:kt,11:X,12:te,14:Ne,21:196,27:Ce,29:[1,195],32:Fe,44:oe,60:st,75:ae,82:137,83:ht,84:fe,85:Le,86:Ue,87:Ke,88:it,89:qe,90:197,104:xt,108:at,110:jt,113:mr,114:cr,115:Zt},e(ir,[2,99]),e(ir,[2,101]),e(ir,[2,102]),e(ir,[2,155]),e(ir,[2,156]),e(ir,[2,157]),e(ir,[2,158]),e(ir,[2,159]),e(ir,[2,160]),e(ir,[2,161]),e(ir,[2,162]),e(ir,[2,163]),e(ir,[2,164]),e(ir,[2,165]),e(ir,[2,88]),e(ir,[2,89]),e(ir,[2,90]),e(ir,[2,91]),e(ir,[2,92]),e(ir,[2,93]),e(ir,[2,94]),e(ir,[2,95]),e(ir,[2,96]),e(ir,[2,97]),e(ir,[2,98]),{6:11,7:12,8:s,9:l,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,198],33:24,34:p,36:f,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:b,84:v,85:x,86:w,87:E,88:A,101:N,104:L,105:C,108:D,110:P,112:41,113:O,114:I,115:q,120:S,121:B,122:F,123:z},{10:M,18:199},{44:[1,200]},e(ge,[2,43]),{10:[1,201],44:m,60:y,88:A,101:N,104:L,105:C,108:D,110:P,112:111,113:O,114:I,115:q},{10:[1,202]},{10:[1,203],105:[1,204]},e(oi,[2,126]),{10:[1,205],44:m,60:y,88:A,101:N,104:L,105:C,108:D,110:P,112:111,113:O,114:I,115:q},{10:[1,206],44:m,60:y,88:A,101:N,104:L,105:C,108:D,110:P,112:111,113:O,114:I,115:q},{79:[1,207]},e(wt,[2,107],{10:[1,208]}),e(wt,[2,109],{10:[1,209]}),{79:[1,210]},e(pr,[2,182]),{79:[1,211],97:[1,212]},e(ge,[2,55],{112:111,44:m,60:y,88:A,101:N,104:L,105:C,108:D,110:P,113:O,114:I,115:q}),{31:[1,213],67:Mt,81:214,115:Kt,116:Xt,117:Ft},e(xn,[2,84]),e(xn,[2,86]),e(xn,[2,87]),e(xn,[2,151]),e(xn,[2,152]),e(xn,[2,153]),e(xn,[2,154]),{49:[1,215],67:Mt,81:214,115:Kt,116:Xt,117:Ft},{30:216,67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},{51:[1,217],67:Mt,81:214,115:Kt,116:Xt,117:Ft},{53:[1,218],67:Mt,81:214,115:Kt,116:Xt,117:Ft},{55:[1,219],67:Mt,81:214,115:Kt,116:Xt,117:Ft},{57:[1,220],67:Mt,81:214,115:Kt,116:Xt,117:Ft},{60:[1,221]},{64:[1,222],67:Mt,81:214,115:Kt,116:Xt,117:Ft},{66:[1,223],67:Mt,81:214,115:Kt,116:Xt,117:Ft},{30:224,67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},{31:[1,225],67:Mt,81:214,115:Kt,116:Xt,117:Ft},{67:Mt,69:[1,226],71:[1,227],81:214,115:Kt,116:Xt,117:Ft},{67:Mt,69:[1,229],71:[1,228],81:214,115:Kt,116:Xt,117:Ft},e(re,[2,45],{18:152,10:M,40:Tt}),e(re,[2,47],{44:Gt}),e(mt,[2,75]),e(mt,[2,74]),{62:[1,230],67:Mt,81:214,115:Kt,116:Xt,117:Ft},e(mt,[2,77]),e(Tr,[2,79]),{30:231,67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},e(vr,a,{5:232}),e(ir,[2,100]),e(G,[2,35]),{43:233,44:m,45:39,47:40,60:y,88:A,101:N,104:L,105:C,108:D,110:P,112:41,113:O,114:I,115:q},{10:M,18:234},{10:On,60:Qi,83:fi,91:235,104:aa,106:236,107:237,108:zi,109:sa,110:Be,111:rr},{10:On,60:Qi,83:fi,91:246,103:[1,247],104:aa,106:236,107:237,108:zi,109:sa,110:Be,111:rr},{10:On,60:Qi,83:fi,91:248,103:[1,249],104:aa,106:236,107:237,108:zi,109:sa,110:Be,111:rr},{104:[1,250]},{10:On,60:Qi,83:fi,91:251,104:aa,106:236,107:237,108:zi,109:sa,110:Be,111:rr},{44:m,47:252,60:y,88:A,101:N,104:L,105:C,108:D,110:P,112:41,113:O,114:I,115:q},e(wt,[2,106]),{79:[1,253]},{79:[1,254],97:[1,255]},e(wt,[2,114]),e(wt,[2,116],{10:[1,256]}),e(wt,[2,117]),e(rt,[2,56]),e(xn,[2,85]),e(rt,[2,57]),{51:[1,257],67:Mt,81:214,115:Kt,116:Xt,117:Ft},e(rt,[2,64]),e(rt,[2,59]),e(rt,[2,60]),e(rt,[2,61]),{108:[1,258]},e(rt,[2,63]),e(rt,[2,65]),{66:[1,259],67:Mt,81:214,115:Kt,116:Xt,117:Ft},e(rt,[2,67]),e(rt,[2,68]),e(rt,[2,70]),e(rt,[2,69]),e(rt,[2,71]),e([10,44,60,88,101,104,105,108,110,113,114,115],[2,83]),{31:[1,260],67:Mt,81:214,115:Kt,116:Xt,117:Ft},{6:11,7:12,8:s,9:l,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,261],33:24,34:p,36:f,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:b,84:v,85:x,86:w,87:E,88:A,101:N,104:L,105:C,108:D,110:P,112:41,113:O,114:I,115:q,120:S,121:B,122:F,123:z},e(ge,[2,53]),{43:262,44:m,45:39,47:40,60:y,88:A,101:N,104:L,105:C,108:D,110:P,112:41,113:O,114:I,115:q},e(wt,[2,119],{105:tr}),e(qn,[2,128],{107:264,10:On,60:Qi,83:fi,104:aa,108:zi,109:sa,110:Be,111:rr}),e(jn,[2,130]),e(jn,[2,132]),e(jn,[2,133]),e(jn,[2,134]),e(jn,[2,135]),e(jn,[2,136]),e(jn,[2,137]),e(jn,[2,138]),e(jn,[2,139]),e(wt,[2,120],{105:tr}),{10:[1,265]},e(wt,[2,121],{105:tr}),{10:[1,266]},e(oi,[2,127]),e(wt,[2,103],{105:tr}),e(wt,[2,104],{112:111,44:m,60:y,88:A,101:N,104:L,105:C,108:D,110:P,113:O,114:I,115:q}),e(wt,[2,108]),e(wt,[2,110],{10:[1,267]}),e(wt,[2,111]),{97:[1,268]},{51:[1,269]},{62:[1,270]},{66:[1,271]},{8:Y,9:V,11:X,21:272},e(G,[2,34]),e(ge,[2,52]),{10:On,60:Qi,83:fi,104:aa,106:273,107:237,108:zi,109:sa,110:Be,111:rr},e(jn,[2,131]),{14:xe,44:he,60:be,88:Q,100:274,104:ne,105:ee,108:pe,110:ie,113:De,114:se,115:je,119:86},{14:xe,44:he,60:be,88:Q,100:275,104:ne,105:ee,108:pe,110:ie,113:De,114:se,115:je,119:86},{97:[1,276]},e(wt,[2,118]),e(rt,[2,58]),{30:277,67:Mt,79:Rr,80:Cr,81:168,115:Kt,116:Xt,117:Ft},e(rt,[2,66]),e(vr,a,{5:278}),e(qn,[2,129],{107:264,10:On,60:Qi,83:fi,104:aa,108:zi,109:sa,110:Be,111:rr}),e(wt,[2,124],{119:164,10:[1,279],14:xe,44:he,60:be,88:Q,104:ne,105:ee,108:pe,110:ie,113:De,114:se,115:je}),e(wt,[2,125],{119:164,10:[1,280],14:xe,44:he,60:be,88:Q,104:ne,105:ee,108:pe,110:ie,113:De,114:se,115:je}),e(wt,[2,112]),{31:[1,281],67:Mt,81:214,115:Kt,116:Xt,117:Ft},{6:11,7:12,8:s,9:l,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,282],33:24,34:p,36:f,38:g,42:28,43:38,44:m,45:39,47:40,60:y,83:b,84:v,85:x,86:w,87:E,88:A,101:N,104:L,105:C,108:D,110:P,112:41,113:O,114:I,115:q,120:S,121:B,122:F,123:z},{10:On,60:Qi,83:fi,91:283,104:aa,106:236,107:237,108:zi,109:sa,110:Be,111:rr},{10:On,60:Qi,83:fi,91:284,104:aa,106:236,107:237,108:zi,109:sa,110:Be,111:rr},e(rt,[2,62]),e(G,[2,33]),e(wt,[2,122],{105:tr}),e(wt,[2,123],{105:tr})],defaultActions:{},parseError:o(function(Ri,Qt){if(Qt.recoverable)this.trace(Ri);else{var kr=new Error(Ri);throw kr.hash=Qt,kr}},"parseError"),parse:o(function(Ri){var Qt=this,kr=[0],Vt=[],li=[null],_e=[],yn=this.table,Re="",Ji=0,VGe=0,WGe=0,iit=2,XGe=1,ait=_e.slice.call(arguments,1),Ys=Object.create(this.lexer),Ug={yy:{}};for(var DH in this.yy)Object.prototype.hasOwnProperty.call(this.yy,DH)&&(Ug.yy[DH]=this.yy[DH]);Ys.setInput(Ri,Ug.yy),Ug.yy.lexer=Ys,Ug.yy.parser=this,typeof Ys.yylloc>"u"&&(Ys.yylloc={});var RH=Ys.yylloc;_e.push(RH);var sit=Ys.options&&Ys.options.ranges;typeof Ug.yy.parseError=="function"?this.parseError=Ug.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function oit(lc){kr.length=kr.length-2*lc,li.length=li.length-lc,_e.length=_e.length-lc}o(oit,"popStack");function KGe(){var lc;return lc=Vt.pop()||Ys.lex()||XGe,typeof lc!="number"&&(lc instanceof Array&&(Vt=lc,lc=Vt.pop()),lc=Qt.symbols_[lc]||lc),lc}o(KGe,"lex");for(var sl,OH,Vg,qc,lit,PH,Ty={},IC,W0,ZGe,DC;;){if(Vg=kr[kr.length-1],this.defaultActions[Vg]?qc=this.defaultActions[Vg]:((sl===null||typeof sl>"u")&&(sl=KGe()),qc=yn[Vg]&&yn[Vg][sl]),typeof qc>"u"||!qc.length||!qc[0]){var BH="";DC=[];for(IC in yn[Vg])this.terminals_[IC]&&IC>iit&&DC.push("'"+this.terminals_[IC]+"'");Ys.showPosition?BH="Parse error on line "+(Ji+1)+`:
`+Ys.showPosition()+`
Expecting `+DC.join(", ")+", got '"+(this.terminals_[sl]||sl)+"'":BH="Parse error on line "+(Ji+1)+": Unexpected "+(sl==XGe?"end of input":"'"+(this.terminals_[sl]||sl)+"'"),this.parseError(BH,{text:Ys.match,token:this.terminals_[sl]||sl,line:Ys.yylineno,loc:RH,expected:DC})}if(qc[0]instanceof Array&&qc.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Vg+", token: "+sl);switch(qc[0]){case 1:kr.push(sl),li.push(Ys.yytext),_e.push(Ys.yylloc),kr.push(qc[1]),sl=null,OH?(sl=OH,OH=null):(VGe=Ys.yyleng,Re=Ys.yytext,Ji=Ys.yylineno,RH=Ys.yylloc,WGe>0&&WGe--);break;case 2:if(W0=this.productions_[qc[1]][1],Ty.$=li[li.length-W0],Ty._$={first_line:_e[_e.length-(W0||1)].first_line,last_line:_e[_e.length-1].last_line,first_column:_e[_e.length-(W0||1)].first_column,last_column:_e[_e.length-1].last_column},sit&&(Ty._$.range=[_e[_e.length-(W0||1)].range[0],_e[_e.length-1].range[1]]),PH=this.performAction.apply(Ty,[Re,VGe,Ji,Ug.yy,qc[1],li,_e].concat(ait)),typeof PH<"u")return PH;W0&&(kr=kr.slice(0,-1*W0*2),li=li.slice(0,-1*W0),_e=_e.slice(0,-1*W0)),kr.push(this.productions_[qc[1]][0]),li.push(Ty.$),_e.push(Ty._$),ZGe=yn[kr[kr.length-2]][kr[kr.length-1]],kr.push(ZGe);break;case 3:return!0}}return!0},"parse")},qi=function(){var Ri={EOF:1,parseError:o(function(Qt,kr){if(this.yy.parser)this.yy.parser.parseError(Qt,kr);else throw new Error(Qt)},"parseError"),setInput:o(function(Qt,kr){return this.yy=kr||this.yy||{},this._input=Qt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var Qt=this._input[0];this.yytext+=Qt,this.yyleng++,this.offset++,this.match+=Qt,this.matched+=Qt;var kr=Qt.match(/(?:\r\n?|\n).*/g);return kr?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Qt},"input"),unput:o(function(Qt){var kr=Qt.length,Vt=Qt.split(/(?:\r\n?|\n)/g);this._input=Qt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-kr),this.offset-=kr;var li=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Vt.length-1&&(this.yylineno-=Vt.length-1);var _e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Vt?(Vt.length===li.length?this.yylloc.first_column:0)+li[li.length-Vt.length].length-Vt[0].length:this.yylloc.first_column-kr},this.options.ranges&&(this.yylloc.range=[_e[0],_e[0]+this.yyleng-kr]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(Qt){this.unput(this.match.slice(Qt))},"less"),pastInput:o(function(){var Qt=this.matched.substr(0,this.matched.length-this.match.length);return(Qt.length>20?"...":"")+Qt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var Qt=this.match;return Qt.length<20&&(Qt+=this._input.substr(0,20-Qt.length)),(Qt.substr(0,20)+(Qt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var Qt=this.pastInput(),kr=new Array(Qt.length+1).join("-");return Qt+this.upcomingInput()+`
`+kr+"^"},"showPosition"),test_match:o(function(Qt,kr){var Vt,li,_e;if(this.options.backtrack_lexer&&(_e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_e.yylloc.range=this.yylloc.range.slice(0))),li=Qt[0].match(/(?:\r\n?|\n).*/g),li&&(this.yylineno+=li.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:li?li[li.length-1].length-li[li.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Qt[0].length},this.yytext+=Qt[0],this.match+=Qt[0],this.matches=Qt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Qt[0].length),this.matched+=Qt[0],Vt=this.performAction.call(this,this.yy,this,kr,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Vt)return Vt;if(this._backtrack){for(var yn in _e)this[yn]=_e[yn];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Qt,kr,Vt,li;this._more||(this.yytext="",this.match="");for(var _e=this._currentRules(),yn=0;yn<_e.length;yn++)if(Vt=this._input.match(this.rules[_e[yn]]),Vt&&(!kr||Vt[0].length>kr[0].length)){if(kr=Vt,li=yn,this.options.backtrack_lexer){if(Qt=this.test_match(Vt,_e[yn]),Qt!==!1)return Qt;if(this._backtrack){kr=!1;continue}else return!1}else if(!this.options.flex)break}return kr?(Qt=this.test_match(kr,_e[li]),Qt!==!1?Qt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var Qt=this.next();return Qt||this.lex()},"lex"),begin:o(function(Qt){this.conditionStack.push(Qt)},"begin"),popState:o(function(){var Qt=this.conditionStack.length-1;return Qt>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(Qt){return Qt=this.conditionStack.length-1-Math.abs(Qt||0),Qt>=0?this.conditionStack[Qt]:"INITIAL"},"topState"),pushState:o(function(Qt){this.begin(Qt)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:o(function(Qt,kr,Vt,li){var _e=li;switch(Vt){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),kr.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:let yn=/\n\s*/g;return kr.yytext=kr.yytext.replace(yn,"<br/>"),40;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 94;case 17:this.popState();break;case 18:return 95;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 83;case 26:return 101;case 27:return 84;case 28:return 103;case 29:return 85;case 30:return 86;case 31:return 96;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 87;case 35:return Qt.lex.firstGraph()&&this.begin("dir"),12;case 36:return Qt.lex.firstGraph()&&this.begin("dir"),12;case 37:return Qt.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:return 97;case 41:return 97;case 42:return 97;case 43:return 97;case 44:return this.popState(),13;case 45:return this.popState(),14;case 46:return this.popState(),14;case 47:return this.popState(),14;case 48:return this.popState(),14;case 49:return this.popState(),14;case 50:return this.popState(),14;case 51:return this.popState(),14;case 52:return this.popState(),14;case 53:return this.popState(),14;case 54:return this.popState(),14;case 55:return 120;case 56:return 121;case 57:return 122;case 58:return 123;case 59:return 104;case 60:return 110;case 61:return 46;case 62:return 60;case 63:return 44;case 64:return 8;case 65:return 105;case 66:return 114;case 67:return this.popState(),77;case 68:return this.pushState("edgeText"),75;case 69:return 118;case 70:return this.popState(),77;case 71:return this.pushState("thickEdgeText"),75;case 72:return 118;case 73:return this.popState(),77;case 74:return this.pushState("dottedEdgeText"),75;case 75:return 118;case 76:return 77;case 77:return this.popState(),53;case 78:return"TEXT";case 79:return this.pushState("ellipseText"),52;case 80:return this.popState(),55;case 81:return this.pushState("text"),54;case 82:return this.popState(),57;case 83:return this.pushState("text"),56;case 84:return 58;case 85:return this.pushState("text"),67;case 86:return this.popState(),64;case 87:return this.pushState("text"),63;case 88:return this.popState(),49;case 89:return this.pushState("text"),48;case 90:return this.popState(),69;case 91:return this.popState(),71;case 92:return 116;case 93:return this.pushState("trapText"),68;case 94:return this.pushState("trapText"),70;case 95:return 117;case 96:return 67;case 97:return 89;case 98:return"SEP";case 99:return 88;case 100:return 114;case 101:return 110;case 102:return 44;case 103:return 108;case 104:return 113;case 105:return 115;case 106:return this.popState(),62;case 107:return this.pushState("text"),62;case 108:return this.popState(),51;case 109:return this.pushState("text"),50;case 110:return this.popState(),31;case 111:return this.pushState("text"),29;case 112:return this.popState(),66;case 113:return this.pushState("text"),65;case 114:return"TEXT";case 115:return"QUOTE";case 116:return 9;case 117:return 10;case 118:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeData:{rules:[8,11,12,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackargs:{rules:[17,18,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackname:{rules:[14,15,16,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},href:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},click:{rules:[21,24,33,34,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dottedEdgeText:{rules:[21,24,73,75,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},thickEdgeText:{rules:[21,24,70,72,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},edgeText:{rules:[21,24,67,69,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},trapText:{rules:[21,24,76,79,81,83,87,89,90,91,92,93,94,107,109,111,113],inclusive:!1},ellipseText:{rules:[21,24,76,77,78,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},text:{rules:[21,24,76,79,80,81,82,83,86,87,88,89,93,94,106,107,108,109,110,111,112,113,114],inclusive:!1},vertex:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr:{rules:[3,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_title:{rules:[1,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},md_string:{rules:[19,20,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},string:{rules:[21,22,23,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,70,71,73,74,76,79,81,83,84,85,87,89,93,94,95,96,97,98,99,100,101,102,103,104,105,107,109,111,113,115,116,117,118],inclusive:!0}}};return Ri}();Ai.lexer=qi;function ba(){this.yy={}}return o(ba,"Parser"),ba.prototype=Ai,Ai.Parser=ba,new ba}(),Dw.parser=Dw,c5e=Dw}),u5e,h5e,d5e,$Ze=R(()=>{"use strict";pl(),u5e=o((e,t)=>{let r=ui,n=r(e,"r"),i=r(e,"g"),a=r(e,"b");return It(n,i,a,t)},"fade"),h5e=o(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${e.lineColor} !important;
    stroke-width: 0;
    stroke: ${e.lineColor};
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${u5e(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }
`,"getStyles"),d5e=h5e}),Rw={};yr(Rw,{diagram:()=>p5e});var p5e,YR=R(()=>{"use strict";zr(),S0e(),BZe(),FZe(),$Ze(),p5e={parser:c5e,db:G8,renderer:l5e,styles:d5e,init:o(e=>{e.flowchart||(e.flowchart={}),e.layout&&fS({layout:e.layout}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,fS({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),G8.clear(),G8.setGen("gen-2")},"init")}}),Ow,g5e,zZe=R(()=>{"use strict";Ow=function(){var e=o(function(C,D,P,O){for(P=P||{},O=C.length;O--;P[C[O]]=D);return P},"o"),t=[6,8,10,20,22,24,26,27,28],r=[1,10],n=[1,11],i=[1,12],a=[1,13],s=[1,14],l=[1,15],u=[1,21],h=[1,22],d=[1,23],p=[1,24],f=[1,25],g=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],m=[1,34],y=[27,28,46,47],b=[41,42,43,44,45],v=[17,34],x=[1,54],w=[1,53],E=[17,34,36,38],A={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:o(function(C,D,P,O,I,q,S){var B=q.length-1;switch(I){case 1:break;case 2:this.$=[];break;case 3:q[B-1].push(q[B]),this.$=q[B-1];break;case 4:case 5:this.$=q[B];break;case 6:case 7:this.$=[];break;case 8:O.addEntity(q[B-4]),O.addEntity(q[B-2]),O.addRelationship(q[B-4],q[B],q[B-2],q[B-3]);break;case 9:O.addEntity(q[B-3]),O.addAttributes(q[B-3],q[B-1]);break;case 10:O.addEntity(q[B-2]);break;case 11:O.addEntity(q[B]);break;case 12:O.addEntity(q[B-6],q[B-4]),O.addAttributes(q[B-6],q[B-1]);break;case 13:O.addEntity(q[B-5],q[B-3]);break;case 14:O.addEntity(q[B-3],q[B-1]);break;case 15:case 16:this.$=q[B].trim(),O.setAccTitle(this.$);break;case 17:case 18:this.$=q[B].trim(),O.setAccDescription(this.$);break;case 19:case 43:this.$=q[B];break;case 20:case 41:case 42:this.$=q[B].replace(/"/g,"");break;case 21:case 29:this.$=[q[B]];break;case 22:q[B].push(q[B-1]),this.$=q[B];break;case 23:this.$={attributeType:q[B-1],attributeName:q[B]};break;case 24:this.$={attributeType:q[B-2],attributeName:q[B-1],attributeKeyTypeList:q[B]};break;case 25:this.$={attributeType:q[B-2],attributeName:q[B-1],attributeComment:q[B]};break;case 26:this.$={attributeType:q[B-3],attributeName:q[B-2],attributeKeyTypeList:q[B-1],attributeComment:q[B]};break;case 27:case 28:case 31:this.$=q[B];break;case 30:q[B-2].push(q[B]),this.$=q[B-2];break;case 32:this.$=q[B].replace(/"/g,"");break;case 33:this.$={cardA:q[B],relType:q[B-1],cardB:q[B-2]};break;case 34:this.$=O.Cardinality.ZERO_OR_ONE;break;case 35:this.$=O.Cardinality.ZERO_OR_MORE;break;case 36:this.$=O.Cardinality.ONE_OR_MORE;break;case 37:this.$=O.Cardinality.ONLY_ONE;break;case 38:this.$=O.Cardinality.MD_PARENT;break;case 39:this.$=O.Identification.NON_IDENTIFYING;break;case 40:this.$=O.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:r,22:n,24:i,26:a,27:s,28:l},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:16,11:9,20:r,22:n,24:i,26:a,27:s,28:l},e(t,[2,5]),e(t,[2,6]),e(t,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:u,42:h,43:d,44:p,45:f}),{21:[1,26]},{23:[1,27]},{25:[1,28]},e(t,[2,18]),e(g,[2,19]),e(g,[2,20]),e(t,[2,4]),{11:29,27:s,28:l},{16:30,17:[1,31],29:32,30:33,34:m},{11:35,27:s,28:l},{40:36,46:[1,37],47:[1,38]},e(y,[2,34]),e(y,[2,35]),e(y,[2,36]),e(y,[2,37]),e(y,[2,38]),e(t,[2,15]),e(t,[2,16]),e(t,[2,17]),{13:[1,39]},{17:[1,40]},e(t,[2,10]),{16:41,17:[2,21],29:32,30:33,34:m},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:u,42:h,43:d,44:p,45:f},e(b,[2,39]),e(b,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},e(t,[2,9]),{17:[2,22]},e(v,[2,23],{32:50,33:51,35:52,37:x,38:w}),e([17,34,37,38],[2,28]),e(t,[2,14],{15:[1,55]}),e([27,28],[2,33]),e(t,[2,8]),e(t,[2,41]),e(t,[2,42]),e(t,[2,43]),e(v,[2,24],{33:56,36:[1,57],38:w}),e(v,[2,25]),e(E,[2,29]),e(v,[2,32]),e(E,[2,31]),{16:58,17:[1,59],29:32,30:33,34:m},e(v,[2,26]),{35:60,37:x},{17:[1,61]},e(t,[2,13]),e(E,[2,30]),e(t,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:o(function(C,D){if(D.recoverable)this.trace(C);else{var P=new Error(C);throw P.hash=D,P}},"parseError"),parse:o(function(C){var D=this,P=[0],O=[],I=[null],q=[],S=this.table,B="",F=0,z=0,M=0,G=2,Y=1,V=q.slice.call(arguments,1),X=Object.create(this.lexer),re={yy:{}};for(var de in this.yy)Object.prototype.hasOwnProperty.call(this.yy,de)&&(re.yy[de]=this.yy[de]);X.setInput(C,re.yy),re.yy.lexer=X,re.yy.parser=this,typeof X.yylloc>"u"&&(X.yylloc={});var xe=X.yylloc;q.push(xe);var he=X.options&&X.options.ranges;typeof re.yy.parseError=="function"?this.parseError=re.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function be(yt){P.length=P.length-2*yt,I.length=I.length-yt,q.length=q.length-yt}o(be,"popStack");function Q(){var yt;return yt=O.pop()||X.lex()||Y,typeof yt!="number"&&(yt instanceof Array&&(O=yt,yt=O.pop()),yt=D.symbols_[yt]||yt),yt}o(Q,"lex");for(var ne,ee,pe,ie,De,se,je={},ge,rt,Qe,tt;;){if(pe=P[P.length-1],this.defaultActions[pe]?ie=this.defaultActions[pe]:((ne===null||typeof ne>"u")&&(ne=Q()),ie=S[pe]&&S[pe][ne]),typeof ie>"u"||!ie.length||!ie[0]){var mt="";tt=[];for(ge in S[pe])this.terminals_[ge]&&ge>G&&tt.push("'"+this.terminals_[ge]+"'");X.showPosition?mt="Parse error on line "+(F+1)+`:
`+X.showPosition()+`
Expecting `+tt.join(", ")+", got '"+(this.terminals_[ne]||ne)+"'":mt="Parse error on line "+(F+1)+": Unexpected "+(ne==Y?"end of input":"'"+(this.terminals_[ne]||ne)+"'"),this.parseError(mt,{text:X.match,token:this.terminals_[ne]||ne,line:X.yylineno,loc:xe,expected:tt})}if(ie[0]instanceof Array&&ie.length>1)throw new Error("Parse Error: multiple actions possible at state: "+pe+", token: "+ne);switch(ie[0]){case 1:P.push(ne),I.push(X.yytext),q.push(X.yylloc),P.push(ie[1]),ne=null,ee?(ne=ee,ee=null):(z=X.yyleng,B=X.yytext,F=X.yylineno,xe=X.yylloc,M>0&&M--);break;case 2:if(rt=this.productions_[ie[1]][1],je.$=I[I.length-rt],je._$={first_line:q[q.length-(rt||1)].first_line,last_line:q[q.length-1].last_line,first_column:q[q.length-(rt||1)].first_column,last_column:q[q.length-1].last_column},he&&(je._$.range=[q[q.length-(rt||1)].range[0],q[q.length-1].range[1]]),se=this.performAction.apply(je,[B,z,F,re.yy,ie[1],I,q].concat(V)),typeof se<"u")return se;rt&&(P=P.slice(0,-1*rt*2),I=I.slice(0,-1*rt),q=q.slice(0,-1*rt)),P.push(this.productions_[ie[1]][0]),I.push(je.$),q.push(je._$),Qe=S[P[P.length-2]][P[P.length-1]],P.push(Qe);break;case 3:return!0}}return!0},"parse")},N=function(){var C={EOF:1,parseError:o(function(D,P){if(this.yy.parser)this.yy.parser.parseError(D,P);else throw new Error(D)},"parseError"),setInput:o(function(D,P){return this.yy=P||this.yy||{},this._input=D,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var D=this._input[0];this.yytext+=D,this.yyleng++,this.offset++,this.match+=D,this.matched+=D;var P=D.match(/(?:\r\n?|\n).*/g);return P?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),D},"input"),unput:o(function(D){var P=D.length,O=D.split(/(?:\r\n?|\n)/g);this._input=D+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P),this.offset-=P;var I=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),O.length-1&&(this.yylineno-=O.length-1);var q=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:O?(O.length===I.length?this.yylloc.first_column:0)+I[I.length-O.length].length-O[0].length:this.yylloc.first_column-P},this.options.ranges&&(this.yylloc.range=[q[0],q[0]+this.yyleng-P]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(D){this.unput(this.match.slice(D))},"less"),pastInput:o(function(){var D=this.matched.substr(0,this.matched.length-this.match.length);return(D.length>20?"...":"")+D.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var D=this.match;return D.length<20&&(D+=this._input.substr(0,20-D.length)),(D.substr(0,20)+(D.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var D=this.pastInput(),P=new Array(D.length+1).join("-");return D+this.upcomingInput()+`
`+P+"^"},"showPosition"),test_match:o(function(D,P){var O,I,q;if(this.options.backtrack_lexer&&(q={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(q.yylloc.range=this.yylloc.range.slice(0))),I=D[0].match(/(?:\r\n?|\n).*/g),I&&(this.yylineno+=I.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:I?I[I.length-1].length-I[I.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+D[0].length},this.yytext+=D[0],this.match+=D[0],this.matches=D,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(D[0].length),this.matched+=D[0],O=this.performAction.call(this,this.yy,this,P,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),O)return O;if(this._backtrack){for(var S in q)this[S]=q[S];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var D,P,O,I;this._more||(this.yytext="",this.match="");for(var q=this._currentRules(),S=0;S<q.length;S++)if(O=this._input.match(this.rules[q[S]]),O&&(!P||O[0].length>P[0].length)){if(P=O,I=S,this.options.backtrack_lexer){if(D=this.test_match(O,q[S]),D!==!1)return D;if(this._backtrack){P=!1;continue}else return!1}else if(!this.options.flex)break}return P?(D=this.test_match(P,q[I]),D!==!1?D:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var D=this.next();return D||this.lex()},"lex"),begin:o(function(D){this.conditionStack.push(D)},"begin"),popState:o(function(){var D=this.conditionStack.length-1;return D>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(D){return D=this.conditionStack.length-1-Math.abs(D||0),D>=0?this.conditionStack[D]:"INITIAL"},"topState"),pushState:o(function(D){this.begin(D)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(D,P,O,I){var q=I;switch(O){case 0:return this.begin("acc_title"),22;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),24;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;case 14:return 36;case 15:break;case 16:return 37;case 17:return 34;case 18:return 34;case 19:return 38;case 20:break;case 21:return this.popState(),17;case 22:return P.yytext[0];case 23:return 18;case 24:return 19;case 25:return 41;case 26:return 43;case 27:return 43;case 28:return 43;case 29:return 41;case 30:return 41;case 31:return 42;case 32:return 42;case 33:return 42;case 34:return 42;case 35:return 42;case 36:return 43;case 37:return 42;case 38:return 43;case 39:return 44;case 40:return 44;case 41:return 44;case 42:return 44;case 43:return 41;case 44:return 42;case 45:return 43;case 46:return 45;case 47:return 46;case 48:return 47;case 49:return 47;case 50:return 46;case 51:return 46;case 52:return 46;case 53:return 27;case 54:return P.yytext[0];case 55:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};return C}();A.lexer=N;function L(){this.yy={}}return o(L,"Parser"),L.prototype=A,A.Parser=L,new L}(),Ow.parser=Ow,g5e=Ow}),Ud,Pw,f5e,m5e,jR,y5e,v5e,b5e,x5e,w5e,k5e,qZe=R(()=>{"use strict";We(),zr(),ys(),Ud=new Map,Pw=[],f5e={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},m5e={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},jR=o(function(e,t=void 0){return Ud.has(e)?!Ud.get(e).alias&&t&&(Ud.get(e).alias=t,J.info(`Add alias '${t}' to entity '${e}'`)):(Ud.set(e,{attributes:[],alias:t}),J.info("Added new entity :",e)),Ud.get(e)},"addEntity"),y5e=o(()=>Ud,"getEntities"),v5e=o(function(e,t){let r=jR(e),n;for(n=t.length-1;n>=0;n--)r.attributes.push(t[n]),J.debug("Added attribute ",t[n].attributeName)},"addAttributes"),b5e=o(function(e,t,r,n){let i={entityA:e,roleA:t,entityB:r,relSpec:n};Pw.push(i),J.debug("Added new relationship :",i)},"addRelationship"),x5e=o(()=>Pw,"getRelationships"),w5e=o(function(){Ud=new Map,Pw=[],fs()},"clear"),k5e={Cardinality:f5e,Identification:m5e,getConfig:o(()=>Ge().er,"getConfig"),addEntity:jR,addAttributes:v5e,getEntities:y5e,addRelationship:b5e,getRelationships:x5e,clear:w5e,setAccTitle:ms,getAccTitle:Ls,setAccDescription:Ns,getAccDescription:Ms,setDiagramTitle:_o,getDiagramTitle:Is}}),Nc,T5e,Mc,GZe=R(()=>{"use strict";Nc={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},T5e=o(function(e,t){let r;e.append("defs").append("marker").attr("id",Nc.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",Nc.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",Nc.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",Nc.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",Nc.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",Nc.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,0 L21,18"),e.append("defs").append("marker").attr("id",Nc.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",Nc.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),r=e.append("defs").append("marker").attr("id",Nc.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),r=e.append("defs").append("marker").attr("id",Nc.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"insertMarkers"),Mc={ERMarkers:Nc,insertMarkers:T5e}}),E5e,YZe=R(()=>{"use strict";E5e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function C5e(e){return typeof e=="string"&&E5e.test(e)}var _5e,jZe=R(()=>{"use strict";YZe(),o(C5e,"validate"),_5e=C5e});function S5e(e,t=0){return Os[e[t+0]]+Os[e[t+1]]+Os[e[t+2]]+Os[e[t+3]]+"-"+Os[e[t+4]]+Os[e[t+5]]+"-"+Os[e[t+6]]+Os[e[t+7]]+"-"+Os[e[t+8]]+Os[e[t+9]]+"-"+Os[e[t+10]]+Os[e[t+11]]+Os[e[t+12]]+Os[e[t+13]]+Os[e[t+14]]+Os[e[t+15]]}var Os,HZe=R(()=>{"use strict";Os=[];for(let e=0;e<256;++e)Os.push((e+256).toString(16).slice(1));o(S5e,"unsafeStringify")});function A5e(e){if(!_5e(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var L5e,UZe=R(()=>{"use strict";jZe(),o(A5e,"parse"),L5e=A5e});function N5e(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function M5e(e,t,r){function n(i,a,s,l){var u;if(typeof i=="string"&&(i=N5e(i)),typeof a=="string"&&(a=L5e(a)),((u=a)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+i.length);if(h.set(a),h.set(i,a.length),h=r(h),h[6]=h[6]&15|t,h[8]=h[8]&63|128,s){l=l||0;for(let d=0;d<16;++d)s[l+d]=h[d];return s}return S5e(h)}o(n,"generateUUID");try{n.name=e}catch{}return n.DNS=I5e,n.URL=D5e,n}var I5e,D5e,VZe=R(()=>{"use strict";HZe(),UZe(),o(N5e,"stringToBytes"),I5e="6ba7b810-9dad-11d1-80b4-00c04fd430c8",D5e="6ba7b811-9dad-11d1-80b4-00c04fd430c8",o(M5e,"v35")});function R5e(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function Bw(e,t){return e<<t|e>>>32-t}function O5e(e){let t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){let s=unescape(encodeURIComponent(e));e=[];for(let l=0;l<s.length;++l)e.push(s.charCodeAt(l))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let n=e.length/4+2,i=Math.ceil(n/16),a=new Array(i);for(let s=0;s<i;++s){let l=new Uint32Array(16);for(let u=0;u<16;++u)l[u]=e[s*64+u*4]<<24|e[s*64+u*4+1]<<16|e[s*64+u*4+2]<<8|e[s*64+u*4+3];a[s]=l}a[i-1][14]=(e.length-1)*8/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=(e.length-1)*8&4294967295;for(let s=0;s<i;++s){let l=new Uint32Array(80);for(let g=0;g<16;++g)l[g]=a[s][g];for(let g=16;g<80;++g)l[g]=Bw(l[g-3]^l[g-8]^l[g-14]^l[g-16],1);let u=r[0],h=r[1],d=r[2],p=r[3],f=r[4];for(let g=0;g<80;++g){let m=Math.floor(g/20),y=Bw(u,5)+R5e(m,h,d,p)+f+t[m]+l[g]>>>0;f=p,p=d,d=Bw(h,30)>>>0,h=u,u=y}r[0]=r[0]+u>>>0,r[1]=r[1]+h>>>0,r[2]=r[2]+d>>>0,r[3]=r[3]+p>>>0,r[4]=r[4]+f>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var P5e,WZe=R(()=>{"use strict";o(R5e,"f"),o(Bw,"ROTL"),o(O5e,"sha1"),P5e=O5e}),B5e,F5e,XZe=R(()=>{"use strict";VZe(),WZe(),B5e=M5e("v5",80,P5e),F5e=B5e}),KZe=R(()=>{"use strict";XZe()});function $5e(e="",t=""){let r=e.replace(z5e,"");return`${HR(t)}${HR(r)}${F5e(e,W5e)}`}function HR(e=""){return e.length>0?`${e}-`:""}var z5e,Qa,Ym,q5e,G5e,Y5e,j5e,UR,H5e,VR,U5e,V5e,W5e,X5e,ZZe=R(()=>{"use strict";Xl(),Ln(),Lw(),zr(),We(),kn(),GZe(),Fa(),En(),KZe(),z5e=/[^\dA-Za-z](\W)*/g,Qa={},Ym=new Map,q5e=o(function(e){let t=Object.keys(e);for(let r of t)Qa[r]=e[r]},"setConf"),G5e=o((e,t,r)=>{let n=Qa.entityPadding/3,i=Qa.entityPadding/3,a=Qa.fontSize*.85,s=t.node().getBBox(),l=[],u=!1,h=!1,d=0,p=0,f=0,g=0,m=s.height+n*2,y=1;r.forEach(w=>{w.attributeKeyTypeList!==void 0&&w.attributeKeyTypeList.length>0&&(u=!0),w.attributeComment!==void 0&&(h=!0)}),r.forEach(w=>{let E=`${t.node().id}-attr-${y}`,A=0,N=ld(w.attributeType),L=e.append("text").classed("er entityLabel",!0).attr("id",`${E}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Ge().fontFamily).style("font-size",a+"px").text(N),C=e.append("text").classed("er entityLabel",!0).attr("id",`${E}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Ge().fontFamily).style("font-size",a+"px").text(w.attributeName),D={};D.tn=L,D.nn=C;let P=L.node().getBBox(),O=C.node().getBBox();if(d=Math.max(d,P.width),p=Math.max(p,O.width),A=Math.max(P.height,O.height),u){let I=w.attributeKeyTypeList!==void 0?w.attributeKeyTypeList.join(","):"",q=e.append("text").classed("er entityLabel",!0).attr("id",`${E}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Ge().fontFamily).style("font-size",a+"px").text(I);D.kn=q;let S=q.node().getBBox();f=Math.max(f,S.width),A=Math.max(A,S.height)}if(h){let I=e.append("text").classed("er entityLabel",!0).attr("id",`${E}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",Ge().fontFamily).style("font-size",a+"px").text(w.attributeComment||"");D.cn=I;let q=I.node().getBBox();g=Math.max(g,q.width),A=Math.max(A,q.height)}D.height=A,l.push(D),m+=A+n*2,y+=1});let b=4;u&&(b+=2),h&&(b+=2);let v=d+p+f+g,x={width:Math.max(Qa.minEntityWidth,Math.max(s.width+Qa.entityPadding*2,v+i*b)),height:r.length>0?m:Math.max(Qa.minEntityHeight,s.height+Qa.entityPadding*2)};if(r.length>0){let w=Math.max(0,(x.width-v-i*b)/(b/2));t.attr("transform","translate("+x.width/2+","+(n+s.height/2)+")");let E=s.height+n*2,A="attributeBoxOdd";l.forEach(N=>{let L=E+n+N.height/2;N.tn.attr("transform","translate("+i+","+L+")");let C=e.insert("rect","#"+N.tn.node().id).classed(`er ${A}`,!0).attr("x",0).attr("y",E).attr("width",d+i*2+w).attr("height",N.height+n*2),D=parseFloat(C.attr("x"))+parseFloat(C.attr("width"));N.nn.attr("transform","translate("+(D+i)+","+L+")");let P=e.insert("rect","#"+N.nn.node().id).classed(`er ${A}`,!0).attr("x",D).attr("y",E).attr("width",p+i*2+w).attr("height",N.height+n*2),O=parseFloat(P.attr("x"))+parseFloat(P.attr("width"));if(u){N.kn.attr("transform","translate("+(O+i)+","+L+")");let I=e.insert("rect","#"+N.kn.node().id).classed(`er ${A}`,!0).attr("x",O).attr("y",E).attr("width",f+i*2+w).attr("height",N.height+n*2);O=parseFloat(I.attr("x"))+parseFloat(I.attr("width"))}h&&(N.cn.attr("transform","translate("+(O+i)+","+L+")"),e.insert("rect","#"+N.cn.node().id).classed(`er ${A}`,"true").attr("x",O).attr("y",E).attr("width",g+i*2+w).attr("height",N.height+n*2)),E+=N.height+n*2,A=A==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else x.height=Math.max(Qa.minEntityHeight,m),t.attr("transform","translate("+x.width/2+","+x.height/2+")");return x},"drawAttributes"),Y5e=o(function(e,t,r){let n=[...t.keys()],i;return n.forEach(function(a){let s=$5e(a,"entity");Ym.set(a,s);let l=e.append("g").attr("id",s);i=i===void 0?s:i;let u="text-"+s,h=l.append("text").classed("er entityLabel",!0).attr("id",u).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",Ge().fontFamily).style("font-size",Qa.fontSize+"px").text(t.get(a).alias??a),{width:d,height:p}=G5e(l,h,t.get(a).attributes),f=l.insert("rect","#"+u).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",d).attr("height",p).node().getBBox();r.setNode(s,{width:f.width,height:f.height,shape:"rect",id:s})}),i},"drawEntities"),j5e=o(function(e,t){t.nodes().forEach(function(r){r!==void 0&&t.node(r)!==void 0&&e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )")})},"adjustEntities"),UR=o(function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")},"getEdgeName"),H5e=o(function(e,t){return e.forEach(function(r){t.setEdge(Ym.get(r.entityA),Ym.get(r.entityB),{relationship:r},UR(r))}),e},"addRelationships"),VR=0,U5e=o(function(e,t,r,n,i){VR++;let a=r.edge(Ym.get(t.entityA),Ym.get(t.entityB),UR(t)),s=wd().x(function(y){return y.x}).y(function(y){return y.y}).curve(Qf),l=e.insert("path","#"+n).classed("er relationshipLine",!0).attr("d",s(a.points)).style("stroke",Qa.stroke).style("fill","none");t.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&l.attr("stroke-dasharray","8,8");let u="";switch(Qa.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),t.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:l.attr("marker-end","url("+u+"#"+Mc.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:l.attr("marker-end","url("+u+"#"+Mc.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:l.attr("marker-end","url("+u+"#"+Mc.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:l.attr("marker-end","url("+u+"#"+Mc.ERMarkers.ONLY_ONE_END+")");break;case i.db.Cardinality.MD_PARENT:l.attr("marker-end","url("+u+"#"+Mc.ERMarkers.MD_PARENT_END+")");break}switch(t.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:l.attr("marker-start","url("+u+"#"+Mc.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:l.attr("marker-start","url("+u+"#"+Mc.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:l.attr("marker-start","url("+u+"#"+Mc.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:l.attr("marker-start","url("+u+"#"+Mc.ERMarkers.ONLY_ONE_START+")");break;case i.db.Cardinality.MD_PARENT:l.attr("marker-start","url("+u+"#"+Mc.ERMarkers.MD_PARENT_START+")");break}let h=l.node().getTotalLength(),d=l.node().getPointAtLength(h*.5),p="rel"+VR,f=t.roleA.split(/<br ?\/>/g),g=e.append("text").classed("er relationshipLabel",!0).attr("id",p).attr("x",d.x).attr("y",d.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",Ge().fontFamily).style("font-size",Qa.fontSize+"px");if(f.length==1)g.text(t.roleA);else{let y=-(f.length-1)*.5;f.forEach((b,v)=>{g.append("tspan").attr("x",d.x).attr("dy",`${v===0?y:1}em`).text(b)})}let m=g.node().getBBox();e.insert("rect","#"+p).classed("er relationshipLabelBox",!0).attr("x",d.x-m.width/2).attr("y",d.y-m.height/2).attr("width",m.width).attr("height",m.height)},"drawRelationshipFromLayout"),V5e=o(function(e,t,r,n){Qa=Ge().er,J.info("Drawing ER diagram");let i=Ge().securityLevel,a;i==="sandbox"&&(a=Bt("#i"+t));let s=Bt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${t}']`);Mc.insertMarkers(s,Qa);let l;l=new ao({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:Qa.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let u=Y5e(s,n.db.getEntities(),l),h=H5e(n.db.getRelationships(),l);x5(l),j5e(s,l),h.forEach(function(m){U5e(s,m,l,u,n)});let d=Qa.diagramPadding;mn.insertTitle(s,"entityTitleText",Qa.titleTopMargin,n.db.getDiagramTitle());let p=s.node().getBBox(),f=p.width+d*2,g=p.height+d*2;Qs(s,g,f,Qa.useMaxWidth),s.attr("viewBox",`${p.x-d} ${p.y-d} ${f} ${g}`)},"draw"),W5e="28e9f9db-3c8d-5aa5-9faf-44286ae5937c",o($5e,"generateId"),o(HR,"strWithHyphen"),X5e={setConf:q5e,draw:V5e}}),K5e,Z5e,QZe=R(()=>{"use strict";K5e=o(e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${e.attributeBackgroundColorOdd};
    stroke: ${e.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${e.attributeBackgroundColorEven};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${e.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }    
  #MD_PARENT_START {
    fill: #f5f5f5 !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
  #MD_PARENT_END {
    fill: #f5f5f5 !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
  
`,"getStyles"),Z5e=K5e}),Q5e={};yr(Q5e,{diagram:()=>J5e});var J5e,JZe=R(()=>{"use strict";zZe(),qZe(),ZZe(),QZe(),J5e={parser:g5e,db:k5e,renderer:X5e,styles:Z5e}});function Ja(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}function kl(e){return typeof e=="object"&&e!==null&&typeof e.$refText=="string"}function WR(e){return typeof e=="object"&&e!==null&&typeof e.name=="string"&&typeof e.type=="string"&&typeof e.path=="string"}function jm(e){return typeof e=="object"&&e!==null&&Ja(e.container)&&kl(e.reference)&&typeof e.message=="string"}function sh(e){return typeof e=="object"&&e!==null&&Array.isArray(e.content)}function Gp(e){return typeof e=="object"&&e!==null&&typeof e.tokenType=="object"}function Fw(e){return sh(e)&&typeof e.fullText=="string"}var $w,hu=R(()=>{"use strict";o(Ja,"isAstNode"),o(kl,"isReference"),o(WR,"isAstNodeDescription"),o(jm,"isLinkingError"),$w=class{static{o(this,"AbstractAstReflection")}constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,t){return Ja(e)&&this.isSubtype(e.$type,t)}isSubtype(e,t){if(e===t)return!0;let r=this.subtypes[e];r||(r=this.subtypes[e]={});let n=r[t];if(n!==void 0)return n;{let i=this.computeIsSubtype(e,t);return r[t]=i,i}}getAllSubTypes(e){let t=this.allSubtypes[e];if(t)return t;{let r=this.getAllTypes(),n=[];for(let i of r)this.isSubtype(i,e)&&n.push(i);return this.allSubtypes[e]=n,n}}},o(sh,"isCompositeCstNode"),o(Gp,"isLeafCstNode"),o(Fw,"isRootCstNode")});function eve(e){return typeof e=="string"?e:typeof e>"u"?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function k5(e){return!!e&&typeof e[Symbol.iterator]=="function"}function qa(...e){if(e.length===1){let t=e[0];if(t instanceof du)return t;if(k5(t))return new du(()=>t[Symbol.iterator](),r=>r.next());if(typeof t.length=="number")return new du(()=>({index:0}),r=>r.index<t.length?{done:!1,value:t[r.index++]}:Vo)}return e.length>1?new du(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){let r=t.iterator.next();if(!r.done)return r;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){let r=e[t.collIndex++];k5(r)?t.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return Vo}):T5}var du,T5,Vo,Yp,E5,Kl=R(()=>{"use strict";du=class M1{static{o(this,"StreamImpl")}constructor(t,r){this.startFn=t,this.nextFn=r}iterator(){let t={state:this.startFn(),next:o(()=>this.nextFn(t.state),"next"),[Symbol.iterator]:()=>t};return t}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let t=this.iterator(),r=0,n=t.next();for(;!n.done;)r++,n=t.next();return r}toArray(){let t=[],r=this.iterator(),n;do n=r.next(),n.value!==void 0&&t.push(n.value);while(!n.done);return t}toSet(){return new Set(this)}toMap(t,r){let n=this.map(i=>[t?t(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(t){let r=t[Symbol.iterator]();return new M1(()=>({first:this.startFn(),firstDone:!1}),n=>{let i;if(!n.firstDone){do if(i=this.nextFn(n.first),!i.done)return i;while(!i.done);n.firstDone=!0}do if(i=r.next(),!i.done)return i;while(!i.done);return Vo})}join(t=","){let r=this.iterator(),n="",i,a=!1;do i=r.next(),i.done||(a&&(n+=t),n+=eve(i.value)),a=!0;while(!i.done);return n}indexOf(t,r=0){let n=this.iterator(),i=0,a=n.next();for(;!a.done;){if(i>=r&&a.value===t)return i;a=n.next(),i++}return-1}every(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(!t(n.value))return!1;n=r.next()}return!0}some(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(t(n.value))return!0;n=r.next()}return!1}forEach(t){let r=this.iterator(),n=0,i=r.next();for(;!i.done;)t(i.value,n),i=r.next(),n++}map(t){return new M1(this.startFn,r=>{let{done:n,value:i}=this.nextFn(r);return n?Vo:{done:!1,value:t(i)}})}filter(t){return new M1(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&t(n.value))return n;while(!n.done);return Vo})}nonNullable(){return this.filter(t=>t!=null)}reduce(t,r){let n=this.iterator(),i=r,a=n.next();for(;!a.done;)i===void 0?i=a.value:i=t(i,a.value),a=n.next();return i}reduceRight(t,r){return this.recursiveReduce(this.iterator(),t,r)}recursiveReduce(t,r,n){let i=t.next();if(i.done)return n;let a=this.recursiveReduce(t,r,n);return a===void 0?i.value:r(a,i.value)}find(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(t(n.value))return n.value;n=r.next()}}findIndex(t){let r=this.iterator(),n=0,i=r.next();for(;!i.done;){if(t(i.value))return n;i=r.next(),n++}return-1}includes(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(n.value===t)return!0;n=r.next()}return!1}flatMap(t){return new M1(()=>({this:this.startFn()}),r=>{do{if(r.iterator){let a=r.iterator.next();if(a.done)r.iterator=void 0;else return a}let{done:n,value:i}=this.nextFn(r.this);if(!n){let a=t(i);if(k5(a))r.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}}while(r.iterator);return Vo})}flat(t){if(t===void 0&&(t=1),t<=0)return this;let r=t>1?this.flat(t-1):this;return new M1(()=>({this:r.startFn()}),n=>{do{if(n.iterator){let s=n.iterator.next();if(s.done)n.iterator=void 0;else return s}let{done:i,value:a}=r.nextFn(n.this);if(!i)if(k5(a))n.iterator=a[Symbol.iterator]();else return{done:!1,value:a}}while(n.iterator);return Vo})}head(){let t=this.iterator().next();if(!t.done)return t.value}tail(t=1){return new M1(()=>{let r=this.startFn();for(let n=0;n<t;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(t){return new M1(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>t?Vo:this.nextFn(r.state)))}distinct(t){let r=new Set;return this.filter(n=>{let i=t?t(n):n;return r.has(i)?!1:(r.add(i),!0)})}exclude(t,r){let n=new Set;for(let i of t){let a=r?r(i):i;n.add(a)}return this.filter(i=>{let a=r?r(i):i;return!n.has(a)})}},o(eve,"toString"),o(k5,"isIterable"),T5=new du(()=>{},()=>Vo),Vo=Object.freeze({done:!0,value:void 0}),o(qa,"stream"),Yp=class extends du{static{o(this,"TreeStreamImpl")}constructor(e,t,r){super(()=>({iterators:r?.includeRoot?[[e][Symbol.iterator]()]:[t(e)[Symbol.iterator]()],pruned:!1}),n=>{for(n.pruned&&(n.iterators.pop(),n.pruned=!1);n.iterators.length>0;){let i=n.iterators[n.iterators.length-1].next();if(i.done)n.iterators.pop();else return n.iterators.push(t(i.value)[Symbol.iterator]()),i}return Vo})}iterator(){let e={state:this.startFn(),next:o(()=>this.nextFn(e.state),"next"),prune:o(()=>{e.state.pruned=!0},"prune"),[Symbol.iterator]:()=>e};return e}},function(e){function t(a){return a.reduce((s,l)=>s+l,0)}o(t,"sum"),e.sum=t;function r(a){return a.reduce((s,l)=>s*l,0)}o(r,"product"),e.product=r;function n(a){return a.reduce((s,l)=>Math.min(s,l))}o(n,"min"),e.min=n;function i(a){return a.reduce((s,l)=>Math.max(s,l))}o(i,"max"),e.max=i}(E5||(E5={}))}),XR={};yr(XR,{DefaultNameRegexp:()=>Gw,RangeComparison:()=>o0,compareRange:()=>ZR,findCommentNode:()=>JR,findDeclarationNodeAtOffset:()=>rve,findLeafNodeAtOffset:()=>qw,findLeafNodeBeforeOffset:()=>eO,flattenCst:()=>tve,getInteriorNodes:()=>ave,getNextNode:()=>nve,getPreviousNode:()=>rO,getStartlineNode:()=>ive,inRange:()=>QR,isChildNode:()=>KR,isCommentNode:()=>zw,streamCst:()=>Hm,toDocumentSegment:()=>Um,tokenToRange:()=>C5});function Hm(e){return new Yp(e,t=>sh(t)?t.content:[],{includeRoot:!0})}function tve(e){return Hm(e).filter(Gp)}function KR(e,t){for(;e.container;)if(e=e.container,e===t)return!0;return!1}function C5(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function Um(e){if(!e)return;let{offset:t,end:r,range:n}=e;return{range:n,offset:t,end:r,length:r-t}}function ZR(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<e.start.character)return o0.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>t.end.character)return o0.After;let r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,n=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&n?o0.Inside:r?o0.OverlapBack:o0.OverlapFront}function QR(e,t){return ZR(e,t)>o0.After}function rve(e,t,r=Gw){if(e){if(t>0){let n=t-e.offset,i=e.text.charAt(n);r.test(i)||t--}return qw(e,t)}}function JR(e,t){if(e){let r=rO(e,!0);if(r&&zw(r,t))return r;if(Fw(e)){let n=e.content.findIndex(i=>!i.hidden);for(let i=n-1;i>=0;i--){let a=e.content[i];if(zw(a,t))return a}}}}function zw(e,t){return Gp(e)&&t.includes(e.tokenType.name)}function qw(e,t){if(Gp(e))return e;if(sh(e)){let r=tO(e,t,!1);if(r)return qw(r,t)}}function eO(e,t){if(Gp(e))return e;if(sh(e)){let r=tO(e,t,!0);if(r)return eO(r,t)}}function tO(e,t,r){let n=0,i=e.content.length-1,a;for(;n<=i;){let s=Math.floor((n+i)/2),l=e.content[s];if(l.offset<=t&&l.end>t)return l;l.end<=t?(a=r?l:void 0,n=s+1):i=s-1}return a}function rO(e,t=!0){for(;e.container;){let r=e.container,n=r.content.indexOf(e);for(;n>0;){n--;let i=r.content[n];if(t||!i.hidden)return i}e=r}}function nve(e,t=!0){for(;e.container;){let r=e.container,n=r.content.indexOf(e),i=r.content.length-1;for(;n<i;){n++;let a=r.content[n];if(t||!a.hidden)return a}e=r}}function ive(e){if(e.range.start.character===0)return e;let t=e.range.start.line,r=e,n;for(;e.container;){let i=e.container,a=n??i.content.indexOf(e);if(a===0?(e=i,n=void 0):(n=a-1,e=i.content[n]),e.range.start.line!==t)break;r=e}return r}function ave(e,t){let r=sve(e,t);return r?r.parent.content.slice(r.a+1,r.b):[]}function sve(e,t){let r=nO(e),n=nO(t),i;for(let a=0;a<r.length&&a<n.length;a++){let s=r[a],l=n[a];if(s.parent===l.parent)i={parent:s.parent,a:s.index,b:l.index};else break}return i}function nO(e){let t=[];for(;e.container;){let r=e.container,n=r.content.indexOf(e);t.push({parent:r,index:n}),e=r}return t.reverse()}var o0,Gw,oh=R(()=>{"use strict";hu(),Kl(),o(Hm,"streamCst"),o(tve,"flattenCst"),o(KR,"isChildNode"),o(C5,"tokenToRange"),o(Um,"toDocumentSegment"),function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside"}(o0||(o0={})),o(ZR,"compareRange"),o(QR,"inRange"),Gw=/^[\w\p{L}]$/u,o(rve,"findDeclarationNodeAtOffset"),o(JR,"findCommentNode"),o(zw,"isCommentNode"),o(qw,"findLeafNodeAtOffset"),o(eO,"findLeafNodeBeforeOffset"),o(tO,"binarySearch"),o(rO,"getPreviousNode"),o(nve,"getNextNode"),o(ive,"getStartlineNode"),o(ave,"getInteriorNodes"),o(sve,"getCommonParent"),o(nO,"getParentChain")});function jp(e){throw new Error("Error! The input value was not handled.")}var _5,iO=R(()=>{"use strict";_5=class extends Error{static{o(this,"ErrorWithLocation")}constructor(e,t){super(e?`${t} at ${e.range.start.line}:${e.range.start.character}`:t)}},o(jp,"assertUnreachable")}),ove={};yr(ove,{AbstractElement:()=>Zw,AbstractRule:()=>Vm,AbstractType:()=>Wm,Action:()=>mk,Alternatives:()=>yk,ArrayLiteral:()=>Qw,ArrayType:()=>Jw,Assignment:()=>vk,BooleanLiteral:()=>ek,CharacterRange:()=>bk,Condition:()=>L5,Conjunction:()=>tk,CrossReference:()=>xk,Disjunction:()=>rk,EndOfFile:()=>wk,Grammar:()=>nk,GrammarImport:()=>TO,Group:()=>kk,InferredType:()=>ik,Interface:()=>ak,Keyword:()=>Tk,LangiumGrammarAstReflection:()=>Dk,LangiumGrammarTerminals:()=>kve,NamedArgument:()=>EO,NegatedToken:()=>Ek,Negation:()=>sk,NumberLiteral:()=>ok,Parameter:()=>lk,ParameterReference:()=>ck,ParserRule:()=>uk,ReferenceType:()=>hk,RegexToken:()=>Ck,ReturnType:()=>CO,RuleCall:()=>_k,SimpleType:()=>dk,StringLiteral:()=>pk,TerminalAlternatives:()=>Sk,TerminalGroup:()=>Ak,TerminalRule:()=>M5,TerminalRuleCall:()=>Lk,Type:()=>gk,TypeAttribute:()=>_O,TypeDefinition:()=>Kw,UnionType:()=>fk,UnorderedGroup:()=>Nk,UntilToken:()=>Mk,ValueLiteral:()=>N5,Wildcard:()=>Ik,isAbstractElement:()=>Yw,isAbstractRule:()=>lve,isAbstractType:()=>cve,isAction:()=>Vd,isAlternatives:()=>Vw,isArrayLiteral:()=>gve,isArrayType:()=>sO,isAssignment:()=>c0,isBooleanLiteral:()=>oO,isCharacterRange:()=>fO,isCondition:()=>uve,isConjunction:()=>lO,isCrossReference:()=>A5,isDisjunction:()=>cO,isEndOfFile:()=>mO,isFeatureName:()=>hve,isGrammar:()=>fve,isGrammarImport:()=>mve,isGroup:()=>Hp,isInferredType:()=>jw,isInterface:()=>Hw,isKeyword:()=>u0,isNamedArgument:()=>yve,isNegatedToken:()=>yO,isNegation:()=>uO,isNumberLiteral:()=>vve,isParameter:()=>bve,isParameterReference:()=>hO,isParserRule:()=>Tl,isPrimitiveType:()=>aO,isReferenceType:()=>dO,isRegexToken:()=>vO,isReturnType:()=>pO,isRuleCall:()=>h0,isSimpleType:()=>Uw,isStringLiteral:()=>xve,isTerminalAlternatives:()=>bO,isTerminalGroup:()=>xO,isTerminalRule:()=>l0,isTerminalRuleCall:()=>Ww,isType:()=>S5,isTypeAttribute:()=>wve,isTypeDefinition:()=>dve,isUnionType:()=>gO,isUnorderedGroup:()=>Xw,isUntilToken:()=>wO,isValueLiteral:()=>pve,isWildcard:()=>kO,reflection:()=>un});function lve(e){return un.isInstance(e,Vm)}function cve(e){return un.isInstance(e,Wm)}function uve(e){return un.isInstance(e,L5)}function hve(e){return aO(e)||e==="current"||e==="entry"||e==="extends"||e==="false"||e==="fragment"||e==="grammar"||e==="hidden"||e==="import"||e==="interface"||e==="returns"||e==="terminal"||e==="true"||e==="type"||e==="infer"||e==="infers"||e==="with"||typeof e=="string"&&/\^?[_a-zA-Z][\w_]*/.test(e)}function aO(e){return e==="string"||e==="number"||e==="boolean"||e==="Date"||e==="bigint"}function dve(e){return un.isInstance(e,Kw)}function pve(e){return un.isInstance(e,N5)}function Yw(e){return un.isInstance(e,Zw)}function gve(e){return un.isInstance(e,Qw)}function sO(e){return un.isInstance(e,Jw)}function oO(e){return un.isInstance(e,ek)}function lO(e){return un.isInstance(e,tk)}function cO(e){return un.isInstance(e,rk)}function fve(e){return un.isInstance(e,nk)}function mve(e){return un.isInstance(e,TO)}function jw(e){return un.isInstance(e,ik)}function Hw(e){return un.isInstance(e,ak)}function yve(e){return un.isInstance(e,EO)}function uO(e){return un.isInstance(e,sk)}function vve(e){return un.isInstance(e,ok)}function bve(e){return un.isInstance(e,lk)}function hO(e){return un.isInstance(e,ck)}function Tl(e){return un.isInstance(e,uk)}function dO(e){return un.isInstance(e,hk)}function pO(e){return un.isInstance(e,CO)}function Uw(e){return un.isInstance(e,dk)}function xve(e){return un.isInstance(e,pk)}function l0(e){return un.isInstance(e,M5)}function S5(e){return un.isInstance(e,gk)}function wve(e){return un.isInstance(e,_O)}function gO(e){return un.isInstance(e,fk)}function Vd(e){return un.isInstance(e,mk)}function Vw(e){return un.isInstance(e,yk)}function c0(e){return un.isInstance(e,vk)}function fO(e){return un.isInstance(e,bk)}function A5(e){return un.isInstance(e,xk)}function mO(e){return un.isInstance(e,wk)}function Hp(e){return un.isInstance(e,kk)}function u0(e){return un.isInstance(e,Tk)}function yO(e){return un.isInstance(e,Ek)}function vO(e){return un.isInstance(e,Ck)}function h0(e){return un.isInstance(e,_k)}function bO(e){return un.isInstance(e,Sk)}function xO(e){return un.isInstance(e,Ak)}function Ww(e){return un.isInstance(e,Lk)}function Xw(e){return un.isInstance(e,Nk)}function wO(e){return un.isInstance(e,Mk)}function kO(e){return un.isInstance(e,Ik)}var kve,Vm,Wm,L5,Kw,N5,Zw,Qw,Jw,ek,tk,rk,nk,TO,ik,ak,EO,sk,ok,lk,ck,uk,hk,CO,dk,pk,M5,gk,_O,fk,mk,yk,vk,bk,xk,wk,kk,Tk,Ek,Ck,_k,Sk,Ak,Lk,Nk,Mk,Ik,Dk,un,d0=R(()=>{"use strict";hu(),kve={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/},Vm="AbstractRule",o(lve,"isAbstractRule"),Wm="AbstractType",o(cve,"isAbstractType"),L5="Condition",o(uve,"isCondition"),o(hve,"isFeatureName"),o(aO,"isPrimitiveType"),Kw="TypeDefinition",o(dve,"isTypeDefinition"),N5="ValueLiteral",o(pve,"isValueLiteral"),Zw="AbstractElement",o(Yw,"isAbstractElement"),Qw="ArrayLiteral",o(gve,"isArrayLiteral"),Jw="ArrayType",o(sO,"isArrayType"),ek="BooleanLiteral",o(oO,"isBooleanLiteral"),tk="Conjunction",o(lO,"isConjunction"),rk="Disjunction",o(cO,"isDisjunction"),nk="Grammar",o(fve,"isGrammar"),TO="GrammarImport",o(mve,"isGrammarImport"),ik="InferredType",o(jw,"isInferredType"),ak="Interface",o(Hw,"isInterface"),EO="NamedArgument",o(yve,"isNamedArgument"),sk="Negation",o(uO,"isNegation"),ok="NumberLiteral",o(vve,"isNumberLiteral"),lk="Parameter",o(bve,"isParameter"),ck="ParameterReference",o(hO,"isParameterReference"),uk="ParserRule",o(Tl,"isParserRule"),hk="ReferenceType",o(dO,"isReferenceType"),CO="ReturnType",o(pO,"isReturnType"),dk="SimpleType",o(Uw,"isSimpleType"),pk="StringLiteral",o(xve,"isStringLiteral"),M5="TerminalRule",o(l0,"isTerminalRule"),gk="Type",o(S5,"isType"),_O="TypeAttribute",o(wve,"isTypeAttribute"),fk="UnionType",o(gO,"isUnionType"),mk="Action",o(Vd,"isAction"),yk="Alternatives",o(Vw,"isAlternatives"),vk="Assignment",o(c0,"isAssignment"),bk="CharacterRange",o(fO,"isCharacterRange"),xk="CrossReference",o(A5,"isCrossReference"),wk="EndOfFile",o(mO,"isEndOfFile"),kk="Group",o(Hp,"isGroup"),Tk="Keyword",o(u0,"isKeyword"),Ek="NegatedToken",o(yO,"isNegatedToken"),Ck="RegexToken",o(vO,"isRegexToken"),_k="RuleCall",o(h0,"isRuleCall"),Sk="TerminalAlternatives",o(bO,"isTerminalAlternatives"),Ak="TerminalGroup",o(xO,"isTerminalGroup"),Lk="TerminalRuleCall",o(Ww,"isTerminalRuleCall"),Nk="UnorderedGroup",o(Xw,"isUnorderedGroup"),Mk="UntilToken",o(wO,"isUntilToken"),Ik="Wildcard",o(kO,"isWildcard"),Dk=class extends $w{static{o(this,"LangiumGrammarAstReflection")}getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayLiteral","ArrayType","Assignment","BooleanLiteral","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","NamedArgument","NegatedToken","Negation","NumberLiteral","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","StringLiteral","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","ValueLiteral","Wildcard"]}computeIsSubtype(e,t){switch(e){case mk:case yk:case vk:case bk:case xk:case wk:case kk:case Tk:case Ek:case Ck:case _k:case Sk:case Ak:case Lk:case Nk:case Mk:case Ik:return this.isSubtype(Zw,t);case Qw:case ok:case pk:return this.isSubtype(N5,t);case Jw:case hk:case dk:case fk:return this.isSubtype(Kw,t);case ek:return this.isSubtype(L5,t)||this.isSubtype(N5,t);case tk:case rk:case sk:case ck:return this.isSubtype(L5,t);case ik:case ak:case gk:return this.isSubtype(Wm,t);case uk:return this.isSubtype(Vm,t)||this.isSubtype(Wm,t);case M5:return this.isSubtype(Vm,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;switch(t){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return Wm;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return Vm;case"Grammar:usedGrammars":return nk;case"NamedArgument:parameter":case"ParameterReference:parameter":return lk;case"TerminalRuleCall:rule":return M5;default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case"AbstractElement":return{name:"AbstractElement",properties:[{name:"cardinality"},{name:"lookahead"}]};case"ArrayLiteral":return{name:"ArrayLiteral",properties:[{name:"elements",defaultValue:[]}]};case"ArrayType":return{name:"ArrayType",properties:[{name:"elementType"}]};case"BooleanLiteral":return{name:"BooleanLiteral",properties:[{name:"true",defaultValue:!1}]};case"Conjunction":return{name:"Conjunction",properties:[{name:"left"},{name:"right"}]};case"Disjunction":return{name:"Disjunction",properties:[{name:"left"},{name:"right"}]};case"Grammar":return{name:"Grammar",properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case"GrammarImport":return{name:"GrammarImport",properties:[{name:"path"}]};case"InferredType":return{name:"InferredType",properties:[{name:"name"}]};case"Interface":return{name:"Interface",properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case"NamedArgument":return{name:"NamedArgument",properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case"Negation":return{name:"Negation",properties:[{name:"value"}]};case"NumberLiteral":return{name:"NumberLiteral",properties:[{name:"value"}]};case"Parameter":return{name:"Parameter",properties:[{name:"name"}]};case"ParameterReference":return{name:"ParameterReference",properties:[{name:"parameter"}]};case"ParserRule":return{name:"ParserRule",properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case"ReferenceType":return{name:"ReferenceType",properties:[{name:"referenceType"}]};case"ReturnType":return{name:"ReturnType",properties:[{name:"name"}]};case"SimpleType":return{name:"SimpleType",properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case"StringLiteral":return{name:"StringLiteral",properties:[{name:"value"}]};case"TerminalRule":return{name:"TerminalRule",properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case"Type":return{name:"Type",properties:[{name:"name"},{name:"type"}]};case"TypeAttribute":return{name:"TypeAttribute",properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case"UnionType":return{name:"UnionType",properties:[{name:"types",defaultValue:[]}]};case"Action":return{name:"Action",properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case"Alternatives":return{name:"Alternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"Assignment":return{name:"Assignment",properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case"CharacterRange":return{name:"CharacterRange",properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case"CrossReference":return{name:"CrossReference",properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case"EndOfFile":return{name:"EndOfFile",properties:[{name:"cardinality"},{name:"lookahead"}]};case"Group":return{name:"Group",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case"Keyword":return{name:"Keyword",properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case"NegatedToken":return{name:"NegatedToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"RegexToken":return{name:"RegexToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case"RuleCall":return{name:"RuleCall",properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalGroup":return{name:"TerminalGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalRuleCall":return{name:"TerminalRuleCall",properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"UnorderedGroup":return{name:"UnorderedGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"UntilToken":return{name:"UntilToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"Wildcard":return{name:"Wildcard",properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}},un=new Dk}),SO={};yr(SO,{assignMandatoryProperties:()=>LO,copyAstNode:()=>Pk,findLocalReferences:()=>Eve,findRootNode:()=>AO,getContainerOfType:()=>Xm,getDocument:()=>Zl,hasContainerOfType:()=>Tve,linkContentToContainer:()=>Rk,streamAllContents:()=>Wd,streamAst:()=>p0,streamContents:()=>I5,streamReferences:()=>D5});function Rk(e){for(let[t,r]of Object.entries(e))t.startsWith("$")||(Array.isArray(r)?r.forEach((n,i)=>{Ja(n)&&(n.$container=e,n.$containerProperty=t,n.$containerIndex=i)}):Ja(r)&&(r.$container=e,r.$containerProperty=t))}function Xm(e,t){let r=e;for(;r;){if(t(r))return r;r=r.$container}}function Tve(e,t){let r=e;for(;r;){if(t(r))return!0;r=r.$container}return!1}function Zl(e){let t=AO(e).$document;if(!t)throw new Error("AST node has no document.");return t}function AO(e){for(;e.$container;)e=e.$container;return e}function I5(e,t){if(!e)throw new Error("Node must be an AstNode.");let r=t?.range;return new du(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),n=>{for(;n.keyIndex<n.keys.length;){let i=n.keys[n.keyIndex];if(!i.startsWith("$")){let a=e[i];if(Ja(a)){if(n.keyIndex++,Ok(a,r))return{done:!1,value:a}}else if(Array.isArray(a)){for(;n.arrayIndex<a.length;){let s=n.arrayIndex++,l=a[s];if(Ja(l)&&Ok(l,r))return{done:!1,value:l}}n.arrayIndex=0}}n.keyIndex++}return Vo})}function Wd(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new Yp(e,r=>I5(r,t))}function p0(e,t){if(e){if(t?.range&&!Ok(e,t.range))return new Yp(e,()=>[])}else throw new Error("Root node must be an AstNode.");return new Yp(e,r=>I5(r,t),{includeRoot:!0})}function Ok(e,t){var r;if(!t)return!0;let n=(r=e.$cstNode)===null||r===void 0?void 0:r.range;return n?QR(n,t):!1}function D5(e){return new du(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){let r=t.keys[t.keyIndex];if(!r.startsWith("$")){let n=e[r];if(kl(n))return t.keyIndex++,{done:!1,value:{reference:n,container:e,property:r}};if(Array.isArray(n)){for(;t.arrayIndex<n.length;){let i=t.arrayIndex++,a=n[i];if(kl(a))return{done:!1,value:{reference:a,container:e,property:r,index:i}}}t.arrayIndex=0}}t.keyIndex++}return Vo})}function Eve(e,t=Zl(e).parseResult.value){let r=[];return p0(t).forEach(n=>{D5(n).forEach(i=>{i.reference.ref===e&&r.push(i.reference)})}),qa(r)}function LO(e,t){let r=e.getTypeMetaData(t.$type),n=t;for(let i of r.properties)i.defaultValue!==void 0&&n[i.name]===void 0&&(n[i.name]=NO(i.defaultValue))}function NO(e){return Array.isArray(e)?[...e.map(NO)]:e}function Pk(e,t){let r={$type:e.$type};for(let[n,i]of Object.entries(e))if(!n.startsWith("$"))if(Ja(i))r[n]=Pk(i,t);else if(kl(i))r[n]=t(r,n,i.$refNode,i.$refText);else if(Array.isArray(i)){let a=[];for(let s of i)Ja(s)?a.push(Pk(s,t)):kl(s)?a.push(t(r,n,s.$refNode,s.$refText)):a.push(s);r[n]=a}else r[n]=i;return Rk(r),r}var El=R(()=>{"use strict";hu(),Kl(),oh(),o(Rk,"linkContentToContainer"),o(Xm,"getContainerOfType"),o(Tve,"hasContainerOfType"),o(Zl,"getDocument"),o(AO,"findRootNode"),o(I5,"streamContents"),o(Wd,"streamAllContents"),o(p0,"streamAst"),o(Ok,"isAstNodeInRange"),o(D5,"streamReferences"),o(Eve,"findLocalReferences"),o(LO,"assignMandatoryProperties"),o(NO,"copyDefaultValue"),o(Pk,"copyAstNode")});function sn(e){return e.charCodeAt(0)}function Bk(e,t){Array.isArray(e)?e.forEach(function(r){t.push(r)}):t.push(e)}function Km(e,t){if(e[t]===!0)throw"duplicate flag "+t;let r=e[t];e[t]=!0}function Up(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function R5(){throw Error("Internal Error - Should never get here!")}function MO(e){return e.type==="Character"}var Cve=R(()=>{"use strict";o(sn,"cc"),o(Bk,"insertToSet"),o(Km,"addFlag"),o(Up,"ASSERT_EXISTS"),o(R5,"ASSERT_NEVER_REACH_HERE"),o(MO,"isCharacter")}),O5,P5,IO,eQe=R(()=>{"use strict";Cve(),O5=[];for(let e=sn("0");e<=sn("9");e++)O5.push(e);P5=[sn("_")].concat(O5);for(let e=sn("a");e<=sn("z");e++)P5.push(e);for(let e=sn("A");e<=sn("Z");e++)P5.push(e);IO=[sn(" "),sn("\f"),sn(`
`),sn("\r"),sn("	"),sn("\v"),sn("	"),sn("\xA0"),sn("\u1680"),sn("\u2000"),sn("\u2001"),sn("\u2002"),sn("\u2003"),sn("\u2004"),sn("\u2005"),sn("\u2006"),sn("\u2007"),sn("\u2008"),sn("\u2009"),sn("\u200A"),sn("\u2028"),sn("\u2029"),sn("\u202F"),sn("\u205F"),sn("\u3000"),sn("\uFEFF")]}),_ve,B5,Sve,DO,tQe=R(()=>{"use strict";Cve(),eQe(),_ve=/[0-9a-fA-F]/,B5=/[0-9]/,Sve=/[1-9]/,DO=class{static{o(this,"RegExpParser")}constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");let t=this.disjunction();this.consumeChar("/");let r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Km(r,"global");break;case"i":Km(r,"ignoreCase");break;case"m":Km(r,"multiLine");break;case"u":Km(r,"unicode");break;case"y":Km(r,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:t,loc:this.loc(0)}}disjunction(){let e=[],t=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){let e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let t;switch(this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead";break}Up(t);let r=this.disjunction();return this.consumeChar(")"),{type:t,value:r,loc:this.loc(e)}}return R5()}quantifier(e=!1){let t,r=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":let n=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:n,atMost:n};break;case",":let i;this.isDigit()?(i=this.integerIncludingZero(),t={atLeast:n,atMost:i}):t={atLeast:n,atMost:1/0},this.consumeChar("}");break}if(e===!0&&t===void 0)return;Up(t);break}if(!(e===!0&&t===void 0)&&Up(t))return this.peekChar(0)==="?"?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(r),t}atom(){let e,t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}return e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),Up(e)?(e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):R5()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[sn(`
`),sn("\r"),sn("\u2028"),sn("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=O5;break;case"D":e=O5,t=!0;break;case"s":e=IO;break;case"S":e=IO,t=!0;break;case"w":e=P5;break;case"W":e=P5,t=!0;break}return Up(e)?{type:"Set",value:e,complement:t}:R5()}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=sn("\f");break;case"n":e=sn(`
`);break;case"r":e=sn("\r");break;case"t":e=sn("	");break;case"v":e=sn("\v");break}return Up(e)?{type:"Character",value:e}:R5()}controlLetterEscapeAtom(){this.consumeChar("c");let e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:sn("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let e=this.popChar();return{type:"Character",value:sn(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let e=this.popChar();return{type:"Character",value:sn(e)}}}characterClass(){let e=[],t=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),t=!0);this.isClassAtom();){let r=this.classAtom(),n=r.type==="Character";if(MO(r)&&this.isRangeDash()){this.consumeChar("-");let i=this.classAtom(),a=i.type==="Character";if(MO(i)){if(i.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:i.value})}else Bk(r.value,e),e.push(sn("-")),Bk(i.value,e)}else Bk(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:sn("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}let t=this.disjunction();this.consumeChar(")");let r={type:"Group",capturing:e,value:t};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(Sve.test(e)===!1)throw Error("Expecting a positive integer");for(;B5.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(B5.test(e)===!1)throw Error("Expecting an integer");for(;B5.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){let e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:sn(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return B5.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let r=0;r<e;r++){let n=this.popChar();if(_ve.test(n)===!1)throw Error("Expecting a HexDecimal digits");t+=n}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){let e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}}),F5,rQe=R(()=>{"use strict";F5=class{static{o(this,"BaseRegExpVisitor")}visitChildren(e){for(let t in e){let r=e[t];e.hasOwnProperty(t)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach(n=>{this.visit(n)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}}),Fk=R(()=>{"use strict";tQe(),rQe()}),RO={};yr(RO,{NEWLINE_REGEXP:()=>$O,escapeRegExp:()=>Zm,getCaseInsensitivePattern:()=>PO,getTerminalParts:()=>Ave,isMultilineComment:()=>OO,isWhitespace:()=>$k,partialMatches:()=>BO,partialRegExp:()=>FO});function Ave(e){try{typeof e!="string"&&(e=e.source),e=`/${e}/`;let t=zO.pattern(e),r=[];for(let n of t.value.value)Xd.reset(e),Xd.visit(n),r.push({start:Xd.startRegexp,end:Xd.endRegex});return r}catch{return[]}}function OO(e){try{return typeof e=="string"&&(e=new RegExp(e)),e=e.toString(),Xd.reset(e),Xd.visit(zO.pattern(e)),Xd.multiline}catch{return!1}}function $k(e){return(typeof e=="string"?new RegExp(e):e).test(" ")}function Zm(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function PO(e){return Array.prototype.map.call(e,t=>/\w/.test(t)?`[${t.toLowerCase()}${t.toUpperCase()}]`:Zm(t)).join("")}function BO(e,t){let r=FO(e),n=t.match(r);return!!n&&n[0].length>0}function FO(e){typeof e=="string"&&(e=new RegExp(e));let t=e,r=e.source,n=0;function i(){let a="",s;function l(h){a+=r.substr(n,h),n+=h}o(l,"appendRaw");function u(h){a+="(?:"+r.substr(n,h)+"|$)",n+=h}for(o(u,"appendOptional");n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":u(3);break;case"x":u(4);break;case"u":t.unicode?r[n+2]==="{"?u(r.indexOf("}",n)-n+1):u(6):u(2);break;case"p":case"P":t.unicode?u(r.indexOf("}",n)-n+1):u(2);break;case"k":u(r.indexOf(">",n)-n+1);break;default:u(2);break}break;case"[":s=/\[(?:\\.|.)*?\]/g,s.lastIndex=n,s=s.exec(r)||[],u(s[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":l(1);break;case"{":s=/\{\d+,?\d*\}/g,s.lastIndex=n,s=s.exec(r),s?l(s[0].length):u(1);break;case"(":if(r[n+1]==="?")switch(r[n+2]){case":":a+="(?:",n+=3,a+=i()+"|$)";break;case"=":a+="(?=",n+=3,a+=i()+")";break;case"!":s=n,n+=3,i(),a+=r.substr(s,n-s);break;case"<":switch(r[n+3]){case"=":case"!":s=n,n+=4,i(),a+=r.substr(s,n-s);break;default:l(r.indexOf(">",n)-n+1),a+=i()+"|$)";break}break}else l(1),a+=i()+"|$)";break;case")":return++n,a;default:u(1);break}return a}return o(i,"process"),new RegExp(i(),e.flags)}var $O,zO,Lve,Xd,$5=R(()=>{"use strict";Fk(),$O=/\r?\n/gm,zO=new DO,Lve=class extends F5{static{o(this,"TerminalRegExpVisitor")}constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){let t=String.fromCharCode(e.value);if(!this.multiline&&t===`
`&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let r=Zm(t);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitSet(e){if(!this.multiline){let t=this.regex.substring(e.loc.begin,e.loc.end),r=new RegExp(t);this.multiline=!!`
`.match(r)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let t=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(t),this.isStarting&&(this.startRegexp+=t)}}visitChildren(e){e.type==="Group"&&e.quantifier||super.visitChildren(e)}},Xd=new Lve,o(Ave,"getTerminalParts"),o(OO,"isMultilineComment"),o($k,"isWhitespace"),o(Zm,"escapeRegExp"),o(PO,"getCaseInsensitivePattern"),o(BO,"partialMatches"),o(FO,"partialRegExp")}),qO={};yr(qO,{findAssignment:()=>XO,findNameAssignment:()=>jk,findNodeForKeyword:()=>WO,findNodeForProperty:()=>qk,findNodesForKeyword:()=>Nve,findNodesForKeywordInternal:()=>Yk,findNodesForProperty:()=>VO,getActionAtElement:()=>ZO,getActionType:()=>JO,getAllReachableRules:()=>zk,getCrossReferenceTerminal:()=>HO,getEntryRule:()=>GO,getExplicitRuleType:()=>Uk,getHiddenRules:()=>YO,getRuleType:()=>eP,getTypeName:()=>Qm,isArrayCardinality:()=>Ive,isArrayOperator:()=>Dve,isCommentTerminal:()=>UO,isDataType:()=>Rve,isDataTypeRule:()=>z5,isOptionalCardinality:()=>Mve,terminalRegex:()=>q5});function GO(e){return e.rules.find(t=>Tl(t)&&t.entry)}function YO(e){return e.rules.filter(t=>l0(t)&&t.hidden)}function zk(e,t){let r=new Set,n=GO(e);if(!n)return new Set(e.rules);let i=[n].concat(YO(e));for(let s of i)jO(s,r,t);let a=new Set;for(let s of e.rules)(r.has(s.name)||l0(s)&&s.hidden)&&a.add(s);return a}function jO(e,t,r){t.add(e.name),Wd(e).forEach(n=>{if(h0(n)||r&&Ww(n)){let i=n.rule.ref;i&&!t.has(i.name)&&jO(i,t,r)}})}function HO(e){if(e.terminal)return e.terminal;if(e.type.ref)return jk(e.type.ref)?.terminal}function UO(e){return e.hidden&&!q5(e).test(" ")}function VO(e,t){return!e||!t?[]:Gk(e,t,e.astNode,!0)}function qk(e,t,r){if(!e||!t)return;let n=Gk(e,t,e.astNode,!0);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function Gk(e,t,r,n){if(!n){let i=Xm(e.grammarSource,c0);if(i&&i.feature===t)return[e]}return sh(e)&&e.astNode===r?e.content.flatMap(i=>Gk(i,t,r,!1)):[]}function Nve(e,t){return e?Yk(e,t,e?.astNode):[]}function WO(e,t,r){if(!e)return;let n=Yk(e,t,e?.astNode);if(n.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,n.length-1)):r=0,n[r]}function Yk(e,t,r){if(e.astNode!==r)return[];if(u0(e.grammarSource)&&e.grammarSource.value===t)return[e];let n=Hm(e).iterator(),i,a=[];do if(i=n.next(),!i.done){let s=i.value;s.astNode===r?u0(s.grammarSource)&&s.grammarSource.value===t&&a.push(s):n.prune()}while(!i.done);return a}function XO(e){var t;let r=e.astNode;for(;r===((t=e.container)===null||t===void 0?void 0:t.astNode);){let n=Xm(e.grammarSource,c0);if(n)return n;e=e.container}}function jk(e){let t=e;return jw(t)&&(Vd(t.$container)?t=t.$container.$container:Tl(t.$container)?t=t.$container:jp(t.$container)),KO(e,t,new Map)}function KO(e,t,r){var n;function i(a,s){let l;return Xm(a,c0)||(l=KO(s,s,r)),r.set(e,l),l}if(o(i,"go"),r.has(e))return r.get(e);r.set(e,void 0);for(let a of Wd(t)){if(c0(a)&&a.feature.toLowerCase()==="name")return r.set(e,a),a;if(h0(a)&&Tl(a.rule.ref))return i(a,a.rule.ref);if(Uw(a)&&!((n=a.typeRef)===null||n===void 0)&&n.ref)return i(a,a.typeRef.ref)}}function ZO(e){let t=e.$container;if(Hp(t)){let r=t.elements,n=r.indexOf(e);for(let i=n-1;i>=0;i--){let a=r[i];if(Vd(a))return a;{let s=Wd(r[i]).find(Vd);if(s)return s}}}if(Yw(t))return ZO(t)}function Mve(e,t){return e==="?"||e==="*"||Hp(t)&&!!t.guardCondition}function Ive(e){return e==="*"||e==="+"}function Dve(e){return e==="+="}function z5(e){return QO(e,new Set)}function QO(e,t){if(t.has(e))return!0;t.add(e);for(let r of Wd(e))if(h0(r)){if(!r.rule.ref||Tl(r.rule.ref)&&!QO(r.rule.ref,t))return!1}else if(c0(r)||Vd(r))return!1;return!!e.definition}function Rve(e){return Hk(e.type,new Set)}function Hk(e,t){if(t.has(e))return!0;if(t.add(e),sO(e)||dO(e))return!1;if(gO(e))return e.types.every(r=>Hk(r,t));if(Uw(e)){if(e.primitiveType!==void 0||e.stringType!==void 0)return!0;if(e.typeRef!==void 0){let r=e.typeRef.ref;return S5(r)?Hk(r.type,t):!1}else return!1}else return!1}function Uk(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){let t=e.returnType.ref;if(t&&(Tl(t)||Hw(t)||S5(t)))return t.name}}function Qm(e){var t;if(Tl(e))return z5(e)?e.name:(t=Uk(e))!==null&&t!==void 0?t:e.name;if(Hw(e)||S5(e)||pO(e))return e.name;if(Vd(e)){let r=JO(e);if(r)return r}else if(jw(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function JO(e){var t;if(e.inferredType)return e.inferredType.name;if(!((t=e.type)===null||t===void 0)&&t.ref)return Qm(e.type.ref)}function eP(e){var t,r,n;return l0(e)?(r=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&r!==void 0?r:"string":z5(e)?e.name:(n=Uk(e))!==null&&n!==void 0?n:e.name}function q5(e){let t={s:!1,i:!1,u:!1},r=Vp(e.definition,t),n=Object.entries(t).filter(([,i])=>i).map(([i])=>i).join("");return new RegExp(r,n)}function Vp(e,t){if(bO(e))return Ove(e);if(xO(e))return Pve(e);if(fO(e))return $ve(e);if(Ww(e)){let r=e.rule.ref;if(!r)throw new Error("Missing rule reference.");return lh(Vp(r.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}else{if(yO(e))return Fve(e);if(wO(e))return Bve(e);if(vO(e)){let r=e.regex.lastIndexOf("/"),n=e.regex.substring(1,r),i=e.regex.substring(r+1);return t&&(t.i=i.includes("i"),t.s=i.includes("s"),t.u=i.includes("u")),lh(n,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}else{if(kO(e))return lh(Wk,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e?.$type}`)}}}function Ove(e){return lh(e.elements.map(t=>Vp(t)).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function Pve(e){return lh(e.elements.map(t=>Vp(t)).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function Bve(e){return lh(`${Wk}*?${Vp(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function Fve(e){return lh(`(?!${Vp(e.terminal)})${Wk}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function $ve(e){return e.right?lh(`[${Vk(e.left)}-${Vk(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):lh(Vk(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function Vk(e){return Zm(e.value)}function lh(e,t){var r;return(t.wrap!==!1||t.lookahead)&&(e=`(${(r=t.lookahead)!==null&&r!==void 0?r:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}var Wk,ch=R(()=>{"use strict";iO(),d0(),hu(),El(),oh(),$5(),o(GO,"getEntryRule"),o(YO,"getHiddenRules"),o(zk,"getAllReachableRules"),o(jO,"ruleDfs"),o(HO,"getCrossReferenceTerminal"),o(UO,"isCommentTerminal"),o(VO,"findNodesForProperty"),o(qk,"findNodeForProperty"),o(Gk,"findNodesForPropertyInternal"),o(Nve,"findNodesForKeyword"),o(WO,"findNodeForKeyword"),o(Yk,"findNodesForKeywordInternal"),o(XO,"findAssignment"),o(jk,"findNameAssignment"),o(KO,"findNameAssignmentInternal"),o(ZO,"getActionAtElement"),o(Mve,"isOptionalCardinality"),o(Ive,"isArrayCardinality"),o(Dve,"isArrayOperator"),o(z5,"isDataTypeRule"),o(QO,"isDataTypeRuleInternal"),o(Rve,"isDataType"),o(Hk,"isDataTypeInternal"),o(Uk,"getExplicitRuleType"),o(Qm,"getTypeName"),o(JO,"getActionType"),o(eP,"getRuleType"),o(q5,"terminalRegex"),Wk=/[\s\S]/.source,o(Vp,"abstractElementToRegex"),o(Ove,"terminalAlternativesToRegex"),o(Pve,"terminalGroupToRegex"),o(Bve,"untilTokenToRegex"),o(Fve,"negateTokenToRegex"),o($ve,"characterRangeToRegex"),o(Vk,"keywordToRegex"),o(lh,"withCardinality")});function tP(e){let t=[],r=e.Grammar;for(let n of r.rules)l0(n)&&UO(n)&&OO(q5(n))&&t.push(n.name);return{multilineCommentRules:t,nameRegexp:Gw}}var zve=R(()=>{"use strict";oh(),ch(),$5(),d0(),o(tP,"createGrammarConfig")}),qve=R(()=>{"use strict"});function Xk(e){console&&console.error&&console.error(`Error: ${e}`)}function rP(e){console&&console.warn&&console.warn(`Warning: ${e}`)}var nQe=R(()=>{"use strict";o(Xk,"PRINT_ERROR"),o(rP,"PRINT_WARNING")});function nP(e){let t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}var iQe=R(()=>{"use strict";o(nP,"timer")});function iP(e){function t(){}o(t,"FakeConstructor"),t.prototype=e;let r=new t;function n(){return typeof r.bar}return o(n,"fakeAccess"),n(),n(),e}var aQe=R(()=>{"use strict";o(iP,"toFastProperties")}),G5=R(()=>{"use strict";nQe(),iQe(),aQe()});function Gve(e){return Yve(e)?e.LABEL:e.name}function Yve(e){return Ao(e.LABEL)&&e.LABEL!==""}function jve(e){return nr(e,Y5)}function Y5(e){function t(r){return nr(r,Y5)}if(o(t,"convertDefinition"),e instanceof No){let r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Ao(e.label)&&(r.label=e.label),r}else{if(e instanceof Wo)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Ps)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof Cl)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof _l)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:Y5(new ji({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Xo)return{type:"RepetitionWithSeparator",idx:e.idx,separator:Y5(new ji({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof pa)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof Ko)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof ji){let r={type:"Terminal",name:e.terminalType.name,label:Gve(e.terminalType),idx:e.idx};Ao(e.label)&&(r.terminalLabel=e.label);let n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=ah(n)?n.source:n),r}else{if(e instanceof Wp)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}var pu,No,Wp,Wo,Ps,Cl,_l,pa,Xo,Ko,ji,aP=R(()=>{"use strict";Gr(),o(Gve,"tokenLabel"),o(Yve,"hasTokenLabel"),pu=class{static{o(this,"AbstractProduction")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),ut(this.definition,t=>{t.accept(e)})}},No=class extends pu{static{o(this,"NonTerminal")}constructor(e){super([]),this.idx=1,bl(this,Lc(e,t=>t!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}},Wp=class extends pu{static{o(this,"Rule")}constructor(e){super(e.definition),this.orgText="",bl(this,Lc(e,t=>t!==void 0))}},Wo=class extends pu{static{o(this,"Alternative")}constructor(e){super(e.definition),this.ignoreAmbiguities=!1,bl(this,Lc(e,t=>t!==void 0))}},Ps=class extends pu{static{o(this,"Option")}constructor(e){super(e.definition),this.idx=1,bl(this,Lc(e,t=>t!==void 0))}},Cl=class extends pu{static{o(this,"RepetitionMandatory")}constructor(e){super(e.definition),this.idx=1,bl(this,Lc(e,t=>t!==void 0))}},_l=class extends pu{static{o(this,"RepetitionMandatoryWithSeparator")}constructor(e){super(e.definition),this.idx=1,bl(this,Lc(e,t=>t!==void 0))}},pa=class extends pu{static{o(this,"Repetition")}constructor(e){super(e.definition),this.idx=1,bl(this,Lc(e,t=>t!==void 0))}},Xo=class extends pu{static{o(this,"RepetitionWithSeparator")}constructor(e){super(e.definition),this.idx=1,bl(this,Lc(e,t=>t!==void 0))}},Ko=class extends pu{static{o(this,"Alternation")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,bl(this,Lc(e,t=>t!==void 0))}},ji=class{static{o(this,"Terminal")}constructor(e){this.idx=1,bl(this,Lc(e,t=>t!==void 0))}accept(e){e.visit(this)}},o(jve,"serializeGrammar"),o(Y5,"serializeProduction")}),Xp,sQe=R(()=>{"use strict";aP(),Xp=class{static{o(this,"GAstVisitor")}visit(e){let t=e;switch(t.constructor){case No:return this.visitNonTerminal(t);case Wo:return this.visitAlternative(t);case Ps:return this.visitOption(t);case Cl:return this.visitRepetitionMandatory(t);case _l:return this.visitRepetitionMandatoryWithSeparator(t);case Xo:return this.visitRepetitionWithSeparator(t);case pa:return this.visitRepetition(t);case Ko:return this.visitAlternation(t);case ji:return this.visitTerminal(t);case Wp:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}});function Hve(e){return e instanceof Wo||e instanceof Ps||e instanceof pa||e instanceof Cl||e instanceof _l||e instanceof Xo||e instanceof ji||e instanceof Wp}function j5(e,t=[]){return e instanceof Ps||e instanceof pa||e instanceof Xo?!0:e instanceof Ko?rR(e.definition,r=>j5(r,t)):e instanceof No&&Lo(t,e)?!1:e instanceof pu?(e instanceof No&&t.push(e),Sc(e.definition,r=>j5(r,t))):!1}function Uve(e){return e instanceof Ko}function gu(e){if(e instanceof No)return"SUBRULE";if(e instanceof Ps)return"OPTION";if(e instanceof Ko)return"OR";if(e instanceof Cl)return"AT_LEAST_ONE";if(e instanceof _l)return"AT_LEAST_ONE_SEP";if(e instanceof Xo)return"MANY_SEP";if(e instanceof pa)return"MANY";if(e instanceof ji)return"CONSUME";throw Error("non exhaustive match")}var oQe=R(()=>{"use strict";Gr(),aP(),o(Hve,"isSequenceProd"),o(j5,"isOptionalProd"),o(Uve,"isBranchingProd"),o(gu,"getProductionDslName")}),Sl=R(()=>{"use strict";aP(),sQe(),oQe()});function sP(e,t,r){return[new Ps({definition:[new ji({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}var H5,oP=R(()=>{"use strict";Gr(),Sl(),H5=class{static{o(this,"RestWalker")}walk(e,t=[]){ut(e.definition,(r,n)=>{let i=Rs(e.definition,n+1);if(r instanceof No)this.walkProdRef(r,i,t);else if(r instanceof ji)this.walkTerminal(r,i,t);else if(r instanceof Wo)this.walkFlat(r,i,t);else if(r instanceof Ps)this.walkOption(r,i,t);else if(r instanceof Cl)this.walkAtLeastOne(r,i,t);else if(r instanceof _l)this.walkAtLeastOneSep(r,i,t);else if(r instanceof Xo)this.walkManySep(r,i,t);else if(r instanceof pa)this.walkMany(r,i,t);else if(r instanceof Ko)this.walkOr(r,i,t);else throw Error("non exhaustive match")})}walkTerminal(e,t,r){}walkProdRef(e,t,r){}walkFlat(e,t,r){let n=t.concat(r);this.walk(e,n)}walkOption(e,t,r){let n=t.concat(r);this.walk(e,n)}walkAtLeastOne(e,t,r){let n=[new Ps({definition:e.definition})].concat(t,r);this.walk(e,n)}walkAtLeastOneSep(e,t,r){let n=sP(e,t,r);this.walk(e,n)}walkMany(e,t,r){let n=[new Ps({definition:e.definition})].concat(t,r);this.walk(e,n)}walkManySep(e,t,r){let n=sP(e,t,r);this.walk(e,n)}walkOr(e,t,r){let n=t.concat(r);ut(e.definition,i=>{let a=new Wo({definition:[i]});this.walk(a,n)})}},o(sP,"restForRepetitionWithSeparator")});function Jm(e){if(e instanceof No)return Jm(e.referencedRule);if(e instanceof ji)return Xve(e);if(Hve(e))return Vve(e);if(Uve(e))return Wve(e);throw Error("non exhaustive match")}function Vve(e){let t=[],r=e.definition,n=0,i=r.length>n,a,s=!0;for(;i&&s;)a=r[n],s=j5(a),t=t.concat(Jm(a)),n=n+1,i=r.length>n;return yw(t)}function Wve(e){let t=nr(e.definition,r=>Jm(r));return yw(bs(t))}function Xve(e){return[e.terminalType]}var Kve=R(()=>{"use strict";Gr(),Sl(),o(Jm,"first"),o(Vve,"firstForSequence"),o(Wve,"firstForBranching"),o(Xve,"firstForTerminal")}),lP,Zve=R(()=>{"use strict";lP="_~IN~_"});function Qve(e){let t={};return ut(e,r=>{let n=new ebe(r).startWalking();bl(t,n)}),t}function Jve(e,t){return e.name+t+lP}var ebe,lQe=R(()=>{"use strict";oP(),Kve(),Gr(),Zve(),Sl(),ebe=class extends H5{static{o(this,"ResyncFollowsWalker")}constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,r){}walkProdRef(e,t,r){let n=Jve(e.referencedRule,e.idx)+this.topProd.name,i=t.concat(r),a=new Wo({definition:i}),s=Jm(a);this.follows[n]=s}},o(Qve,"computeAllProdsFollows"),o(Jve,"buildBetweenProdsFollowPrefix")});function U5(e){let t=e.toString();if(V5.hasOwnProperty(t))return V5[t];{let r=rbe.pattern(t);return V5[t]=r,r}}function tbe(){V5={}}var V5,rbe,cP=R(()=>{"use strict";Fk(),V5={},rbe=new DO,o(U5,"getRegExpAst"),o(tbe,"clearRegExpParserCache")});function nbe(e,t=!1){try{let r=U5(e);return Kk(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===hP)t&&rP(`${X5}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),Xk(`${X5}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function Kk(e,t,r){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++)Kk(e.value[i],t,r);break;case"Alternative":let n=e.value;for(let i=0;i<n.length;i++){let a=n[i];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let s=a;switch(s.type){case"Character":W5(s.value,t,r);break;case"Set":if(s.complement===!0)throw Error(hP);ut(s.value,u=>{if(typeof u=="number")W5(u,t,r);else{let h=u;if(r===!0)for(let d=h.from;d<=h.to;d++)W5(d,t,r);else{for(let d=h.from;d<=h.to&&d<t2;d++)W5(d,t,r);if(h.to>=t2){let d=h.from>=t2?h.from:t2,p=h.to,f=g0(d),g=g0(p);for(let m=f;m<=g;m++)t[m]=m}}}});break;case"Group":Kk(s.value,t,r);break;default:throw Error("Non Exhaustive Match")}let l=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&Zk(s)===!1||s.type!=="Group"&&l===!1)break}break;default:throw Error("non exhaustive match!")}return _i(t)}function W5(e,t,r){let n=g0(e);t[n]=n,r===!0&&ibe(e,t)}function ibe(e,t){let r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){let i=g0(n.charCodeAt(0));t[i]=i}else{let i=r.toLowerCase();if(i!==r){let a=g0(i.charCodeAt(0));t[a]=a}}}function uP(e,t){return ih(e.value,r=>{if(typeof r=="number")return Lo(t,r);{let n=r;return ih(t,i=>n.from<=i&&i<=n.to)!==void 0}})}function Zk(e){let t=e.quantifier;return t&&t.atLeast===0?!0:e.value?zn(e.value)?Sc(e.value,Zk):Zk(e.value):!1}function Qk(e,t){if(t instanceof RegExp){let r=U5(t),n=new abe(e);return n.visit(r),n.found}else return ih(t,r=>Lo(e,r.charCodeAt(0)))!==void 0}var hP,X5,abe,cQe=R(()=>{"use strict";Fk(),Gr(),G5(),cP(),Nbe(),hP="Complement Sets are not supported for first char optimization",X5=`Unable to use "first char" lexer optimizations:
`,o(nbe,"getOptimizedStartCodesIndices"),o(Kk,"firstCharOptimizedIndices"),o(W5,"addOptimizedIdxToResult"),o(ibe,"handleIgnoreCase"),o(uP,"findCode"),o(Zk,"isWholeOptional"),abe=class extends F5{static{o(this,"CharCodeFinder")}constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Lo(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?uP(e,this.targetCharCodes)===void 0&&(this.found=!0):uP(e,this.targetCharCodes)!==void 0&&(this.found=!0)}},o(Qk,"canMatchCharCode")});function sbe(e,t){t=d5(t,{useSticky:yP,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:o((x,w)=>w(),"tracer")});let r=t.tracer;r("initCharCodeToOptimizedIndexMap",()=>{_be()});let n;r("Reject Lexer.NA",()=>{n=y5(e,x=>x[Kd]===Zo.NA)});let i=!1,a;r("Transform Patterns",()=>{i=!1,a=nr(n,x=>{let w=x[Kd];if(ah(w)){let E=w.source;return E.length===1&&E!=="^"&&E!=="$"&&E!=="."&&!w.ignoreCase?E:E.length===2&&E[0]==="\\"&&!Lo(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],E[1])?E[1]:t.useSticky?pP(w):dP(w)}else{if(jl(w))return i=!0,{exec:w};if(typeof w=="object")return i=!0,w;if(typeof w=="string"){if(w.length===1)return w;{let E=w.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),A=new RegExp(E);return t.useSticky?pP(A):dP(A)}}else throw Error("non exhaustive match")}})});let s,l,u,h,d;r("misc mapping",()=>{s=nr(n,x=>x.tokenTypeIdx),l=nr(n,x=>{let w=x.GROUP;if(w!==Zo.SKIPPED){if(Ao(w))return w;if(di(w))return!1;throw Error("non exhaustive match")}}),u=nr(n,x=>{let w=x.LONGER_ALT;if(w)return zn(w)?nr(w,E=>YD(n,E)):[YD(n,w)]}),h=nr(n,x=>x.PUSH_MODE),d=nr(n,x=>Jr(x,"POP_MODE"))});let p;r("Line Terminator Handling",()=>{let x=mP(t.lineTerminatorCharacters);p=nr(n,w=>!1),t.positionTracking!=="onlyOffset"&&(p=nr(n,w=>Jr(w,"LINE_BREAKS")?!!w.LINE_BREAKS:fP(w,x)===!1&&Qk(x,w.PATTERN)))});let f,g,m,y;r("Misc Mapping #2",()=>{f=nr(n,gP),g=nr(a,Ebe),m=za(n,(x,w)=>{let E=w.GROUP;return Ao(E)&&E!==Zo.SKIPPED&&(x[E]=[]),x},{}),y=nr(a,(x,w)=>({pattern:a[w],longerAlt:u[w],canLineTerminator:p[w],isCustom:f[w],short:g[w],group:l[w],push:h[w],pop:d[w],tokenTypeIdx:s[w],tokenType:n[w]}))});let b=!0,v=[];return t.safeMode||r("First Char Optimization",()=>{v=za(n,(x,w,E)=>{if(typeof w.PATTERN=="string"){let A=w.PATTERN.charCodeAt(0),N=g0(A);Jk(x,N,y[E])}else if(zn(w.START_CHARS_HINT)){let A;ut(w.START_CHARS_HINT,N=>{let L=typeof N=="string"?N.charCodeAt(0):N,C=g0(L);A!==C&&(A=C,Jk(x,C,y[E]))})}else if(ah(w.PATTERN))if(w.PATTERN.unicode)b=!1,t.ensureOptimizations&&Xk(`${X5}	Unable to analyze < ${w.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let A=nbe(w.PATTERN,t.ensureOptimizations);si(A)&&(b=!1),ut(A,N=>{Jk(x,N,y[E])})}else t.ensureOptimizations&&Xk(`${X5}	TokenType: <${w.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),b=!1;return x},[])}),{emptyGroups:m,patternIdxToConfig:y,charCodeToPatternIdxToConfig:v,hasCustom:i,canBeOptimized:b}}function obe(e,t){let r=[],n=cbe(e);r=r.concat(n.errors);let i=ube(n.valid),a=i.valid;return r=r.concat(i.errors),r=r.concat(lbe(a)),r=r.concat(mbe(a)),r=r.concat(ybe(a,t)),r=r.concat(vbe(a)),r}function lbe(e){let t=[],r=da(e,n=>ah(n[Kd]));return t=t.concat(hbe(r)),t=t.concat(pbe(r)),t=t.concat(gbe(r)),t=t.concat(fbe(r)),t=t.concat(dbe(r)),t}function cbe(e){let t=da(e,i=>!Jr(i,Kd)),r=nr(t,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:Sa.MISSING_PATTERN,tokenTypes:[i]})),n=p5(e,t);return{errors:r,valid:n}}function ube(e){let t=da(e,i=>{let a=i[Kd];return!ah(a)&&!jl(a)&&!Jr(a,"exec")&&!Ao(a)}),r=nr(t,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Sa.INVALID_PATTERN,tokenTypes:[i]})),n=p5(e,t);return{errors:r,valid:n}}function hbe(e){class t extends F5{static{o(this,"EndAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitEndAnchor(i){this.found=!0}}let r=da(e,n=>{let i=n.PATTERN;try{let a=U5(i),s=new t;return s.visit(a),s.found}catch{return Sbe.test(i.source)}});return nr(r,n=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+n.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Sa.EOI_ANCHOR_FOUND,tokenTypes:[n]}))}function dbe(e){let t=da(e,r=>r.PATTERN.test(""));return nr(t,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:Sa.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}function pbe(e){class t extends F5{static{o(this,"StartAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitStartAnchor(i){this.found=!0}}let r=da(e,n=>{let i=n.PATTERN;try{let a=U5(i),s=new t;return s.visit(a),s.found}catch{return Abe.test(i.source)}});return nr(r,n=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+n.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Sa.SOI_ANCHOR_FOUND,tokenTypes:[n]}))}function gbe(e){let t=da(e,r=>{let n=r[Kd];return n instanceof RegExp&&(n.multiline||n.global)});return nr(t,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Sa.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function fbe(e){let t=[],r=nr(e,i=>za(e,(a,s)=>(i.PATTERN.source===s.PATTERN.source&&!Lo(t,s)&&s.PATTERN!==Zo.NA&&(t.push(s),a.push(s)),a),[]));r=Pm(r);let n=da(r,i=>i.length>1);return nr(n,i=>{let a=nr(i,s=>s.name);return{message:`The same RegExp pattern ->${Ac(i).PATTERN}<-has been used in all of the following Token Types: ${a.join(", ")} <-`,type:Sa.DUPLICATE_PATTERNS_FOUND,tokenTypes:i}})}function mbe(e){let t=da(e,r=>{if(!Jr(r,"GROUP"))return!1;let n=r.GROUP;return n!==Zo.SKIPPED&&n!==Zo.NA&&!Ao(n)});return nr(t,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Sa.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function ybe(e,t){let r=da(e,n=>n.PUSH_MODE!==void 0&&!Lo(t,n.PUSH_MODE));return nr(r,n=>({message:`Token Type: ->${n.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${n.PUSH_MODE}<-which does not exist`,type:Sa.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[n]}))}function vbe(e){let t=[],r=za(e,(n,i,a)=>{let s=i.PATTERN;return s===Zo.NA||(Ao(s)?n.push({str:s,idx:a,tokenType:i}):ah(s)&&xbe(s)&&n.push({str:s.source,idx:a,tokenType:i})),n},[]);return ut(e,(n,i)=>{ut(r,({str:a,idx:s,tokenType:l})=>{if(i<s&&bbe(a,n.PATTERN)){let u=`Token: ->${l.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:u,type:Sa.UNREACHABLE_PATTERN,tokenTypes:[n,l]})}})}),t}function bbe(e,t){if(ah(t)){let r=t.exec(e);return r!==null&&r.index===0}else{if(jl(t))return t(e,0,[],{});if(Jr(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function xbe(e){return ih([".","\\","[","]","|","^","$","(",")","?","*","+","{"],t=>e.source.indexOf(t)!==-1)===void 0}function dP(e){let t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function pP(e){let t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function wbe(e,t,r){let n=[];return Jr(e,e2)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+e2+`> property in its definition
`,type:Sa.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Jr(e,K5)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+K5+`> property in its definition
`,type:Sa.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Jr(e,K5)&&Jr(e,e2)&&!Jr(e.modes,e.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${e2}: <${e.defaultMode}>which does not exist
`,type:Sa.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Jr(e,K5)&&ut(e.modes,(i,a)=>{ut(i,(s,l)=>{if(di(s))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${a}> at index: <${l}>
`,type:Sa.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Jr(s,"LONGER_ALT")){let u=zn(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];ut(u,h=>{!di(h)&&!Lo(i,h)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${h.name}> on token <${s.name}> outside of mode <${a}>
`,type:Sa.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function kbe(e,t,r){let n=[],i=!1,a=Pm(bs(_i(e.modes))),s=y5(a,u=>u[Kd]===Zo.NA),l=mP(r);return t&&ut(s,u=>{let h=fP(u,l);if(h!==!1){let d={message:Cbe(u,h),type:h.issue,tokenType:u};n.push(d)}else Jr(u,"LINE_BREAKS")?u.LINE_BREAKS===!0&&(i=!0):Qk(l,u.PATTERN)&&(i=!0)}),t&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Sa.NO_LINE_BREAKS_FLAGS}),n}function Tbe(e){let t={},r=Ka(e);return ut(r,n=>{let i=e[n];if(zn(i))t[n]=[];else throw Error("non exhaustive match")}),t}function gP(e){let t=e.PATTERN;if(ah(t))return!1;if(jl(t)||Jr(t,"exec"))return!0;if(Ao(t))return!1;throw Error("non exhaustive match")}function Ebe(e){return Ao(e)&&e.length===1?e.charCodeAt(0):!1}function fP(e,t){if(Jr(e,"LINE_BREAKS"))return!1;if(ah(e.PATTERN)){try{Qk(t,e.PATTERN)}catch(r){return{issue:Sa.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(Ao(e.PATTERN))return!1;if(gP(e))return{issue:Sa.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function Cbe(e,t){if(t.issue===Sa.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===Sa.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function mP(e){return nr(e,t=>Ao(t)?t.charCodeAt(0):t)}function Jk(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}function g0(e){return e<t2?e:Z5[e]}function _be(){if(si(Z5)){Z5=new Array(65536);for(let e=0;e<65536;e++)Z5[e]=e>255?255+~~(e/255):e}}var Kd,e2,K5,yP,Sbe,Abe,Lbe,t2,Z5,Nbe=R(()=>{"use strict";Fk(),e9(),Gr(),G5(),cQe(),cP(),Kd="PATTERN",e2="defaultMode",K5="modes",yP=typeof new RegExp("(?:)").sticky=="boolean",o(sbe,"analyzeTokenTypes"),o(obe,"validatePatterns"),o(lbe,"validateRegExpPattern"),o(cbe,"findMissingPatterns"),o(ube,"findInvalidPatterns"),Sbe=/[^\\][$]/,o(hbe,"findEndOfInputAnchor"),o(dbe,"findEmptyMatchRegExps"),Abe=/[^\\[][\^]|^\^/,o(pbe,"findStartOfInputAnchor"),o(gbe,"findUnsupportedFlags"),o(fbe,"findDuplicatePatterns"),o(mbe,"findInvalidGroupType"),o(ybe,"findModesThatDoNotExist"),o(vbe,"findUnreachablePatterns"),o(bbe,"testTokenType"),o(xbe,"noMetaChar"),o(dP,"addStartOfInput"),o(pP,"addStickyFlag"),o(wbe,"performRuntimeChecks"),o(kbe,"performWarningRuntimeChecks"),o(Tbe,"cloneEmptyGroups"),o(gP,"isCustomPattern"),o(Ebe,"isShortPattern"),Lbe={test:o(function(e){let t=e.length;for(let r=this.lastIndex;r<t;r++){let n=e.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return e.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},"test"),lastIndex:0},o(fP,"checkLineBreaksIssues"),o(Cbe,"buildLineBreakIssueMessage"),o(mP,"getCharCodes"),o(Jk,"addToMapOfArrays"),t2=256,Z5=[],o(g0,"charCodeToOptimizedIndex"),o(_be,"initCharCodeToOptimizedIndexMap")});function r2(e,t){let r=e.tokenTypeIdx;return r===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[r]===!0}function Q5(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}function n2(e){let t=Mbe(e);Ibe(t),Rbe(t),Dbe(t),ut(t,r=>{r.isParent=r.categoryMatches.length>0})}function Mbe(e){let t=Za(e),r=e,n=!0;for(;n;){r=Pm(bs(nr(r,a=>a.CATEGORIES)));let i=p5(r,t);t=t.concat(i),si(i)?n=!1:r=i}return t}function Ibe(e){ut(e,t=>{bP(t)||(kP[wP]=t,t.tokenTypeIdx=wP++),xP(t)&&!zn(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),xP(t)||(t.CATEGORIES=[]),Obe(t)||(t.categoryMatches=[]),Pbe(t)||(t.categoryMatchesMap={})})}function Dbe(e){ut(e,t=>{t.categoryMatches=[],ut(t.categoryMatchesMap,(r,n)=>{t.categoryMatches.push(kP[n].tokenTypeIdx)})})}function Rbe(e){ut(e,t=>{vP([],t)})}function vP(e,t){ut(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),ut(t.CATEGORIES,r=>{let n=e.concat(t);Lo(n,r)||vP(n,r)})}function bP(e){return Jr(e,"tokenTypeIdx")}function xP(e){return Jr(e,"CATEGORIES")}function Obe(e){return Jr(e,"categoryMatches")}function Pbe(e){return Jr(e,"categoryMatchesMap")}function Bbe(e){return Jr(e,"tokenTypeIdx")}var wP,kP,i2=R(()=>{"use strict";Gr(),o(r2,"tokenStructuredMatcher"),o(Q5,"tokenStructuredMatcherNoCategories"),wP=1,kP={},o(n2,"augmentTokenTypes"),o(Mbe,"expandCategories"),o(Ibe,"assignTokenDefaultProps"),o(Dbe,"assignCategoriesTokensProp"),o(Rbe,"assignCategoriesMapProp"),o(vP,"singleAssignCategoriesToksMap"),o(bP,"hasShortKeyProperty"),o(xP,"hasCategoriesProperty"),o(Obe,"hasExtendingTokensTypesProperty"),o(Pbe,"hasExtendingTokensTypesMapProperty"),o(Bbe,"isTokenType")}),Fbe,$be=R(()=>{"use strict";Fbe={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,r,n,i){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`}}}),Sa,a2,Zo,e9=R(()=>{"use strict";Nbe(),Gr(),G5(),i2(),$be(),cP(),function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"}(Sa||(Sa={})),a2={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Fbe,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0},Object.freeze(a2),Zo=class{static{o(this,"Lexer")}constructor(e,t=a2){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(n,i)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let a=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${a}--> <${n}>`);let{time:s,value:l}=nP(i),u=s>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${a}<-- <${n}> time: ${s}ms`),this.traceInitIndent--,l}else return i()},typeof t=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=bl({},a2,t);let r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let n,i=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===a2.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Lbe;else if(this.config.lineTerminatorCharacters===a2.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),zn(e)?n={modes:{defaultMode:Za(e)},defaultMode:e2}:(i=!1,n=Za(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(wbe(n,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(kbe(n,this.trackStartLines,this.config.lineTerminatorCharacters))})),n.modes=n.modes?n.modes:{},ut(n.modes,(s,l)=>{n.modes[l]=y5(s,u=>di(u))});let a=Ka(n.modes);if(ut(n.modes,(s,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(obe(s,a))}),si(this.lexerDefinitionErrors)){n2(s);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=sbe(s,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=u.charCodeToPatternIdxToConfig,this.emptyGroups=bl({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=u.canBeOptimized}})}),this.defaultMode=n.defaultMode,!si(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let s=nr(this.lexerDefinitionErrors,l=>l.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+s)}ut(this.lexerDefinitionWarning,s=>{rP(s.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(yP?(this.chopInput=Qu,this.match=this.matchWithTest):(this.updateLastIndex=Xa,this.match=this.matchWithExec),i&&(this.handleModes=Xa),this.trackStartLines===!1&&(this.computeNewColumn=Qu),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Xa),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let s=za(this.canModeBeOptimized,(l,u,h)=>(u===!1&&l.push(h),l),[]);if(t.ensureOptimizations&&!si(s))throw Error(`Lexer Modes: < ${s.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{tbe()}),this.TRACE_INIT("toFastProperties",()=>{iP(this)})})}tokenize(e,t=this.defaultMode){if(!si(this.lexerDefinitionErrors)){let r=nr(this.lexerDefinitionErrors,n=>n.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+r)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let r,n,i,a,s,l,u,h,d,p,f,g,m,y,b,v,x=e,w=x.length,E=0,A=0,N=this.hasCustom?0:Math.floor(e.length/10),L=new Array(N),C=[],D=this.trackStartLines?1:void 0,P=this.trackStartLines?1:void 0,O=Tbe(this.emptyGroups),I=this.trackStartLines,q=this.config.lineTerminatorsPattern,S=0,B=[],F=[],z=[],M=[];Object.freeze(M);let G;function Y(){return B}o(Y,"getPossiblePatternsSlow");function V(he){let be=g0(he),Q=F[be];return Q===void 0?M:Q}o(V,"getPossiblePatternsOptimized");let X=o(he=>{if(z.length===1&&he.tokenType.PUSH_MODE===void 0){let be=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(he);C.push({offset:he.startOffset,line:he.startLine,column:he.startColumn,length:he.image.length,message:be})}else{z.pop();let be=cu(z);B=this.patternIdxToConfig[be],F=this.charCodeToPatternIdxToConfig[be],S=B.length;let Q=this.canModeBeOptimized[be]&&this.config.safeMode===!1;F&&Q?G=V:G=Y}},"pop_mode");function re(he){z.push(he),F=this.charCodeToPatternIdxToConfig[he],B=this.patternIdxToConfig[he],S=B.length,S=B.length;let be=this.canModeBeOptimized[he]&&this.config.safeMode===!1;F&&be?G=V:G=Y}o(re,"push_mode"),re.call(this,t);let de,xe=this.config.recoveryEnabled;for(;E<w;){l=null;let he=x.charCodeAt(E),be=G(he),Q=be.length;for(r=0;r<Q;r++){de=be[r];let ne=de.pattern;u=null;let ee=de.short;if(ee!==!1?he===ee&&(l=ne):de.isCustom===!0?(v=ne.exec(x,E,L,O),v!==null?(l=v[0],v.payload!==void 0&&(u=v.payload)):l=null):(this.updateLastIndex(ne,E),l=this.match(ne,e,E)),l!==null){if(s=de.longerAlt,s!==void 0){let pe=s.length;for(i=0;i<pe;i++){let ie=B[s[i]],De=ie.pattern;if(h=null,ie.isCustom===!0?(v=De.exec(x,E,L,O),v!==null?(a=v[0],v.payload!==void 0&&(h=v.payload)):a=null):(this.updateLastIndex(De,E),a=this.match(De,e,E)),a&&a.length>l.length){l=a,u=h,de=ie;break}}}break}}if(l!==null){if(d=l.length,p=de.group,p!==void 0&&(f=de.tokenTypeIdx,g=this.createTokenInstance(l,E,f,de.tokenType,D,P,d),this.handlePayload(g,u),p===!1?A=this.addToken(L,A,g):O[p].push(g)),e=this.chopInput(e,d),E=E+d,P=this.computeNewColumn(P,d),I===!0&&de.canLineTerminator===!0){let ne=0,ee,pe;q.lastIndex=0;do ee=q.test(l),ee===!0&&(pe=q.lastIndex-1,ne++);while(ee===!0);ne!==0&&(D=D+ne,P=d-pe,this.updateTokenEndLineColumnLocation(g,p,pe,ne,D,P,d))}this.handleModes(de,X,re,g)}else{let ne=E,ee=D,pe=P,ie=xe===!1;for(;ie===!1&&E<w;)for(e=this.chopInput(e,1),E++,n=0;n<S;n++){let De=B[n],se=De.pattern,je=De.short;if(je!==!1?x.charCodeAt(E)===je&&(ie=!0):De.isCustom===!0?ie=se.exec(x,E,L,O)!==null:(this.updateLastIndex(se,E),ie=se.exec(e)!==null),ie===!0)break}if(m=E-ne,P=this.computeNewColumn(P,m),b=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(x,ne,m,ee,pe),C.push({offset:ne,line:ee,column:pe,length:m,message:b}),xe===!1)break}}return this.hasCustom||(L.length=A),{tokens:L,groups:O,errors:C}}handleModes(e,t,r,n){if(e.pop===!0){let i=e.push;t(n),i!==void 0&&r.call(this,i)}else e.push!==void 0&&r.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,r,n,i,a,s){let l,u;t!==void 0&&(l=r===s-1,u=l?-1:0,n===1&&l===!0||(e.endLine=i+u,e.endColumn=a-1+-u))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,r,n){return{image:e,startOffset:t,tokenTypeIdx:r,tokenType:n}}createStartOnlyToken(e,t,r,n,i,a){return{image:e,startOffset:t,startLine:i,startColumn:a,tokenTypeIdx:r,tokenType:n}}createFullToken(e,t,r,n,i,a,s){return{image:e,startOffset:t,endOffset:t+s-1,startLine:i,endLine:i,startColumn:a,endColumn:a+s-1,tokenTypeIdx:r,tokenType:n}}addTokenUsingPush(e,t,r){return e.push(r),t}addTokenUsingMemberAccess(e,t,r){return e[t]=r,t++,t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){t!==null&&(e.payload=t)}matchWithTest(e,t,r){return e.test(t)===!0?t.substring(r,e.lastIndex):null}matchWithExec(e,t){let r=e.exec(t);return r!==null?r[0]:null}},Zo.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",Zo.NA=/NOT_APPLICABLE/});function Kp(e){return TP(e)?e.LABEL:e.name}function TP(e){return Ao(e.LABEL)&&e.LABEL!==""}function EP(e){return zbe(e)}function zbe(e){let t=e.pattern,r={};if(r.name=e.name,di(t)||(r.PATTERN=t),Jr(e,qbe))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Jr(e,_P)&&(r.CATEGORIES=e[_P]),n2([r]),Jr(e,SP)&&(r.LABEL=e[SP]),Jr(e,AP)&&(r.GROUP=e[AP]),Jr(e,NP)&&(r.POP_MODE=e[NP]),Jr(e,LP)&&(r.PUSH_MODE=e[LP]),Jr(e,MP)&&(r.LONGER_ALT=e[MP]),Jr(e,IP)&&(r.LINE_BREAKS=e[IP]),Jr(e,DP)&&(r.START_CHARS_HINT=e[DP]),r}function t9(e,t,r,n,i,a,s,l){return{image:t,startOffset:r,endOffset:n,startLine:i,endLine:a,startColumn:s,endColumn:l,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function CP(e,t){return r2(e,t)}var qbe,_P,SP,AP,LP,NP,MP,IP,DP,f0,s2=R(()=>{"use strict";Gr(),e9(),i2(),o(Kp,"tokenLabel"),o(TP,"hasTokenLabel"),qbe="parent",_P="categories",SP="label",AP="group",LP="push_mode",NP="pop_mode",MP="longer_alt",IP="line_breaks",DP="start_chars_hint",o(EP,"createToken"),o(zbe,"createTokenInternal"),f0=EP({name:"EOF",pattern:Zo.NA}),n2([f0]),o(t9,"createTokenInstance"),o(CP,"tokenMatcher")}),Zp,Gbe,Zd,J5=R(()=>{"use strict";s2(),Gr(),Sl(),Zp={buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:n}){return`Expecting ${TP(e)?`--> ${Kp(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:n,ruleName:i}){let a="Expecting: ",s=`
but found: '`+Ac(t).image+"'";if(n)return a+n+s;{let l=za(e,(d,p)=>d.concat(p),[]),u=nr(l,d=>`[${nr(d,p=>Kp(p)).join(", ")}]`),h=`one of these possible Token sequences:
${nr(u,(d,p)=>`  ${p+1}. ${d}`).join(`
`)}`;return a+h+s}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:n}){let i="Expecting: ",a=`
but found: '`+Ac(t).image+"'";if(r)return i+r+a;{let s=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${nr(e,l=>`[${nr(l,u=>Kp(u)).join(",")}]`).join(" ,")}>`;return i+s+a}}},Object.freeze(Zp),Gbe={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},Zd={buildDuplicateFoundError(e,t){function r(d){return d instanceof ji?d.terminalType.name:d instanceof No?d.nonTerminalName:""}o(r,"getExtraProductionArgument");let n=e.name,i=Ac(t),a=i.idx,s=gu(i),l=r(i),u=a>0,h=`->${s}${u?a:""}<- ${l?`with argument: ->${l}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return h=h.replace(/[ \t]+/g," "),h=h.replace(/\s\s+/g,`
`),h},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){let t=nr(e.prefixPath,n=>Kp(n)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){let t=nr(e.prefixPath,i=>Kp(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx,n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(e){let t=gu(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){let t=e.topLevelRule.name,r=nr(e.leftRecursionPath,i=>i.name),n=`${t} --> ${r.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof Wp?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}}});function Ybe(e,t){let r=new jbe(e,t);return r.resolveRefs(),r.errors}var jbe,uQe=R(()=>{"use strict";Ql(),Gr(),Sl(),o(Ybe,"resolveGrammar"),jbe=class extends Xp{static{o(this,"GastRefResolverVisitor")}constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){ut(_i(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){let t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{let r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:Qo.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}});function r9(e,t,r=[]){r=Za(r);let n=[],i=0;function a(l){return l.concat(Rs(e,i+1))}o(a,"remainingPathWith");function s(l){let u=r9(a(l),t,r);return n.concat(u)}for(o(s,"getAlternativesForProd");r.length<t&&i<e.length;){let l=e[i];if(l instanceof Wo||l instanceof No)return s(l.definition);if(l instanceof Ps)n=s(l.definition);else if(l instanceof Cl){let u=l.definition.concat([new pa({definition:l.definition})]);return s(u)}else if(l instanceof _l){let u=[new Wo({definition:l.definition}),new pa({definition:[new ji({terminalType:l.separator})].concat(l.definition)})];return s(u)}else if(l instanceof Xo){let u=l.definition.concat([new pa({definition:[new ji({terminalType:l.separator})].concat(l.definition)})]);n=s(u)}else if(l instanceof pa){let u=l.definition.concat([new pa({definition:l.definition})]);n=s(u)}else{if(l instanceof Ko)return ut(l.definition,u=>{si(u.definition)===!1&&(n=s(u.definition))}),n;if(l instanceof ji)r.push(l.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:Rs(e,i)}),n}function RP(e,t,r,n){let i="EXIT_NONE_TERMINAL",a=[i],s="EXIT_ALTERNATIVE",l=!1,u=t.length,h=u-n-1,d=[],p=[];for(p.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!si(p);){let f=p.pop();if(f===s){l&&cu(p).idx<=h&&p.pop();continue}let g=f.def,m=f.idx,y=f.ruleStack,b=f.occurrenceStack;if(si(g))continue;let v=g[0];if(v===i){let x={idx:m,def:Rs(g),ruleStack:Bm(y),occurrenceStack:Bm(b)};p.push(x)}else if(v instanceof ji)if(m<u-1){let x=m+1,w=t[x];if(r(w,v.terminalType)){let E={idx:x,def:Rs(g),ruleStack:y,occurrenceStack:b};p.push(E)}}else if(m===u-1)d.push({nextTokenType:v.terminalType,nextTokenOccurrence:v.idx,ruleStack:y,occurrenceStack:b}),l=!0;else throw Error("non exhaustive match");else if(v instanceof No){let x=Za(y);x.push(v.nonTerminalName);let w=Za(b);w.push(v.idx);let E={idx:m,def:v.definition.concat(a,Rs(g)),ruleStack:x,occurrenceStack:w};p.push(E)}else if(v instanceof Ps){let x={idx:m,def:Rs(g),ruleStack:y,occurrenceStack:b};p.push(x),p.push(s);let w={idx:m,def:v.definition.concat(Rs(g)),ruleStack:y,occurrenceStack:b};p.push(w)}else if(v instanceof Cl){let x=new pa({definition:v.definition,idx:v.idx}),w=v.definition.concat([x],Rs(g)),E={idx:m,def:w,ruleStack:y,occurrenceStack:b};p.push(E)}else if(v instanceof _l){let x=new ji({terminalType:v.separator}),w=new pa({definition:[x].concat(v.definition),idx:v.idx}),E=v.definition.concat([w],Rs(g)),A={idx:m,def:E,ruleStack:y,occurrenceStack:b};p.push(A)}else if(v instanceof Xo){let x={idx:m,def:Rs(g),ruleStack:y,occurrenceStack:b};p.push(x),p.push(s);let w=new ji({terminalType:v.separator}),E=new pa({definition:[w].concat(v.definition),idx:v.idx}),A=v.definition.concat([E],Rs(g)),N={idx:m,def:A,ruleStack:y,occurrenceStack:b};p.push(N)}else if(v instanceof pa){let x={idx:m,def:Rs(g),ruleStack:y,occurrenceStack:b};p.push(x),p.push(s);let w=new pa({definition:v.definition,idx:v.idx}),E=v.definition.concat([w],Rs(g)),A={idx:m,def:E,ruleStack:y,occurrenceStack:b};p.push(A)}else if(v instanceof Ko)for(let x=v.definition.length-1;x>=0;x--){let w=v.definition[x],E={idx:m,def:w.definition.concat(Rs(g)),ruleStack:y,occurrenceStack:b};p.push(E),p.push(s)}else if(v instanceof Wo)p.push({idx:m,def:v.definition.concat(Rs(g)),ruleStack:y,occurrenceStack:b});else if(v instanceof Wp)p.push(Hbe(v,m,y,b));else throw Error("non exhaustive match")}return d}function Hbe(e,t,r,n){let i=Za(r);i.push(e.name);let a=Za(n);return a.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:a}}var Ube,Vbe,ev,Wbe,OP,Xbe,PP,n9=R(()=>{"use strict";Gr(),Kve(),oP(),Sl(),Ube=class extends H5{static{o(this,"AbstractNextPossibleTokensWalker")}constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Za(this.path.ruleStack).reverse(),this.occurrenceStack=Za(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){let n=t.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,n)}}updateExpectedNext(){si(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},Vbe=class extends Ube{static{o(this,"NextAfterTokenWalker")}constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){let n=t.concat(r),i=new Wo({definition:n});this.possibleTokTypes=Jm(i),this.found=!0}}},ev=class extends H5{static{o(this,"AbstractNextTerminalAfterProductionWalker")}constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},Wbe=class extends ev{static{o(this,"NextTerminalAfterManyWalker")}walkMany(e,t,r){if(e.idx===this.occurrence){let n=Ac(t.concat(r));this.result.isEndOfRule=n===void 0,n instanceof ji&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkMany(e,t,r)}},OP=class extends ev{static{o(this,"NextTerminalAfterManySepWalker")}walkManySep(e,t,r){if(e.idx===this.occurrence){let n=Ac(t.concat(r));this.result.isEndOfRule=n===void 0,n instanceof ji&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkManySep(e,t,r)}},Xbe=class extends ev{static{o(this,"NextTerminalAfterAtLeastOneWalker")}walkAtLeastOne(e,t,r){if(e.idx===this.occurrence){let n=Ac(t.concat(r));this.result.isEndOfRule=n===void 0,n instanceof ji&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkAtLeastOne(e,t,r)}},PP=class extends ev{static{o(this,"NextTerminalAfterAtLeastOneSepWalker")}walkAtLeastOneSep(e,t,r){if(e.idx===this.occurrence){let n=Ac(t.concat(r));this.result.isEndOfRule=n===void 0,n instanceof ji&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkAtLeastOneSep(e,t,r)}},o(r9,"possiblePathsFrom"),o(RP,"nextPossibleTokensAfter"),o(Hbe,"expandTopLevelRule")});function i9(e){if(e instanceof Ps||e==="Option")return ga.OPTION;if(e instanceof pa||e==="Repetition")return ga.REPETITION;if(e instanceof Cl||e==="RepetitionMandatory")return ga.REPETITION_MANDATORY;if(e instanceof _l||e==="RepetitionMandatoryWithSeparator")return ga.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Xo||e==="RepetitionWithSeparator")return ga.REPETITION_WITH_SEPARATOR;if(e instanceof Ko||e==="Alternation")return ga.ALTERNATION;throw Error("non exhaustive match")}function BP(e){let{occurrence:t,rule:r,prodType:n,maxLookahead:i}=e,a=i9(n);return a===ga.ALTERNATION?tv(t,r,i):rv(t,r,a,i)}function Kbe(e,t,r,n,i,a){let s=tv(e,t,r),l=zP(s)?Q5:r2;return a(s,n,l,i)}function Zbe(e,t,r,n,i,a){let s=rv(e,t,i,r),l=zP(s)?Q5:r2;return a(s[0],l,n)}function Qbe(e,t,r,n){let i=e.length,a=Sc(e,s=>Sc(s,l=>l.length===1));if(t)return function(s){let l=nr(s,u=>u.GATE);for(let u=0;u<i;u++){let h=e[u],d=h.length,p=l[u];if(!(p!==void 0&&p.call(this)===!1))e:for(let f=0;f<d;f++){let g=h[f],m=g.length;for(let y=0;y<m;y++){let b=this.LA(y+1);if(r(b,g[y])===!1)continue e}return u}}};if(a&&!n){let s=nr(e,u=>bs(u)),l=za(s,(u,h,d)=>(ut(h,p=>{Jr(u,p.tokenTypeIdx)||(u[p.tokenTypeIdx]=d),ut(p.categoryMatches,f=>{Jr(u,f)||(u[f]=d)})}),u),{});return function(){let u=this.LA(1);return l[u.tokenTypeIdx]}}else return function(){for(let s=0;s<i;s++){let l=e[s],u=l.length;e:for(let h=0;h<u;h++){let d=l[h],p=d.length;for(let f=0;f<p;f++){let g=this.LA(f+1);if(r(g,d[f])===!1)continue e}return s}}}}function Jbe(e,t,r){let n=Sc(e,a=>a.length===1),i=e.length;if(n&&!r){let a=bs(e);if(a.length===1&&si(a[0].categoryMatches)){let s=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===s}}else{let s=za(a,(l,u,h)=>(l[u.tokenTypeIdx]=!0,ut(u.categoryMatches,d=>{l[d]=!0}),l),[]);return function(){let l=this.LA(1);return s[l.tokenTypeIdx]===!0}}}else return function(){e:for(let a=0;a<i;a++){let s=e[a],l=s.length;for(let u=0;u<l;u++){let h=this.LA(u+1);if(t(h,s[u])===!1)continue e}return!0}return!1}}function FP(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function a9(e){let t=[""];for(let r=0;r<e.length;r++){let n=e[r],i=[];for(let a=0;a<t.length;a++){let s=t[a];i.push(s+"_"+n.tokenTypeIdx);for(let l=0;l<n.categoryMatches.length;l++){let u="_"+n.categoryMatches[l];i.push(s+u)}}t=i}return t}function exe(e,t,r){for(let n=0;n<e.length;n++){if(n===r)continue;let i=e[n];for(let a=0;a<t.length;a++){let s=t[a];if(i[s]===!0)return!1}}return!0}function $P(e,t){let r=nr(e,s=>r9([s],1)),n=FP(r.length),i=nr(r,s=>{let l={};return ut(s,u=>{let h=a9(u.partialPath);ut(h,d=>{l[d]=!0})}),l}),a=r;for(let s=1;s<=t;s++){let l=a;a=FP(l.length);for(let u=0;u<l.length;u++){let h=l[u];for(let d=0;d<h.length;d++){let p=h[d].partialPath,f=h[d].suffixDef,g=a9(p);if(exe(i,g,u)||si(f)||p.length===t){let m=n[u];if(s9(m,p)===!1){m.push(p);for(let y=0;y<g.length;y++){let b=g[y];i[u][b]=!0}}}else{let m=r9(f,s+1,p);a[u]=a[u].concat(m),ut(m,y=>{let b=a9(y.partialPath);ut(b,v=>{i[u][v]=!0})})}}}}return n}function tv(e,t,r,n){let i=new qP(e,ga.ALTERNATION,n);return t.accept(i),$P(i.result,r)}function rv(e,t,r,n){let i=new qP(e,r);t.accept(i);let a=i.result,s=new rxe(t,e,r).startWalking(),l=new Wo({definition:a}),u=new Wo({definition:s});return $P([l,u],n)}function s9(e,t){e:for(let r=0;r<e.length;r++){let n=e[r];if(n.length===t.length){for(let i=0;i<n.length;i++){let a=t[i],s=n[i];if(!(a===s||s.categoryMatchesMap[a.tokenTypeIdx]!==void 0))continue e}return!0}}return!1}function txe(e,t){return e.length<t.length&&Sc(e,(r,n)=>{let i=t[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function zP(e){return Sc(e,t=>Sc(t,r=>Sc(r,n=>si(n.categoryMatches))))}var ga,rxe,qP,nv=R(()=>{"use strict";Gr(),n9(),oP(),i2(),Sl(),function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"}(ga||(ga={})),o(i9,"getProdType"),o(BP,"getLookaheadPaths"),o(Kbe,"buildLookaheadFuncForOr"),o(Zbe,"buildLookaheadFuncForOptionalProd"),o(Qbe,"buildAlternativesLookAheadFunc"),o(Jbe,"buildSingleAlternativeLookaheadFunction"),rxe=class extends H5{static{o(this,"RestDefinitionFinderWalker")}constructor(e,t,r){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,r,n){return e.idx===this.targetOccurrence&&this.targetProdType===t?(this.restDef=r.concat(n),!0):!1}walkOption(e,t,r){this.checkIsTarget(e,ga.OPTION,t,r)||super.walkOption(e,t,r)}walkAtLeastOne(e,t,r){this.checkIsTarget(e,ga.REPETITION_MANDATORY,t,r)||super.walkOption(e,t,r)}walkAtLeastOneSep(e,t,r){this.checkIsTarget(e,ga.REPETITION_MANDATORY_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}walkMany(e,t,r){this.checkIsTarget(e,ga.REPETITION,t,r)||super.walkOption(e,t,r)}walkManySep(e,t,r){this.checkIsTarget(e,ga.REPETITION_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}},qP=class extends Xp{static{o(this,"InsideDefinitionFinderVisitor")}constructor(e,t,r){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=r,this.result=[]}checkIsTarget(e,t){e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,ga.OPTION)}visitRepetition(e){this.checkIsTarget(e,ga.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,ga.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,ga.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,ga.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,ga.ALTERNATION)}},o(FP,"initializeArrayOfArrays"),o(a9,"pathToHashKeys"),o(exe,"isUniquePrefixHash"),o($P,"lookAheadSequenceFromAlternatives"),o(tv,"getLookaheadPathsForOr"),o(rv,"getLookaheadPathsForOptionalProd"),o(s9,"containsPath"),o(txe,"isStrictPrefixOfPath"),o(zP,"areTokenCategoriesNotUsed")});function nxe(e){let t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return nr(t,r=>Object.assign({type:Qo.CUSTOM_LOOKAHEAD_VALIDATION},r))}function ixe(e,t,r,n){let i=wl(e,u=>axe(u,r)),a=fxe(e,t,r),s=wl(e,u=>hxe(u,r)),l=wl(e,u=>oxe(u,e,n,r));return i.concat(a,s,l)}function axe(e,t){let r=new mxe;e.accept(r);let n=r.allProductions,i=Wme(n,sxe),a=Lc(i,s=>s.length>1);return nr(_i(a),s=>{let l=Ac(s),u=t.buildDuplicateFoundError(e,s),h=gu(l),d={message:u,type:Qo.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:h,occurrence:l.idx},p=GP(l);return p&&(d.parameter=p),d})}function sxe(e){return`${gu(e)}_#_${e.idx}_#_${GP(e)}`}function GP(e){return e instanceof ji?e.terminalType.name:e instanceof No?e.nonTerminalName:""}function oxe(e,t,r,n){let i=[];if(za(t,(a,s)=>s.name===e.name?a+1:a,0)>1){let a=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});i.push({message:a,type:Qo.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}function lxe(e,t,r){let n=[],i;return Lo(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:Qo.INVALID_RULE_OVERRIDE,ruleName:e})),n}function YP(e,t,r,n=[]){let i=[],a=iv(t.definition);if(si(a))return[];{let s=e.name;Lo(a,e)&&i.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:Qo.LEFT_RECURSION,ruleName:s});let l=p5(a,n.concat([e])),u=wl(l,h=>{let d=Za(n);return d.push(h),YP(e,h,r,d)});return i.concat(u)}}function iv(e){let t=[];if(si(e))return t;let r=Ac(e);if(r instanceof No)t.push(r.referencedRule);else if(r instanceof Wo||r instanceof Ps||r instanceof Cl||r instanceof _l||r instanceof Xo||r instanceof pa)t=t.concat(iv(r.definition));else if(r instanceof Ko)t=bs(nr(r.definition,a=>iv(a.definition)));else if(!(r instanceof ji))throw Error("non exhaustive match");let n=j5(r),i=e.length>1;if(n&&i){let a=Rs(e);return t.concat(iv(a))}else return t}function cxe(e,t){let r=new o9;e.accept(r);let n=r.alternations;return wl(n,i=>{let a=Bm(i.definition);return wl(a,(s,l)=>{let u=RP([s],[],r2,1);return si(u)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:i,emptyChoiceIdx:l}),type:Qo.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:i.idx,alternative:l+1}]:[]})})}function uxe(e,t,r){let n=new o9;e.accept(n);let i=n.alternations;return i=y5(i,a=>a.ignoreAmbiguities===!0),wl(i,a=>{let s=a.idx,l=a.maxLookahead||t,u=tv(s,e,l,a),h=pxe(u,a,e,r),d=gxe(u,a,e,r);return h.concat(d)})}function hxe(e,t){let r=new o9;e.accept(r);let n=r.alternations;return wl(n,i=>i.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:i}),type:Qo.TOO_MANY_ALTS,ruleName:e.name,occurrence:i.idx}]:[])}function dxe(e,t,r){let n=[];return ut(e,i=>{let a=new yxe;i.accept(a);let s=a.allProductions;ut(s,l=>{let u=i9(l),h=l.maxLookahead||t,d=l.idx,p=rv(d,i,u,h)[0];if(si(bs(p))){let f=r.buildEmptyRepetitionError({topLevelRule:i,repetition:l});n.push({message:f,type:Qo.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function pxe(e,t,r,n){let i=[],a=za(e,(s,l,u)=>(t.definition[u].ignoreAmbiguities===!0||ut(l,h=>{let d=[u];ut(e,(p,f)=>{u!==f&&s9(p,h)&&t.definition[f].ignoreAmbiguities!==!0&&d.push(f)}),d.length>1&&!s9(i,h)&&(i.push(h),s.push({alts:d,path:h}))}),s),[]);return nr(a,s=>{let l=nr(s.alts,u=>u+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:l,prefixPath:s.path}),type:Qo.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:s.alts}})}function gxe(e,t,r,n){let i=za(e,(a,s,l)=>{let u=nr(s,h=>({idx:l,path:h}));return a.concat(u)},[]);return Pm(wl(i,a=>{if(t.definition[a.idx].ignoreAmbiguities===!0)return[];let s=a.idx,l=a.path,u=da(i,h=>t.definition[h.idx].ignoreAmbiguities!==!0&&h.idx<s&&txe(h.path,l));return nr(u,h=>{let d=[h.idx+1,s+1],p=t.idx===0?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:d,prefixPath:h.path}),type:Qo.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:p,alternatives:d}})}))}function fxe(e,t,r){let n=[],i=nr(t,a=>a.name);return ut(e,a=>{let s=a.name;if(Lo(i,s)){let l=r.buildNamespaceConflictError(a);n.push({message:l,type:Qo.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),n}var mxe,o9,yxe,l9=R(()=>{"use strict";Gr(),Ql(),Sl(),nv(),n9(),i2(),o(nxe,"validateLookahead"),o(ixe,"validateGrammar"),o(axe,"validateDuplicateProductions"),o(sxe,"identifyProductionForDuplicates"),o(GP,"getExtraProductionArgument"),mxe=class extends Xp{static{o(this,"OccurrenceValidationCollector")}constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}},o(oxe,"validateRuleDoesNotAlreadyExist"),o(lxe,"validateRuleIsOverridden"),o(YP,"validateNoLeftRecursion"),o(iv,"getFirstNoneTerminal"),o9=class extends Xp{static{o(this,"OrCollector")}constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}},o(cxe,"validateEmptyOrAlternative"),o(uxe,"validateAmbiguousAlternationAlternatives"),yxe=class extends Xp{static{o(this,"RepetitionCollector")}constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}},o(hxe,"validateTooManyAlts"),o(dxe,"validateSomeNonEmptyLookaheadPath"),o(pxe,"checkAlternativesAmbiguities"),o(gxe,"checkPrefixAlternativesAmbiguities"),o(fxe,"checkTerminalAndNoneTerminalsNameSpace")});function vxe(e){let t=d5(e,{errMsgProvider:Gbe}),r={};return ut(e.rules,n=>{r[n.name]=n}),Ybe(r,t.errMsgProvider)}function bxe(e){return e=d5(e,{errMsgProvider:Zd}),ixe(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}var hQe=R(()=>{"use strict";Gr(),uQe(),l9(),J5(),o(vxe,"resolveGrammar"),o(bxe,"validateGrammar")});function av(e){return Lo(WP,e.name)}var jP,HP,UP,VP,WP,sv,XP,xxe,wxe,kxe,ov=R(()=>{"use strict";Gr(),jP="MismatchedTokenException",HP="NoViableAltException",UP="EarlyExitException",VP="NotAllInputParsedException",WP=[jP,HP,UP,VP],Object.freeze(WP),o(av,"isRecognitionException"),sv=class extends Error{static{o(this,"RecognitionException")}constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},XP=class extends sv{static{o(this,"MismatchedTokenException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=jP}},xxe=class extends sv{static{o(this,"NoViableAltException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=HP}},wxe=class extends sv{static{o(this,"NotAllInputParsedException")}constructor(e,t){super(e,t),this.name=VP}},kxe=class extends sv{static{o(this,"EarlyExitException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=UP}}});function Txe(e,t,r,n,i,a,s){let l=this.getKeyForAutomaticLookahead(n,i),u=this.firstAfterRepMap[l];if(u===void 0){let f=this.getCurrRuleFullName(),g=this.getGAstProductions()[f];u=new a(g,i).startWalking(),this.firstAfterRepMap[l]=u}let h=u.token,d=u.occurrence,p=u.isEndOfRule;this.RULE_STACK.length===1&&p&&h===void 0&&(h=f0,d=1),!(h===void 0||d===void 0)&&this.shouldInRepetitionRecoveryBeTried(h,d,s)&&this.tryInRepetitionRecovery(e,t,r,h)}var c9,KP,Exe,Cxe,_xe=R(()=>{"use strict";s2(),Gr(),ov(),Zve(),Ql(),c9={},KP="InRuleRecoveryException",Exe=class extends Error{static{o(this,"InRuleRecoveryException")}constructor(e){super(e),this.name=KP}},Cxe=class{static{o(this,"Recoverable")}initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Jr(e,"recoveryEnabled")?e.recoveryEnabled:uh.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Txe)}getTokenToInsert(e){let t=t9(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,r,n){let i=this.findReSyncTokenType(),a=this.exportLexerState(),s=[],l=!1,u=this.LA(1),h=this.LA(1),d=o(()=>{let p=this.LA(0),f=this.errorMessageProvider.buildMismatchTokenMessage({expected:n,actual:u,previous:p,ruleName:this.getCurrRuleFullName()}),g=new XP(f,u,this.LA(0));g.resyncedTokens=Bm(s),this.SAVE_ERROR(g)},"generateErrorMessage");for(;!l;)if(this.tokenMatcher(h,n)){d();return}else if(r.call(this)){d(),e.apply(this,t);return}else this.tokenMatcher(h,i)?l=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,s));this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(e,t,r){return!(r===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))}getFollowsForInRuleRecovery(e,t){let r=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){let r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new Exe("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e)||si(t))return!1;let r=this.LA(1);return ih(t,n=>this.tokenMatcher(r,n))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){let t=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(t);return Lo(r,e)}findReSyncTokenType(){let e=this.flattenFollowSet(),t=this.LA(1),r=2;for(;;){let n=ih(e,i=>CP(t,i));if(n!==void 0)return n;t=this.LA(r),r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return c9;let e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){let e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return nr(e,(r,n)=>n===0?c9:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:t[n],inRule:this.shortRuleNameToFullName(e[n-1])})}flattenFollowSet(){let e=nr(this.buildFullFollowKeyStack(),t=>this.getFollowSetFromFollowKey(t));return bs(e)}getFollowSetFromFollowKey(e){if(e===c9)return[f0];let t=e.ruleName+e.idxInCallingRule+lP+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,f0)||t.push(e),t}reSyncTo(e){let t=[],r=this.LA(1);for(;this.tokenMatcher(r,e)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,t);return Bm(t)}attemptInRepetitionRecovery(e,t,r,n,i,a,s){}getCurrentGrammarPath(e,t){let r=this.getHumanReadableRuleStack(),n=Za(this.RULE_OCCURRENCE_STACK);return{ruleStack:r,occurrenceStack:n,lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return nr(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}},o(Txe,"attemptInRepetitionRecovery")});function u9(e,t,r){return r|t|e}var ZP=R(()=>{"use strict";o(u9,"getKeyForAutomaticLookahead")}),h9,Sxe=R(()=>{"use strict";Gr(),J5(),Ql(),l9(),nv(),h9=class{static{o(this,"LLkLookaheadStrategy")}constructor(e){var t;this.maxLookahead=(t=e?.maxLookahead)!==null&&t!==void 0?t:uh.maxLookahead}validate(e){let t=this.validateNoLeftRecursion(e.rules);if(si(t)){let r=this.validateEmptyOrAlternatives(e.rules),n=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...r,...n,...i]}return t}validateNoLeftRecursion(e){return wl(e,t=>YP(t,t,Zd))}validateEmptyOrAlternatives(e){return wl(e,t=>cxe(t,Zd))}validateAmbiguousAlternationAlternatives(e,t){return wl(e,r=>uxe(r,t,Zd))}validateSomeNonEmptyLookaheadPath(e,t){return dxe(e,t,Zd)}buildLookaheadForAlternation(e){return Kbe(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,Qbe)}buildLookaheadForOptional(e){return Zbe(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,i9(e.prodType),Jbe)}}});function Axe(e){lv.reset(),e.accept(lv);let t=lv.dslMethods;return lv.reset(),t}var Lxe,Nxe,lv,dQe=R(()=>{"use strict";Gr(),Ql(),ZP(),Sl(),Sxe(),Lxe=class{static{o(this,"LooksAhead")}initLooksAhead(e){this.dynamicTokensEnabled=Jr(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:uh.dynamicTokensEnabled,this.maxLookahead=Jr(e,"maxLookahead")?e.maxLookahead:uh.maxLookahead,this.lookaheadStrategy=Jr(e,"lookaheadStrategy")?e.lookaheadStrategy:new h9({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){ut(e,t=>{this.TRACE_INIT(`${t.name} Rule Lookahead`,()=>{let{alternation:r,repetition:n,option:i,repetitionMandatory:a,repetitionMandatoryWithSeparator:s,repetitionWithSeparator:l}=Axe(t);ut(r,u=>{let h=u.idx===0?"":u.idx;this.TRACE_INIT(`${gu(u)}${h}`,()=>{let d=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:t,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),p=u9(this.fullRuleNameToShort[t.name],256,u.idx);this.setLaFuncCache(p,d)})}),ut(n,u=>{this.computeLookaheadFunc(t,u.idx,768,"Repetition",u.maxLookahead,gu(u))}),ut(i,u=>{this.computeLookaheadFunc(t,u.idx,512,"Option",u.maxLookahead,gu(u))}),ut(a,u=>{this.computeLookaheadFunc(t,u.idx,1024,"RepetitionMandatory",u.maxLookahead,gu(u))}),ut(s,u=>{this.computeLookaheadFunc(t,u.idx,1536,"RepetitionMandatoryWithSeparator",u.maxLookahead,gu(u))}),ut(l,u=>{this.computeLookaheadFunc(t,u.idx,1280,"RepetitionWithSeparator",u.maxLookahead,gu(u))})})})}computeLookaheadFunc(e,t,r,n,i,a){this.TRACE_INIT(`${a}${t===0?"":t}`,()=>{let s=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:n}),l=u9(this.fullRuleNameToShort[e.name],r,t);this.setLaFuncCache(l,s)})}getKeyForAutomaticLookahead(e,t){let r=this.getLastExplicitRuleShortName();return u9(r,e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}},Nxe=class extends Xp{static{o(this,"DslMethodsCollectorVisitor")}constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}},lv=new Nxe,o(Axe,"collectMethods")});function QP(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function JP(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function Mxe(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}function Ixe(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}var pQe=R(()=>{"use strict";o(QP,"setNodeLocationOnlyOffset"),o(JP,"setNodeLocationFull"),o(Mxe,"addTerminalToCst"),o(Ixe,"addNoneTerminalToCst")});function eB(e,t){Object.defineProperty(e,Dxe,{enumerable:!1,configurable:!0,writable:!1,value:t})}var Dxe,gQe=R(()=>{"use strict";Dxe="name",o(eB,"defineNameProp")});function Rxe(e,t){let r=Ka(e),n=r.length;for(let i=0;i<n;i++){let a=r[i],s=e[a],l=s.length;for(let u=0;u<l;u++){let h=s[u];h.tokenTypeIdx===void 0&&this[h.name](h.children,t)}}}function Oxe(e,t){let r=o(function(){},"derivedConstructor");eB(r,e+"BaseSemantics");let n={visit:o(function(i,a){if(zn(i)&&(i=i[0]),!di(i))return this[i.name](i.children,a)},"visit"),validateVisitor:o(function(){let i=Bxe(this,t);if(!si(i)){let a=nr(i,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${a.join(`

`).replace(/\n/g,`
	`)}`)}},"validateVisitor")};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=t,r}function Pxe(e,t,r){let n=o(function(){},"derivedConstructor");eB(n,e+"BaseSemanticsWithDefaults");let i=Object.create(r.prototype);return ut(t,a=>{i[a]=Rxe}),n.prototype=i,n.prototype.constructor=n,n}function Bxe(e,t){return Fxe(e,t)}function Fxe(e,t){let r=da(t,i=>jl(e[i])===!1),n=nr(r,i=>({msg:`Missing visitor method: <${i}> on ${e.constructor.name} CST Visitor.`,type:tB.MISSING_METHOD,methodName:i}));return Pm(n)}var tB,fQe=R(()=>{"use strict";Gr(),gQe(),o(Rxe,"defaultVisit"),o(Oxe,"createBaseSemanticVisitorConstructor"),o(Pxe,"createBaseVisitorConstructorWithDefaults"),function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"}(tB||(tB={})),o(Bxe,"validateVisitor"),o(Fxe,"validateMissingCstMethods")}),$xe,mQe=R(()=>{"use strict";pQe(),Gr(),fQe(),Ql(),$xe=class{static{o(this,"TreeBuilder")}initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Jr(e,"nodeLocationTracking")?e.nodeLocationTracking:uh.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Xa,this.cstFinallyStateUpdate=Xa,this.cstPostTerminal=Xa,this.cstPostNonTerminal=Xa,this.cstPostRule=Xa;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=JP,this.setNodeLocationFromNode=JP,this.cstPostRule=Xa,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Xa,this.setNodeLocationFromNode=Xa,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=QP,this.setNodeLocationFromNode=QP,this.cstPostRule=Xa,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Xa,this.setNodeLocationFromNode=Xa,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Xa,this.setNodeLocationFromNode=Xa,this.cstPostRule=Xa,this.setInitialNodeLocation=Xa;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){let t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){let t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){let t=this.LA(0),r=e.location;r.startOffset<=t.startOffset?(r.endOffset=t.endOffset,r.endLine=t.endLine,r.endColumn=t.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){let t=this.LA(0),r=e.location;r.startOffset<=t.startOffset?r.endOffset=t.endOffset:r.startOffset=NaN}cstPostTerminal(e,t){let r=this.CST_STACK[this.CST_STACK.length-1];Mxe(r,t,e),this.setNodeLocationFromToken(r.location,t)}cstPostNonTerminal(e,t){let r=this.CST_STACK[this.CST_STACK.length-1];Ixe(r,t,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(di(this.baseCstVisitorConstructor)){let e=Oxe(this.className,Ka(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(di(this.baseCstVisitorWithDefaultsConstructor)){let e=Pxe(this.className,Ka(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){let e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}}),zxe,yQe=R(()=>{"use strict";Ql(),zxe=class{static{o(this,"LexerAdapter")}initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):hv}LA(e){let t=this.currIdx+e;return t<0||this.tokVectorLength<=t?hv:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}}),qxe,vQe=R(()=>{"use strict";Gr(),ov(),Ql(),J5(),l9(),Sl(),qxe=class{static{o(this,"RecognizerApi")}ACTION(e){return e.call(this)}consume(e,t,r){return this.consumeInternal(t,e,r)}subrule(e,t,r){return this.subruleInternal(t,e,r)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,r=dv){if(Lo(this.definedRulesNames,e)){let i={message:Zd.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Qo.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(i)}this.definedRulesNames.push(e);let n=this.defineRule(e,t,r);return this[e]=n,n}OVERRIDE_RULE(e,t,r=dv){let n=lxe(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(n);let i=this.defineRule(e,t,r);return this[e]=i,i}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);let r=this.saveRecogState();try{return e.apply(this,t),!0}catch(n){if(av(n))return!1;throw n}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return jve(_i(this.gastProductionsCache))}}}),Gxe,bQe=R(()=>{"use strict";Gr(),ZP(),ov(),nv(),n9(),Ql(),_xe(),s2(),i2(),Gxe=class{static{o(this,"RecognizerEngine")}initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Q5,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Jr(t,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(zn(e)){if(si(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(zn(e))this.tokensMap=za(e,(i,a)=>(i[a.name]=a,i),{});else if(Jr(e,"modes")&&Sc(bs(_i(e.modes)),Bbe)){let i=bs(_i(e.modes)),a=yw(i);this.tokensMap=za(a,(s,l)=>(s[l.name]=l,s),{})}else if(zo(e))this.tokensMap=Za(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=f0;let r=Jr(e,"modes")?bs(_i(e.modes)):_i(e),n=Sc(r,i=>si(i.categoryMatches));this.tokenMatcher=n?Q5:r2,n2(_i(this.tokensMap))}defineRule(e,t,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let n=Jr(r,"resyncEnabled")?r.resyncEnabled:dv.resyncEnabled,i=Jr(r,"recoveryValueFunc")?r.recoveryValueFunc:dv.recoveryValueFunc,a=this.ruleShortNameIdx<<12;this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=e,this.fullRuleNameToShort[e]=a;let s;return this.outputCst===!0?s=o(function(...l){try{this.ruleInvocationStateUpdate(a,e,this.subruleIdx),t.apply(this,l);let u=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(u),u}catch(u){return this.invokeRuleCatch(u,n,i)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTry"):s=o(function(...l){try{return this.ruleInvocationStateUpdate(a,e,this.subruleIdx),t.apply(this,l)}catch(u){return this.invokeRuleCatch(u,n,i)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTryCst"),Object.assign(s,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,r){let n=this.RULE_STACK.length===1,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(av(e)){let a=e;if(i){let s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s))if(a.resyncedTokens=this.reSyncTo(s),this.outputCst){let l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return r(e);else{if(this.outputCst){let l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,a.partialCstResult=l}throw a}}else{if(n)return this.moveToTerminatedState(),r(e);throw a}}else throw e}optionInternal(e,t){let r=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,r)}optionInternalLogic(e,t,r){let n=this.getLaFuncFromCache(r),i;if(typeof e!="function"){i=e.DEF;let a=e.GATE;if(a!==void 0){let s=n;n=o(()=>a.call(this)&&s.call(this),"lookAheadFunc")}}else i=e;if(n.call(this)===!0)return i.call(this)}atLeastOneInternal(e,t){let r=this.getKeyForAutomaticLookahead(1024,e);return this.atLeastOneInternalLogic(e,t,r)}atLeastOneInternalLogic(e,t,r){let n=this.getLaFuncFromCache(r),i;if(typeof t!="function"){i=t.DEF;let a=t.GATE;if(a!==void 0){let s=n;n=o(()=>a.call(this)&&s.call(this),"lookAheadFunc")}}else i=t;if(n.call(this)===!0){let a=this.doSingleRepetition(i);for(;n.call(this)===!0&&a===!0;)a=this.doSingleRepetition(i)}else throw this.raiseEarlyExitException(e,ga.REPETITION_MANDATORY,t.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],n,1024,e,Xbe)}atLeastOneSepFirstInternal(e,t){let r=this.getKeyForAutomaticLookahead(1536,e);this.atLeastOneSepFirstInternalLogic(e,t,r)}atLeastOneSepFirstInternalLogic(e,t,r){let n=t.DEF,i=t.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){n.call(this);let a=o(()=>this.tokenMatcher(this.LA(1),i),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),i)===!0;)this.CONSUME(i),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,a,n,PP],a,1536,e,PP)}else throw this.raiseEarlyExitException(e,ga.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG)}manyInternal(e,t){let r=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,r)}manyInternalLogic(e,t,r){let n=this.getLaFuncFromCache(r),i;if(typeof t!="function"){i=t.DEF;let s=t.GATE;if(s!==void 0){let l=n;n=o(()=>s.call(this)&&l.call(this),"lookaheadFunction")}}else i=t;let a=!0;for(;n.call(this)===!0&&a===!0;)a=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],n,768,e,Wbe,a)}manySepFirstInternal(e,t){let r=this.getKeyForAutomaticLookahead(1280,e);this.manySepFirstInternalLogic(e,t,r)}manySepFirstInternalLogic(e,t,r){let n=t.DEF,i=t.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){n.call(this);let a=o(()=>this.tokenMatcher(this.LA(1),i),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),i)===!0;)this.CONSUME(i),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,a,n,OP],a,1280,e,OP)}}repetitionSepSecondInternal(e,t,r,n,i){for(;r();)this.CONSUME(t),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,r,n,i],r,1536,e,i)}doSingleRepetition(e){let t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){let r=this.getKeyForAutomaticLookahead(256,t),n=zn(e)?e:e.DEF,i=this.getLaFuncFromCache(r).call(this,n);if(i!==void 0)return n[i].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new wxe(t,e))}}subruleInternal(e,t,r){let n;try{let i=r!==void 0?r.ARGS:void 0;return this.subruleIdx=t,n=e.apply(this,i),this.cstPostNonTerminal(n,r!==void 0&&r.LABEL!==void 0?r.LABEL:e.ruleName),n}catch(i){throw this.subruleInternalError(i,r,e.ruleName)}}subruleInternalError(e,t,r){throw av(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,t!==void 0&&t.LABEL!==void 0?t.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,t,r){let n;try{let i=this.LA(1);this.tokenMatcher(i,e)===!0?(this.consumeToken(),n=i):this.consumeInternalError(e,i,r)}catch(i){n=this.consumeInternalRecovery(e,t,i)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:e.name,n),n}consumeInternalError(e,t,r){let n,i=this.LA(0);throw r!==void 0&&r.ERR_MSG?n=r.ERR_MSG:n=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new XP(n,t,i))}consumeInternalRecovery(e,t,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){let n=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,n)}catch(i){throw i.name===KP?r:i}}else throw r}saveRecogState(){let e=this.errors,t=Za(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),f0)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}}),Yxe,xQe=R(()=>{"use strict";ov(),Gr(),nv(),Ql(),Yxe=class{static{o(this,"ErrorHandler")}initErrorHandler(e){this._errors=[],this.errorMessageProvider=Jr(e,"errorMessageProvider")?e.errorMessageProvider:uh.errorMessageProvider}SAVE_ERROR(e){if(av(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Za(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Za(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,r){let n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],a=rv(e,i,t,this.maxLookahead)[0],s=[];for(let u=1;u<=this.maxLookahead;u++)s.push(this.LA(u));let l=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:s,previous:this.LA(0),customUserDescription:r,ruleName:n});throw this.SAVE_ERROR(new kxe(l,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){let r=this.getCurrRuleFullName(),n=this.getGAstProductions()[r],i=tv(e,n,this.maxLookahead),a=[];for(let u=1;u<=this.maxLookahead;u++)a.push(this.LA(u));let s=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:a,previous:s,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new xxe(l,this.LA(1),s))}}}),jxe,wQe=R(()=>{"use strict";n9(),Gr(),jxe=class{static{o(this,"ContentAssist")}initContentAssist(){}computeContentAssist(e,t){let r=this.gastProductionsCache[e];if(di(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return RP([r],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){let t=Ac(e.ruleStack),r=this.getGAstProductions()[t];return new Vbe(r,e).startWalking()}}});function o2(e,t,r,n=!1){cv(r);let i=cu(this.recordingProdStack),a=jl(t)?t:t.DEF,s=new e({definition:[],idx:r});return n&&(s.separator=t.SEP),Jr(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),a.call(this),i.definition.push(s),this.recordingProdStack.pop(),uv}function Hxe(e,t){cv(t);let r=cu(this.recordingProdStack),n=zn(e)===!1,i=n===!1?e:e.DEF,a=new Ko({definition:[],idx:t,ignoreAmbiguities:n&&e.IGNORE_AMBIGUITIES===!0});Jr(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD);let s=rR(i,l=>jl(l.GATE));return a.hasPredicates=s,r.definition.push(a),ut(i,l=>{let u=new Wo({definition:[]});a.definition.push(u),Jr(l,"IGNORE_AMBIGUITIES")?u.ignoreAmbiguities=l.IGNORE_AMBIGUITIES:Jr(l,"GATE")&&(u.ignoreAmbiguities=!0),this.recordingProdStack.push(u),l.ALT.call(this),this.recordingProdStack.pop()}),uv}function rB(e){return e===0?"":`${e}`}function cv(e){if(e<0||e>iB){let t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${iB+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}var uv,nB,iB,aB,sB,Uxe,Vxe,kQe=R(()=>{"use strict";Gr(),Sl(),e9(),i2(),s2(),Ql(),ZP(),uv={description:"This Object indicates the Parser is during Recording Phase"},Object.freeze(uv),nB=!0,iB=Math.pow(2,8)-1,aB=EP({name:"RECORDING_PHASE_TOKEN",pattern:Zo.NA}),n2([aB]),sB=t9(aB,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1),Object.freeze(sB),Uxe={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},Vxe=class{static{o(this,"GastRecorder")}initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){let t=e>0?e:"";this[`CONSUME${t}`]=function(r,n){return this.consumeInternalRecord(r,e,n)},this[`SUBRULE${t}`]=function(r,n){return this.subruleInternalRecord(r,e,n)},this[`OPTION${t}`]=function(r){return this.optionInternalRecord(r,e)},this[`OR${t}`]=function(r){return this.orInternalRecord(r,e)},this[`MANY${t}`]=function(r){this.manyInternalRecord(e,r)},this[`MANY_SEP${t}`]=function(r){this.manySepFirstInternalRecord(e,r)},this[`AT_LEAST_ONE${t}`]=function(r){this.atLeastOneInternalRecord(e,r)},this[`AT_LEAST_ONE_SEP${t}`]=function(r){this.atLeastOneSepFirstInternalRecord(e,r)}}this.consume=function(e,t,r){return this.consumeInternalRecord(t,e,r)},this.subrule=function(e,t,r){return this.subruleInternalRecord(t,e,r)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let e=this;for(let t=0;t<10;t++){let r=t>0?t:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return hv}topLevelRuleRecord(e,t){try{let r=new Wp({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),t.call(this),this.recordingProdStack.pop(),r}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}}optionInternalRecord(e,t){return o2.call(this,Ps,e,t)}atLeastOneInternalRecord(e,t){o2.call(this,Cl,t,e)}atLeastOneSepFirstInternalRecord(e,t){o2.call(this,_l,t,e,nB)}manyInternalRecord(e,t){o2.call(this,pa,t,e)}manySepFirstInternalRecord(e,t){o2.call(this,Xo,t,e,nB)}orInternalRecord(e,t){return Hxe.call(this,e,t)}subruleInternalRecord(e,t,r){if(cv(t),!e||Jr(e,"ruleName")===!1){let s=new Error(`<SUBRULE${rB(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}let n=cu(this.recordingProdStack),i=e.ruleName,a=new No({idx:t,nonTerminalName:i,label:r?.LABEL,referencedRule:void 0});return n.definition.push(a),this.outputCst?Uxe:uv}consumeInternalRecord(e,t,r){if(cv(t),!bP(e)){let a=new Error(`<CONSUME${rB(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}let n=cu(this.recordingProdStack),i=new ji({idx:t,terminalType:e,label:r?.LABEL});return n.definition.push(i),sB}},o(o2,"recordProd"),o(Hxe,"recordOrProd"),o(rB,"getIdxSuffix"),o(cv,"assertMethodIdxIsValid")}),Wxe,TQe=R(()=>{"use strict";Gr(),G5(),Ql(),Wxe=class{static{o(this,"PerformanceTracer")}initPerformanceTracer(e){if(Jr(e,"traceInitPerf")){let t=e.traceInitPerf,r=typeof t=="number";this.traceInitMaxIdent=r?t:1/0,this.traceInitPerf=r?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=uh.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(this.traceInitPerf===!0){this.traceInitIndent++;let r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);let{time:n,value:i}=nP(t),a=n>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${r}<-- <${e}> time: ${n}ms`),this.traceInitIndent--,i}else return t()}}});function Xxe(e,t){t.forEach(r=>{let n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;let a=Object.getOwnPropertyDescriptor(n,i);a&&(a.get||a.set)?Object.defineProperty(e.prototype,i,a):e.prototype[i]=r.prototype[i]})})}var EQe=R(()=>{"use strict";o(Xxe,"applyMixins")});function oB(e=void 0){return function(){return e}}var hv,uh,dv,Qo,d9,Kxe,Ql=R(()=>{"use strict";Gr(),G5(),lQe(),s2(),J5(),hQe(),_xe(),dQe(),mQe(),yQe(),vQe(),bQe(),xQe(),wQe(),kQe(),TQe(),EQe(),l9(),hv=t9(f0,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(hv),uh=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Zp,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),dv=Object.freeze({recoveryValueFunc:o(()=>{},"recoveryValueFunc"),resyncEnabled:!0}),function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(Qo||(Qo={})),o(oB,"EMPTY_ALT"),d9=class rYe{static{o(this,"Parser")}static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;let r=this.className;this.TRACE_INIT("toFastProps",()=>{iP(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),ut(this.definedRulesNames,i=>{let a=this[i].originalGrammarAction,s;this.TRACE_INIT(`${i} Rule`,()=>{s=this.topLevelRuleRecord(i,a)}),this.gastProductionsCache[i]=s})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=vxe({rules:_i(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(si(n)&&this.skipValidations===!1){let i=bxe({rules:_i(this.gastProductionsCache),tokenTypes:_i(this.tokensMap),errMsgProvider:Zd,grammarName:r}),a=nxe({lookaheadStrategy:this.lookaheadStrategy,rules:_i(this.gastProductionsCache),tokenTypes:_i(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,a)}}),si(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let i=Qve(_i(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,a;(a=(i=this.lookaheadStrategy).initialize)===null||a===void 0||a.call(i,{rules:_i(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(_i(this.gastProductionsCache))})),!rYe.DEFER_DEFINITION_ERRORS_HANDLING&&!si(this.definitionErrors))throw t=nr(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,r){this.definitionErrors=[],this.selfAnalysisDone=!1;let n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(t,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),Jr(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Jr(r,"skipValidations")?r.skipValidations:uh.skipValidations}},d9.DEFER_DEFINITION_ERRORS_HANDLING=!1,Xxe(d9,[Cxe,Lxe,$xe,zxe,Gxe,qxe,Yxe,jxe,Vxe,Wxe]),Kxe=class extends d9{static{o(this,"EmbeddedActionsParser")}constructor(e,t=uh){let r=Za(t);r.outputCst=!1,super(e,r)}}}),CQe=R(()=>{"use strict";Sl()}),_Qe=R(()=>{"use strict"}),SQe=R(()=>{"use strict";CQe(),_Qe()}),AQe=R(()=>{"use strict";qve()}),l2=R(()=>{"use strict";qve(),Ql(),e9(),s2(),nv(),Sxe(),J5(),ov(),$be(),Sl(),Sl(),SQe(),AQe()});function Qp(e,t,r){return`${e.name}_${t}_${r}`}function Zxe(e){let t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};Qxe(t,e);let r=e.length;for(let n=0;n<r;n++){let i=e[n],a=Qd(t,i,i);a!==void 0&&c6e(t,i,a)}return t}function Qxe(e,t){let r=t.length;for(let n=0;n<r;n++){let i=t[n],a=xs(e,i,void 0,{type:h6e}),s=xs(e,i,void 0,{type:c2});a.stop=s,e.ruleToStartState.set(i,a),e.ruleToStopState.set(i,s)}}function lB(e,t,r){return r instanceof ji?p9(e,t,r.terminalType,r):r instanceof No?l6e(e,t,r):r instanceof Ko?n6e(e,t,r):r instanceof Ps?i6e(e,t,r):r instanceof pa?Jxe(e,t,r):r instanceof Xo?e6e(e,t,r):r instanceof Cl?t6e(e,t,r):r instanceof _l?r6e(e,t,r):Qd(e,t,r)}function Jxe(e,t,r){let n=xs(e,t,r,{type:dB});m0(e,n);let i=Jp(e,t,n,r,Qd(e,t,r));return uB(e,t,r,i)}function e6e(e,t,r){let n=xs(e,t,r,{type:dB});m0(e,n);let i=Jp(e,t,n,r,Qd(e,t,r)),a=p9(e,t,r.separator,r);return uB(e,t,r,i,a)}function t6e(e,t,r){let n=xs(e,t,r,{type:hB});m0(e,n);let i=Jp(e,t,n,r,Qd(e,t,r));return cB(e,t,r,i)}function r6e(e,t,r){let n=xs(e,t,r,{type:hB});m0(e,n);let i=Jp(e,t,n,r,Qd(e,t,r)),a=p9(e,t,r.separator,r);return cB(e,t,r,i,a)}function n6e(e,t,r){let n=xs(e,t,r,{type:y0});m0(e,n);let i=nr(r.definition,a=>lB(e,t,a));return Jp(e,t,n,r,...i)}function i6e(e,t,r){let n=xs(e,t,r,{type:y0});m0(e,n);let i=Jp(e,t,n,r,Qd(e,t,r));return a6e(e,t,r,i)}function Qd(e,t,r){let n=da(nr(r.definition,i=>lB(e,t,i)),i=>i!==void 0);return n.length===1?n[0]:n.length===0?void 0:o6e(e,n)}function cB(e,t,r,n,i){let a=n.left,s=n.right,l=xs(e,t,r,{type:f6e});m0(e,l);let u=xs(e,t,r,{type:pB});return a.loopback=l,u.loopback=l,e.decisionMap[Qp(t,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=l,Ga(s,l),i===void 0?(Ga(l,a),Ga(l,u)):(Ga(l,u),Ga(l,i.left),Ga(i.right,a)),{left:a,right:u}}function uB(e,t,r,n,i){let a=n.left,s=n.right,l=xs(e,t,r,{type:g6e});m0(e,l);let u=xs(e,t,r,{type:pB}),h=xs(e,t,r,{type:p6e});return l.loopback=h,u.loopback=h,Ga(l,a),Ga(l,u),Ga(s,h),i!==void 0?(Ga(h,u),Ga(h,i.left),Ga(i.right,a)):Ga(h,l),e.decisionMap[Qp(t,i?"RepetitionWithSeparator":"Repetition",r.idx)]=l,{left:l,right:u}}function a6e(e,t,r,n){let i=n.left,a=n.right;return Ga(i,a),e.decisionMap[Qp(t,"Option",r.idx)]=i,n}function m0(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function Jp(e,t,r,n,...i){let a=xs(e,t,n,{type:d6e,start:r});r.end=a;for(let l of i)l!==void 0?(Ga(r,l.left),Ga(l.right,a)):Ga(r,a);let s={left:r,right:a};return e.decisionMap[Qp(t,s6e(n),n.idx)]=r,s}function s6e(e){if(e instanceof Ko)return"Alternation";if(e instanceof Ps)return"Option";if(e instanceof pa)return"Repetition";if(e instanceof Xo)return"RepetitionWithSeparator";if(e instanceof Cl)return"RepetitionMandatory";if(e instanceof _l)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function o6e(e,t){let r=t.length;for(let a=0;a<r-1;a++){let s=t[a],l;s.left.transitions.length===1&&(l=s.left.transitions[0]);let u=l instanceof y9,h=l,d=t[a+1].left;s.left.type===y0&&s.right.type===y0&&l!==void 0&&(u&&h.followState===s.right||l.target===s.right)?(u?h.followState=d:l.target=d,u6e(e,s.right)):Ga(s.right,d)}let n=t[0],i=t[r-1];return{left:n.left,right:i.right}}function p9(e,t,r,n){let i=xs(e,t,n,{type:y0}),a=xs(e,t,n,{type:y0});return g9(i,new m9(a,r)),{left:i,right:a}}function l6e(e,t,r){let n=r.referencedRule,i=e.ruleToStartState.get(n),a=xs(e,t,r,{type:y0}),s=xs(e,t,r,{type:y0}),l=new y9(i,n,s);return g9(a,l),{left:a,right:s}}function c6e(e,t,r){let n=e.ruleToStartState.get(t);Ga(n,r.left);let i=e.ruleToStopState.get(t);return Ga(r.right,i),{left:n,right:i}}function Ga(e,t){let r=new gB(t);g9(e,r)}function xs(e,t,r,n){let i=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},n);return e.states.push(i),i}function g9(e,t){e.transitions.length===0&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function u6e(e,t){e.states.splice(e.states.indexOf(t),1)}var y0,h6e,hB,dB,c2,d6e,p6e,g6e,f6e,pB,f9,m9,gB,y9,LQe=R(()=>{"use strict";g5(),Ame(),l2(),o(Qp,"buildATNKey"),y0=1,h6e=2,hB=4,dB=5,c2=7,d6e=8,p6e=9,g6e=10,f6e=11,pB=12,f9=class{static{o(this,"AbstractTransition")}constructor(e){this.target=e}isEpsilon(){return!1}},m9=class extends f9{static{o(this,"AtomTransition")}constructor(e,t){super(e),this.tokenType=t}},gB=class extends f9{static{o(this,"EpsilonTransition")}constructor(e){super(e)}isEpsilon(){return!0}},y9=class extends f9{static{o(this,"RuleTransition")}constructor(e,t,r){super(e),this.rule=t,this.followState=r}isEpsilon(){return!0}},o(Zxe,"createATN"),o(Qxe,"createRuleStartAndStopATNStates"),o(lB,"atom"),o(Jxe,"repetition"),o(e6e,"repetitionSep"),o(t6e,"repetitionMandatory"),o(r6e,"repetitionMandatorySep"),o(n6e,"alternation"),o(i6e,"option"),o(Qd,"block"),o(cB,"plus"),o(uB,"star"),o(a6e,"optional"),o(m0,"defineDecisionState"),o(Jp,"makeAlts"),o(s6e,"getProdType"),o(o6e,"makeBlock"),o(p9,"tokenRef"),o(l6e,"ruleRef"),o(c6e,"buildRuleHandle"),o(Ga,"epsilon"),o(xs,"newState"),o(g9,"addTransition"),o(u6e,"removeState")});function fB(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(r=>r.stateNumber.toString()).join("_")}`}var pv,v9,NQe=R(()=>{"use strict";g5(),pv={},v9=class{static{o(this,"ATNConfigSet")}constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){let t=fB(e);t in this.map||(this.map[t]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return nr(this.configs,e=>e.alt)}get key(){let e="";for(let t in this.map)e+=t+":";return e}},o(fB,"getATNConfigKey")});function m6e(e,t){let r={};return n=>{let i=n.toString(),a=r[i];return a!==void 0||(a={atnStartState:e,decision:t,states:{}},r[i]=a),a}}function mB(e,t=!0){let r=new Set;for(let n of e){let i=new Set;for(let a of n){if(a===void 0){if(t)break;return!1}let s=[a.tokenTypeIdx].concat(a.categoryMatches);for(let l of s)if(r.has(l)){if(!i.has(l))return!1}else r.add(l),i.add(l)}}return!0}function y6e(e){let t=e.decisionStates.length,r=Array(t);for(let n=0;n<t;n++)r[n]=m6e(e.decisionStates[n],n);return r}function b9(e,t,r,n){let i=e[t](r),a=i.start;if(a===void 0){let s=A6e(i.atnStartState);a=bB(i,yB(s)),i.start=a}return v6e.apply(this,[i,a,r,n])}function v6e(e,t,r,n){let i=t,a=1,s=[],l=this.LA(a++);for(;;){let u=E6e(i,l);if(u===void 0&&(u=b6e.apply(this,[e,i,l,a,r,n])),u===pv)return T6e(s,i,l);if(u.isAcceptState===!0)return u.prediction;i=u,s.push(l),l=this.LA(a++)}}function b6e(e,t,r,n,i,a){let s=C6e(t.configs,r,i);if(s.size===0)return vB(e,t,r,pv),pv;let l=yB(s),u=S6e(s,i);if(u!==void 0)l.isAcceptState=!0,l.prediction=u,l.configs.uniqueAlt=u;else if(I6e(s)){let h=$p(s.alts);l.isAcceptState=!0,l.prediction=h,l.configs.uniqueAlt=h,x6e.apply(this,[e,n,s.alts,a])}return l=vB(e,t,r,l),l}function x6e(e,t,r,n){let i=[];for(let h=1;h<=t;h++)i.push(this.LA(h).tokenType);let a=e.atnStartState,s=a.rule,l=a.production,u=w6e({topLevelRule:s,ambiguityIndices:r,production:l,prefixPath:i});n(u)}function w6e(e){let t=nr(e.prefixPath,i=>Kp(i)).join(", "),r=e.production.idx===0?"":e.production.idx,n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${k6e(e.production)}${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n}function k6e(e){if(e instanceof No)return"SUBRULE";if(e instanceof Ps)return"OPTION";if(e instanceof Ko)return"OR";if(e instanceof Cl)return"AT_LEAST_ONE";if(e instanceof _l)return"AT_LEAST_ONE_SEP";if(e instanceof Xo)return"MANY_SEP";if(e instanceof pa)return"MANY";if(e instanceof ji)return"CONSUME";throw Error("non exhaustive match")}function T6e(e,t,r){let n=wl(t.configs.elements,a=>a.state.transitions),i=qye(n.filter(a=>a instanceof m9).map(a=>a.tokenType),a=>a.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:i,tokenPath:e}}function E6e(e,t){return e.edges[t.tokenTypeIdx]}function C6e(e,t,r){let n=new v9,i=[];for(let s of e.elements){if(r.is(s.alt)===!1)continue;if(s.state.type===c2){i.push(s);continue}let l=s.state.transitions.length;for(let u=0;u<l;u++){let h=s.state.transitions[u],d=_6e(h,t);d!==void 0&&n.add({state:d,alt:s.alt,stack:s.stack})}}let a;if(i.length===0&&n.size===1&&(a=n),a===void 0){a=new v9;for(let s of n.elements)gv(s,a)}if(i.length>0&&!N6e(a))for(let s of i)a.add(s);return a}function _6e(e,t){if(e instanceof m9&&CP(t,e.tokenType))return e.target}function S6e(e,t){let r;for(let n of e.elements)if(t.is(n.alt)===!0){if(r===void 0)r=n.alt;else if(r!==n.alt)return}return r}function yB(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function vB(e,t,r,n){return n=bB(e,n),t.edges[r.tokenTypeIdx]=n,n}function bB(e,t){if(t===pv)return t;let r=t.configs.key,n=e.states[r];return n!==void 0?n:(t.configs.finalize(),e.states[r]=t,t)}function A6e(e){let t=new v9,r=e.transitions.length;for(let n=0;n<r;n++){let i={state:e.transitions[n].target,alt:n,stack:[]};gv(i,t)}return t}function gv(e,t){let r=e.state;if(r.type===c2){if(e.stack.length>0){let i=[...e.stack],a={state:i.pop(),alt:e.alt,stack:i};gv(a,t)}else t.add(e);return}r.epsilonOnlyTransitions||t.add(e);let n=r.transitions.length;for(let i=0;i<n;i++){let a=r.transitions[i],s=L6e(e,a);s!==void 0&&gv(s,t)}}function L6e(e,t){if(t instanceof gB)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof y9){let r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}function N6e(e){for(let t of e.elements)if(t.state.type===c2)return!0;return!1}function M6e(e){for(let t of e.elements)if(t.state.type!==c2)return!1;return!0}function I6e(e){if(M6e(e))return!0;let t=D6e(e.elements);return R6e(t)&&!O6e(t)}function D6e(e){let t=new Map;for(let r of e){let n=fB(r,!1),i=t.get(n);i===void 0&&(i={},t.set(n,i)),i[r.alt]=!0}return t}function R6e(e){for(let t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function O6e(e){for(let t of Array.from(e.values()))if(Object.keys(t).length===1)return!0;return!1}var xB,wB,P6e,MQe=R(()=>{"use strict";l2(),LQe(),NQe(),A2e(),zme(),tZe(),g5(),KI(),$D(),jD(),kye(),o(m6e,"createDFACache"),xB=class{static{o(this,"PredicateSet")}constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,t){this.predicates[e]=t}toString(){let e="",t=this.predicates.length;for(let r=0;r<t;r++)e+=this.predicates[r]===!0?"1":"0";return e}},wB=new xB,P6e=class extends h9{static{o(this,"LLStarLookaheadStrategy")}constructor(e){var t;super(),this.logging=(t=e?.logging)!==null&&t!==void 0?t:r=>console.log(r)}initialize(e){this.atn=Zxe(e.rules),this.dfas=y6e(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){let{prodOccurrence:t,rule:r,hasPredicates:n,dynamicTokensEnabled:i}=e,a=this.dfas,s=this.logging,l=Qp(r,"Alternation",t),u=this.atn.decisionMap[l].decision,h=nr(BP({maxLookahead:1,occurrence:t,prodType:"Alternation",rule:r}),d=>nr(d,p=>p[0]));if(mB(h,!1)&&!i){let d=za(h,(p,f,g)=>(ut(f,m=>{m&&(p[m.tokenTypeIdx]=g,ut(m.categoryMatches,y=>{p[y]=g}))}),p),{});return n?function(p){var f;let g=this.LA(1),m=d[g.tokenTypeIdx];if(p!==void 0&&m!==void 0){let y=(f=p[m])===null||f===void 0?void 0:f.GATE;if(y!==void 0&&y.call(this)===!1)return}return m}:function(){let p=this.LA(1);return d[p.tokenTypeIdx]}}else return n?function(d){let p=new xB,f=d===void 0?0:d.length;for(let m=0;m<f;m++){let y=d?.[m].GATE;p.set(m,y===void 0||y.call(this))}let g=b9.call(this,a,u,p,s);return typeof g=="number"?g:void 0}:function(){let d=b9.call(this,a,u,wB,s);return typeof d=="number"?d:void 0}}buildLookaheadForOptional(e){let{prodOccurrence:t,rule:r,prodType:n,dynamicTokensEnabled:i}=e,a=this.dfas,s=this.logging,l=Qp(r,n,t),u=this.atn.decisionMap[l].decision,h=nr(BP({maxLookahead:1,occurrence:t,prodType:n,rule:r}),d=>nr(d,p=>p[0]));if(mB(h)&&h[0][0]&&!i){let d=h[0],p=bs(d);if(p.length===1&&si(p[0].categoryMatches)){let f=p[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===f}}else{let f=za(p,(g,m)=>(m!==void 0&&(g[m.tokenTypeIdx]=!0,ut(m.categoryMatches,y=>{g[y]=!0})),g),{});return function(){let g=this.LA(1);return f[g.tokenTypeIdx]===!0}}}return function(){let d=b9.call(this,a,u,wB,s);return typeof d=="object"?!1:d===0}}},o(mB,"isLL1Sequence"),o(y6e,"initATNSimulator"),o(b9,"adaptivePredict"),o(v6e,"performLookahead"),o(b6e,"computeLookaheadTarget"),o(x6e,"reportLookaheadAmbiguity"),o(w6e,"buildAmbiguityError"),o(k6e,"getProductionDslName"),o(T6e,"buildAdaptivePredictError"),o(E6e,"getExistingTargetState"),o(C6e,"computeReachSet"),o(_6e,"getReachableTarget"),o(S6e,"getUniqueAlt"),o(yB,"newDFAState"),o(vB,"addDFAEdge"),o(bB,"addDFAState"),o(A6e,"computeStartState"),o(gv,"closure"),o(L6e,"getEpsilonTarget"),o(N6e,"hasConfigInRuleStopState"),o(M6e,"allConfigsInRuleStopStates"),o(I6e,"hasConflictTerminatingPrediction"),o(D6e,"getConflictingAltSets"),o(R6e,"hasConflictingAltSet"),o(O6e,"hasStateAssociatedWithOneAlt")}),IQe=R(()=>{"use strict";MQe()}),B6e,kB,F6e,x9,bi,Kn,w9,$6e,TB,z6e,q6e,G6e,Y6e,EB,j6e,H6e,U6e,k9,u2,h2,CB,d2,V6e,_B,SB,AB,LB,NB,W6e,X6e,MB,K6e,IB,fv,Z6e,Q6e,J6e,e7e,t7e,r7e,n7e,i7e,T9,a7e,s7e,o7e,l7e,c7e,u7e,h7e,d7e,p7e,g7e,f7e,E9,m7e,y7e,v7e,b7e,x7e,w7e,k7e,T7e,E7e,C7e,_7e,S7e,A7e,DB,RB,L7e,N7e,M7e,I7e,D7e,R7e,O7e,P7e,B7e,F7e,gt,$7e=R(()=>{"use strict";(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(B6e||(B6e={})),function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t}(kB||(kB={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t}(F6e||(F6e={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t}(x9||(x9={})),function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=x9.MAX_VALUE),i===Number.MAX_VALUE&&(i=x9.MAX_VALUE),{line:n,character:i}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.objectLiteral(i)&&gt.uinteger(i.line)&&gt.uinteger(i.character)}o(r,"is"),e.is=r}(bi||(bi={})),function(e){function t(n,i,a,s){if(gt.uinteger(n)&&gt.uinteger(i)&&gt.uinteger(a)&&gt.uinteger(s))return{start:bi.create(n,i),end:bi.create(a,s)};if(bi.is(n)&&bi.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${a}, ${s}]`)}o(t,"create"),e.create=t;function r(n){let i=n;return gt.objectLiteral(i)&&bi.is(i.start)&&bi.is(i.end)}o(r,"is"),e.is=r}(Kn||(Kn={})),function(e){function t(n,i){return{uri:n,range:i}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.objectLiteral(i)&&Kn.is(i.range)&&(gt.string(i.uri)||gt.undefined(i.uri))}o(r,"is"),e.is=r}(w9||(w9={})),function(e){function t(n,i,a,s){return{targetUri:n,targetRange:i,targetSelectionRange:a,originSelectionRange:s}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.objectLiteral(i)&&Kn.is(i.targetRange)&&gt.string(i.targetUri)&&Kn.is(i.targetSelectionRange)&&(Kn.is(i.originSelectionRange)||gt.undefined(i.originSelectionRange))}o(r,"is"),e.is=r}($6e||($6e={})),function(e){function t(n,i,a,s){return{red:n,green:i,blue:a,alpha:s}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.objectLiteral(i)&&gt.numberRange(i.red,0,1)&&gt.numberRange(i.green,0,1)&&gt.numberRange(i.blue,0,1)&&gt.numberRange(i.alpha,0,1)}o(r,"is"),e.is=r}(TB||(TB={})),function(e){function t(n,i){return{range:n,color:i}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.objectLiteral(i)&&Kn.is(i.range)&&TB.is(i.color)}o(r,"is"),e.is=r}(z6e||(z6e={})),function(e){function t(n,i,a){return{label:n,textEdit:i,additionalTextEdits:a}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.objectLiteral(i)&&gt.string(i.label)&&(gt.undefined(i.textEdit)||h2.is(i))&&(gt.undefined(i.additionalTextEdits)||gt.typedArray(i.additionalTextEdits,h2.is))}o(r,"is"),e.is=r}(q6e||(q6e={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(G6e||(G6e={})),function(e){function t(n,i,a,s,l,u){let h={startLine:n,endLine:i};return gt.defined(a)&&(h.startCharacter=a),gt.defined(s)&&(h.endCharacter=s),gt.defined(l)&&(h.kind=l),gt.defined(u)&&(h.collapsedText=u),h}o(t,"create"),e.create=t;function r(n){let i=n;return gt.objectLiteral(i)&&gt.uinteger(i.startLine)&&gt.uinteger(i.startLine)&&(gt.undefined(i.startCharacter)||gt.uinteger(i.startCharacter))&&(gt.undefined(i.endCharacter)||gt.uinteger(i.endCharacter))&&(gt.undefined(i.kind)||gt.string(i.kind))}o(r,"is"),e.is=r}(Y6e||(Y6e={})),function(e){function t(n,i){return{location:n,message:i}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.defined(i)&&w9.is(i.location)&&gt.string(i.message)}o(r,"is"),e.is=r}(EB||(EB={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(j6e||(j6e={})),function(e){e.Unnecessary=1,e.Deprecated=2}(H6e||(H6e={})),function(e){function t(r){let n=r;return gt.objectLiteral(n)&&gt.string(n.href)}o(t,"is"),e.is=t}(U6e||(U6e={})),function(e){function t(n,i,a,s,l,u){let h={range:n,message:i};return gt.defined(a)&&(h.severity=a),gt.defined(s)&&(h.code=s),gt.defined(l)&&(h.source=l),gt.defined(u)&&(h.relatedInformation=u),h}o(t,"create"),e.create=t;function r(n){var i;let a=n;return gt.defined(a)&&Kn.is(a.range)&&gt.string(a.message)&&(gt.number(a.severity)||gt.undefined(a.severity))&&(gt.integer(a.code)||gt.string(a.code)||gt.undefined(a.code))&&(gt.undefined(a.codeDescription)||gt.string((i=a.codeDescription)===null||i===void 0?void 0:i.href))&&(gt.string(a.source)||gt.undefined(a.source))&&(gt.undefined(a.relatedInformation)||gt.typedArray(a.relatedInformation,EB.is))}o(r,"is"),e.is=r}(k9||(k9={})),function(e){function t(n,i,...a){let s={title:n,command:i};return gt.defined(a)&&a.length>0&&(s.arguments=a),s}o(t,"create"),e.create=t;function r(n){let i=n;return gt.defined(i)&&gt.string(i.title)&&gt.string(i.command)}o(r,"is"),e.is=r}(u2||(u2={})),function(e){function t(a,s){return{range:a,newText:s}}o(t,"replace"),e.replace=t;function r(a,s){return{range:{start:a,end:a},newText:s}}o(r,"insert"),e.insert=r;function n(a){return{range:a,newText:""}}o(n,"del"),e.del=n;function i(a){let s=a;return gt.objectLiteral(s)&&gt.string(s.newText)&&Kn.is(s.range)}o(i,"is"),e.is=i}(h2||(h2={})),function(e){function t(n,i,a){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),a!==void 0&&(s.description=a),s}o(t,"create"),e.create=t;function r(n){let i=n;return gt.objectLiteral(i)&&gt.string(i.label)&&(gt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(gt.string(i.description)||i.description===void 0)}o(r,"is"),e.is=r}(CB||(CB={})),function(e){function t(r){let n=r;return gt.string(n)}o(t,"is"),e.is=t}(d2||(d2={})),function(e){function t(a,s,l){return{range:a,newText:s,annotationId:l}}o(t,"replace"),e.replace=t;function r(a,s,l){return{range:{start:a,end:a},newText:s,annotationId:l}}o(r,"insert"),e.insert=r;function n(a,s){return{range:a,newText:"",annotationId:s}}o(n,"del"),e.del=n;function i(a){let s=a;return h2.is(s)&&(CB.is(s.annotationId)||d2.is(s.annotationId))}o(i,"is"),e.is=i}(V6e||(V6e={})),function(e){function t(n,i){return{textDocument:n,edits:i}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.defined(i)&&MB.is(i.textDocument)&&Array.isArray(i.edits)}o(r,"is"),e.is=r}(_B||(_B={})),function(e){function t(n,i,a){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),a!==void 0&&(s.annotationId=a),s}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&gt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||gt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||gt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||d2.is(i.annotationId))}o(r,"is"),e.is=r}(SB||(SB={})),function(e){function t(n,i,a,s){let l={kind:"rename",oldUri:n,newUri:i};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(l.options=a),s!==void 0&&(l.annotationId=s),l}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&gt.string(i.oldUri)&&gt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||gt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||gt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||d2.is(i.annotationId))}o(r,"is"),e.is=r}(AB||(AB={})),function(e){function t(n,i,a){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),a!==void 0&&(s.annotationId=a),s}o(t,"create"),e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&gt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||gt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||gt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||d2.is(i.annotationId))}o(r,"is"),e.is=r}(LB||(LB={})),function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>gt.string(i.kind)?SB.is(i)||AB.is(i)||LB.is(i):_B.is(i)))}o(t,"is"),e.is=t}(NB||(NB={})),function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.defined(i)&&gt.string(i.uri)}o(r,"is"),e.is=r}(W6e||(W6e={})),function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.defined(i)&&gt.string(i.uri)&&gt.integer(i.version)}o(r,"is"),e.is=r}(X6e||(X6e={})),function(e){function t(n,i){return{uri:n,version:i}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.defined(i)&&gt.string(i.uri)&&(i.version===null||gt.integer(i.version))}o(r,"is"),e.is=r}(MB||(MB={})),function(e){function t(n,i,a,s){return{uri:n,languageId:i,version:a,text:s}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.defined(i)&&gt.string(i.uri)&&gt.string(i.languageId)&&gt.integer(i.version)&&gt.string(i.text)}o(r,"is"),e.is=r}(K6e||(K6e={})),function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t}(IB||(IB={})),function(e){function t(r){let n=r;return gt.objectLiteral(r)&&IB.is(n.kind)&&gt.string(n.value)}o(t,"is"),e.is=t}(fv||(fv={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(Z6e||(Z6e={})),function(e){e.PlainText=1,e.Snippet=2}(Q6e||(Q6e={})),function(e){e.Deprecated=1}(J6e||(J6e={})),function(e){function t(n,i,a){return{newText:n,insert:i,replace:a}}o(t,"create"),e.create=t;function r(n){let i=n;return i&&gt.string(i.newText)&&Kn.is(i.insert)&&Kn.is(i.replace)}o(r,"is"),e.is=r}(e7e||(e7e={})),function(e){e.asIs=1,e.adjustIndentation=2}(t7e||(t7e={})),function(e){function t(r){let n=r;return n&&(gt.string(n.detail)||n.detail===void 0)&&(gt.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t}(r7e||(r7e={})),function(e){function t(r){return{label:r}}o(t,"create"),e.create=t}(n7e||(n7e={})),function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t}(i7e||(i7e={})),function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let i=n;return gt.string(i)||gt.objectLiteral(i)&&gt.string(i.language)&&gt.string(i.value)}o(r,"is"),e.is=r}(T9||(T9={})),function(e){function t(r){let n=r;return!!n&&gt.objectLiteral(n)&&(fv.is(n.contents)||T9.is(n.contents)||gt.typedArray(n.contents,T9.is))&&(r.range===void 0||Kn.is(r.range))}o(t,"is"),e.is=t}(a7e||(a7e={})),function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t}(s7e||(s7e={})),function(e){function t(r,n,...i){let a={label:r};return gt.defined(n)&&(a.documentation=n),gt.defined(i)?a.parameters=i:a.parameters=[],a}o(t,"create"),e.create=t}(o7e||(o7e={})),function(e){e.Text=1,e.Read=2,e.Write=3}(l7e||(l7e={})),function(e){function t(r,n){let i={range:r};return gt.number(n)&&(i.kind=n),i}o(t,"create"),e.create=t}(c7e||(c7e={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(u7e||(u7e={})),function(e){e.Deprecated=1}(h7e||(h7e={})),function(e){function t(r,n,i,a,s){let l={name:r,kind:n,location:{uri:a,range:i}};return s&&(l.containerName=s),l}o(t,"create"),e.create=t}(d7e||(d7e={})),function(e){function t(r,n,i,a){return a!==void 0?{name:r,kind:n,location:{uri:i,range:a}}:{name:r,kind:n,location:{uri:i}}}o(t,"create"),e.create=t}(p7e||(p7e={})),function(e){function t(n,i,a,s,l,u){let h={name:n,detail:i,kind:a,range:s,selectionRange:l};return u!==void 0&&(h.children=u),h}o(t,"create"),e.create=t;function r(n){let i=n;return i&&gt.string(i.name)&&gt.number(i.kind)&&Kn.is(i.range)&&Kn.is(i.selectionRange)&&(i.detail===void 0||gt.string(i.detail))&&(i.deprecated===void 0||gt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o(r,"is"),e.is=r}(g7e||(g7e={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(f7e||(f7e={})),function(e){e.Invoked=1,e.Automatic=2}(E9||(E9={})),function(e){function t(n,i,a){let s={diagnostics:n};return i!=null&&(s.only=i),a!=null&&(s.triggerKind=a),s}o(t,"create"),e.create=t;function r(n){let i=n;return gt.defined(i)&&gt.typedArray(i.diagnostics,k9.is)&&(i.only===void 0||gt.typedArray(i.only,gt.string))&&(i.triggerKind===void 0||i.triggerKind===E9.Invoked||i.triggerKind===E9.Automatic)}o(r,"is"),e.is=r}(m7e||(m7e={})),function(e){function t(n,i,a){let s={title:n},l=!0;return typeof i=="string"?(l=!1,s.kind=i):u2.is(i)?s.command=i:s.edit=i,l&&a!==void 0&&(s.kind=a),s}o(t,"create"),e.create=t;function r(n){let i=n;return i&&gt.string(i.title)&&(i.diagnostics===void 0||gt.typedArray(i.diagnostics,k9.is))&&(i.kind===void 0||gt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||u2.is(i.command))&&(i.isPreferred===void 0||gt.boolean(i.isPreferred))&&(i.edit===void 0||NB.is(i.edit))}o(r,"is"),e.is=r}(y7e||(y7e={})),function(e){function t(n,i){let a={range:n};return gt.defined(i)&&(a.data=i),a}o(t,"create"),e.create=t;function r(n){let i=n;return gt.defined(i)&&Kn.is(i.range)&&(gt.undefined(i.command)||u2.is(i.command))}o(r,"is"),e.is=r}(v7e||(v7e={})),function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.defined(i)&&gt.uinteger(i.tabSize)&&gt.boolean(i.insertSpaces)}o(r,"is"),e.is=r}(b7e||(b7e={})),function(e){function t(n,i,a){return{range:n,target:i,data:a}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.defined(i)&&Kn.is(i.range)&&(gt.undefined(i.target)||gt.string(i.target))}o(r,"is"),e.is=r}(x7e||(x7e={})),function(e){function t(n,i){return{range:n,parent:i}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.objectLiteral(i)&&Kn.is(i.range)&&(i.parent===void 0||e.is(i.parent))}o(r,"is"),e.is=r}(w7e||(w7e={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(k7e||(k7e={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(T7e||(T7e={})),function(e){function t(r){let n=r;return gt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t}(E7e||(E7e={})),function(e){function t(n,i){return{range:n,text:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Kn.is(i.range)&&gt.string(i.text)}o(r,"is"),e.is=r}(C7e||(C7e={})),function(e){function t(n,i,a){return{range:n,variableName:i,caseSensitiveLookup:a}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Kn.is(i.range)&&gt.boolean(i.caseSensitiveLookup)&&(gt.string(i.variableName)||i.variableName===void 0)}o(r,"is"),e.is=r}(_7e||(_7e={})),function(e){function t(n,i){return{range:n,expression:i}}o(t,"create"),e.create=t;function r(n){let i=n;return i!=null&&Kn.is(i.range)&&(gt.string(i.expression)||i.expression===void 0)}o(r,"is"),e.is=r}(S7e||(S7e={})),function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.defined(i)&&Kn.is(n.stoppedLocation)}o(r,"is"),e.is=r}(A7e||(A7e={})),function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t}(DB||(DB={})),function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let i=n;return gt.objectLiteral(i)&&(i.tooltip===void 0||gt.string(i.tooltip)||fv.is(i.tooltip))&&(i.location===void 0||w9.is(i.location))&&(i.command===void 0||u2.is(i.command))}o(r,"is"),e.is=r}(RB||(RB={})),function(e){function t(n,i,a){let s={position:n,label:i};return a!==void 0&&(s.kind=a),s}o(t,"create"),e.create=t;function r(n){let i=n;return gt.objectLiteral(i)&&bi.is(i.position)&&(gt.string(i.label)||gt.typedArray(i.label,RB.is))&&(i.kind===void 0||DB.is(i.kind))&&i.textEdits===void 0||gt.typedArray(i.textEdits,h2.is)&&(i.tooltip===void 0||gt.string(i.tooltip)||fv.is(i.tooltip))&&(i.paddingLeft===void 0||gt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||gt.boolean(i.paddingRight))}o(r,"is"),e.is=r}(L7e||(L7e={})),function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t}(N7e||(N7e={})),function(e){function t(r,n,i,a){return{insertText:r,filterText:n,range:i,command:a}}o(t,"create"),e.create=t}(M7e||(M7e={})),function(e){function t(r){return{items:r}}o(t,"create"),e.create=t}(I7e||(I7e={})),function(e){e.Invoked=0,e.Automatic=1}(D7e||(D7e={})),function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t}(R7e||(R7e={})),function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t}(O7e||(O7e={})),function(e){function t(r){let n=r;return gt.objectLiteral(n)&&kB.is(n.uri)&&gt.string(n.name)}o(t,"is"),e.is=t}(P7e||(P7e={})),function(e){function t(a,s,l,u){return new F7e(a,s,l,u)}o(t,"create"),e.create=t;function r(a){let s=a;return!!(gt.defined(s)&&gt.string(s.uri)&&(gt.undefined(s.languageId)||gt.string(s.languageId))&&gt.uinteger(s.lineCount)&&gt.func(s.getText)&&gt.func(s.positionAt)&&gt.func(s.offsetAt))}o(r,"is"),e.is=r;function n(a,s){let l=a.getText(),u=i(s,(d,p)=>{let f=d.range.start.line-p.range.start.line;return f===0?d.range.start.character-p.range.start.character:f}),h=l.length;for(let d=u.length-1;d>=0;d--){let p=u[d],f=a.offsetAt(p.range.start),g=a.offsetAt(p.range.end);if(g<=h)l=l.substring(0,f)+p.newText+l.substring(g,l.length);else throw new Error("Overlapping edit");h=f}return l}o(n,"applyEdits"),e.applyEdits=n;function i(a,s){if(a.length<=1)return a;let l=a.length/2|0,u=a.slice(0,l),h=a.slice(l);i(u,s),i(h,s);let d=0,p=0,f=0;for(;d<u.length&&p<h.length;)s(u[d],h[p])<=0?a[f++]=u[d++]:a[f++]=h[p++];for(;d<u.length;)a[f++]=u[d++];for(;p<h.length;)a[f++]=h[p++];return a}o(i,"mergeSort")}(B7e||(B7e={})),F7e=class{static{o(this,"FullTextDocument")}constructor(e,t,r,n){this._uri=e,this._languageId=t,this._version=r,this._content=n,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,r=!0;for(let n=0;n<t.length;n++){r&&(e.push(n),r=!1);let i=t.charAt(n);r=i==="\r"||i===`
`,i==="\r"&&n+1<t.length&&t.charAt(n+1)===`
`&&n++}r&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),r=0,n=t.length;if(n===0)return bi.create(0,e);for(;r<n;){let a=Math.floor((r+n)/2);t[a]>e?n=a:r=a+1}let i=r-1;return bi.create(i,e-t[i])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let r=t[e.line],n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,n),r)}get lineCount(){return this.getLineOffsets().length}},function(e){let t=Object.prototype.toString;function r(g){return typeof g<"u"}o(r,"defined"),e.defined=r;function n(g){return typeof g>"u"}o(n,"undefined"),e.undefined=n;function i(g){return g===!0||g===!1}o(i,"boolean"),e.boolean=i;function a(g){return t.call(g)==="[object String]"}o(a,"string"),e.string=a;function s(g){return t.call(g)==="[object Number]"}o(s,"number"),e.number=s;function l(g,m,y){return t.call(g)==="[object Number]"&&m<=g&&g<=y}o(l,"numberRange"),e.numberRange=l;function u(g){return t.call(g)==="[object Number]"&&-2147483648<=g&&g<=2147483647}o(u,"integer"),e.integer=u;function h(g){return t.call(g)==="[object Number]"&&0<=g&&g<=2147483647}o(h,"uinteger"),e.uinteger=h;function d(g){return t.call(g)==="[object Function]"}o(d,"func"),e.func=d;function p(g){return g!==null&&typeof g=="object"}o(p,"objectLiteral"),e.objectLiteral=p;function f(g,m){return Array.isArray(g)&&g.every(m)}o(f,"typedArray"),e.typedArray=f}(gt||(gt={}))}),OB,C9,mv,yv,z7e,_9,PB=R(()=>{"use strict";$7e(),hu(),oh(),OB=class{static{o(this,"CstNodeBuilder")}constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(e){return this.rootNode=new _9(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){let t=new yv;return t.grammarSource=e,t.root=this.rootNode,this.current.content.push(t),this.nodeStack.push(t),t}buildLeafNode(e,t){let r=new mv(e.startOffset,e.image.length,C5(e),e.tokenType,!1);return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){let t=e.container;if(t){let r=t.content.indexOf(e);r>=0&&t.content.splice(r,1)}}construct(e){let t=this.current;typeof e.$type=="string"&&(this.current.astNode=e),e.$cstNode=t;let r=this.nodeStack.pop();r?.content.length===0&&this.removeNode(r)}addHiddenTokens(e){for(let t of e){let r=new mv(t.startOffset,t.image.length,C5(t),t.tokenType,!0);r.root=this.rootNode,this.addHiddenToken(this.rootNode,r)}}addHiddenToken(e,t){let{offset:r,end:n}=t;for(let i=0;i<e.content.length;i++){let a=e.content[i],{offset:s,end:l}=a;if(sh(a)&&r>s&&n<l){this.addHiddenToken(a,t);return}else if(n<=s){e.content.splice(i,0,t);return}}e.content.push(t)}},C9=class{static{o(this,"AbstractCstNode")}get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,t;let r=typeof((e=this._astNode)===null||e===void 0?void 0:e.$type)=="string"?this._astNode:(t=this.container)===null||t===void 0?void 0:t.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}},mv=class extends C9{static{o(this,"LeafCstNodeImpl")}get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,t,r,n,i=!1){super(),this._hidden=i,this._offset=e,this._tokenType=n,this._length=t,this._range=r}},yv=class extends C9{static{o(this,"CompositeCstNodeImpl")}constructor(){super(...arguments),this.content=new z7e(this)}get children(){return this.content}get offset(){var e,t;return(t=(e=this.firstNonHiddenNode)===null||e===void 0?void 0:e.offset)!==null&&t!==void 0?t:0}get length(){return this.end-this.offset}get end(){var e,t;return(t=(e=this.lastNonHiddenNode)===null||e===void 0?void 0:e.end)!==null&&t!==void 0?t:0}get range(){let e=this.firstNonHiddenNode,t=this.lastNonHiddenNode;if(e&&t){if(this._rangeCache===void 0){let{range:r}=e,{range:n}=t;this._rangeCache={start:r.start,end:n.end.line<r.start.line?r.start:n.end}}return this._rangeCache}else return{start:bi.create(0,0),end:bi.create(0,0)}}get firstNonHiddenNode(){for(let e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){let t=this.content[e];if(!t.hidden)return t}return this.content[this.content.length-1]}},z7e=class nYe extends Array{static{o(this,"CstNodeContainer")}constructor(t){super(),this.parent=t,Object.setPrototypeOf(this,nYe.prototype)}push(...t){return this.addParents(t),super.push(...t)}unshift(...t){return this.addParents(t),super.unshift(...t)}splice(t,r,...n){return this.addParents(n),super.splice(t,r,...n)}addParents(t){for(let r of t)r.container=this.parent}},_9=class extends yv{static{o(this,"RootCstNodeImpl")}get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}}});function S9(e){return e.$type===vv}var vv,BB,FB,A9,$B,zB,L9,qB,q7e,G7e,N9=R(()=>{"use strict";l2(),IQe(),d0(),ch(),El(),PB(),vv=Symbol("Datatype"),o(S9,"isDataTypeNode"),BB="\u200B",FB=o(e=>e.endsWith(BB)?e:e+BB,"withRuleSuffix"),A9=class{static{o(this,"AbstractLangiumParser")}constructor(e){this._unorderedGroups=new Map,this.lexer=e.parser.Lexer;let t=this.lexer.definition;this.wrapper=new G7e(t,Object.assign(Object.assign({},e.parser.ParserConfig),{errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,t){this.wrapper.wrapOr(e,t)}optional(e,t){this.wrapper.wrapOption(e,t)}many(e,t){this.wrapper.wrapMany(e,t)}atLeastOne(e,t){this.wrapper.wrapAtLeastOne(e,t)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},$B=class extends A9{static{o(this,"LangiumParser")}get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new OB,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,t){let r=e.fragment?void 0:z5(e)?vv:Qm(e),n=this.wrapper.DEFINE_RULE(FB(e.name),this.startImplementation(r,t).bind(this));return e.entry&&(this.mainRule=n),n}parse(e){this.nodeBuilder.buildRootNode(e);let t=this.lexer.tokenize(e);this.wrapper.input=t.tokens;let r=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(t.hidden),this.unorderedGroups.clear(),{value:r,lexerErrors:t.errors,parserErrors:this.wrapper.errors}}startImplementation(e,t){return r=>{if(!this.isRecording()){let i={$type:e};this.stack.push(i),e===vv&&(i.value="")}let n;try{n=t(r)}catch{n=void 0}return!this.isRecording()&&n===void 0&&(n=this.construct()),n}}consume(e,t,r){let n=this.wrapper.wrapConsume(e,t);if(!this.isRecording()&&this.isValidToken(n)){let i=this.nodeBuilder.buildLeafNode(n,r),{assignment:a,isCrossRef:s}=this.getAssignment(r),l=this.current;if(a){let u=u0(r)?n.image:this.converter.convert(n.image,i);this.assign(a.operator,a.feature,u,i,s)}else if(S9(l)){let u=n.image;u0(r)||(u=this.converter.convert(u,i).toString()),l.value+=u}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&typeof e.endOffset=="number"&&!isNaN(e.endOffset)}subrule(e,t,r,n){let i;this.isRecording()||(i=this.nodeBuilder.buildCompositeNode(r));let a=this.wrapper.wrapSubrule(e,t,n);!this.isRecording()&&i&&i.length>0&&this.performSubruleAssignment(a,r,i)}performSubruleAssignment(e,t,r){let{assignment:n,isCrossRef:i}=this.getAssignment(t);if(n)this.assign(n.operator,n.feature,e,r,i);else if(!n){let a=this.current;if(S9(a))a.value+=e.toString();else if(typeof e=="object"&&e){let s=e.$type,l=this.assignWithoutOverride(e,a);s&&(l.$type=s);let u=l;this.stack.pop(),this.stack.push(u)}}}action(e,t){if(!this.isRecording()){let r=this.current;if(!r.$cstNode&&t.feature&&t.operator){r=this.construct(!1);let i=r.$cstNode.feature;this.nodeBuilder.buildCompositeNode(i)}let n={$type:e};this.stack.pop(),this.stack.push(n),t.feature&&t.operator&&this.assign(t.operator,t.feature,r,r.$cstNode,!1)}}construct(e=!0){if(this.isRecording())return;let t=this.current;return Rk(t),this.nodeBuilder.construct(t),e&&this.stack.pop(),S9(t)?this.converter.convert(t.value,t.$cstNode):(LO(this.astReflection,t),t)}getAssignment(e){if(!this.assignmentMap.has(e)){let t=Xm(e,c0);this.assignmentMap.set(e,{assignment:t,isCrossRef:t?A5(t.terminal):!1})}return this.assignmentMap.get(e)}assign(e,t,r,n,i){let a=this.current,s;switch(i&&typeof r=="string"?s=this.linker.buildReference(a,t,n,r):s=r,e){case"=":{a[t]=s;break}case"?=":{a[t]=!0;break}case"+=":Array.isArray(a[t])||(a[t]=[]),a[t].push(s)}}assignWithoutOverride(e,t){for(let[r,n]of Object.entries(t)){let i=e[r];i===void 0?e[r]=n:Array.isArray(i)&&Array.isArray(n)&&(n.push(...i),e[r]=n)}return e}get definitionErrors(){return this.wrapper.definitionErrors}},zB=class{static{o(this,"AbstractParserErrorMessageProvider")}buildMismatchTokenMessage(e){return Zp.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return Zp.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return Zp.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return Zp.buildEarlyExitMessage(e)}},L9=class extends zB{static{o(this,"LangiumParserErrorMessageProvider")}buildMismatchTokenMessage({expected:e,actual:t}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${t.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}},qB=class extends A9{static{o(this,"LangiumCompletionParser")}constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();let t=this.lexer.tokenize(e);return this.tokens=t.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,t){let r=this.wrapper.DEFINE_RULE(FB(e.name),this.startImplementation(t).bind(this));return e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return t=>{let r=this.keepStackSize();try{e(t)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,t,r){this.wrapper.wrapConsume(e,t),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,t,r,n){this.before(r),this.wrapper.wrapSubrule(e,t,n),this.after(r)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){let t=this.elementStack.lastIndexOf(e);t>=0&&this.elementStack.splice(t)}}get currIdx(){return this.wrapper.currIdx}},q7e={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new L9},G7e=class extends Kxe{static{o(this,"ChevrotainWrapper")}constructor(e,t){let r=t&&"maxLookahead"in t;super(e,Object.assign(Object.assign(Object.assign({},q7e),{lookaheadStrategy:r?new h9({maxLookahead:t.maxLookahead}):new P6e}),t))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,t){return this.RULE(e,t)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,t){return this.consume(e,t)}wrapSubrule(e,t,r){return this.subrule(e,t,{ARGS:[r]})}wrapOr(e,t){this.or(e,t)}wrapOption(e,t){this.option(e,t)}wrapMany(e,t){this.many(e,t)}wrapAtLeastOne(e,t){this.atLeastOne(e,t)}}});function GB(e,t,r){return Y7e({parser:t,tokens:r,rules:new Map,ruleNames:new Map},e),t}function Y7e(e,t){let r=zk(t,!1),n=qa(t.rules).filter(Tl).filter(i=>r.has(i));for(let i of n){let a=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});a.rules.set(i.name,e.parser.rule(i,Jd(a,i.definition)))}}function Jd(e,t,r=!1){let n;if(u0(t))n=K7e(e,t);else if(Vd(t))n=j7e(e,t);else if(c0(t))n=Jd(e,t.terminal);else if(A5(t))n=YB(e,t);else if(h0(t))n=H7e(e,t);else if(Vw(t))n=V7e(e,t);else if(Xw(t))n=W7e(e,t);else if(Hp(t))n=X7e(e,t);else if(mO(t)){let i=e.consume++;n=o(()=>e.parser.consume(i,f0,t),"method")}else throw new _5(t.$cstNode,`Unexpected element type: ${t.$type}`);return jB(e,r?void 0:bv(t),n,t.cardinality)}function j7e(e,t){let r=Qm(t);return()=>e.parser.action(r,t)}function H7e(e,t){let r=t.rule.ref;if(Tl(r)){let n=e.subrule++,i=t.arguments.length>0?U7e(r,t.arguments):()=>({});return a=>e.parser.subrule(n,HB(e,r),t,i(a))}else if(l0(r)){let n=e.consume++,i=M9(e,r.name);return()=>e.parser.consume(n,i,t)}else if(r)jp(r);else throw new _5(t.$cstNode,`Undefined rule type: ${t.$type}`)}function U7e(e,t){let r=t.map(n=>hh(n.value));return n=>{let i={};for(let a=0;a<r.length;a++){let s=e.parameters[a],l=r[a];i[s.name]=l(n)}return i}}function hh(e){if(cO(e)){let t=hh(e.left),r=hh(e.right);return n=>t(n)||r(n)}else if(lO(e)){let t=hh(e.left),r=hh(e.right);return n=>t(n)&&r(n)}else if(uO(e)){let t=hh(e.value);return r=>!t(r)}else if(hO(e)){let t=e.parameter.ref.name;return r=>r!==void 0&&r[t]===!0}else if(oO(e)){let t=!!e.true;return()=>t}jp(e)}function V7e(e,t){if(t.elements.length===1)return Jd(e,t.elements[0]);{let r=[];for(let i of t.elements){let a={ALT:Jd(e,i,!0)},s=bv(i);s&&(a.GATE=hh(s)),r.push(a)}let n=e.or++;return i=>e.parser.alternatives(n,r.map(a=>{let s={ALT:o(()=>a.ALT(i),"ALT")},l=a.GATE;return l&&(s.GATE=()=>l(i)),s}))}}function W7e(e,t){if(t.elements.length===1)return Jd(e,t.elements[0]);let r=[];for(let l of t.elements){let u={ALT:Jd(e,l,!0)},h=bv(l);h&&(u.GATE=hh(h)),r.push(u)}let n=e.or++,i=o((l,u)=>{let h=u.getRuleStack().join("-");return`uGroup_${l}_${h}`},"idFunc"),a=o(l=>e.parser.alternatives(n,r.map((u,h)=>{let d={ALT:o(()=>!0,"ALT")},p=e.parser;d.ALT=()=>{if(u.ALT(l),!p.isRecording()){let g=i(n,p);p.unorderedGroups.get(g)||p.unorderedGroups.set(g,[]);let m=p.unorderedGroups.get(g);typeof m?.[h]>"u"&&(m[h]=!0)}};let f=u.GATE;return f?d.GATE=()=>f(l):d.GATE=()=>!p.unorderedGroups.get(i(n,p))?.[h],d})),"alternatives"),s=jB(e,bv(t),a,"*");return l=>{s(l),e.parser.isRecording()||e.parser.unorderedGroups.delete(i(n,e.parser))}}function X7e(e,t){let r=t.elements.map(n=>Jd(e,n));return n=>r.forEach(i=>i(n))}function bv(e){if(Hp(e))return e.guardCondition}function YB(e,t,r=t.terminal){if(r)if(h0(r)&&Tl(r.rule.ref)){let n=e.subrule++;return i=>e.parser.subrule(n,HB(e,r.rule.ref),t,i)}else if(h0(r)&&l0(r.rule.ref)){let n=e.consume++,i=M9(e,r.rule.ref.name);return()=>e.parser.consume(n,i,t)}else if(u0(r)){let n=e.consume++,i=M9(e,r.value);return()=>e.parser.consume(n,i,t)}else throw new Error("Could not build cross reference parser");else{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);let n=jk(t.type.ref),i=n?.terminal;if(!i)throw new Error("Could not find name assignment for type: "+Qm(t.type.ref));return YB(e,t,i)}}function K7e(e,t){let r=e.consume++,n=e.tokens[t.value];if(!n)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,n,t)}function jB(e,t,r,n){let i=t&&hh(t);if(!n)if(i){let a=e.or++;return s=>e.parser.alternatives(a,[{ALT:o(()=>r(s),"ALT"),GATE:o(()=>i(s),"GATE")},{ALT:oB(),GATE:o(()=>!i(s),"GATE")}])}else return r;if(n==="*"){let a=e.many++;return s=>e.parser.many(a,{DEF:o(()=>r(s),"DEF"),GATE:i?()=>i(s):void 0})}else if(n==="+"){let a=e.many++;if(i){let s=e.or++;return l=>e.parser.alternatives(s,[{ALT:o(()=>e.parser.atLeastOne(a,{DEF:o(()=>r(l),"DEF")}),"ALT"),GATE:o(()=>i(l),"GATE")},{ALT:oB(),GATE:o(()=>!i(l),"GATE")}])}else return s=>e.parser.atLeastOne(a,{DEF:o(()=>r(s),"DEF")})}else if(n==="?"){let a=e.optional++;return s=>e.parser.optional(a,{DEF:o(()=>r(s),"DEF"),GATE:i?()=>i(s):void 0})}else jp(n)}function HB(e,t){let r=Z7e(e,t),n=e.rules.get(r);if(!n)throw new Error(`Rule "${r}" not found."`);return n}function Z7e(e,t){if(Tl(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,n=r.$container,i=t.$type;for(;!Tl(n);)(Hp(n)||Vw(n)||Xw(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,e.ruleNames.set(t,i),i}}function M9(e,t){let r=e.tokens[t];if(!r)throw new Error(`Token "${t}" not found."`);return r}var Q7e=R(()=>{"use strict";l2(),d0(),iO(),Kl(),ch(),o(GB,"createParser"),o(Y7e,"buildRules"),o(Jd,"buildElement"),o(j7e,"buildAction"),o(H7e,"buildRuleCall"),o(U7e,"buildRuleCallPredicate"),o(hh,"buildPredicate"),o(V7e,"buildAlternatives"),o(W7e,"buildUnorderedGroup"),o(X7e,"buildGroup"),o(bv,"getGuardCondition"),o(YB,"buildCrossReference"),o(K7e,"buildKeyword"),o(jB,"wrap"),o(HB,"getRule"),o(Z7e,"getRuleName"),o(M9,"getToken")});function UB(e){let t=e.Grammar,r=e.parser.Lexer,n=new qB(e);return GB(t,n,r.definition),n.finalize(),n}var J7e=R(()=>{"use strict";N9(),Q7e(),o(UB,"createCompletionParser")});function VB(e){let t=WB(e);return t.finalize(),t}function WB(e){let t=e.Grammar,r=e.parser.Lexer,n=new $B(e);return GB(t,n,r.definition)}var e8e=R(()=>{"use strict";N9(),Q7e(),o(VB,"createLangiumParser"),o(WB,"prepareLangiumParser")}),I9,t8e=R(()=>{"use strict";l2(),d0(),El(),ch(),$5(),Kl(),I9=class{static{o(this,"DefaultTokenBuilder")}buildTokens(e,t){let r=qa(zk(e,!1)),n=this.buildTerminalTokens(r),i=this.buildKeywordTokens(r,n,t);return n.forEach(a=>{let s=a.PATTERN;typeof s=="object"&&s&&"test"in s&&$k(s)?i.unshift(a):i.push(a)}),i}buildTerminalTokens(e){return e.filter(l0).filter(t=>!t.fragment).map(t=>this.buildTerminalToken(t)).toArray()}buildTerminalToken(e){let t=q5(e),r=this.requiresCustomPattern(t)?this.regexPatternFunction(t):t,n={name:e.name,PATTERN:r,LINE_BREAKS:!0};return e.hidden&&(n.GROUP=$k(t)?Zo.SKIPPED:"hidden"),n}requiresCustomPattern(e){return e.flags.includes("u")?!0:!!(e.source.includes("?<=")||e.source.includes("?<!"))}regexPatternFunction(e){let t=new RegExp(e,e.flags+"y");return(r,n)=>(t.lastIndex=n,t.exec(r))}buildKeywordTokens(e,t,r){return e.filter(Tl).flatMap(n=>Wd(n).filter(u0)).distinct(n=>n.value).toArray().sort((n,i)=>i.value.length-n.value.length).map(n=>this.buildKeywordToken(n,t,!!r?.caseInsensitive))}buildKeywordToken(e,t,r){return{name:e.value,PATTERN:this.buildKeywordPattern(e,r),LONGER_ALT:this.findLongerAlt(e,t)}}buildKeywordPattern(e,t){return t?new RegExp(PO(e.value)):e.value}findLongerAlt(e,t){return t.reduce((r,n)=>{let i=n?.PATTERN;return i?.source&&BO("^"+i.source+"$",e.value)&&r.push(n),r},[])}}}),D9,dh,r8e=R(()=>{"use strict";d0(),ch(),D9=class{static{o(this,"DefaultValueConverter")}convert(e,t){let r=t.grammarSource;if(A5(r)&&(r=HO(r)),h0(r)){let n=r.rule.ref;if(!n)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(n,e,t)}return e}runConverter(e,t,r){var n;switch(e.name.toUpperCase()){case"INT":return dh.convertInt(t);case"STRING":return dh.convertString(t);case"ID":return dh.convertID(t)}switch((n=eP(e))===null||n===void 0?void 0:n.toLowerCase()){case"number":return dh.convertNumber(t);case"boolean":return dh.convertBoolean(t);case"bigint":return dh.convertBigint(t);case"date":return dh.convertDate(t);default:return t}}},function(e){function t(h){let d="";for(let p=1;p<h.length-1;p++){let f=h.charAt(p);if(f==="\\"){let g=h.charAt(++p);d+=r(g)}else d+=f}return d}o(t,"convertString"),e.convertString=t;function r(h){switch(h){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return h}}o(r,"convertEscapeCharacter");function n(h){return h.charAt(0)==="^"?h.substring(1):h}o(n,"convertID"),e.convertID=n;function i(h){return parseInt(h)}o(i,"convertInt"),e.convertInt=i;function a(h){return BigInt(h)}o(a,"convertBigint"),e.convertBigint=a;function s(h){return new Date(h)}o(s,"convertDate"),e.convertDate=s;function l(h){return Number(h)}o(l,"convertNumber"),e.convertNumber=l;function u(h){return h.toLowerCase()==="true"}o(u,"convertBoolean"),e.convertBoolean=u}(dh||(dh={}))}),n8e=St(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t;function r(){if(t===void 0)throw new Error("No runtime abstraction layer installed");return t}o(r,"RAL"),function(n){function i(a){if(a===void 0)throw new Error("No runtime abstraction layer provided");t=a}o(i,"install"),n.install=i}(r||(r={})),e.default=r}),DQe=St(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringArray=e.array=e.func=e.error=e.number=e.string=e.boolean=void 0;function t(u){return u===!0||u===!1}o(t,"boolean"),e.boolean=t;function r(u){return typeof u=="string"||u instanceof String}o(r,"string"),e.string=r;function n(u){return typeof u=="number"||u instanceof Number}o(n,"number"),e.number=n;function i(u){return u instanceof Error}o(i,"error"),e.error=i;function a(u){return typeof u=="function"}o(a,"func"),e.func=a;function s(u){return Array.isArray(u)}o(s,"array"),e.array=s;function l(u){return s(u)&&u.every(h=>r(h))}o(l,"stringArray"),e.stringArray=l}),i8e=St(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;var t=n8e(),r;(function(a){let s={dispose(){}};a.None=function(){return s}})(r||(e.Event=r={}));var n=class{static{o(this,"CallbackList")}add(a,s=null,l){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(a),this._contexts.push(s),Array.isArray(l)&&l.push({dispose:o(()=>this.remove(a,s),"dispose")})}remove(a,s=null){if(!this._callbacks)return;let l=!1;for(let u=0,h=this._callbacks.length;u<h;u++)if(this._callbacks[u]===a)if(this._contexts[u]===s){this._callbacks.splice(u,1),this._contexts.splice(u,1);return}else l=!0;if(l)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...a){if(!this._callbacks)return[];let s=[],l=this._callbacks.slice(0),u=this._contexts.slice(0);for(let h=0,d=l.length;h<d;h++)try{s.push(l[h].apply(u[h],a))}catch(p){(0,t.default)().console.error(p)}return s}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},i=class iYe{static{o(this,"Emitter")}constructor(s){this._options=s}get event(){return this._event||(this._event=(s,l,u)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(s,l);let h={dispose:o(()=>{this._callbacks&&(this._callbacks.remove(s,l),h.dispose=iYe._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(u)&&u.push(h),h}),this._event}fire(s){this._callbacks&&this._callbacks.invoke.call(this._callbacks,s)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};e.Emitter=i,i._noop=function(){}}),RQe=St(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;var t=n8e(),r=DQe(),n=i8e(),i;(function(u){u.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),u.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None});function h(d){let p=d;return p&&(p===u.None||p===u.Cancelled||r.boolean(p.isCancellationRequested)&&!!p.onCancellationRequested)}o(h,"is"),u.is=h})(i||(e.CancellationToken=i={}));var a=Object.freeze(function(u,h){let d=(0,t.default)().timer.setTimeout(u.bind(h),0);return{dispose(){d.dispose()}}}),s=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},l=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=i.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=i.None}};e.CancellationTokenSource=l}),Aa={},fu=R(()=>{"use strict";Li(Aa,Pr(RQe(),1))});function R9(){return new Promise(e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)})}function XB(){return O9=Date.now(),new Aa.CancellationTokenSource}function KB(e){ZB=e}function p2(e){return e===v0}async function Al(e){if(e===Aa.CancellationToken.None)return;let t=Date.now();if(t-O9>=ZB&&(O9=t,await R9()),e.isCancellationRequested)throw v0}var O9,ZB,v0,ph,mu=R(()=>{"use strict";fu(),o(R9,"delayNextTick"),O9=0,ZB=10,o(XB,"startCancelableOperation"),o(KB,"setInterruptionPeriod"),v0=Symbol("OperationCancelled"),o(p2,"isOperationCancelled"),o(Al,"interruptAndCheck"),ph=class{static{o(this,"Deferred")}constructor(){this.promise=new Promise((e,t)=>{this.resolve=r=>(e(r),this),this.reject=r=>(t(r),this)})}}});function P9(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);P9(n,t),P9(i,t);let a=0,s=0,l=0;for(;a<n.length&&s<i.length;)t(n[a],i[s])<=0?e[l++]=n[a++]:e[l++]=i[s++];for(;a<n.length;)e[l++]=n[a++];for(;s<i.length;)e[l++]=i[s++];return e}function QB(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);JB(a)&&(a===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function JB(e){return e===13||e===10}function eF(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function a8e(e){let t=eF(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var tF,B9,OQe=R(()=>{"use strict";tF=class zH{static{o(this,"FullTextDocument")}constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(zH.isIncremental(n)){let i=eF(n.range),a=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,a)+n.text+this._content.substring(s,this._content.length);let l=Math.max(i.start.line,0),u=Math.max(i.end.line,0),h=this._lineOffsets,d=QB(n.text,!1,a);if(u-l===d.length)for(let f=0,g=d.length;f<g;f++)h[f+l+1]=d[f];else d.length<1e4?h.splice(l+1,u-l,...d):this._lineOffsets=h=h.slice(0,l+1).concat(d,h.slice(u+1));let p=n.text.length-(s-a);if(p!==0)for(let f=l+1+d.length,g=h.length;f<g;f++)h[f]=h[f]+p}else if(zH.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=QB(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let s=Math.floor((n+i)/2);r[s]>t?i=s:n=s+1}let a=n-1;return t=this.ensureBeforeEOL(t,r[a]),{line:a,character:t-r[a]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line];if(t.character<=0)return n;let i=t.line+1<r.length?r[t.line+1]:this._content.length,a=Math.min(n+t.character,i);return this.ensureBeforeEOL(a,n)}ensureBeforeEOL(t,r){for(;t>r&&JB(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},function(e){function t(i,a,s,l){return new tF(i,a,s,l)}o(t,"create"),e.create=t;function r(i,a,s){if(i instanceof tF)return i.update(a,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(i,a){let s=i.getText(),l=P9(a.map(a8e),(d,p)=>{let f=d.range.start.line-p.range.start.line;return f===0?d.range.start.character-p.range.start.character:f}),u=0,h=[];for(let d of l){let p=i.offsetAt(d.range.start);if(p<u)throw new Error("Overlapping edit");p>u&&h.push(s.substring(u,p)),d.newText.length&&h.push(d.newText),u=i.offsetAt(d.range.end)}return h.push(s.substr(u)),h.join("")}o(n,"applyEdits"),e.applyEdits=n}(B9||(B9={})),o(P9,"mergeSort"),o(QB,"computeLineOffsets"),o(JB,"isEOL"),o(eF,"getWellformedRange"),o(a8e,"getWellformedEdit")}),s8e,b0,g2,o8e=R(()=>{"use strict";(()=>{"use strict";var e={470:i=>{function a(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}o(a,"e");function s(u,h){for(var d,p="",f=0,g=-1,m=0,y=0;y<=u.length;++y){if(y<u.length)d=u.charCodeAt(y);else{if(d===47)break;d=47}if(d===47){if(!(g===y-1||m===1))if(g!==y-1&&m===2){if(p.length<2||f!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var b=p.lastIndexOf("/");if(b!==p.length-1){b===-1?(p="",f=0):f=(p=p.slice(0,b)).length-1-p.lastIndexOf("/"),g=y,m=0;continue}}else if(p.length===2||p.length===1){p="",f=0,g=y,m=0;continue}}h&&(p.length>0?p+="/..":p="..",f=2)}else p.length>0?p+="/"+u.slice(g+1,y):p=u.slice(g+1,y),f=y-g-1;g=y,m=0}else d===46&&m!==-1?++m:m=-1}return p}o(s,"r");var l={resolve:o(function(){for(var u,h="",d=!1,p=arguments.length-1;p>=-1&&!d;p--){var f;p>=0?f=arguments[p]:(u===void 0&&(u=process.cwd()),f=u),a(f),f.length!==0&&(h=f+"/"+h,d=f.charCodeAt(0)===47)}return h=s(h,!d),d?h.length>0?"/"+h:"/":h.length>0?h:"."},"resolve"),normalize:o(function(u){if(a(u),u.length===0)return".";var h=u.charCodeAt(0)===47,d=u.charCodeAt(u.length-1)===47;return(u=s(u,!h)).length!==0||h||(u="."),u.length>0&&d&&(u+="/"),h?"/"+u:u},"normalize"),isAbsolute:o(function(u){return a(u),u.length>0&&u.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var u,h=0;h<arguments.length;++h){var d=arguments[h];a(d),d.length>0&&(u===void 0?u=d:u+="/"+d)}return u===void 0?".":l.normalize(u)},"join"),relative:o(function(u,h){if(a(u),a(h),u===h||(u=l.resolve(u))===(h=l.resolve(h)))return"";for(var d=1;d<u.length&&u.charCodeAt(d)===47;++d);for(var p=u.length,f=p-d,g=1;g<h.length&&h.charCodeAt(g)===47;++g);for(var m=h.length-g,y=f<m?f:m,b=-1,v=0;v<=y;++v){if(v===y){if(m>y){if(h.charCodeAt(g+v)===47)return h.slice(g+v+1);if(v===0)return h.slice(g+v)}else f>y&&(u.charCodeAt(d+v)===47?b=v:v===0&&(b=0));break}var x=u.charCodeAt(d+v);if(x!==h.charCodeAt(g+v))break;x===47&&(b=v)}var w="";for(v=d+b+1;v<=p;++v)v!==p&&u.charCodeAt(v)!==47||(w.length===0?w+="..":w+="/..");return w.length>0?w+h.slice(g+b):(g+=b,h.charCodeAt(g)===47&&++g,h.slice(g))},"relative"),_makeLong:o(function(u){return u},"_makeLong"),dirname:o(function(u){if(a(u),u.length===0)return".";for(var h=u.charCodeAt(0),d=h===47,p=-1,f=!0,g=u.length-1;g>=1;--g)if((h=u.charCodeAt(g))===47){if(!f){p=g;break}}else f=!1;return p===-1?d?"/":".":d&&p===1?"//":u.slice(0,p)},"dirname"),basename:o(function(u,h){if(h!==void 0&&typeof h!="string")throw new TypeError('"ext" argument must be a string');a(u);var d,p=0,f=-1,g=!0;if(h!==void 0&&h.length>0&&h.length<=u.length){if(h.length===u.length&&h===u)return"";var m=h.length-1,y=-1;for(d=u.length-1;d>=0;--d){var b=u.charCodeAt(d);if(b===47){if(!g){p=d+1;break}}else y===-1&&(g=!1,y=d+1),m>=0&&(b===h.charCodeAt(m)?--m==-1&&(f=d):(m=-1,f=y))}return p===f?f=y:f===-1&&(f=u.length),u.slice(p,f)}for(d=u.length-1;d>=0;--d)if(u.charCodeAt(d)===47){if(!g){p=d+1;break}}else f===-1&&(g=!1,f=d+1);return f===-1?"":u.slice(p,f)},"basename"),extname:o(function(u){a(u);for(var h=-1,d=0,p=-1,f=!0,g=0,m=u.length-1;m>=0;--m){var y=u.charCodeAt(m);if(y!==47)p===-1&&(f=!1,p=m+1),y===46?h===-1?h=m:g!==1&&(g=1):h!==-1&&(g=-1);else if(!f){d=m+1;break}}return h===-1||p===-1||g===0||g===1&&h===p-1&&h===d+1?"":u.slice(h,p)},"extname"),format:o(function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return function(h,d){var p=d.dir||d.root,f=d.base||(d.name||"")+(d.ext||"");return p?p===d.root?p+f:p+"/"+f:f}(0,u)},"format"),parse:o(function(u){a(u);var h={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return h;var d,p=u.charCodeAt(0),f=p===47;f?(h.root="/",d=1):d=0;for(var g=-1,m=0,y=-1,b=!0,v=u.length-1,x=0;v>=d;--v)if((p=u.charCodeAt(v))!==47)y===-1&&(b=!1,y=v+1),p===46?g===-1?g=v:x!==1&&(x=1):g!==-1&&(x=-1);else if(!b){m=v+1;break}return g===-1||y===-1||x===0||x===1&&g===y-1&&g===m+1?y!==-1&&(h.base=h.name=m===0&&f?u.slice(1,y):u.slice(m,y)):(m===0&&f?(h.name=u.slice(1,g),h.base=u.slice(1,y)):(h.name=u.slice(m,g),h.base=u.slice(m,y)),h.ext=u.slice(g,y)),m>0?h.dir=u.slice(0,m-1):f&&(h.dir="/"),h},"parse"),sep:"/",delimiter:":",win32:null,posix:null};l.posix=l,i.exports=l}},t={};function r(i){var a=t[i];if(a!==void 0)return a.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,r),s.exports}o(r,"r"),r.d=(i,a)=>{for(var s in a)r.o(a,s)&&!r.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:a[s]})},r.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:o(()=>f,"URI"),Utils:o(()=>P,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let a=/^\w[\w\d+.-]*$/,s=/^\//,l=/^\/\//;function u(O,I){if(!O.scheme&&I)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${O.authority}", path: "${O.path}", query: "${O.query}", fragment: "${O.fragment}"}`);if(O.scheme&&!a.test(O.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(O.path){if(O.authority){if(!s.test(O.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(O.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(u,"s");let h="",d="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{static{o(this,"f")}static isUri(I){return I instanceof f||!!I&&typeof I.authority=="string"&&typeof I.fragment=="string"&&typeof I.path=="string"&&typeof I.query=="string"&&typeof I.scheme=="string"&&typeof I.fsPath=="string"&&typeof I.with=="function"&&typeof I.toString=="function"}scheme;authority;path;query;fragment;constructor(I,q,S,B,F,z=!1){typeof I=="object"?(this.scheme=I.scheme||h,this.authority=I.authority||h,this.path=I.path||h,this.query=I.query||h,this.fragment=I.fragment||h):(this.scheme=function(M,G){return M||G?M:"file"}(I,z),this.authority=q||h,this.path=function(M,G){switch(M){case"https":case"http":case"file":G?G[0]!==d&&(G=d+G):G=d}return G}(this.scheme,S||h),this.query=B||h,this.fragment=F||h,u(this,z))}get fsPath(){return x(this,!1)}with(I){if(!I)return this;let{scheme:q,authority:S,path:B,query:F,fragment:z}=I;return q===void 0?q=this.scheme:q===null&&(q=h),S===void 0?S=this.authority:S===null&&(S=h),B===void 0?B=this.path:B===null&&(B=h),F===void 0?F=this.query:F===null&&(F=h),z===void 0?z=this.fragment:z===null&&(z=h),q===this.scheme&&S===this.authority&&B===this.path&&F===this.query&&z===this.fragment?this:new m(q,S,B,F,z)}static parse(I,q=!1){let S=p.exec(I);return S?new m(S[2]||h,N(S[4]||h),N(S[5]||h),N(S[7]||h),N(S[9]||h),q):new m(h,h,h,h,h)}static file(I){let q=h;if(i&&(I=I.replace(/\\/g,d)),I[0]===d&&I[1]===d){let S=I.indexOf(d,2);S===-1?(q=I.substring(2),I=d):(q=I.substring(2,S),I=I.substring(S)||d)}return new m("file",q,I,h,h)}static from(I){let q=new m(I.scheme,I.authority,I.path,I.query,I.fragment);return u(q,!0),q}toString(I=!1){return w(this,I)}toJSON(){return this}static revive(I){if(I){if(I instanceof f)return I;{let q=new m(I);return q._formatted=I.external,q._fsPath=I._sep===g?I.fsPath:null,q}}return I}}let g=i?1:void 0;class m extends f{static{o(this,"l")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=x(this,!1)),this._fsPath}toString(I=!1){return I?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)}toJSON(){let I={$mid:1};return this._fsPath&&(I.fsPath=this._fsPath,I._sep=g),this._formatted&&(I.external=this._formatted),this.path&&(I.path=this.path),this.scheme&&(I.scheme=this.scheme),this.authority&&(I.authority=this.authority),this.query&&(I.query=this.query),this.fragment&&(I.fragment=this.fragment),I}}let y={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function b(O,I,q){let S,B=-1;for(let F=0;F<O.length;F++){let z=O.charCodeAt(F);if(z>=97&&z<=122||z>=65&&z<=90||z>=48&&z<=57||z===45||z===46||z===95||z===126||I&&z===47||q&&z===91||q&&z===93||q&&z===58)B!==-1&&(S+=encodeURIComponent(O.substring(B,F)),B=-1),S!==void 0&&(S+=O.charAt(F));else{S===void 0&&(S=O.substr(0,F));let M=y[z];M!==void 0?(B!==-1&&(S+=encodeURIComponent(O.substring(B,F)),B=-1),S+=M):B===-1&&(B=F)}}return B!==-1&&(S+=encodeURIComponent(O.substring(B))),S!==void 0?S:O}o(b,"d");function v(O){let I;for(let q=0;q<O.length;q++){let S=O.charCodeAt(q);S===35||S===63?(I===void 0&&(I=O.substr(0,q)),I+=y[S]):I!==void 0&&(I+=O[q])}return I!==void 0?I:O}o(v,"p");function x(O,I){let q;return q=O.authority&&O.path.length>1&&O.scheme==="file"?`//${O.authority}${O.path}`:O.path.charCodeAt(0)===47&&(O.path.charCodeAt(1)>=65&&O.path.charCodeAt(1)<=90||O.path.charCodeAt(1)>=97&&O.path.charCodeAt(1)<=122)&&O.path.charCodeAt(2)===58?I?O.path.substr(1):O.path[1].toLowerCase()+O.path.substr(2):O.path,i&&(q=q.replace(/\//g,"\\")),q}o(x,"m");function w(O,I){let q=I?v:b,S="",{scheme:B,authority:F,path:z,query:M,fragment:G}=O;if(B&&(S+=B,S+=":"),(F||B==="file")&&(S+=d,S+=d),F){let Y=F.indexOf("@");if(Y!==-1){let V=F.substr(0,Y);F=F.substr(Y+1),Y=V.lastIndexOf(":"),Y===-1?S+=q(V,!1,!1):(S+=q(V.substr(0,Y),!1,!1),S+=":",S+=q(V.substr(Y+1),!1,!0)),S+="@"}F=F.toLowerCase(),Y=F.lastIndexOf(":"),Y===-1?S+=q(F,!1,!0):(S+=q(F.substr(0,Y),!1,!0),S+=F.substr(Y))}if(z){if(z.length>=3&&z.charCodeAt(0)===47&&z.charCodeAt(2)===58){let Y=z.charCodeAt(1);Y>=65&&Y<=90&&(z=`/${String.fromCharCode(Y+32)}:${z.substr(3)}`)}else if(z.length>=2&&z.charCodeAt(1)===58){let Y=z.charCodeAt(0);Y>=65&&Y<=90&&(z=`${String.fromCharCode(Y+32)}:${z.substr(2)}`)}S+=q(z,!0,!1)}return M&&(S+="?",S+=q(M,!1,!1)),G&&(S+="#",S+=I?G:b(G,!1,!1)),S}o(w,"y");function E(O){try{return decodeURIComponent(O)}catch{return O.length>3?O.substr(0,3)+E(O.substr(3)):O}}o(E,"v");let A=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function N(O){return O.match(A)?O.replace(A,I=>E(I)):O}o(N,"C");var L=r(470);let C=L.posix||L,D="/";var P;(function(O){O.joinPath=function(I,...q){return I.with({path:C.join(I.path,...q)})},O.resolvePath=function(I,...q){let S=I.path,B=!1;S[0]!==D&&(S=D+S,B=!0);let F=C.resolve(S,...q);return B&&F[0]===D&&!I.authority&&(F=F.substring(1)),I.with({path:F})},O.dirname=function(I){if(I.path.length===0||I.path===D)return I;let q=C.dirname(I.path);return q.length===1&&q.charCodeAt(0)===46&&(q=""),I.with({path:q})},O.basename=function(I){return C.basename(I.path)},O.extname=function(I){return C.extname(I.path)}})(P||(P={}))})(),s8e=n})(),{URI:b0,Utils:g2}=s8e}),gh,x0=R(()=>{"use strict";o8e(),function(e){e.basename=g2.basename,e.dirname=g2.dirname,e.extname=g2.extname,e.joinPath=g2.joinPath,e.resolvePath=g2.resolvePath;function t(n,i){return n?.toString()===i?.toString()}o(t,"equals"),e.equals=t;function r(n,i){let a=typeof n=="string"?n:n.path,s=typeof i=="string"?i:i.path,l=a.split("/").filter(f=>f.length>0),u=s.split("/").filter(f=>f.length>0),h=0;for(;h<l.length&&l[h]===u[h];h++);let d="../".repeat(l.length-h),p=u.slice(h).join("/");return d+p}o(r,"relative"),e.relative=r}(gh||(gh={}))}),Ki,rF,nF,xv=R(()=>{"use strict";OQe(),xv(),fu(),Kl(),x0(),function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"}(Ki||(Ki={})),rF=class{static{o(this,"DefaultLangiumDocumentFactory")}constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,t=Aa.CancellationToken.None){let r=await this.fileSystemProvider.readFile(e);return this.createAsync(e,r,t)}fromTextDocument(e,t,r){return t=t??b0.parse(e.uri),r?this.createAsync(t,e,r):this.create(t,e)}fromString(e,t,r){return r?this.createAsync(t,e,r):this.create(t,e)}fromModel(e,t){return this.create(t,{$model:e})}create(e,t){if(typeof t=="string"){let r=this.parse(e,t);return this.createLangiumDocument(r,e,void 0,t)}else if("$model"in t){let r={value:t.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(r,e)}else{let r=this.parse(e,t.getText());return this.createLangiumDocument(r,e,t)}}async createAsync(e,t,r){if(typeof t=="string"){let n=await this.parseAsync(e,t,r);return this.createLangiumDocument(n,e,void 0,t)}else{let n=await this.parseAsync(e,t.getText(),r);return this.createLangiumDocument(n,e,t)}}createLangiumDocument(e,t,r,n){let i;if(r)i={parseResult:e,uri:t,state:Ki.Parsed,references:[],textDocument:r};else{let a=this.createTextDocumentGetter(t,n);i={parseResult:e,uri:t,state:Ki.Parsed,references:[],get textDocument(){return a()}}}return e.value.$document=i,i}async update(e,t){var r,n;let i=(r=e.parseResult.value.$cstNode)===null||r===void 0?void 0:r.root.fullText,a=(n=this.textDocuments)===null||n===void 0?void 0:n.get(e.uri.toString()),s=a?a.getText():await this.fileSystemProvider.readFile(e.uri);if(a)Object.defineProperty(e,"textDocument",{value:a});else{let l=this.createTextDocumentGetter(e.uri,s);Object.defineProperty(e,"textDocument",{get:l})}return i!==s&&(e.parseResult=await this.parseAsync(e.uri,s,t),e.parseResult.value.$document=e),e.state=Ki.Parsed,e}parse(e,t){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(t)}parseAsync(e,t,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(t,r)}createTextDocumentGetter(e,t){let r=this.serviceRegistry,n;return()=>n??(n=B9.create(e.toString(),r.getServices(e).LanguageMetaData.languageId,0,t??""))}},nF=class{static{o(this,"DefaultLangiumDocuments")}constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory}get all(){return qa(this.documentMap.values())}addDocument(e){let t=e.uri.toString();if(this.documentMap.has(t))throw new Error(`A document with the URI '${t}' is already present.`);this.documentMap.set(t,e)}getDocument(e){let t=e.toString();return this.documentMap.get(t)}async getOrCreateDocument(e,t){let r=this.getDocument(e);return r||(r=await this.langiumDocumentFactory.fromUri(e,t),this.addDocument(r),r)}createDocument(e,t,r){if(r)return this.langiumDocumentFactory.fromString(t,e,r).then(n=>(this.addDocument(n),n));{let n=this.langiumDocumentFactory.fromString(t,e);return this.addDocument(n),n}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){let t=e.toString(),r=this.documentMap.get(t);return r&&(r.state=Ki.Changed,r.precomputedScopes=void 0,r.references=[],r.diagnostics=void 0),r}deleteDocument(e){let t=e.toString(),r=this.documentMap.get(t);return r&&(r.state=Ki.Changed,this.documentMap.delete(t)),r}}}),iF,l8e=R(()=>{"use strict";fu(),hu(),El(),mu(),xv(),iF=class{static{o(this,"DefaultLinker")}constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,t=Aa.CancellationToken.None){for(let r of p0(e.parseResult.value))await Al(t),D5(r).forEach(n=>this.doLink(n,e))}doLink(e,t){let r=e.reference;if(r._ref===void 0)try{let n=this.getCandidate(e);if(jm(n))r._ref=n;else if(r._nodeDescription=n,this.langiumDocuments().hasDocument(n.documentUri)){let i=this.loadAstNode(n);r._ref=i??this.createLinkingError(e,n)}}catch(n){r._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${r.$refText}': ${n}`})}t.references.push(r)}unlink(e){for(let t of e.references)delete t._ref,delete t._nodeDescription;e.references=[]}getCandidate(e){return this.scopeProvider.getScope(e).getElement(e.reference.$refText)??this.createLinkingError(e)}buildReference(e,t,r,n){let i=this,a={$refNode:r,$refText:n,get ref(){var s;if(Ja(this._ref))return this._ref;if(WR(this._nodeDescription)){let l=i.loadAstNode(this._nodeDescription);this._ref=l??i.createLinkingError({reference:a,container:e,property:t},this._nodeDescription)}else if(this._ref===void 0){let l=i.getLinkedNode({reference:a,container:e,property:t});if(l.error&&Zl(e).state<Ki.ComputedScopes)return;this._ref=(s=l.node)!==null&&s!==void 0?s:l.error,this._nodeDescription=l.descr}return Ja(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return jm(this._ref)?this._ref:void 0}};return a}getLinkedNode(e){try{let t=this.getCandidate(e);if(jm(t))return{error:t};let r=this.loadAstNode(t);return r?{node:r,descr:t}:{descr:t,error:this.createLinkingError(e,t)}}catch(t){return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${t}`})}}}loadAstNode(e){if(e.node)return e.node;let t=this.langiumDocuments().getDocument(e.documentUri);if(t)return this.astNodeLocator.getAstNode(t.parseResult.value,e.path)}createLinkingError(e,t){let r=Zl(e.container);r.state<Ki.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);let n=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${n} named '${e.reference.$refText}'.`,targetDescription:t})}}});function aF(e){return typeof e.name=="string"}var sF,c8e=R(()=>{"use strict";ch(),o(aF,"isNamed"),sF=class{static{o(this,"DefaultNameProvider")}getName(e){if(aF(e))return e.name}getNameNode(e){return qk(e.$cstNode,"name")}}}),oF,u8e=R(()=>{"use strict";ch(),hu(),El(),oh(),Kl(),x0(),oF=class{static{o(this,"DefaultReferences")}constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){let t=XO(e),r=e.astNode;if(t&&r){let n=r[t.feature];if(kl(n))return n.ref;if(Array.isArray(n)){for(let i of n)if(kl(i)&&i.$refNode&&i.$refNode.offset<=e.offset&&i.$refNode.end>=e.end)return i.ref}}if(r){let n=this.nameProvider.getNameNode(r);if(n&&(n===e||KR(e,n)))return r}}}findDeclarationNode(e){let t=this.findDeclaration(e);if(t?.$cstNode)return this.nameProvider.getNameNode(t)??t.$cstNode}findReferences(e,t){let r=[];if(t.includeDeclaration){let i=this.getReferenceToSelf(e);i&&r.push(i)}let n=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return t.documentUri&&(n=n.filter(i=>gh.equals(i.sourceUri,t.documentUri))),r.push(...n),qa(r)}getReferenceToSelf(e){let t=this.nameProvider.getNameNode(e);if(t){let r=Zl(e),n=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:n,targetUri:r.uri,targetPath:n,segment:Um(t),local:!0}}}}}),f2,wv,kv=R(()=>{"use strict";Kl(),f2=class{static{o(this,"MultiMap")}constructor(e){if(this.map=new Map,e)for(let[t,r]of e)this.add(t,r)}get size(){return E5.sum(qa(this.map.values()).map(e=>e.length))}clear(){this.map.clear()}delete(e,t){if(t===void 0)return this.map.delete(e);{let r=this.map.get(e);if(r){let n=r.indexOf(t);if(n>=0)return r.length===1?this.map.delete(e):r.splice(n,1),!0}return!1}}get(e){var t;return(t=this.map.get(e))!==null&&t!==void 0?t:[]}has(e,t){if(t===void 0)return this.map.has(e);{let r=this.map.get(e);return r?r.indexOf(t)>=0:!1}}add(e,t){return this.map.has(e)?this.map.get(e).push(t):this.map.set(e,[t]),this}addAll(e,t){return this.map.has(e)?this.map.get(e).push(...t):this.map.set(e,Array.from(t)),this}forEach(e){this.map.forEach((t,r)=>t.forEach(n=>e(n,r,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return qa(this.map.entries()).flatMap(([e,t])=>t.map(r=>[e,r]))}keys(){return qa(this.map.keys())}values(){return qa(this.map.values()).flat()}entriesGroupedByKey(){return qa(this.map.entries())}},wv=class{static{o(this,"BiMap")}get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(let[t,r]of e)this.set(t,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,t){return this.map.set(e,t),this.inverse.set(t,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){let t=this.map.get(e);return t!==void 0?(this.map.delete(e),this.inverse.delete(t),!0):!1}}}),lF,h8e=R(()=>{"use strict";fu(),El(),kv(),mu(),lF=class{static{o(this,"DefaultScopeComputation")}constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,t=Aa.CancellationToken.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,t)}async computeExportsForNode(e,t,r=I5,n=Aa.CancellationToken.None){let i=[];this.exportNode(e,i,t);for(let a of r(e))await Al(n),this.exportNode(a,i,t);return i}exportNode(e,t,r){let n=this.nameProvider.getName(e);n&&t.push(this.descriptions.createDescription(e,n,r))}async computeLocalScopes(e,t=Aa.CancellationToken.None){let r=e.parseResult.value,n=new f2;for(let i of Wd(r))await Al(t),this.processNode(i,e,n);return n}processNode(e,t,r){let n=e.$container;if(n){let i=this.nameProvider.getName(e);i&&r.add(n,this.descriptions.createDescription(e,i,t))}}}}),F9,cF,d8e,p8e=R(()=>{"use strict";Kl(),F9=class{static{o(this,"StreamScope")}constructor(e,t,r){var n;this.elements=e,this.outerScope=t,this.caseInsensitive=(n=r?.caseInsensitive)!==null&&n!==void 0?n:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){let t=this.caseInsensitive?this.elements.find(r=>r.name.toLowerCase()===e.toLowerCase()):this.elements.find(r=>r.name===e);if(t)return t;if(this.outerScope)return this.outerScope.getElement(e)}},cF=class{static{o(this,"MapScope")}constructor(e,t,r){var n;this.elements=new Map,this.caseInsensitive=(n=r?.caseInsensitive)!==null&&n!==void 0?n:!1;for(let i of e){let a=this.caseInsensitive?i.name.toLowerCase():i.name;this.elements.set(a,i)}this.outerScope=t}getElement(e){let t=this.caseInsensitive?e.toLowerCase():e,r=this.elements.get(t);if(r)return r;if(this.outerScope)return this.outerScope.getElement(e)}getAllElements(){let e=qa(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}},d8e={getElement(){},getAllElements(){return T5}}}),Tv,$9,Ev,uF,z9,hF=R(()=>{"use strict";Tv=class{static{o(this,"DisposableCache")}constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(e=>e.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},$9=class extends Tv{static{o(this,"SimpleCache")}constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,t){this.throwIfDisposed(),this.cache.set(e,t)}get(e,t){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(t){let r=t();return this.cache.set(e,r),r}else return}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}},Ev=class extends Tv{static{o(this,"ContextCache")}constructor(e){super(),this.cache=new Map,this.converter=e??(t=>t)}has(e,t){return this.throwIfDisposed(),this.cacheForContext(e).has(t)}set(e,t,r){this.throwIfDisposed(),this.cacheForContext(e).set(t,r)}get(e,t,r){this.throwIfDisposed();let n=this.cacheForContext(e);if(n.has(t))return n.get(t);if(r){let i=r();return n.set(t,i),i}else return}delete(e,t){return this.throwIfDisposed(),this.cacheForContext(e).delete(t)}clear(e){if(this.throwIfDisposed(),e){let t=this.converter(e);this.cache.delete(t)}else this.cache.clear()}cacheForContext(e){let t=this.converter(e),r=this.cache.get(t);return r||(r=new Map,this.cache.set(t,r)),r}},uF=class extends Ev{static{o(this,"DocumentCache")}constructor(e){super(t=>t.toString()),this.onDispose(e.workspace.DocumentBuilder.onUpdate((t,r)=>{let n=t.concat(r);for(let i of n)this.clear(i)}))}},z9=class extends $9{static{o(this,"WorkspaceCache")}constructor(e){super(),this.onDispose(e.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}}}),dF,g8e=R(()=>{"use strict";p8e(),El(),Kl(),hF(),dF=class{static{o(this,"DefaultScopeProvider")}constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new z9(e.shared)}getScope(e){let t=[],r=this.reflection.getReferenceType(e),n=Zl(e.container).precomputedScopes;if(n){let a=e.container;do{let s=n.get(a);s.length>0&&t.push(qa(s).filter(l=>this.reflection.isSubtype(l.type,r))),a=a.$container}while(a)}let i=this.getGlobalScope(r,e);for(let a=t.length-1;a>=0;a--)i=this.createScope(t[a],i);return i}createScope(e,t,r){return new F9(qa(e),t,r)}createScopeForNodes(e,t,r){let n=qa(e).map(i=>{let a=this.nameProvider.getName(i);if(a)return this.descriptions.createDescription(i,a)}).nonNullable();return new F9(n,t,r)}getGlobalScope(e,t){return this.globalScopeCache.get(e,()=>new cF(this.indexManager.allElements(e)))}}});function pF(e){return typeof e.$comment=="string"}function gF(e){return typeof e=="object"&&!!e&&("$ref"in e||"$error"in e)}var fF,mF=R(()=>{"use strict";o8e(),hu(),El(),ch(),o(pF,"isAstNodeWithComment"),o(gF,"isIntermediateReference"),fF=class{static{o(this,"DefaultJsonSerializer")}constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,t={}){let r=t?.replacer,n=o((a,s)=>this.replacer(a,s,t),"defaultReplacer"),i=r?(a,s)=>r(a,s,n):n;try{return this.currentDocument=Zl(e),JSON.stringify(e,i,t?.space)}finally{this.currentDocument=void 0}}deserialize(e,t={}){let r=JSON.parse(e);return this.linkNode(r,r,t),r}replacer(e,t,{refText:r,sourceText:n,textRegions:i,comments:a,uriConverter:s}){var l,u,h,d;if(!this.ignoreProperties.has(e))if(kl(t)){let p=t.ref,f=r?t.$refText:void 0;if(p){let g=Zl(p),m="";this.currentDocument&&this.currentDocument!==g&&(s?m=s(g.uri,t):m=g.uri.toString());let y=this.astNodeLocator.getAstNodePath(p);return{$ref:`${m}#${y}`,$refText:f}}else return{$error:(u=(l=t.error)===null||l===void 0?void 0:l.message)!==null&&u!==void 0?u:"Could not resolve reference",$refText:f}}else if(Ja(t)){let p;if(i&&(p=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},t)),(!e||t.$document)&&p?.$textRegion&&(p.$textRegion.documentURI=(h=this.currentDocument)===null||h===void 0?void 0:h.uri.toString())),n&&!e&&(p??(p=Object.assign({},t)),p.$sourceText=(d=t.$cstNode)===null||d===void 0?void 0:d.text),a){p??(p=Object.assign({},t));let f=this.commentProvider.getComment(t);f&&(p.$comment=f.replace(/\r/g,""))}return p??t}else return t}addAstNodeRegionWithAssignmentsTo(e){let t=o(r=>({offset:r.offset,end:r.end,length:r.length,range:r.range}),"createDocumentSegment");if(e.$cstNode){let r=e.$textRegion=t(e.$cstNode),n=r.assignments={};return Object.keys(e).filter(i=>!i.startsWith("$")).forEach(i=>{let a=VO(e.$cstNode,i).map(t);a.length!==0&&(n[i]=a)}),e}}linkNode(e,t,r,n,i,a){for(let[l,u]of Object.entries(e))if(Array.isArray(u))for(let h=0;h<u.length;h++){let d=u[h];gF(d)?u[h]=this.reviveReference(e,l,t,d,r):Ja(d)&&this.linkNode(d,t,r,e,l,h)}else gF(u)?e[l]=this.reviveReference(e,l,t,u,r):Ja(u)&&this.linkNode(u,t,r,e,l);let s=e;s.$container=n,s.$containerProperty=i,s.$containerIndex=a}reviveReference(e,t,r,n,i){let a=n.$refText,s=n.$error;if(n.$ref){let l=this.getRefNode(r,n.$ref,i.uriConverter);if(Ja(l))return a||(a=this.nameProvider.getName(l)),{$refText:a??"",ref:l};s=l}if(s){let l={$refText:a??""};return l.error={container:e,property:t,message:s,reference:l},l}else return}getRefNode(e,t,r){try{let n=t.indexOf("#");if(n===0)return this.astNodeLocator.getAstNode(e,t.substring(1))||"Could not resolve path: "+t;if(n<0){let l=r?r(t):b0.parse(t),u=this.langiumDocuments.getDocument(l);return u?u.parseResult.value:"Could not find document for URI: "+t}let i=r?r(t.substring(0,n)):b0.parse(t.substring(0,n)),a=this.langiumDocuments.getDocument(i);return a?n===t.length-1?a.parseResult.value:this.astNodeLocator.getAstNode(a.parseResult.value,t.substring(n+1))||"Could not resolve URI: "+t:"Could not find document for URI: "+t}catch(n){return String(n)}}}}),yF,f8e=R(()=>{"use strict";x0(),yF=class{static{o(this,"DefaultServiceRegistry")}register(e){if(!this.singleton&&!this.map){this.singleton=e;return}if(!this.map&&(this.map={},this.singleton)){for(let t of this.singleton.LanguageMetaData.fileExtensions)this.map[t]=this.singleton;this.singleton=void 0}for(let t of e.LanguageMetaData.fileExtensions)this.map[t]!==void 0&&this.map[t]!==e&&console.warn(`The file extension ${t} is used by multiple languages. It is now assigned to '${e.LanguageMetaData.languageId}'.`),this.map[t]=e}getServices(e){if(this.singleton!==void 0)return this.singleton;if(this.map===void 0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");let t=gh.extname(e),r=this.map[t];if(!r)throw new Error(`The service registry contains no services for the extension '${t}'.`);return r}get all(){return this.singleton!==void 0?[this.singleton]:this.map!==void 0?Object.values(this.map):[]}}});function q9(e){return{code:e}}var Cv,vF,G9=R(()=>{"use strict";kv(),mu(),Kl(),o(q9,"diagnosticData"),function(e){e.all=["fast","slow","built-in"]}(Cv||(Cv={})),vF=class{static{o(this,"ValidationRegistry")}constructor(e){this.entries=new f2,this.reflection=e.shared.AstReflection}register(e,t=this,r="fast"){if(r==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[n,i]of Object.entries(e)){let a=i;if(Array.isArray(a))for(let s of a){let l={check:this.wrapValidationException(s,t),category:r};this.addEntry(n,l)}else if(typeof a=="function"){let s={check:this.wrapValidationException(a,t),category:r};this.addEntry(n,s)}}}wrapValidationException(e,t){return async(r,n,i)=>{try{await e.call(t,r,n,i)}catch(a){if(p2(a))throw a;console.error("An error occurred during validation:",a);let s=a instanceof Error?a.message:String(a);a instanceof Error&&a.stack&&console.error(a.stack),n("error","An error occurred during validation: "+s,{node:r})}}}addEntry(e,t){if(e==="AstNode"){this.entries.add("AstNode",t);return}for(let r of this.reflection.getAllSubTypes(e))this.entries.add(r,t)}getChecks(e,t){let r=qa(this.entries.get(e)).concat(this.entries.get("AstNode"));return t&&(r=r.filter(n=>t.includes(n.category))),r.map(n=>n.check)}}});function bF(e){if(e.range)return e.range;let t;return typeof e.property=="string"?t=qk(e.node.$cstNode,e.property,e.index):typeof e.keyword=="string"&&(t=WO(e.node.$cstNode,e.keyword,e.index)),t??(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function _v(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}var xF,w0,m8e=R(()=>{"use strict";fu(),ch(),El(),oh(),mu(),G9(),xF=class{static{o(this,"DefaultDocumentValidator")}constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,t={},r=Aa.CancellationToken.None){let n=e.parseResult,i=[];if(await Al(r),(!t.categories||t.categories.includes("built-in"))&&(this.processLexingErrors(n,i,t),t.stopAfterLexingErrors&&i.some(a=>{var s;return((s=a.data)===null||s===void 0?void 0:s.code)===w0.LexingError})||(this.processParsingErrors(n,i,t),t.stopAfterParsingErrors&&i.some(a=>{var s;return((s=a.data)===null||s===void 0?void 0:s.code)===w0.ParsingError}))||(this.processLinkingErrors(e,i,t),t.stopAfterLinkingErrors&&i.some(a=>{var s;return((s=a.data)===null||s===void 0?void 0:s.code)===w0.LinkingError}))))return i;try{i.push(...await this.validateAst(n.value,t,r))}catch(a){if(p2(a))throw a;console.error("An error occurred during validation:",a)}return await Al(r),i}processLexingErrors(e,t,r){for(let n of e.lexerErrors){let i={severity:_v("error"),range:{start:{line:n.line-1,character:n.column-1},end:{line:n.line-1,character:n.column+n.length-1}},message:n.message,data:q9(w0.LexingError),source:this.getSource()};t.push(i)}}processParsingErrors(e,t,r){for(let n of e.parserErrors){let i;if(isNaN(n.token.startOffset)){if("previousToken"in n){let a=n.previousToken;if(isNaN(a.startOffset)){let s={line:0,character:0};i={start:s,end:s}}else{let s={line:a.endLine-1,character:a.endColumn};i={start:s,end:s}}}}else i=C5(n.token);if(i){let a={severity:_v("error"),range:i,message:n.message,data:q9(w0.ParsingError),source:this.getSource()};t.push(a)}}}processLinkingErrors(e,t,r){for(let n of e.references){let i=n.error;if(i){let a={node:i.container,property:i.property,index:i.index,data:{code:w0.LinkingError,containerType:i.container.$type,property:i.property,refText:i.reference.$refText}};t.push(this.toDiagnostic("error",i.message,a))}}}async validateAst(e,t,r=Aa.CancellationToken.None){let n=[],i=o((a,s,l)=>{n.push(this.toDiagnostic(a,s,l))},"acceptor");return await Promise.all(p0(e).map(async a=>{await Al(r);let s=this.validationRegistry.getChecks(a.$type,t.categories);for(let l of s)await l(a,i,r)})),n}toDiagnostic(e,t,r){return{message:t,range:bF(r),severity:_v(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}},o(bF,"getDiagnosticRange"),o(_v,"toDiagnosticSeverity"),function(e){e.LexingError="lexing-error",e.ParsingError="parsing-error",e.LinkingError="linking-error"}(w0||(w0={}))}),wF,kF,y8e=R(()=>{"use strict";fu(),hu(),El(),oh(),mu(),x0(),wF=class{static{o(this,"DefaultAstNodeDescriptionProvider")}constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,t,r=Zl(e)){t??(t=this.nameProvider.getName(e));let n=this.astNodeLocator.getAstNodePath(e);if(!t)throw new Error(`Node at path ${n} has no name.`);let i,a=o(()=>{var s;return i??(i=Um((s=this.nameProvider.getNameNode(e))!==null&&s!==void 0?s:e.$cstNode))},"nameSegmentGetter");return{node:e,name:t,get nameSegment(){return a()},selectionSegment:Um(e.$cstNode),type:e.$type,documentUri:r.uri,path:n}}},kF=class{static{o(this,"DefaultReferenceDescriptionProvider")}constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,t=Aa.CancellationToken.None){let r=[],n=e.parseResult.value;for(let i of p0(n))await Al(t),D5(i).filter(a=>!jm(a)).forEach(a=>{let s=this.createDescription(a);s&&r.push(s)});return r}createDescription(e){let t=e.reference.$nodeDescription,r=e.reference.$refNode;if(!t||!r)return;let n=Zl(e.container).uri;return{sourceUri:n,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:t.documentUri,targetPath:t.path,segment:Um(r),local:gh.equals(t.documentUri,n)}}}}),TF,v8e=R(()=>{"use strict";TF=class{static{o(this,"DefaultAstNodeLocator")}constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){let t=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return t+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:t}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return t!==void 0?e+this.indexSeparator+t:e}getAstNode(e,t){return t.split(this.segmentSeparator).reduce((r,n)=>{if(!r||n.length===0)return r;let i=n.indexOf(this.indexSeparator);if(i>0){let a=n.substring(0,i),s=parseInt(n.substring(i+1));return r[a]?.[s]}return r[n]},e)}}}),EF,b8e=R(()=>{"use strict";mu(),EF=class{static{o(this,"DefaultConfigurationProvider")}constructor(e){this._ready=new ph,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var t,r;this.workspaceConfig=(r=(t=e.capabilities.workspace)===null||t===void 0?void 0:t.configuration)!==null&&r!==void 0?r:!1}async initialized(e){if(this.workspaceConfig){if(e.register){let t=this.serviceRegistry.all;e.register({section:t.map(r=>this.toSectionName(r.LanguageMetaData.languageId))})}if(e.fetchConfiguration){let t=this.serviceRegistry.all.map(n=>({section:this.toSectionName(n.LanguageMetaData.languageId)})),r=await e.fetchConfiguration(t);t.forEach((n,i)=>{this.updateSectionConfiguration(n.section,r[i])})}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach(t=>{this.updateSectionConfiguration(t,e.settings[t])})}updateSectionConfiguration(e,t){this.settings[e]=t}async getConfiguration(e,t){await this.ready;let r=this.toSectionName(e);if(this.settings[r])return this.settings[r][t]}toSectionName(e){return`${e}`}}}),m2,x8e=R(()=>{"use strict";(function(e){function t(r){return{dispose:o(async()=>await r(),"dispose")}}o(t,"create"),e.create=t})(m2||(m2={}))}),CF,w8e=R(()=>{"use strict";fu(),x8e(),kv(),mu(),Kl(),G9(),xv(),CF=class{static{o(this,"DefaultDocumentBuilder")}constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new f2,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=Ki.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,t={},r=Aa.CancellationToken.None){var n,i;for(let a of e){let s=a.uri.toString();if(a.state===Ki.Validated){if(typeof t.validation=="boolean"&&t.validation)a.state=Ki.IndexedReferences,a.diagnostics=void 0,this.buildState.delete(s);else if(typeof t.validation=="object"){let l=this.buildState.get(s),u=(n=l?.result)===null||n===void 0?void 0:n.validationChecks;if(u){let h=((i=t.validation.categories)!==null&&i!==void 0?i:Cv.all).filter(d=>!u.includes(d));h.length>0&&(this.buildState.set(s,{completed:!1,options:{validation:Object.assign(Object.assign({},t.validation),{categories:h})},result:l.result}),a.state=Ki.IndexedReferences)}}}else this.buildState.delete(s)}this.currentState=Ki.Changed,await this.emitUpdate(e.map(a=>a.uri),[]),await this.buildDocuments(e,t,r)}async update(e,t,r=Aa.CancellationToken.None){this.currentState=Ki.Changed;for(let a of t)this.langiumDocuments.deleteDocument(a),this.buildState.delete(a.toString()),this.indexManager.remove(a);for(let a of e){if(!this.langiumDocuments.invalidateDocument(a)){let s=this.langiumDocumentFactory.fromModel({$type:"INVALID"},a);s.state=Ki.Changed,this.langiumDocuments.addDocument(s)}this.buildState.delete(a.toString())}let n=qa(e).concat(t).map(a=>a.toString()).toSet();this.langiumDocuments.all.filter(a=>!n.has(a.uri.toString())&&this.shouldRelink(a,n)).forEach(a=>{this.serviceRegistry.getServices(a.uri).references.Linker.unlink(a),a.state=Math.min(a.state,Ki.ComputedScopes),a.diagnostics=void 0}),await this.emitUpdate(e,t),await Al(r);let i=this.langiumDocuments.all.filter(a=>{var s;return a.state<Ki.Linked||!(!((s=this.buildState.get(a.uri.toString()))===null||s===void 0)&&s.completed)}).toArray();await this.buildDocuments(i,this.updateBuildOptions,r)}async emitUpdate(e,t){await Promise.all(this.updateListeners.map(r=>r(e,t)))}shouldRelink(e,t){return e.references.some(r=>r.error!==void 0)?!0:this.indexManager.isAffected(e,t)}onUpdate(e){return this.updateListeners.push(e),m2.create(()=>{let t=this.updateListeners.indexOf(e);t>=0&&this.updateListeners.splice(t,1)})}async buildDocuments(e,t,r){this.prepareBuild(e,t),await this.runCancelable(e,Ki.Parsed,r,i=>this.langiumDocumentFactory.update(i,r)),await this.runCancelable(e,Ki.IndexedContent,r,i=>this.indexManager.updateContent(i,r)),await this.runCancelable(e,Ki.ComputedScopes,r,async i=>{let a=this.serviceRegistry.getServices(i.uri).references.ScopeComputation;i.precomputedScopes=await a.computeLocalScopes(i,r)}),await this.runCancelable(e,Ki.Linked,r,i=>this.serviceRegistry.getServices(i.uri).references.Linker.link(i,r)),await this.runCancelable(e,Ki.IndexedReferences,r,i=>this.indexManager.updateReferences(i,r));let n=e.filter(i=>this.shouldValidate(i));await this.runCancelable(n,Ki.Validated,r,i=>this.validate(i,r));for(let i of e){let a=this.buildState.get(i.uri.toString());a&&(a.completed=!0)}}prepareBuild(e,t){for(let r of e){let n=r.uri.toString(),i=this.buildState.get(n);(!i||i.completed)&&this.buildState.set(n,{completed:!1,options:t,result:i?.result})}}async runCancelable(e,t,r,n){let i=e.filter(a=>a.state<t);for(let a of i)await Al(r),await n(a),a.state=t;await this.notifyBuildPhase(i,t,r),this.currentState=t}onBuildPhase(e,t){return this.buildPhaseListeners.add(e,t),m2.create(()=>{this.buildPhaseListeners.delete(e,t)})}waitUntil(e,t,r){let n;if(t&&"path"in t?n=t:r=t,r??(r=Aa.CancellationToken.None),n){let i=this.langiumDocuments.getDocument(n);if(i&&i.state>e)return Promise.resolve(n)}return this.currentState>=e?Promise.resolve(void 0):r.isCancellationRequested?Promise.reject(v0):new Promise((i,a)=>{let s=this.onBuildPhase(e,()=>{if(s.dispose(),l.dispose(),n){let u=this.langiumDocuments.getDocument(n);i(u?.uri)}else i(void 0)}),l=r.onCancellationRequested(()=>{s.dispose(),l.dispose(),a(v0)})})}async notifyBuildPhase(e,t,r){if(e.length===0)return;let n=this.buildPhaseListeners.get(t);for(let i of n)await Al(r),await i(e,r)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,t){var r,n;let i=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,a=this.getBuildOptions(e).validation,s=typeof a=="object"?a:void 0,l=await i.validateDocument(e,s,t);e.diagnostics?e.diagnostics.push(...l):e.diagnostics=l;let u=this.buildState.get(e.uri.toString());if(u){(r=u.result)!==null&&r!==void 0||(u.result={});let h=(n=s?.categories)!==null&&n!==void 0?n:Cv.all;u.result.validationChecks?u.result.validationChecks.push(...h):u.result.validationChecks=[...h]}}getBuildOptions(e){var t,r;return(r=(t=this.buildState.get(e.uri.toString()))===null||t===void 0?void 0:t.options)!==null&&r!==void 0?r:{}}}}),_F,k8e=R(()=>{"use strict";El(),hF(),fu(),Kl(),x0(),_F=class{static{o(this,"DefaultIndexManager")}constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new Ev,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,t){let r=Zl(e).uri,n=[];return this.referenceIndex.forEach(i=>{i.forEach(a=>{gh.equals(a.targetUri,r)&&a.targetPath===t&&n.push(a)})}),qa(n)}allElements(e,t){let r=qa(this.symbolIndex.keys());return t&&(r=r.filter(n=>!t||t.has(n))),r.map(n=>this.getFileDescriptions(n,e)).flat()}getFileDescriptions(e,t){var r;return t?this.symbolByTypeIndex.get(e,t,()=>{var n;return((n=this.symbolIndex.get(e))!==null&&n!==void 0?n:[]).filter(i=>this.astReflection.isSubtype(i.type,t))}):(r=this.symbolIndex.get(e))!==null&&r!==void 0?r:[]}remove(e){let t=e.toString();this.symbolIndex.delete(t),this.symbolByTypeIndex.clear(t),this.referenceIndex.delete(t)}async updateContent(e,t=Aa.CancellationToken.None){let r=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,t),n=e.uri.toString();this.symbolIndex.set(n,r),this.symbolByTypeIndex.clear(n)}async updateReferences(e,t=Aa.CancellationToken.None){let r=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,t);this.referenceIndex.set(e.uri.toString(),r)}isAffected(e,t){let r=this.referenceIndex.get(e.uri.toString());return r?r.some(n=>!n.local&&t.has(n.targetUri.toString())):!1}}}),SF,T8e=R(()=>{"use strict";fu(),mu(),x0(),SF=class{static{o(this,"DefaultWorkspaceManager")}constructor(e){this.initialBuildOptions={},this._ready=new ph,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}initialize(e){var t;this.folders=(t=e.workspaceFolders)!==null&&t!==void 0?t:void 0}initialized(e){return this.mutex.write(t=>{var r;return this.initializeWorkspace((r=this.folders)!==null&&r!==void 0?r:[],t)})}async initializeWorkspace(e,t=Aa.CancellationToken.None){let r=await this.performStartup(e);await Al(t),await this.documentBuilder.build(r,this.initialBuildOptions,t)}async performStartup(e){let t=this.serviceRegistry.all.flatMap(i=>i.LanguageMetaData.fileExtensions),r=[],n=o(i=>{r.push(i),this.langiumDocuments.hasDocument(i.uri)||this.langiumDocuments.addDocument(i)},"collector");return await this.loadAdditionalDocuments(e,n),await Promise.all(e.map(i=>[i,this.getRootFolder(i)]).map(async i=>this.traverseFolder(...i,t,n))),this._ready.resolve(),r}loadAdditionalDocuments(e,t){return Promise.resolve()}getRootFolder(e){return b0.parse(e.uri)}async traverseFolder(e,t,r,n){let i=await this.fileSystemProvider.readDirectory(t);await Promise.all(i.map(async a=>{if(this.includeEntry(e,a,r)){if(a.isDirectory)await this.traverseFolder(e,a.uri,r,n);else if(a.isFile){let s=await this.langiumDocuments.getOrCreateDocument(a.uri);n(s)}}}))}includeEntry(e,t,r){let n=gh.basename(t.uri);if(n.startsWith("."))return!1;if(t.isDirectory)return n!=="node_modules"&&n!=="out";if(t.isFile){let i=gh.extname(t.uri);return r.includes(i)}return!1}}});function AF(e){return Array.isArray(e)&&(e.length===0||"name"in e[0])}function Y9(e){return e&&"modes"in e&&"defaultMode"in e}function j9(e){return!AF(e)&&!Y9(e)}var LF,E8e=R(()=>{"use strict";l2(),LF=class{static{o(this,"DefaultLexer")}constructor(e){let t=e.parser.TokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(t);let r=j9(t)?Object.values(t):t;this.chevrotainLexer=new Zo(r,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(e){var t;let r=this.chevrotainLexer.tokenize(e);return{tokens:r.tokens,errors:r.errors,hidden:(t=r.groups.hidden)!==null&&t!==void 0?t:[]}}toTokenTypeDictionary(e){if(j9(e))return e;let t=Y9(e)?Object.values(e.modes).flat():e,r={};return t.forEach(n=>r[n.name]=n),r}},o(AF,"isTokenTypeArray"),o(Y9,"isIMultiModeLexerDefinition"),o(j9,"isTokenTypeDictionary")});function NF(e,t,r){let n,i;typeof e=="string"?(i=t,n=r):(i=e.range.start,n=t),i||(i=bi.create(0,0));let a=IF(e),s=U9(n),l=C8e({lines:a,position:i,options:s});return A8e({index:0,tokens:l,position:i})}function MF(e,t){let r=U9(t),n=IF(e);if(n.length===0)return!1;let i=n[0],a=n[n.length-1],s=r.start,l=r.end;return!!s?.exec(i)&&!!l?.exec(a)}function IF(e){let t="";return typeof e=="string"?t=e:t=e.text,t.split($O)}function C8e(e){var t,r,n;let i=[],a=e.position.line,s=e.position.character;for(let l=0;l<e.lines.length;l++){let u=l===0,h=l===e.lines.length-1,d=e.lines[l],p=0;if(u&&e.options.start){let f=(t=e.options.start)===null||t===void 0?void 0:t.exec(d);f&&(p=f.index+f[0].length)}else{let f=(r=e.options.line)===null||r===void 0?void 0:r.exec(d);f&&(p=f.index+f[0].length)}if(h){let f=(n=e.options.end)===null||n===void 0?void 0:n.exec(d);f&&(d=d.substring(0,f.index))}if(d=d.substring(0,S8e(d)),H9(d,p)>=d.length){if(i.length>0){let f=bi.create(a,s);i.push({type:"break",content:"",range:Kn.create(f,f)})}}else{BF.lastIndex=p;let f=BF.exec(d);if(f){let g=f[0],m=f[1],y=bi.create(a,s+p),b=bi.create(a,s+p+g.length);i.push({type:"tag",content:m,range:Kn.create(y,b)}),p+=g.length,p=H9(d,p)}if(p<d.length){let g=d.substring(p),m=Array.from(g.matchAll(R8e));i.push(..._8e(m,g,a,s+p))}}a++,s=0}return i.length>0&&i[i.length-1].type==="break"?i.slice(0,-1):i}function _8e(e,t,r,n){let i=[];if(e.length===0){let a=bi.create(r,n),s=bi.create(r,n+t.length);i.push({type:"text",content:t,range:Kn.create(a,s)})}else{let a=0;for(let l of e){let u=l.index,h=t.substring(a,u);h.length>0&&i.push({type:"text",content:t.substring(a,u),range:Kn.create(bi.create(r,a+n),bi.create(r,u+n))});let d=h.length+1,p=l[1];if(i.push({type:"inline-tag",content:p,range:Kn.create(bi.create(r,a+d+n),bi.create(r,a+d+p.length+n))}),d+=p.length,l.length===4){d+=l[2].length;let f=l[3];i.push({type:"text",content:f,range:Kn.create(bi.create(r,a+d+n),bi.create(r,a+d+f.length+n))})}else i.push({type:"text",content:"",range:Kn.create(bi.create(r,a+d+n),bi.create(r,a+d+n))});a=u+l[0].length}let s=t.substring(a);s.length>0&&i.push({type:"text",content:s,range:Kn.create(bi.create(r,a+n),bi.create(r,a+n+s.length))})}return i}function H9(e,t){let r=e.substring(t).match(O8e);return r?t+r.index:e.length}function S8e(e){let t=e.match(P8e);if(t&&typeof t.index=="number")return t.index}function A8e(e){var t,r,n,i;let a=bi.create(e.position.line,e.position.character);if(e.tokens.length===0)return new FF([],Kn.create(a,a));let s=[];for(;e.index<e.tokens.length;){let h=L8e(e,s[s.length-1]);h&&s.push(h)}let l=(r=(t=s[0])===null||t===void 0?void 0:t.range.start)!==null&&r!==void 0?r:a,u=(i=(n=s[s.length-1])===null||n===void 0?void 0:n.range.end)!==null&&i!==void 0?i:a;return new FF(s,Kn.create(l,u))}function L8e(e,t){let r=e.tokens[e.index];if(r.type==="tag")return RF(e,!1);if(r.type==="text"||r.type==="inline-tag")return DF(e);N8e(r,t),e.index++}function N8e(e,t){if(t){let r=new $F("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}function DF(e){let t=e.tokens[e.index],r=t,n=t,i=[];for(;t&&t.type!=="break"&&t.type!=="tag";)i.push(M8e(e)),n=t,t=e.tokens[e.index];return new X9(i,Kn.create(r.range.start,n.range.end))}function M8e(e){return e.tokens[e.index].type==="inline-tag"?RF(e,!0):OF(e)}function RF(e,t){let r=e.tokens[e.index++],n=r.content.substring(1);if(e.tokens[e.index]?.type==="text")if(t){let a=OF(e);return new W9(n,new X9([a],a.range),t,Kn.create(r.range.start,a.range.end))}else{let a=DF(e);return new W9(n,a,t,Kn.create(r.range.start,a.range.end))}else{let a=r.range;return new W9(n,new X9([],a),t,a)}}function OF(e){let t=e.tokens[e.index++];return new $F(t.content,t.range)}function U9(e){if(!e)return U9({start:"/**",end:"*/",line:"*"});let{start:t,end:r,line:n}=e;return{start:V9(t,!0),end:V9(r,!1),line:V9(n,!0)}}function V9(e,t){if(typeof e=="string"||typeof e=="object"){let r=typeof e=="string"?Zm(e):e.source;return t?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return e}function I8e(e,t,r){var n,i;if(e==="linkplain"||e==="linkcode"||e==="link"){let a=t.indexOf(" "),s=t;if(a>0){let l=H9(t,a);s=t.substring(l),t=t.substring(0,a)}return(e==="linkcode"||e==="link"&&r.link==="code")&&(s=`\`${s}\``),(i=(n=r.renderLink)===null||n===void 0?void 0:n.call(r,t,s))!==null&&i!==void 0?i:D8e(t,s)}}function D8e(e,t){try{return b0.parse(e,!0),`[${t}](${e})`}catch{return e}}function PF(e){return e.endsWith(`
`)?`
`:`

`}var BF,R8e,O8e,P8e,FF,W9,X9,$F,B8e=R(()=>{"use strict";$7e(),$5(),x0(),o(NF,"parseJSDoc"),o(MF,"isJSDoc"),o(IF,"getLines"),BF=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,R8e=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu,o(C8e,"tokenize"),o(_8e,"buildInlineTokens"),O8e=/\S/,P8e=/\s*$/,o(H9,"skipWhitespace"),o(S8e,"lastCharacter"),o(A8e,"parseJSDocComment"),o(L8e,"parseJSDocElement"),o(N8e,"appendEmptyLine"),o(DF,"parseJSDocText"),o(M8e,"parseJSDocInline"),o(RF,"parseJSDocTag"),o(OF,"parseJSDocLine"),o(U9,"normalizeOptions"),o(V9,"normalizeOption"),FF=class{static{o(this,"JSDocCommentImpl")}constructor(e,t){this.elements=e,this.range=t}getTag(e){return this.getAllTags().find(t=>t.name===e)}getTags(e){return this.getAllTags().filter(t=>t.name===e)}getAllTags(){return this.elements.filter(e=>"name"in e)}toString(){let e="";for(let t of this.elements)if(e.length===0)e=t.toString();else{let r=t.toString();e+=PF(e)+r}return e.trim()}toMarkdown(e){let t="";for(let r of this.elements)if(t.length===0)t=r.toMarkdown(e);else{let n=r.toMarkdown(e);t+=PF(t)+n}return t.trim()}},W9=class{static{o(this,"JSDocTagImpl")}constructor(e,t,r,n){this.name=e,this.content=t,this.inline=r,this.range=n}toString(){let e=`@${this.name}`,t=this.content.toString();return this.content.inlines.length===1?e=`${e} ${t}`:this.content.inlines.length>1&&(e=`${e}
${t}`),this.inline?`{${e}}`:e}toMarkdown(e){var t,r;return(r=(t=e?.renderTag)===null||t===void 0?void 0:t.call(e,this))!==null&&r!==void 0?r:this.toMarkdownDefault(e)}toMarkdownDefault(e){let t=this.content.toMarkdown(e);if(this.inline){let i=I8e(this.name,t,e??{});if(typeof i=="string")return i}let r="";e?.tag==="italic"||e?.tag===void 0?r="*":e?.tag==="bold"?r="**":e?.tag==="bold-italic"&&(r="***");let n=`${r}@${this.name}${r}`;return this.content.inlines.length===1?n=`${n} \u2014 ${t}`:this.content.inlines.length>1&&(n=`${n}
${t}`),this.inline?`{${n}}`:n}},o(I8e,"renderInlineTag"),o(D8e,"renderLinkDefault"),X9=class{static{o(this,"JSDocTextImpl")}constructor(e,t){this.inlines=e,this.range=t}toString(){let e="";for(let t=0;t<this.inlines.length;t++){let r=this.inlines[t],n=this.inlines[t+1];e+=r.toString(),n&&n.range.start.line>r.range.start.line&&(e+=`
`)}return e}toMarkdown(e){let t="";for(let r=0;r<this.inlines.length;r++){let n=this.inlines[r],i=this.inlines[r+1];t+=n.toMarkdown(e),i&&i.range.start.line>n.range.start.line&&(t+=`
`)}return t}},$F=class{static{o(this,"JSDocLineImpl")}constructor(e,t){this.text=e,this.range=t}toString(){return this.text}toMarkdown(){return this.text}},o(PF,"fillNewlines")}),zF,F8e=R(()=>{"use strict";El(),B8e(),zF=class{static{o(this,"JSDocDocumentationProvider")}constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){let t=this.commentProvider.getComment(e);if(t&&MF(t))return NF(t).toMarkdown({renderLink:o((r,n)=>this.documentationLinkRenderer(e,r,n),"renderLink"),renderTag:o(r=>this.documentationTagRenderer(e,r),"renderTag")})}documentationLinkRenderer(e,t,r){var n;let i=(n=this.findNameInPrecomputedScopes(e,t))!==null&&n!==void 0?n:this.findNameInGlobalScope(e,t);if(i&&i.nameSegment){let a=i.nameSegment.range.start.line+1,s=i.nameSegment.range.start.character+1,l=i.documentUri.with({fragment:`L${a},${s}`});return`[${r}](${l.toString()})`}else return}documentationTagRenderer(e,t){}findNameInPrecomputedScopes(e,t){let r=Zl(e).precomputedScopes;if(!r)return;let n=e;do{let i=r.get(n).find(a=>a.name===t);if(i)return i;n=n.$container}while(n)}findNameInGlobalScope(e,t){return this.indexManager.allElements().find(r=>r.name===t)}}}),qF,$8e=R(()=>{"use strict";mF(),oh(),qF=class{static{o(this,"DefaultCommentProvider")}constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var t;return pF(e)?e.$comment:(t=JR(e.$cstNode,this.grammarConfig().multilineCommentRules))===null||t===void 0?void 0:t.text}}}),GF={},z8e=R(()=>{"use strict";Li(GF,Pr(i8e(),1))}),YF,q8e,G8e,Y8e=R(()=>{"use strict";mu(),z8e(),YF=class{static{o(this,"DefaultAsyncParser")}constructor(e){this.syncParser=e.parser.LangiumParser}parse(e){return Promise.resolve(this.syncParser.parse(e))}},q8e=class{static{o(this,"AbstractThreadedAsyncParser")}constructor(e){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=e.serializer.Hydrator}initializeWorkers(){for(;this.workerPool.length<this.threadCount;){let e=this.createWorker();e.onReady(()=>{if(this.queue.length>0){let t=this.queue.shift();t&&(e.lock(),t.resolve(e))}}),this.workerPool.push(e)}}async parse(e,t){let r=await this.acquireParserWorker(t),n=new ph,i,a=t.onCancellationRequested(()=>{i=setTimeout(()=>{this.terminateWorker(r)},this.terminationDelay)});return r.parse(e).then(s=>{let l=this.hydrator.hydrate(s);n.resolve(l)}).catch(s=>{n.reject(s)}).finally(()=>{a.dispose(),clearTimeout(i)}),n.promise}terminateWorker(e){e.terminate();let t=this.workerPool.indexOf(e);t>=0&&this.workerPool.splice(t,1)}async acquireParserWorker(e){this.initializeWorkers();for(let r of this.workerPool)if(r.ready)return r.lock(),r;let t=new ph;return e.onCancellationRequested(()=>{let r=this.queue.indexOf(t);r>=0&&this.queue.splice(r,1),t.reject(v0)}),this.queue.push(t),t.promise}},G8e=class{static{o(this,"ParserWorker")}get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(e,t,r,n){this.onReadyEmitter=new GF.Emitter,this.deferred=new ph,this._ready=!0,this._parsing=!1,this.sendMessage=e,this._terminate=n,t(i=>{let a=i;this.deferred.resolve(a),this.unlock()}),r(i=>{this.deferred.reject(i),this.unlock()})}terminate(){this.deferred.reject(v0),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(e){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new ph,this.sendMessage(e),this.deferred.promise}}}),jF,j8e=R(()=>{"use strict";fu(),mu(),jF=class{static{o(this,"DefaultWorkspaceLock")}constructor(){this.previousTokenSource=new Aa.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();let t=new Aa.CancellationTokenSource;return this.previousTokenSource=t,this.enqueue(this.writeQueue,e,t.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,t,r){let n=new ph,i={action:t,deferred:n,cancellationToken:r??Aa.CancellationToken.None};return e.push(i),this.performNextOperation(),n.promise}async performNextOperation(){if(!this.done)return;let e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else if(this.readQueue.length>0)e.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,await Promise.all(e.map(async({action:t,deferred:r,cancellationToken:n})=>{try{let i=await Promise.resolve().then(()=>t(n));r.resolve(i)}catch(i){p2(i)?r.resolve(void 0):r.reject(i)}})),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}}}),HF,H8e=R(()=>{"use strict";PB(),d0(),hu(),El(),kv(),oh(),HF=class{static{o(this,"DefaultHydrator")}constructor(e){this.grammarElementIdMap=new wv,this.tokenTypeIdMap=new wv,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors.map(t=>Object.assign({},t)),parserErrors:e.parserErrors.map(t=>Object.assign({},t)),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}createDehyrationContext(e){let t=new Map,r=new Map;for(let n of p0(e))t.set(n,{});if(e.$cstNode)for(let n of Hm(e.$cstNode))r.set(n,{});return{astNodes:t,cstNodes:r}}dehydrateAstNode(e,t){let r=t.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode!==void 0&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,t));for(let[n,i]of Object.entries(e))if(!n.startsWith("$"))if(Array.isArray(i)){let a=[];r[n]=a;for(let s of i)Ja(s)?a.push(this.dehydrateAstNode(s,t)):kl(s)?a.push(this.dehydrateReference(s,t)):a.push(s)}else Ja(i)?r[n]=this.dehydrateAstNode(i,t):kl(i)?r[n]=this.dehydrateReference(i,t):i!==void 0&&(r[n]=i);return r}dehydrateReference(e,t){let r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=t.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,t){let r=t.cstNodes.get(e);return Fw(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=t.astNodes.get(e.astNode),sh(e)?r.content=e.content.map(n=>this.dehydrateCstNode(n,t)):Gp(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){let t=e.value,r=this.createHydrationContext(t);return"$cstNode"in t&&this.hydrateCstNode(t.$cstNode,r),{lexerErrors:e.lexerErrors,parserErrors:e.parserErrors,value:this.hydrateAstNode(t,r)}}createHydrationContext(e){let t=new Map,r=new Map;for(let i of p0(e))t.set(i,{});let n;if(e.$cstNode)for(let i of Hm(e.$cstNode)){let a;"fullText"in i?(a=new _9(i.fullText),n=a):"content"in i?a=new yv:"tokenType"in i&&(a=this.hydrateCstLeafNode(i)),a&&(r.set(i,a),a.root=n)}return{astNodes:t,cstNodes:r}}hydrateAstNode(e,t){let r=t.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=t.cstNodes.get(e.$cstNode));for(let[n,i]of Object.entries(e))if(!n.startsWith("$"))if(Array.isArray(i)){let a=[];r[n]=a;for(let s of i)Ja(s)?a.push(this.setParent(this.hydrateAstNode(s,t),r)):kl(s)?a.push(this.hydrateReference(s,r,n,t)):a.push(s)}else Ja(i)?r[n]=this.setParent(this.hydrateAstNode(i,t),r):kl(i)?r[n]=this.hydrateReference(i,r,n,t):i!==void 0&&(r[n]=i);return r}setParent(e,t){return e.$container=t,e}hydrateReference(e,t,r,n){return this.linker.buildReference(t,r,n.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,t,r=0){let n=t.cstNodes.get(e);if(typeof e.grammarSource=="number"&&(n.grammarSource=this.getGrammarElement(e.grammarSource)),n.astNode=t.astNodes.get(e.astNode),sh(n))for(let i of e.content){let a=this.hydrateCstNode(i,t,r++);n.content.push(a)}return n}hydrateCstLeafNode(e){let t=this.getTokenType(e.tokenType),r=e.offset,n=e.length,i=e.startLine,a=e.startColumn,s=e.endLine,l=e.endColumn,u=e.hidden;return new mv(r,n,{start:{line:i,character:a},end:{line:s,character:l}},t,u)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap();let t=this.grammarElementIdMap.getKey(e);if(t)return t;throw new Error("Invalid grammar element id: "+e)}createGrammarElementIdMap(){let e=0;for(let t of p0(this.grammar))Yw(t)&&this.grammarElementIdMap.set(t,e++)}}});function e1(e){return{documentation:{CommentProvider:o(t=>new qF(t),"CommentProvider"),DocumentationProvider:o(t=>new zF(t),"DocumentationProvider")},parser:{AsyncParser:o(t=>new YF(t),"AsyncParser"),GrammarConfig:o(t=>tP(t),"GrammarConfig"),LangiumParser:o(t=>VB(t),"LangiumParser"),CompletionParser:o(t=>UB(t),"CompletionParser"),ValueConverter:o(()=>new D9,"ValueConverter"),TokenBuilder:o(()=>new I9,"TokenBuilder"),Lexer:o(t=>new LF(t),"Lexer"),ParserErrorMessageProvider:o(()=>new L9,"ParserErrorMessageProvider")},workspace:{AstNodeLocator:o(()=>new TF,"AstNodeLocator"),AstNodeDescriptionProvider:o(t=>new wF(t),"AstNodeDescriptionProvider"),ReferenceDescriptionProvider:o(t=>new kF(t),"ReferenceDescriptionProvider")},references:{Linker:o(t=>new iF(t),"Linker"),NameProvider:o(()=>new sF,"NameProvider"),ScopeProvider:o(t=>new dF(t),"ScopeProvider"),ScopeComputation:o(t=>new lF(t),"ScopeComputation"),References:o(t=>new oF(t),"References")},serializer:{Hydrator:o(t=>new HF(t),"Hydrator"),JsonSerializer:o(t=>new fF(t),"JsonSerializer")},validation:{DocumentValidator:o(t=>new xF(t),"DocumentValidator"),ValidationRegistry:o(t=>new vF(t),"ValidationRegistry")},shared:o(()=>e.shared,"shared")}}function t1(e){return{ServiceRegistry:o(()=>new yF,"ServiceRegistry"),workspace:{LangiumDocuments:o(t=>new nF(t),"LangiumDocuments"),LangiumDocumentFactory:o(t=>new rF(t),"LangiumDocumentFactory"),DocumentBuilder:o(t=>new CF(t),"DocumentBuilder"),IndexManager:o(t=>new _F(t),"IndexManager"),WorkspaceManager:o(t=>new SF(t),"WorkspaceManager"),FileSystemProvider:o(t=>e.fileSystemProvider(t),"FileSystemProvider"),WorkspaceLock:o(()=>new jF,"WorkspaceLock"),ConfigurationProvider:o(t=>new EF(t),"ConfigurationProvider")}}}var U8e=R(()=>{"use strict";zve(),J7e(),e8e(),t8e(),r8e(),l8e(),c8e(),u8e(),h8e(),g8e(),mF(),f8e(),m8e(),G9(),y8e(),v8e(),b8e(),w8e(),xv(),k8e(),T8e(),E8e(),F8e(),$8e(),N9(),Y8e(),j8e(),H8e(),o(e1,"createDefaultCoreModule"),o(t1,"createDefaultSharedCoreModule")});function Ll(e,t,r,n,i,a,s,l,u){let h=[e,t,r,n,i,a,s,l,u].reduce(Sv,{});return VF(h)}function UF(e){if(e&&e[K9])for(let t of Object.values(e))UF(t);return e}function VF(e,t){let r=new Proxy({},{deleteProperty:o(()=>!1,"deleteProperty"),get:o((n,i)=>WF(n,i,e,t||r),"get"),getOwnPropertyDescriptor:o((n,i)=>(WF(n,i,e,t||r),Object.getOwnPropertyDescriptor(n,i)),"getOwnPropertyDescriptor"),has:o((n,i)=>i in e,"has"),ownKeys:o(()=>[...Reflect.ownKeys(e),K9],"ownKeys")});return r[K9]=!0,r}function WF(e,t,r,n){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===KF)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return e[t]}else if(t in r){let i=r[t];e[t]=KF;try{e[t]=typeof i=="function"?i(n):VF(i,n)}catch(a){throw e[t]=a instanceof Error?a:void 0,a}return e[t]}else return}function Sv(e,t){if(t){for(let[r,n]of Object.entries(t))if(n!==void 0){let i=e[r];i!==null&&n!==null&&typeof i=="object"&&typeof n=="object"?e[r]=Sv(i,n):e[r]=n}}return e}var XF,K9,KF,V8e=R(()=>{"use strict";(function(e){e.merge=(t,r)=>Sv(Sv({},t),r)})(XF||(XF={})),o(Ll,"inject"),K9=Symbol("isProxy"),o(UF,"eagerLoad"),o(VF,"_inject"),KF=Symbol(),o(WF,"_resolve"),o(Sv,"_merge")}),PQe=R(()=>{"use strict"}),BQe=R(()=>{"use strict";$8e(),F8e(),B8e()}),FQe=R(()=>{"use strict"}),$Qe=R(()=>{"use strict";zve(),FQe()}),zQe=R(()=>{"use strict"}),qQe=R(()=>{"use strict";Y8e(),J7e(),PB(),e8e(),N9(),E8e(),zQe(),t8e(),r8e()}),GQe=R(()=>{"use strict";l8e(),c8e(),u8e(),p8e(),h8e(),g8e()}),YQe=R(()=>{"use strict";H8e(),mF()}),ZF,r1,W8e=R(()=>{"use strict";ZF=class{static{o(this,"EmptyFileSystemProvider")}readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}},r1={fileSystemProvider:o(()=>new ZF,"fileSystemProvider")}});function X8e(){let e=Ll(t1(r1),Z8e),t=Ll(e1({shared:e}),K8e);return e.ServiceRegistry.register(t),t}function n1(e){var t;let r=X8e(),n=r.serializer.JsonSerializer.deserialize(e);return r.shared.workspace.LangiumDocumentFactory.fromModel(n,b0.parse(`memory://${(t=n.name)!==null&&t!==void 0?t:"grammar"}.langium`)),n}var K8e,Z8e,jQe=R(()=>{"use strict";U8e(),V8e(),d0(),W8e(),x0(),K8e={Grammar:o(()=>{},"Grammar"),LanguageMetaData:o(()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"}),"LanguageMetaData")},Z8e={AstReflection:o(()=>new Dk,"AstReflection")},o(X8e,"createMinimalGrammarServices"),o(n1,"loadGrammarFromJson")}),QF={};yr(QF,{AstUtils:()=>SO,BiMap:()=>wv,Cancellation:()=>Aa,ContextCache:()=>Ev,CstUtils:()=>XR,DONE_RESULT:()=>Vo,Deferred:()=>ph,Disposable:()=>m2,DisposableCache:()=>Tv,DocumentCache:()=>uF,EMPTY_STREAM:()=>T5,ErrorWithLocation:()=>_5,GrammarUtils:()=>qO,MultiMap:()=>f2,OperationCancelled:()=>v0,Reduction:()=>E5,RegExpUtils:()=>RO,SimpleCache:()=>$9,StreamImpl:()=>du,TreeStreamImpl:()=>Yp,URI:()=>b0,UriUtils:()=>gh,WorkspaceCache:()=>z9,assertUnreachable:()=>jp,delayNextTick:()=>R9,interruptAndCheck:()=>Al,isOperationCancelled:()=>p2,loadGrammarFromJson:()=>n1,setInterruptionPeriod:()=>KB,startCancelableOperation:()=>XB,stream:()=>qa});var HQe=R(()=>{"use strict";hF(),z8e(),Li(QF,GF),kv(),x8e(),iO(),jQe(),mu(),Kl(),x0(),El(),fu(),oh(),ch(),$5()}),UQe=R(()=>{"use strict";m8e(),G9()}),VQe=R(()=>{"use strict";y8e(),v8e(),b8e(),w8e(),xv(),W8e(),k8e(),j8e(),T8e()}),Q8e={};yr(Q8e,{AbstractAstReflection:()=>$w,AbstractCstNode:()=>C9,AbstractLangiumParser:()=>A9,AbstractParserErrorMessageProvider:()=>zB,AbstractThreadedAsyncParser:()=>q8e,AstUtils:()=>SO,BiMap:()=>wv,Cancellation:()=>Aa,CompositeCstNodeImpl:()=>yv,ContextCache:()=>Ev,CstNodeBuilder:()=>OB,CstUtils:()=>XR,DONE_RESULT:()=>Vo,DatatypeSymbol:()=>vv,DefaultAstNodeDescriptionProvider:()=>wF,DefaultAstNodeLocator:()=>TF,DefaultAsyncParser:()=>YF,DefaultCommentProvider:()=>qF,DefaultConfigurationProvider:()=>EF,DefaultDocumentBuilder:()=>CF,DefaultDocumentValidator:()=>xF,DefaultHydrator:()=>HF,DefaultIndexManager:()=>_F,DefaultJsonSerializer:()=>fF,DefaultLangiumDocumentFactory:()=>rF,DefaultLangiumDocuments:()=>nF,DefaultLexer:()=>LF,DefaultLinker:()=>iF,DefaultNameProvider:()=>sF,DefaultReferenceDescriptionProvider:()=>kF,DefaultReferences:()=>oF,DefaultScopeComputation:()=>lF,DefaultScopeProvider:()=>dF,DefaultServiceRegistry:()=>yF,DefaultTokenBuilder:()=>I9,DefaultValueConverter:()=>D9,DefaultWorkspaceLock:()=>jF,DefaultWorkspaceManager:()=>SF,Deferred:()=>ph,Disposable:()=>m2,DisposableCache:()=>Tv,DocumentCache:()=>uF,DocumentState:()=>Ki,DocumentValidator:()=>w0,EMPTY_SCOPE:()=>d8e,EMPTY_STREAM:()=>T5,EmptyFileSystem:()=>r1,EmptyFileSystemProvider:()=>ZF,ErrorWithLocation:()=>_5,GrammarAST:()=>ove,GrammarUtils:()=>qO,JSDocDocumentationProvider:()=>zF,LangiumCompletionParser:()=>qB,LangiumParser:()=>$B,LangiumParserErrorMessageProvider:()=>L9,LeafCstNodeImpl:()=>mv,MapScope:()=>cF,Module:()=>XF,MultiMap:()=>f2,OperationCancelled:()=>v0,ParserWorker:()=>G8e,Reduction:()=>E5,RegExpUtils:()=>RO,RootCstNodeImpl:()=>_9,SimpleCache:()=>$9,StreamImpl:()=>du,StreamScope:()=>F9,TextDocument:()=>B9,TreeStreamImpl:()=>Yp,URI:()=>b0,UriUtils:()=>gh,ValidationCategory:()=>Cv,ValidationRegistry:()=>vF,ValueConverter:()=>dh,WorkspaceCache:()=>z9,assertUnreachable:()=>jp,createCompletionParser:()=>UB,createDefaultCoreModule:()=>e1,createDefaultSharedCoreModule:()=>t1,createGrammarConfig:()=>tP,createLangiumParser:()=>VB,delayNextTick:()=>R9,diagnosticData:()=>q9,eagerLoad:()=>UF,getDiagnosticRange:()=>bF,inject:()=>Ll,interruptAndCheck:()=>Al,isAstNode:()=>Ja,isAstNodeDescription:()=>WR,isAstNodeWithComment:()=>pF,isCompositeCstNode:()=>sh,isIMultiModeLexerDefinition:()=>Y9,isJSDoc:()=>MF,isLeafCstNode:()=>Gp,isLinkingError:()=>jm,isNamed:()=>aF,isOperationCancelled:()=>p2,isReference:()=>kl,isRootCstNode:()=>Fw,isTokenTypeArray:()=>AF,isTokenTypeDictionary:()=>j9,loadGrammarFromJson:()=>n1,parseJSDoc:()=>NF,prepareLangiumParser:()=>WB,setInterruptionPeriod:()=>KB,startCancelableOperation:()=>XB,stream:()=>qa,toDiagnosticSeverity:()=>_v});var k0=R(()=>{"use strict";U8e(),V8e(),f8e(),PQe(),hu(),BQe(),$Qe(),qQe(),GQe(),YQe(),HQe(),Li(Q8e,QF),UQe(),VQe(),d0()});function J8e(e){return Ic.isInstance(e,dwe)}function ewe(e){return Ic.isInstance(e,JF)}function twe(e){return Ic.isInstance(e,e$)}function rwe(e){return Ic.isInstance(e,fwe)}function nwe(e){return Ic.isInstance(e,t$)}function iwe(e){return Ic.isInstance(e,mwe)}function awe(e){return Ic.isInstance(e,r$)}function swe(e){return Ic.isInstance(e,ywe)}function owe(e){return Ic.isInstance(e,vwe)}function lwe(e){return Ic.isInstance(e,bwe)}function cwe(e){return Ic.isInstance(e,xwe)}var uwe,Nr,hwe,dwe,JF,pwe,gwe,e$,fwe,t$,mwe,r$,ywe,vwe,bwe,xwe,wwe,n$,Ic,kwe,Twe,Ewe,Cwe,_we,Swe,Awe,Lwe,Nwe,Mwe,Iwe,Dwe,Rwe,Owe,Pwe,y2,Bwe,Fwe,$we,zwe,qwe,Gwe,Ywe,jwe,Hwe,Z9,Q9,eg,WQe,yu=R(()=>{"use strict";k0(),k0(),k0(),k0(),uwe=Object.defineProperty,Nr=o((e,t)=>uwe(e,"name",{value:t,configurable:!0}),"__name"),hwe="Statement",dwe="Architecture",o(J8e,"isArchitecture"),Nr(J8e,"isArchitecture"),JF="Branch",o(ewe,"isBranch"),Nr(ewe,"isBranch"),pwe="Checkout",gwe="CherryPicking",e$="Commit",o(twe,"isCommit"),Nr(twe,"isCommit"),fwe="Common",o(rwe,"isCommon"),Nr(rwe,"isCommon"),t$="GitGraph",o(nwe,"isGitGraph"),Nr(nwe,"isGitGraph"),mwe="Info",o(iwe,"isInfo"),Nr(iwe,"isInfo"),r$="Merge",o(awe,"isMerge"),Nr(awe,"isMerge"),ywe="Packet",o(swe,"isPacket"),Nr(swe,"isPacket"),vwe="PacketBlock",o(owe,"isPacketBlock"),Nr(owe,"isPacketBlock"),bwe="Pie",o(lwe,"isPie"),Nr(lwe,"isPie"),xwe="PieSection",o(cwe,"isPieSection"),Nr(cwe,"isPieSection"),wwe="Direction",n$=class extends $w{static{o(this,"MermaidAstReflection")}static{Nr(this,"MermaidAstReflection")}getAllTypes(){return["Architecture","Branch","Checkout","CherryPicking","Commit","Common","Direction","Edge","GitGraph","Group","Info","Junction","Merge","Packet","PacketBlock","Pie","PieSection","Service","Statement"]}computeIsSubtype(e,t){switch(e){case JF:case pwe:case gwe:case e$:case r$:return this.isSubtype(hwe,t);case wwe:return this.isSubtype(t$,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;switch(t){default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case"Architecture":return{name:"Architecture",properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case"Branch":return{name:"Branch",properties:[{name:"name"},{name:"order"}]};case"Checkout":return{name:"Checkout",properties:[{name:"branch"}]};case"CherryPicking":return{name:"CherryPicking",properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case"Commit":return{name:"Commit",properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Common":return{name:"Common",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Edge":return{name:"Edge",properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case"GitGraph":return{name:"GitGraph",properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case"Group":return{name:"Group",properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case"Info":return{name:"Info",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Junction":return{name:"Junction",properties:[{name:"id"},{name:"in"}]};case"Merge":return{name:"Merge",properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Packet":return{name:"Packet",properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case"PacketBlock":return{name:"PacketBlock",properties:[{name:"end"},{name:"label"},{name:"start"}]};case"Pie":return{name:"Pie",properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case"PieSection":return{name:"PieSection",properties:[{name:"label"},{name:"value"}]};case"Service":return{name:"Service",properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case"Direction":return{name:"Direction",properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:e,properties:[]}}}},Ic=new n$,Twe=Nr(()=>kwe??(kwe=n1('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"InfoGrammar"),Cwe=Nr(()=>Ewe??(Ewe=n1(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","name":"Packet","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}`)),"PacketGrammar"),Swe=Nr(()=>_we??(_we=n1('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"PieGrammar"),Lwe=Nr(()=>Awe??(Awe=n1('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","name":"Architecture","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","fragment":true,"definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LeftPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RightPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Arrow","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}')),"ArchitectureGrammar"),Mwe=Nr(()=>Nwe??(Nwe=n1(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","name":"GitGraph","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}`)),"GitGraphGrammar"),Iwe={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Dwe={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Rwe={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Owe={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},Pwe={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},y2={AstReflection:Nr(()=>new n$,"AstReflection")},Bwe={Grammar:Nr(()=>Twe(),"Grammar"),LanguageMetaData:Nr(()=>Iwe,"LanguageMetaData"),parser:{}},Fwe={Grammar:Nr(()=>Cwe(),"Grammar"),LanguageMetaData:Nr(()=>Dwe,"LanguageMetaData"),parser:{}},$we={Grammar:Nr(()=>Swe(),"Grammar"),LanguageMetaData:Nr(()=>Rwe,"LanguageMetaData"),parser:{}},zwe={Grammar:Nr(()=>Lwe(),"Grammar"),LanguageMetaData:Nr(()=>Owe,"LanguageMetaData"),parser:{}},qwe={Grammar:Nr(()=>Mwe(),"Grammar"),LanguageMetaData:Nr(()=>Pwe,"LanguageMetaData"),parser:{}},Gwe=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,Ywe=/accTitle[\t ]*:([^\n\r]*)/,jwe=/title([\t ][^\n\r]*|)/,Hwe={ACC_DESCR:Gwe,ACC_TITLE:Ywe,TITLE:jwe},Z9=class extends D9{static{o(this,"AbstractMermaidValueConverter")}static{Nr(this,"AbstractMermaidValueConverter")}runConverter(e,t,r){let n=this.runCommonConverter(e,t,r);return n===void 0&&(n=this.runCustomConverter(e,t,r)),n===void 0?super.runConverter(e,t,r):n}runCommonConverter(e,t,r){let n=Hwe[e.name];if(n===void 0)return;let i=n.exec(t);if(i!==null){if(i[1]!==void 0)return i[1].trim().replace(/[\t ]{2,}/gm," ");if(i[2]!==void 0)return i[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},Q9=class extends Z9{static{o(this,"CommonValueConverter")}static{Nr(this,"CommonValueConverter")}runCustomConverter(e,t,r){}},eg=class extends I9{static{o(this,"AbstractMermaidTokenBuilder")}static{Nr(this,"AbstractMermaidTokenBuilder")}constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,t,r){let n=super.buildKeywordTokens(e,t,r);return n.forEach(i=>{this.keywords.has(i.name)&&i.PATTERN!==void 0&&(i.PATTERN=new RegExp(i.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),n}},WQe=class extends eg{static{o(this,"CommonTokenBuilder")}static{Nr(this,"CommonTokenBuilder")}}});function i$(e=r1){let t=Ll(t1(e),y2),r=Ll(e1({shared:t}),qwe,a$);return t.ServiceRegistry.register(r),{shared:t,GitGraph:r}}var Uwe,a$,Vwe=R(()=>{"use strict";yu(),k0(),Uwe=class extends eg{static{o(this,"GitGraphTokenBuilder")}static{Nr(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},a$={parser:{TokenBuilder:Nr(()=>new Uwe,"TokenBuilder"),ValueConverter:Nr(()=>new Q9,"ValueConverter")}},o(i$,"createGitGraphServices"),Nr(i$,"createGitGraphServices")});function s$(e=r1){let t=Ll(t1(e),y2),r=Ll(e1({shared:t}),Bwe,o$);return t.ServiceRegistry.register(r),{shared:t,Info:r}}var Wwe,o$,Xwe=R(()=>{"use strict";yu(),k0(),Wwe=class extends eg{static{o(this,"InfoTokenBuilder")}static{Nr(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},o$={parser:{TokenBuilder:Nr(()=>new Wwe,"TokenBuilder"),ValueConverter:Nr(()=>new Q9,"ValueConverter")}},o(s$,"createInfoServices"),Nr(s$,"createInfoServices")});function l$(e=r1){let t=Ll(t1(e),y2),r=Ll(e1({shared:t}),Fwe,c$);return t.ServiceRegistry.register(r),{shared:t,Packet:r}}var Kwe,c$,Zwe=R(()=>{"use strict";yu(),k0(),Kwe=class extends eg{static{o(this,"PacketTokenBuilder")}static{Nr(this,"PacketTokenBuilder")}constructor(){super(["packet-beta"])}},c$={parser:{TokenBuilder:Nr(()=>new Kwe,"TokenBuilder"),ValueConverter:Nr(()=>new Q9,"ValueConverter")}},o(l$,"createPacketServices"),Nr(l$,"createPacketServices")});function u$(e=r1){let t=Ll(t1(e),y2),r=Ll(e1({shared:t}),$we,h$);return t.ServiceRegistry.register(r),{shared:t,Pie:r}}var Qwe,Jwe,h$,eke=R(()=>{"use strict";yu(),k0(),Qwe=class extends eg{static{o(this,"PieTokenBuilder")}static{Nr(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},Jwe=class extends Z9{static{o(this,"PieValueConverter")}static{Nr(this,"PieValueConverter")}runCustomConverter(e,t,r){if(e.name==="PIE_SECTION_LABEL")return t.replace(/"/g,"").trim()}},h$={parser:{TokenBuilder:Nr(()=>new Qwe,"TokenBuilder"),ValueConverter:Nr(()=>new Jwe,"ValueConverter")}},o(u$,"createPieServices"),Nr(u$,"createPieServices")});function d$(e=r1){let t=Ll(t1(e),y2),r=Ll(e1({shared:t}),zwe,p$);return t.ServiceRegistry.register(r),{shared:t,Architecture:r}}var tke,rke,p$,nke=R(()=>{"use strict";yu(),k0(),tke=class extends eg{static{o(this,"ArchitectureTokenBuilder")}static{Nr(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},rke=class extends Z9{static{o(this,"ArchitectureValueConverter")}static{Nr(this,"ArchitectureValueConverter")}runCustomConverter(e,t,r){if(e.name==="ARCH_ICON")return t.replace(/[()]/g,"").trim();if(e.name==="ARCH_TEXT_ICON")return t.replace(/["()]/g,"");if(e.name==="ARCH_TITLE")return t.replace(/[[\]]/g,"").trim()}},p$={parser:{TokenBuilder:Nr(()=>new tke,"TokenBuilder"),ValueConverter:Nr(()=>new rke,"ValueConverter")}},o(d$,"createArchitectureServices"),Nr(d$,"createArchitectureServices")}),ike={};yr(ike,{InfoModule:()=>o$,createInfoServices:()=>s$});var XQe=R(()=>{"use strict";Xwe(),yu()}),ake={};yr(ake,{PacketModule:()=>c$,createPacketServices:()=>l$});var KQe=R(()=>{"use strict";Zwe(),yu()}),ske={};yr(ske,{PieModule:()=>h$,createPieServices:()=>u$});var ZQe=R(()=>{"use strict";eke(),yu()}),oke={};yr(oke,{ArchitectureModule:()=>p$,createArchitectureServices:()=>d$});var QQe=R(()=>{"use strict";nke(),yu()}),lke={};yr(lke,{GitGraphModule:()=>a$,createGitGraphServices:()=>i$});var JQe=R(()=>{"use strict";Vwe(),yu()});async function tg(e,t){let r=cke[e];if(!r)throw new Error(`Unknown diagram type: ${e}`);i1[e]||await r();let n=i1[e].parse(t);if(n.lexerErrors.length>0||n.parserErrors.length>0)throw new uke(n);return n.value}var i1,cke,uke,Av=R(()=>{"use strict";Vwe(),Xwe(),Zwe(),eke(),nke(),yu(),i1={},cke={info:Nr(async()=>{let{createInfoServices:e}=await Promise.resolve().then(()=>(XQe(),ike)),t=e().Info.parser.LangiumParser;i1.info=t},"info"),packet:Nr(async()=>{let{createPacketServices:e}=await Promise.resolve().then(()=>(KQe(),ake)),t=e().Packet.parser.LangiumParser;i1.packet=t},"packet"),pie:Nr(async()=>{let{createPieServices:e}=await Promise.resolve().then(()=>(ZQe(),ske)),t=e().Pie.parser.LangiumParser;i1.pie=t},"pie"),architecture:Nr(async()=>{let{createArchitectureServices:e}=await Promise.resolve().then(()=>(QQe(),oke)),t=e().Architecture.parser.LangiumParser;i1.architecture=t},"architecture"),gitGraph:Nr(async()=>{let{createGitGraphServices:e}=await Promise.resolve().then(()=>(JQe(),lke)),t=e().GitGraph.parser.LangiumParser;i1.gitGraph=t},"gitGraph")},o(tg,"parse"),Nr(tg,"parse"),uke=class extends Error{static{o(this,"MermaidParseError")}constructor(e){let t=e.lexerErrors.map(n=>n.message).join(`
`),r=e.parserErrors.map(n=>n.message).join(`
`);super(`Parsing failed: ${t} ${r}`),this.result=e}static{Nr(this,"MermaidParseError")}}});function Lv(e,t){e.accDescr&&t.setAccDescription?.(e.accDescr),e.accTitle&&t.setAccTitle?.(e.accTitle),e.title&&t.setDiagramTitle?.(e.title)}var J9=R(()=>{"use strict";o(Lv,"populateCommonDb")}),xi,g$=R(()=>{"use strict";xi={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4}}),eT,f$=R(()=>{"use strict";eT=class{constructor(e){this.init=e,this.records=this.init()}static{o(this,"ImperativeState")}reset(){this.records=this.init()}}});function tT(){return LN({length:7})}function hke(e,t){let r=Object.create(null);return e.reduce((n,i)=>{let a=t(i);return r[a]||(r[a]=!0,n.push(i)),n},[])}function m$(e,t,r){let n=e.indexOf(t);n===-1?e.push(r):e.splice(n,1,r)}function y$(e){let t=e.reduce((i,a)=>i.seq>a.seq?i:a,e[0]),r="";e.forEach(function(i){i===t?r+="	*":r+="	|"});let n=[r,t.id,t.seq];for(let i in dr.records.branches)dr.records.branches.get(i)===t.id&&n.push(i);if(J.debug(n.join(" ")),t.parents&&t.parents.length==2&&t.parents[0]&&t.parents[1]){let i=dr.records.commits.get(t.parents[0]);m$(e,t,i),t.parents[1]&&e.push(dr.records.commits.get(t.parents[1]))}else{if(t.parents.length==0)return;if(t.parents[0]){let i=dr.records.commits.get(t.parents[0]);m$(e,t,i)}}e=hke(e,i=>i.id),y$(e)}var dke,a1,dr,pke,gke,fke,mke,yke,vke,bke,v$,xke,wke,kke,Tke,Eke,b$,Cke,_ke,Ske,x$,Ake=R(()=>{"use strict";We(),kn(),wo(),En(),ys(),g$(),f$(),ka(),dke=Fn.gitGraph,a1=o(()=>Xh({...dke,...Ni().gitGraph}),"getConfig"),dr=new eT(()=>{let e=a1(),t=e.mainBranchName,r=e.mainBranchOrder;return{mainBranchName:t,commits:new Map,head:null,branchConfig:new Map([[t,{name:t,order:r}]]),branches:new Map([[t,null]]),currBranch:t,direction:"LR",seq:0,options:{}}}),o(tT,"getID"),o(hke,"uniqBy"),pke=o(function(e){dr.records.direction=e},"setDirection"),gke=o(function(e){J.debug("options str",e),e=e?.trim(),e=e||"{}";try{dr.records.options=JSON.parse(e)}catch(t){J.error("error while parsing gitGraph options",t.message)}},"setOptions"),fke=o(function(){return dr.records.options},"getOptions"),mke=o(function(e){let t=e.msg,r=e.id,n=e.type,i=e.tags;J.info("commit",t,r,n,i),J.debug("Entering commit:",t,r,n,i);let a=a1();r=Yt.sanitizeText(r,a),t=Yt.sanitizeText(t,a),i=i?.map(l=>Yt.sanitizeText(l,a));let s={id:r||dr.records.seq+"-"+tT(),message:t,seq:dr.records.seq++,type:n??xi.NORMAL,tags:i??[],parents:dr.records.head==null?[]:[dr.records.head.id],branch:dr.records.currBranch};dr.records.head=s,J.info("main branch",a.mainBranchName),dr.records.commits.set(s.id,s),dr.records.branches.set(dr.records.currBranch,s.id),J.debug("in pushCommit "+s.id)},"commit"),yke=o(function(e){let t=e.name,r=e.order;if(t=Yt.sanitizeText(t,a1()),dr.records.branches.has(t))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${t}")`);dr.records.branches.set(t,dr.records.head!=null?dr.records.head.id:null),dr.records.branchConfig.set(t,{name:t,order:r}),v$(t),J.debug("in createBranch")},"branch"),vke=o(e=>{let t=e.branch,r=e.id,n=e.type,i=e.tags,a=a1();t=Yt.sanitizeText(t,a),r&&(r=Yt.sanitizeText(r,a));let s=dr.records.branches.get(dr.records.currBranch),l=dr.records.branches.get(t),u=s?dr.records.commits.get(s):void 0,h=l?dr.records.commits.get(l):void 0;if(u&&h&&u.branch===t)throw new Error(`Cannot merge branch '${t}' into itself.`);if(dr.records.currBranch===t){let f=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},f}if(u===void 0||!u){let f=new Error(`Incorrect usage of "merge". Current branch (${dr.records.currBranch})has no commits`);throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["commit"]},f}if(!dr.records.branches.has(t)){let f=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:[`branch ${t}`]},f}if(h===void 0||!h){let f=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:['"commit"']},f}if(u===h){let f=new Error('Incorrect usage of "merge". Both branches have same head');throw f.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},f}if(r&&dr.records.commits.has(r)){let f=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom Id");throw f.hash={text:`merge ${t} ${r} ${n} ${i?.join(" ")}`,token:`merge ${t} ${r} ${n} ${i?.join(" ")}`,expected:[`merge ${t} ${r}_UNIQUE ${n} ${i?.join(" ")}`]},f}let d=l||"",p={id:r||`${dr.records.seq}-${tT()}`,message:`merged branch ${t} into ${dr.records.currBranch}`,seq:dr.records.seq++,parents:dr.records.head==null?[]:[dr.records.head.id,d],branch:dr.records.currBranch,type:xi.MERGE,customType:n,customId:!!r,tags:i??[]};dr.records.head=p,dr.records.commits.set(p.id,p),dr.records.branches.set(dr.records.currBranch,p.id),J.debug(dr.records.branches),J.debug("in mergeBranch")},"merge"),bke=o(function(e){let t=e.id,r=e.targetId,n=e.tags,i=e.parent;J.debug("Entering cherryPick:",t,r,n);let a=a1();if(t=Yt.sanitizeText(t,a),r=Yt.sanitizeText(r,a),n=n?.map(u=>Yt.sanitizeText(u,a)),i=Yt.sanitizeText(i,a),!t||!dr.records.commits.has(t)){let u=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw u.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},u}let s=dr.records.commits.get(t);if(s===void 0||!s)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(i&&!(Array.isArray(s.parents)&&s.parents.includes(i)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");let l=s.branch;if(s.type===xi.MERGE&&!i)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!dr.records.commits.has(r)){if(l===dr.records.currBranch){let p=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}let u=dr.records.branches.get(dr.records.currBranch);if(u===void 0||!u){let p=new Error(`Incorrect usage of "cherry-pick". Current branch (${dr.records.currBranch})has no commits`);throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}let h=dr.records.commits.get(u);if(h===void 0||!h){let p=new Error(`Incorrect usage of "cherry-pick". Current branch (${dr.records.currBranch})has no commits`);throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}let d={id:dr.records.seq+"-"+tT(),message:`cherry-picked ${s?.message} into ${dr.records.currBranch}`,seq:dr.records.seq++,parents:dr.records.head==null?[]:[dr.records.head.id,s.id],branch:dr.records.currBranch,type:xi.CHERRY_PICK,tags:n?n.filter(Boolean):[`cherry-pick:${s.id}${s.type===xi.MERGE?`|parent:${i}`:""}`]};dr.records.head=d,dr.records.commits.set(d.id,d),dr.records.branches.set(dr.records.currBranch,d.id),J.debug(dr.records.branches),J.debug("in cherryPick")}},"cherryPick"),v$=o(function(e){if(e=Yt.sanitizeText(e,a1()),dr.records.branches.has(e)){dr.records.currBranch=e;let t=dr.records.branches.get(dr.records.currBranch);t===void 0||!t?dr.records.head=null:dr.records.head=dr.records.commits.get(t)??null}else{let t=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${e}")`);throw t.hash={text:`checkout ${e}`,token:`checkout ${e}`,expected:[`branch ${e}`]},t}},"checkout"),o(m$,"upsert"),o(y$,"prettyPrintCommitHistory"),xke=o(function(){J.debug(dr.records.commits);let e=b$()[0];y$([e])},"prettyPrint"),wke=o(function(){dr.reset(),fs()},"clear"),kke=o(function(){return[...dr.records.branchConfig.values()].map((e,t)=>e.order!==null&&e.order!==void 0?e:{...e,order:parseFloat(`0.${t}`)}).sort((e,t)=>(e.order??0)-(t.order??0)).map(({name:e})=>({name:e}))},"getBranchesAsObjArray"),Tke=o(function(){return dr.records.branches},"getBranches"),Eke=o(function(){return dr.records.commits},"getCommits"),b$=o(function(){let e=[...dr.records.commits.values()];return e.forEach(function(t){J.debug(t.id)}),e.sort((t,r)=>t.seq-r.seq),e},"getCommitsArray"),Cke=o(function(){return dr.records.currBranch},"getCurrentBranch"),_ke=o(function(){return dr.records.direction},"getDirection"),Ske=o(function(){return dr.records.head},"getHead"),x$={commitType:xi,getConfig:a1,setDirection:pke,setOptions:gke,getOptions:fke,commit:mke,branch:yke,merge:vke,cherryPick:bke,checkout:v$,prettyPrint:xke,clear:wke,getBranchesAsObjArray:kke,getBranches:Tke,getCommits:Eke,getCommitsArray:b$,getCurrentBranch:Cke,getDirection:_ke,getHead:Ske,setAccTitle:ms,getAccTitle:Ls,getAccDescription:Ms,setAccDescription:Ns,setDiagramTitle:_o,getDiagramTitle:Is}}),Lke,Nke,Mke,Ike,Dke,Rke,Oke,Pke,eJe=R(()=>{"use strict";Av(),We(),J9(),Ake(),g$(),Lke=o((e,t)=>{Lv(e,t),e.dir&&t.setDirection(e.dir);for(let r of e.statements)Nke(r,t)},"populate"),Nke=o((e,t)=>{let r={Commit:o(n=>t.commit(Mke(n)),"Commit"),Branch:o(n=>t.branch(Ike(n)),"Branch"),Merge:o(n=>t.merge(Dke(n)),"Merge"),Checkout:o(n=>t.checkout(Rke(n)),"Checkout"),CherryPicking:o(n=>t.cherryPick(Oke(n)),"CherryPicking")}[e.$type];r?r(e):J.error(`Unknown statement type: ${e.$type}`)},"parseStatement"),Mke=o(e=>({id:e.id,msg:e.message??"",type:e.type!==void 0?xi[e.type]:xi.NORMAL,tags:e.tags??void 0}),"parseCommit"),Ike=o(e=>({name:e.name,order:e.order??0}),"parseBranch"),Dke=o(e=>({branch:e.branch,id:e.id??"",type:e.type!==void 0?xi[e.type]:void 0,tags:e.tags??void 0}),"parseMerge"),Rke=o(e=>e.branch,"parseCheckout"),Oke=o(e=>({id:e.id,targetId:"",tags:e.tags?.length===0?void 0:e.tags,parent:e.parent}),"parseCherryPicking"),Pke={parse:o(async e=>{let t=await tg("gitGraph",e);J.debug(t),Lke(t,x$)},"parse")}}),Bke,Jl,T0,E0,vu,fh,s1,Jo,el,Nv,v2,Mv,C0,Gn,Fke,w$,k$,$ke,zke,qke,Gke,Yke,jke,Hke,Uke,Vke,Wke,Xke,Kke,T$,Zke,b2,Qke,Jke,e9e,t9e,r9e,n9e,tJe=R(()=>{"use strict";Ln(),zr(),We(),kn(),g$(),Bke=Ge(),Jl=Bke?.gitGraph,T0=10,E0=40,vu=4,fh=2,s1=8,Jo=new Map,el=new Map,Nv=30,v2=new Map,Mv=[],C0=0,Gn="LR",Fke=o(()=>{Jo.clear(),el.clear(),v2.clear(),C0=0,Mv=[],Gn="LR"},"clear"),w$=o(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof e=="string"?e.split(/\\n|\n|<br\s*\/?>/gi):e).forEach(r=>{let n=document.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.setAttribute("dy","1em"),n.setAttribute("x","0"),n.setAttribute("class","row"),n.textContent=r.trim(),t.appendChild(n)}),t},"drawText"),k$=o(e=>{let t,r,n;return Gn==="BT"?(r=o((i,a)=>i<=a,"comparisonFunc"),n=1/0):(r=o((i,a)=>i>=a,"comparisonFunc"),n=0),e.forEach(i=>{let a=Gn==="TB"||Gn=="BT"?el.get(i)?.y:el.get(i)?.x;a!==void 0&&r(a,n)&&(t=i,n=a)}),t},"findClosestParent"),$ke=o(e=>{let t="",r=1/0;return e.forEach(n=>{let i=el.get(n).y;i<=r&&(t=n,r=i)}),t||void 0},"findClosestParentBT"),zke=o((e,t,r)=>{let n=r,i=r,a=[];e.forEach(s=>{let l=t.get(s);if(!l)throw new Error(`Commit not found for key ${s}`);l.parents.length?(n=Gke(l),i=Math.max(n,i)):a.push(l),Yke(l,n)}),n=i,a.forEach(s=>{jke(s,n,r)}),e.forEach(s=>{let l=t.get(s);if(l?.parents.length){let u=$ke(l.parents);n=el.get(u).y-E0,n<=i&&(i=n);let h=Jo.get(l.branch).pos,d=n-T0;el.set(l.id,{x:h,y:d})}})},"setParallelBTPos"),qke=o(e=>{let t=k$(e.parents.filter(n=>n!==null));if(!t)throw new Error(`Closest parent not found for commit ${e.id}`);let r=el.get(t)?.y;if(r===void 0)throw new Error(`Closest parent position not found for commit ${e.id}`);return r},"findClosestParentPos"),Gke=o(e=>qke(e)+E0,"calculateCommitPosition"),Yke=o((e,t)=>{let r=Jo.get(e.branch);if(!r)throw new Error(`Branch not found for commit ${e.id}`);let n=r.pos,i=t+T0;return el.set(e.id,{x:n,y:i}),{x:n,y:i}},"setCommitPosition"),jke=o((e,t,r)=>{let n=Jo.get(e.branch);if(!n)throw new Error(`Branch not found for commit ${e.id}`);let i=t+r,a=n.pos;el.set(e.id,{x:a,y:i})},"setRootPosition"),Hke=o((e,t,r,n,i,a)=>{if(a===xi.HIGHLIGHT)e.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${t.id} commit-highlight${i%s1} ${n}-outer`),e.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${t.id} commit${i%s1} ${n}-inner`);else if(a===xi.CHERRY_PICK)e.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${t.id} ${n}`),e.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${n}`),e.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${n}`),e.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${n}`),e.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${n}`);else{let s=e.append("circle");if(s.attr("cx",r.x),s.attr("cy",r.y),s.attr("r",t.type===xi.MERGE?9:10),s.attr("class",`commit ${t.id} commit${i%s1}`),a===xi.MERGE){let l=e.append("circle");l.attr("cx",r.x),l.attr("cy",r.y),l.attr("r",6),l.attr("class",`commit ${n} ${t.id} commit${i%s1}`)}a===xi.REVERSE&&e.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${n} ${t.id} commit${i%s1}`)}},"drawCommitBullet"),Uke=o((e,t,r,n)=>{if(t.type!==xi.CHERRY_PICK&&(t.customId&&t.type===xi.MERGE||t.type!==xi.MERGE)&&Jl?.showCommitLabel){let i=e.append("g"),a=i.insert("rect").attr("class","commit-label-bkg"),s=i.append("text").attr("x",n).attr("y",r.y+25).attr("class","commit-label").text(t.id),l=s.node()?.getBBox();if(l&&(a.attr("x",r.posWithOffset-l.width/2-fh).attr("y",r.y+13.5).attr("width",l.width+2*fh).attr("height",l.height+2*fh),Gn==="TB"||Gn==="BT"?(a.attr("x",r.x-(l.width+4*vu+5)).attr("y",r.y-12),s.attr("x",r.x-(l.width+4*vu)).attr("y",r.y+l.height-12)):s.attr("x",r.posWithOffset-l.width/2),Jl.rotateCommitLabel))if(Gn==="TB"||Gn==="BT")s.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),a.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{let u=-7.5-(l.width+10)/25*9.5,h=10+l.width/25*8.5;i.attr("transform","translate("+u+", "+h+") rotate(-45, "+n+", "+r.y+")")}}},"drawCommitLabel"),Vke=o((e,t,r,n)=>{if(t.tags.length>0){let i=0,a=0,s=0,l=[];for(let u of t.tags.reverse()){let h=e.insert("polygon"),d=e.append("circle"),p=e.append("text").attr("y",r.y-16-i).attr("class","tag-label").text(u),f=p.node()?.getBBox();if(!f)throw new Error("Tag bbox not found");a=Math.max(a,f.width),s=Math.max(s,f.height),p.attr("x",r.posWithOffset-f.width/2),l.push({tag:p,hole:d,rect:h,yOffset:i}),i+=20}for(let{tag:u,hole:h,rect:d,yOffset:p}of l){let f=s/2,g=r.y-19.2-p;if(d.attr("class","tag-label-bkg").attr("points",`
      ${n-a/2-vu/2},${g+fh}  
      ${n-a/2-vu/2},${g-fh}
      ${r.posWithOffset-a/2-vu},${g-f-fh}
      ${r.posWithOffset+a/2+vu},${g-f-fh}
      ${r.posWithOffset+a/2+vu},${g+f+fh}
      ${r.posWithOffset-a/2-vu},${g+f+fh}`),h.attr("cy",g).attr("cx",n-a/2+vu/2).attr("r",1.5).attr("class","tag-hole"),Gn==="TB"||Gn==="BT"){let m=n+p;d.attr("class","tag-label-bkg").attr("points",`
        ${r.x},${m+2}
        ${r.x},${m-2}
        ${r.x+T0},${m-f-2}
        ${r.x+T0+a+4},${m-f-2}
        ${r.x+T0+a+4},${m+f+2}
        ${r.x+T0},${m+f+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),h.attr("cx",r.x+vu/2).attr("cy",m).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),u.attr("x",r.x+5).attr("y",m+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+n+")")}}}},"drawCommitTags"),Wke=o(e=>{switch(e.customType??e.type){case xi.NORMAL:return"commit-normal";case xi.REVERSE:return"commit-reverse";case xi.HIGHLIGHT:return"commit-highlight";case xi.MERGE:return"commit-merge";case xi.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),Xke=o((e,t,r,n)=>{let i={x:0,y:0};if(e.parents.length>0){let a=k$(e.parents);if(a){let s=n.get(a)??i;return t==="TB"?s.y+E0:t==="BT"?(n.get(e.id)??i).y-E0:s.x+E0}}else return t==="TB"?Nv:t==="BT"?(n.get(e.id)??i).y-E0:0;return 0},"calculatePosition"),Kke=o((e,t,r)=>{let n=Gn==="BT"&&r?t:t+T0,i=Gn==="TB"||Gn==="BT"?n:Jo.get(e.branch)?.pos,a=Gn==="TB"||Gn==="BT"?Jo.get(e.branch)?.pos:n;if(a===void 0||i===void 0)throw new Error(`Position were undefined for commit ${e.id}`);return{x:a,y:i,posWithOffset:n}},"getCommitPosition"),T$=o((e,t,r)=>{if(!Jl)throw new Error("GitGraph config not found");let n=e.append("g").attr("class","commit-bullets"),i=e.append("g").attr("class","commit-labels"),a=Gn==="TB"||Gn==="BT"?Nv:0,s=[...t.keys()],l=Jl?.parallelCommits??!1,u=o((d,p)=>{let f=t.get(d)?.seq,g=t.get(p)?.seq;return f!==void 0&&g!==void 0?f-g:0},"sortKeys"),h=s.sort(u);Gn==="BT"&&(l&&zke(h,t,a),h=h.reverse()),h.forEach(d=>{let p=t.get(d);if(!p)throw new Error(`Commit not found for key ${d}`);l&&(a=Xke(p,Gn,a,el));let f=Kke(p,a,l);if(r){let g=Wke(p),m=p.customType??p.type,y=Jo.get(p.branch)?.index??0;Hke(n,p,f,g,y,m),Uke(i,p,f,a),Vke(i,p,f,a)}Gn==="TB"||Gn==="BT"?el.set(p.id,{x:f.x,y:f.posWithOffset}):el.set(p.id,{x:f.posWithOffset,y:f.y}),a=Gn==="BT"&&l?a+E0:a+E0+T0,a>C0&&(C0=a)})},"drawCommits"),Zke=o((e,t,r,n,i)=>{let a=(Gn==="TB"||Gn==="BT"?r.x<n.x:r.y<n.y)?t.branch:e.branch,s=o(u=>u.branch===a,"isOnBranchToGetCurve"),l=o(u=>u.seq>e.seq&&u.seq<t.seq,"isBetweenCommits");return[...i.values()].some(u=>l(u)&&s(u))},"shouldRerouteArrow"),b2=o((e,t,r=0)=>{let n=e+Math.abs(e-t)/2;if(r>5)return n;if(Mv.every(a=>Math.abs(a-n)>=10))return Mv.push(n),n;let i=Math.abs(e-t);return b2(e,t-i/5,r+1)},"findLane"),Qke=o((e,t,r,n)=>{let i=el.get(t.id),a=el.get(r.id);if(i===void 0||a===void 0)throw new Error(`Commit positions not found for commits ${t.id} and ${r.id}`);let s=Zke(t,r,i,a,n),l="",u="",h=0,d=0,p=Jo.get(r.branch)?.index;r.type===xi.MERGE&&t.id!==r.parents[0]&&(p=Jo.get(t.branch)?.index);let f;if(s){l="A 10 10, 0, 0, 0,",u="A 10 10, 0, 0, 1,",h=10,d=10;let g=i.y<a.y?b2(i.y,a.y):b2(a.y,i.y),m=i.x<a.x?b2(i.x,a.x):b2(a.x,i.x);Gn==="TB"?i.x<a.x?f=`M ${i.x} ${i.y} L ${m-h} ${i.y} ${u} ${m} ${i.y+d} L ${m} ${a.y-h} ${l} ${m+d} ${a.y} L ${a.x} ${a.y}`:(p=Jo.get(t.branch)?.index,f=`M ${i.x} ${i.y} L ${m+h} ${i.y} ${l} ${m} ${i.y+d} L ${m} ${a.y-h} ${u} ${m-d} ${a.y} L ${a.x} ${a.y}`):Gn==="BT"?i.x<a.x?f=`M ${i.x} ${i.y} L ${m-h} ${i.y} ${l} ${m} ${i.y-d} L ${m} ${a.y+h} ${u} ${m+d} ${a.y} L ${a.x} ${a.y}`:(p=Jo.get(t.branch)?.index,f=`M ${i.x} ${i.y} L ${m+h} ${i.y} ${u} ${m} ${i.y-d} L ${m} ${a.y+h} ${l} ${m-d} ${a.y} L ${a.x} ${a.y}`):i.y<a.y?f=`M ${i.x} ${i.y} L ${i.x} ${g-h} ${l} ${i.x+d} ${g} L ${a.x-h} ${g} ${u} ${a.x} ${g+d} L ${a.x} ${a.y}`:(p=Jo.get(t.branch)?.index,f=`M ${i.x} ${i.y} L ${i.x} ${g+h} ${u} ${i.x+d} ${g} L ${a.x-h} ${g} ${l} ${a.x} ${g-d} L ${a.x} ${a.y}`)}else l="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,Gn==="TB"?(i.x<a.x&&(r.type===xi.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${a.y-h} ${l} ${i.x+d} ${a.y} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${u} ${a.x} ${i.y+d} L ${a.x} ${a.y}`),i.x>a.x&&(l="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,r.type===xi.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${a.y-h} ${u} ${i.x-d} ${a.y} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${a.x+h} ${i.y} ${l} ${a.x} ${i.y+d} L ${a.x} ${a.y}`),i.x===a.x&&(f=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):Gn==="BT"?(i.x<a.x&&(r.type===xi.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${a.y+h} ${u} ${i.x+d} ${a.y} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${l} ${a.x} ${i.y-d} L ${a.x} ${a.y}`),i.x>a.x&&(l="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,r.type===xi.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${i.x} ${a.y+h} ${l} ${i.x-d} ${a.y} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${l} ${a.x} ${i.y-d} L ${a.x} ${a.y}`),i.x===a.x&&(f=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):(i.y<a.y&&(r.type===xi.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${u} ${a.x} ${i.y+d} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${i.x} ${a.y-h} ${l} ${i.x+d} ${a.y} L ${a.x} ${a.y}`),i.y>a.y&&(r.type===xi.MERGE&&t.id!==r.parents[0]?f=`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${l} ${a.x} ${i.y-d} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${i.x} ${a.y+h} ${u} ${i.x+d} ${a.y} L ${a.x} ${a.y}`),i.y===a.y&&(f=`M ${i.x} ${i.y} L ${a.x} ${a.y}`));if(f===void 0)throw new Error("Line definition not found");e.append("path").attr("d",f).attr("class","arrow arrow"+p%s1)},"drawArrow"),Jke=o((e,t)=>{let r=e.append("g").attr("class","commit-arrows");[...t.keys()].forEach(n=>{let i=t.get(n);i.parents&&i.parents.length>0&&i.parents.forEach(a=>{Qke(r,t.get(a),i,t)})})},"drawArrows"),e9e=o((e,t)=>{let r=e.append("g");t.forEach((n,i)=>{let a=i%s1,s=Jo.get(n.name)?.pos;if(s===void 0)throw new Error(`Position not found for branch ${n.name}`);let l=r.append("line");l.attr("x1",0),l.attr("y1",s),l.attr("x2",C0),l.attr("y2",s),l.attr("class","branch branch"+a),Gn==="TB"?(l.attr("y1",Nv),l.attr("x1",s),l.attr("y2",C0),l.attr("x2",s)):Gn==="BT"&&(l.attr("y1",C0),l.attr("x1",s),l.attr("y2",Nv),l.attr("x2",s)),Mv.push(s);let u=n.name,h=w$(u),d=r.insert("rect"),p=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+a);p.node().appendChild(h);let f=h.getBBox();d.attr("class","branchLabelBkg label"+a).attr("rx",4).attr("ry",4).attr("x",-f.width-4-(Jl?.rotateCommitLabel===!0?30:0)).attr("y",-f.height/2+8).attr("width",f.width+18).attr("height",f.height+4),p.attr("transform","translate("+(-f.width-14-(Jl?.rotateCommitLabel===!0?30:0))+", "+(s-f.height/2-1)+")"),Gn==="TB"?(d.attr("x",s-f.width/2-10).attr("y",0),p.attr("transform","translate("+(s-f.width/2-5)+", 0)")):Gn==="BT"?(d.attr("x",s-f.width/2-10).attr("y",C0),p.attr("transform","translate("+(s-f.width/2-5)+", "+C0+")")):d.attr("transform","translate(-19, "+(s-f.height/2)+")")})},"drawBranches"),t9e=o(function(e,t,r,n,i){return Jo.set(e,{pos:t,index:r}),t+=50+(i?40:0)+(Gn==="TB"||Gn==="BT"?n.width/2:0),t},"setBranchPosition"),r9e=o(function(e,t,r,n){if(Fke(),J.debug("in gitgraph renderer",e+`
`,"id:",t,r),!Jl)throw new Error("GitGraph config not found");let i=Jl.rotateCommitLabel??!1,a=n.db;v2=a.getCommits();let s=a.getBranchesAsObjArray();Gn=a.getDirection();let l=Bt(`[id="${t}"]`),u=0;s.forEach((h,d)=>{let p=w$(h.name),f=l.append("g"),g=f.insert("g").attr("class","branchLabel"),m=g.insert("g").attr("class","label branch-label");m.node()?.appendChild(p);let y=p.getBBox();u=t9e(h.name,u,d,y,i),m.remove(),g.remove(),f.remove()}),T$(l,v2,!1),Jl.showBranches&&e9e(l,s),Jke(l,v2),T$(l,v2,!0),mn.insertTitle(l,"gitTitleText",Jl.titleTopMargin??0,a.getDiagramTitle()),vS(void 0,l,Jl.diagramPadding,Jl.useMaxWidth)},"draw"),n9e={draw:r9e}}),i9e,a9e,rJe=R(()=>{"use strict";i9e=o(e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),a9e=i9e}),s9e={};yr(s9e,{diagram:()=>o9e});var o9e,nJe=R(()=>{"use strict";eJe(),Ake(),tJe(),rJe(),o9e={parser:Pke,db:x$,renderer:n9e,styles:a9e}}),rT,l9e,iJe=R(()=>{"use strict";rT=function(){var e=o(function(q,S,B,F){for(B=B||{},F=q.length;F--;B[q[F]]=S);return B},"o"),t=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],n=[1,27],i=[1,28],a=[1,29],s=[1,30],l=[1,31],u=[1,32],h=[1,33],d=[1,34],p=[1,9],f=[1,10],g=[1,11],m=[1,12],y=[1,13],b=[1,14],v=[1,15],x=[1,16],w=[1,19],E=[1,20],A=[1,21],N=[1,22],L=[1,23],C=[1,25],D=[1,35],P={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:o(function(q,S,B,F,z,M,G){var Y=M.length-1;switch(z){case 1:return M[Y-1];case 2:this.$=[];break;case 3:M[Y-1].push(M[Y]),this.$=M[Y-1];break;case 4:case 5:this.$=M[Y];break;case 6:case 7:this.$=[];break;case 8:F.setWeekday("monday");break;case 9:F.setWeekday("tuesday");break;case 10:F.setWeekday("wednesday");break;case 11:F.setWeekday("thursday");break;case 12:F.setWeekday("friday");break;case 13:F.setWeekday("saturday");break;case 14:F.setWeekday("sunday");break;case 15:F.setWeekend("friday");break;case 16:F.setWeekend("saturday");break;case 17:F.setDateFormat(M[Y].substr(11)),this.$=M[Y].substr(11);break;case 18:F.enableInclusiveEndDates(),this.$=M[Y].substr(18);break;case 19:F.TopAxis(),this.$=M[Y].substr(8);break;case 20:F.setAxisFormat(M[Y].substr(11)),this.$=M[Y].substr(11);break;case 21:F.setTickInterval(M[Y].substr(13)),this.$=M[Y].substr(13);break;case 22:F.setExcludes(M[Y].substr(9)),this.$=M[Y].substr(9);break;case 23:F.setIncludes(M[Y].substr(9)),this.$=M[Y].substr(9);break;case 24:F.setTodayMarker(M[Y].substr(12)),this.$=M[Y].substr(12);break;case 27:F.setDiagramTitle(M[Y].substr(6)),this.$=M[Y].substr(6);break;case 28:this.$=M[Y].trim(),F.setAccTitle(this.$);break;case 29:case 30:this.$=M[Y].trim(),F.setAccDescription(this.$);break;case 31:F.addSection(M[Y].substr(8)),this.$=M[Y].substr(8);break;case 33:F.addTask(M[Y-1],M[Y]),this.$="task";break;case 34:this.$=M[Y-1],F.setClickEvent(M[Y-1],M[Y],null);break;case 35:this.$=M[Y-2],F.setClickEvent(M[Y-2],M[Y-1],M[Y]);break;case 36:this.$=M[Y-2],F.setClickEvent(M[Y-2],M[Y-1],null),F.setLink(M[Y-2],M[Y]);break;case 37:this.$=M[Y-3],F.setClickEvent(M[Y-3],M[Y-2],M[Y-1]),F.setLink(M[Y-3],M[Y]);break;case 38:this.$=M[Y-2],F.setClickEvent(M[Y-2],M[Y],null),F.setLink(M[Y-2],M[Y-1]);break;case 39:this.$=M[Y-3],F.setClickEvent(M[Y-3],M[Y-1],M[Y]),F.setLink(M[Y-3],M[Y-2]);break;case 40:this.$=M[Y-1],F.setLink(M[Y-1],M[Y]);break;case 41:case 47:this.$=M[Y-1]+" "+M[Y];break;case 42:case 43:case 45:this.$=M[Y-2]+" "+M[Y-1]+" "+M[Y];break;case 44:case 46:this.$=M[Y-3]+" "+M[Y-2]+" "+M[Y-1]+" "+M[Y];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:i,15:a,16:s,17:l,18:u,19:18,20:h,21:d,22:p,23:f,24:g,25:m,26:y,27:b,28:v,29:x,30:w,31:E,33:A,35:N,36:L,37:24,38:C,40:D},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:36,11:17,12:r,13:n,14:i,15:a,16:s,17:l,18:u,19:18,20:h,21:d,22:p,23:f,24:g,25:m,26:y,27:b,28:v,29:x,30:w,31:E,33:A,35:N,36:L,37:24,38:C,40:D},e(t,[2,5]),e(t,[2,6]),e(t,[2,17]),e(t,[2,18]),e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),e(t,[2,27]),{32:[1,37]},{34:[1,38]},e(t,[2,30]),e(t,[2,31]),e(t,[2,32]),{39:[1,39]},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),{41:[1,40],43:[1,41]},e(t,[2,4]),e(t,[2,28]),e(t,[2,29]),e(t,[2,33]),e(t,[2,34],{42:[1,42],43:[1,43]}),e(t,[2,40],{41:[1,44]}),e(t,[2,35],{43:[1,45]}),e(t,[2,36]),e(t,[2,38],{42:[1,46]}),e(t,[2,37]),e(t,[2,39])],defaultActions:{},parseError:o(function(q,S){if(S.recoverable)this.trace(q);else{var B=new Error(q);throw B.hash=S,B}},"parseError"),parse:o(function(q){var S=this,B=[0],F=[],z=[null],M=[],G=this.table,Y="",V=0,X=0,re=0,de=2,xe=1,he=M.slice.call(arguments,1),be=Object.create(this.lexer),Q={yy:{}};for(var ne in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ne)&&(Q.yy[ne]=this.yy[ne]);be.setInput(q,Q.yy),Q.yy.lexer=be,Q.yy.parser=this,typeof be.yylloc>"u"&&(be.yylloc={});var ee=be.yylloc;M.push(ee);var pe=be.options&&be.options.ranges;typeof Q.yy.parseError=="function"?this.parseError=Q.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ie(Ce){B.length=B.length-2*Ce,z.length=z.length-Ce,M.length=M.length-Ce}o(ie,"popStack");function De(){var Ce;return Ce=F.pop()||be.lex()||xe,typeof Ce!="number"&&(Ce instanceof Array&&(F=Ce,Ce=F.pop()),Ce=S.symbols_[Ce]||Ce),Ce}o(De,"lex");for(var se,je,ge,rt,Qe,tt,mt={},yt,Nt,kt,te;;){if(ge=B[B.length-1],this.defaultActions[ge]?rt=this.defaultActions[ge]:((se===null||typeof se>"u")&&(se=De()),rt=G[ge]&&G[ge][se]),typeof rt>"u"||!rt.length||!rt[0]){var Ne="";te=[];for(yt in G[ge])this.terminals_[yt]&&yt>de&&te.push("'"+this.terminals_[yt]+"'");be.showPosition?Ne="Parse error on line "+(V+1)+`:
`+be.showPosition()+`
Expecting `+te.join(", ")+", got '"+(this.terminals_[se]||se)+"'":Ne="Parse error on line "+(V+1)+": Unexpected "+(se==xe?"end of input":"'"+(this.terminals_[se]||se)+"'"),this.parseError(Ne,{text:be.match,token:this.terminals_[se]||se,line:be.yylineno,loc:ee,expected:te})}if(rt[0]instanceof Array&&rt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ge+", token: "+se);switch(rt[0]){case 1:B.push(se),z.push(be.yytext),M.push(be.yylloc),B.push(rt[1]),se=null,je?(se=je,je=null):(X=be.yyleng,Y=be.yytext,V=be.yylineno,ee=be.yylloc,re>0&&re--);break;case 2:if(Nt=this.productions_[rt[1]][1],mt.$=z[z.length-Nt],mt._$={first_line:M[M.length-(Nt||1)].first_line,last_line:M[M.length-1].last_line,first_column:M[M.length-(Nt||1)].first_column,last_column:M[M.length-1].last_column},pe&&(mt._$.range=[M[M.length-(Nt||1)].range[0],M[M.length-1].range[1]]),tt=this.performAction.apply(mt,[Y,X,V,Q.yy,rt[1],z,M].concat(he)),typeof tt<"u")return tt;Nt&&(B=B.slice(0,-1*Nt*2),z=z.slice(0,-1*Nt),M=M.slice(0,-1*Nt)),B.push(this.productions_[rt[1]][0]),z.push(mt.$),M.push(mt._$),kt=G[B[B.length-2]][B[B.length-1]],B.push(kt);break;case 3:return!0}}return!0},"parse")},O=function(){var q={EOF:1,parseError:o(function(S,B){if(this.yy.parser)this.yy.parser.parseError(S,B);else throw new Error(S)},"parseError"),setInput:o(function(S,B){return this.yy=B||this.yy||{},this._input=S,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var S=this._input[0];this.yytext+=S,this.yyleng++,this.offset++,this.match+=S,this.matched+=S;var B=S.match(/(?:\r\n?|\n).*/g);return B?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),S},"input"),unput:o(function(S){var B=S.length,F=S.split(/(?:\r\n?|\n)/g);this._input=S+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-B),this.offset-=B;var z=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),F.length-1&&(this.yylineno-=F.length-1);var M=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:F?(F.length===z.length?this.yylloc.first_column:0)+z[z.length-F.length].length-F[0].length:this.yylloc.first_column-B},this.options.ranges&&(this.yylloc.range=[M[0],M[0]+this.yyleng-B]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(S){this.unput(this.match.slice(S))},"less"),pastInput:o(function(){var S=this.matched.substr(0,this.matched.length-this.match.length);return(S.length>20?"...":"")+S.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var S=this.match;return S.length<20&&(S+=this._input.substr(0,20-S.length)),(S.substr(0,20)+(S.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var S=this.pastInput(),B=new Array(S.length+1).join("-");return S+this.upcomingInput()+`
`+B+"^"},"showPosition"),test_match:o(function(S,B){var F,z,M;if(this.options.backtrack_lexer&&(M={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(M.yylloc.range=this.yylloc.range.slice(0))),z=S[0].match(/(?:\r\n?|\n).*/g),z&&(this.yylineno+=z.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:z?z[z.length-1].length-z[z.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+S[0].length},this.yytext+=S[0],this.match+=S[0],this.matches=S,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(S[0].length),this.matched+=S[0],F=this.performAction.call(this,this.yy,this,B,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),F)return F;if(this._backtrack){for(var G in M)this[G]=M[G];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var S,B,F,z;this._more||(this.yytext="",this.match="");for(var M=this._currentRules(),G=0;G<M.length;G++)if(F=this._input.match(this.rules[M[G]]),F&&(!B||F[0].length>B[0].length)){if(B=F,z=G,this.options.backtrack_lexer){if(S=this.test_match(F,M[G]),S!==!1)return S;if(this._backtrack){B=!1;continue}else return!1}else if(!this.options.flex)break}return B?(S=this.test_match(B,M[z]),S!==!1?S:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var S=this.next();return S||this.lex()},"lex"),begin:o(function(S){this.conditionStack.push(S)},"begin"),popState:o(function(){var S=this.conditionStack.length-1;return S>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(S){return S=this.conditionStack.length-1-Math.abs(S||0),S>=0?this.conditionStack[S]:"INITIAL"},"topState"),pushState:o(function(S){this.begin(S)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(S,B,F,z){var M=z;switch(F){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return q}();P.lexer=O;function I(){this.yy={}}return o(I,"Parser"),I.prototype=P,P.Parser=I,new I}(),rT.parser=rT,l9e=rT}),aJe=St((e,t)=>{"use strict";(function(r,n){typeof e=="object"&&typeof t<"u"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_isoWeek=n()})(e,function(){"use strict";var r="day";return function(n,i,a){var s=o(function(h){return h.add(4-h.isoWeekday(),r)},"a"),l=i.prototype;l.isoWeekYear=function(){return s(this).year()},l.isoWeek=function(h){if(!this.$utils().u(h))return this.add(7*(h-this.isoWeek()),r);var d,p,f,g,m=s(this),y=(d=this.isoWeekYear(),p=this.$u,f=(p?a.utc:a)().year(d).startOf("year"),g=4-f.isoWeekday(),f.isoWeekday()>4&&(g+=7),f.add(g,r));return m.diff(y,"week")+1},l.isoWeekday=function(h){return this.$utils().u(h)?this.day()||7:this.day(this.day()%7?h:h-7)};var u=l.startOf;l.startOf=function(h,d){var p=this.$utils(),f=!!p.u(d)||d;return p.p(h)==="isoweek"?f?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):u.bind(this)(h,d)}}})}),sJe=St((e,t)=>{"use strict";(function(r,n){typeof e=="object"&&typeof t<"u"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_customParseFormat=n()})(e,function(){"use strict";var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,a=/\d\d/,s=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,u={},h=o(function(b){return(b=+b)+(b>68?1900:2e3)},"a"),d=o(function(b){return function(v){this[b]=+v}},"f"),p=[/[+-]\d\d:?(\d\d)?|Z/,function(b){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var x=v.match(/([+-]|\d\d)/g),w=60*x[1]+(+x[2]||0);return w===0?0:x[0]==="+"?-w:w}(b)}],f=o(function(b){var v=u[b];return v&&(v.indexOf?v:v.s.concat(v.f))},"u"),g=o(function(b,v){var x,w=u.meridiem;if(w){for(var E=1;E<=24;E+=1)if(b.indexOf(w(E,0,v))>-1){x=E>12;break}}else x=b===(v?"pm":"PM");return x},"d"),m={A:[l,function(b){this.afternoon=g(b,!1)}],a:[l,function(b){this.afternoon=g(b,!0)}],Q:[i,function(b){this.month=3*(b-1)+1}],S:[i,function(b){this.milliseconds=100*+b}],SS:[a,function(b){this.milliseconds=10*+b}],SSS:[/\d{3}/,function(b){this.milliseconds=+b}],s:[s,d("seconds")],ss:[s,d("seconds")],m:[s,d("minutes")],mm:[s,d("minutes")],H:[s,d("hours")],h:[s,d("hours")],HH:[s,d("hours")],hh:[s,d("hours")],D:[s,d("day")],DD:[a,d("day")],Do:[l,function(b){var v=u.ordinal,x=b.match(/\d+/);if(this.day=x[0],v)for(var w=1;w<=31;w+=1)v(w).replace(/\[|\]/g,"")===b&&(this.day=w)}],w:[s,d("week")],ww:[a,d("week")],M:[s,d("month")],MM:[a,d("month")],MMM:[l,function(b){var v=f("months"),x=(f("monthsShort")||v.map(function(w){return w.slice(0,3)})).indexOf(b)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[l,function(b){var v=f("months").indexOf(b)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(b){this.year=h(b)}],YYYY:[/\d{4}/,d("year")],Z:p,ZZ:p};function y(b){var v,x;v=b,x=u&&u.formats;for(var w=(b=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(P,O,I){var q=I&&I.toUpperCase();return O||x[I]||r[I]||x[q].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,B,F){return B||F.slice(1)})})).match(n),E=w.length,A=0;A<E;A+=1){var N=w[A],L=m[N],C=L&&L[0],D=L&&L[1];w[A]=D?{regex:C,parser:D}:N.replace(/^\[|\]$/g,"")}return function(P){for(var O={},I=0,q=0;I<E;I+=1){var S=w[I];if(typeof S=="string")q+=S.length;else{var B=S.regex,F=S.parser,z=P.slice(q),M=B.exec(z)[0];F.call(O,M),P=P.replace(M,"")}}return function(G){var Y=G.afternoon;if(Y!==void 0){var V=G.hours;Y?V<12&&(G.hours+=12):V===12&&(G.hours=0),delete G.afternoon}}(O),O}}return o(y,"l"),function(b,v,x){x.p.customParseFormat=!0,b&&b.parseTwoDigitYear&&(h=b.parseTwoDigitYear);var w=v.prototype,E=w.parse;w.parse=function(A){var N=A.date,L=A.utc,C=A.args;this.$u=L;var D=C[1];if(typeof D=="string"){var P=C[2]===!0,O=C[3]===!0,I=P||O,q=C[2];O&&(q=C[2]),u=this.$locale(),!P&&q&&(u=x.Ls[q]),this.$d=function(z,M,G,Y){try{if(["x","X"].indexOf(M)>-1)return new Date((M==="X"?1e3:1)*z);var V=y(M)(z),X=V.year,re=V.month,de=V.day,xe=V.hours,he=V.minutes,be=V.seconds,Q=V.milliseconds,ne=V.zone,ee=V.week,pe=new Date,ie=de||(X||re?1:pe.getDate()),De=X||pe.getFullYear(),se=0;X&&!re||(se=re>0?re-1:pe.getMonth());var je,ge=xe||0,rt=he||0,Qe=be||0,tt=Q||0;return ne?new Date(Date.UTC(De,se,ie,ge,rt,Qe,tt+60*ne.offset*1e3)):G?new Date(Date.UTC(De,se,ie,ge,rt,Qe,tt)):(je=new Date(De,se,ie,ge,rt,Qe,tt),ee&&(je=Y(je).week(ee).toDate()),je)}catch{return new Date("")}}(N,D,L,x),this.init(),q&&q!==!0&&(this.$L=this.locale(q).$L),I&&N!=this.format(D)&&(this.$d=new Date("")),u={}}else if(D instanceof Array)for(var S=D.length,B=1;B<=S;B+=1){C[1]=D[B-1];var F=x.apply(this,C);if(F.isValid()){this.$d=F.$d,this.$L=F.$L,this.init();break}B===S&&(this.$d=new Date(""))}else E.call(this,A)}}})}),oJe=St((e,t)=>{"use strict";(function(r,n){typeof e=="object"&&typeof t<"u"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_advancedFormat=n()})(e,function(){"use strict";return function(r,n){var i=n.prototype,a=i.format;i.format=function(s){var l=this,u=this.$locale();if(!this.isValid())return a.bind(this)(s);var h=this.$utils(),d=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(p){switch(p){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return u.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return u.ordinal(l.week(),"W");case"w":case"ww":return h.s(l.week(),p==="w"?1:2,"0");case"W":case"WW":return h.s(l.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return h.s(String(l.$H===0?24:l.$H),p==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return p}});return a.bind(this)(d)}}})});function E$(e,t,r){let n=!0;for(;n;)n=!1,r.forEach(function(i){let a="^\\s*"+i+"\\s*$",s=new RegExp(a);e[0].match(s)&&(t[i]=!0,e.shift(1),n=!0)})}var c9e,ec,u9e,h9e,d9e,C$,bu,nT,_$,iT,x2,w2,aT,sT,Iv,rg,oT,S$,lT,k2,cT,uT,Dv,hT,p9e,g9e,f9e,m9e,y9e,v9e,b9e,x9e,w9e,k9e,T9e,E9e,C9e,_9e,S9e,A9e,L9e,N9e,M9e,I9e,D9e,R9e,O9e,A$,P9e,B9e,F9e,L$,$9e,dT,N$,M$,Rv,ng,z9e,q9e,I$,pT,es,D$,G9e,o1,Y9e,R$,j9e,O$,H9e,P$,U9e,V9e,W9e,lJe=R(()=>{"use strict";c9e=Pr(i3(),1),ec=Pr(lr(),1),u9e=Pr(aJe(),1),h9e=Pr(sJe(),1),d9e=Pr(oJe(),1),We(),zr(),kn(),ys(),ec.default.extend(u9e.default),ec.default.extend(h9e.default),ec.default.extend(d9e.default),C$={friday:5,saturday:6},bu="",nT="",iT="",x2=[],w2=[],aT=new Map,sT=[],Iv=[],rg="",oT="",S$=["active","done","crit","milestone"],lT=[],k2=!1,cT=!1,uT="sunday",Dv="saturday",hT=0,p9e=o(function(){sT=[],Iv=[],rg="",lT=[],Rv=0,I$=void 0,pT=void 0,es=[],bu="",nT="",oT="",_$=void 0,iT="",x2=[],w2=[],k2=!1,cT=!1,hT=0,aT=new Map,fs(),uT="sunday",Dv="saturday"},"clear"),g9e=o(function(e){nT=e},"setAxisFormat"),f9e=o(function(){return nT},"getAxisFormat"),m9e=o(function(e){_$=e},"setTickInterval"),y9e=o(function(){return _$},"getTickInterval"),v9e=o(function(e){iT=e},"setTodayMarker"),b9e=o(function(){return iT},"getTodayMarker"),x9e=o(function(e){bu=e},"setDateFormat"),w9e=o(function(){k2=!0},"enableInclusiveEndDates"),k9e=o(function(){return k2},"endDatesAreInclusive"),T9e=o(function(){cT=!0},"enableTopAxis"),E9e=o(function(){return cT},"topAxisEnabled"),C9e=o(function(e){oT=e},"setDisplayMode"),_9e=o(function(){return oT},"getDisplayMode"),S9e=o(function(){return bu},"getDateFormat"),A9e=o(function(e){x2=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),L9e=o(function(){return x2},"getIncludes"),N9e=o(function(e){w2=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),M9e=o(function(){return w2},"getExcludes"),I9e=o(function(){return aT},"getLinks"),D9e=o(function(e){rg=e,sT.push(e)},"addSection"),R9e=o(function(){return sT},"getSections"),O9e=o(function(){let e=R$(),t=10,r=0;for(;!e&&r<t;)e=R$(),r++;return Iv=es,Iv},"getTasks"),A$=o(function(e,t,r,n){return n.includes(e.format(t.trim()))?!1:r.includes("weekends")&&(e.isoWeekday()===C$[Dv]||e.isoWeekday()===C$[Dv]+1)||r.includes(e.format("dddd").toLowerCase())?!0:r.includes(e.format(t.trim()))},"isInvalidDate"),P9e=o(function(e){uT=e},"setWeekday"),B9e=o(function(){return uT},"getWeekday"),F9e=o(function(e){Dv=e},"setWeekend"),L$=o(function(e,t,r,n){if(!r.length||e.manualEndTime)return;let i;e.startTime instanceof Date?i=(0,ec.default)(e.startTime):i=(0,ec.default)(e.startTime,t,!0),i=i.add(1,"d");let a;e.endTime instanceof Date?a=(0,ec.default)(e.endTime):a=(0,ec.default)(e.endTime,t,!0);let[s,l]=$9e(i,a,t,r,n);e.endTime=s.toDate(),e.renderEndTime=l},"checkTaskDates"),$9e=o(function(e,t,r,n,i){let a=!1,s=null;for(;e<=t;)a||(s=t.toDate()),a=A$(e,r,n,i),a&&(t=t.add(1,"d")),e=e.add(1,"d");return[t,s]},"fixTaskDates"),dT=o(function(e,t,r){r=r.trim();let n=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(n!==null){let a=null;for(let l of n.groups.ids.split(" ")){let u=o1(l);u!==void 0&&(!a||u.endTime>a.endTime)&&(a=u)}if(a)return a.endTime;let s=new Date;return s.setHours(0,0,0,0),s}let i=(0,ec.default)(r,t.trim(),!0);if(i.isValid())return i.toDate();{J.debug("Invalid date:"+r),J.debug("With date format:"+t.trim());let a=new Date(r);if(a===void 0||isNaN(a.getTime())||a.getFullYear()<-1e4||a.getFullYear()>1e4)throw new Error("Invalid date:"+r);return a}},"getStartDate"),N$=o(function(e){let t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]},"parseDuration"),M$=o(function(e,t,r,n=!1){r=r.trim();let i=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(i!==null){let h=null;for(let p of i.groups.ids.split(" ")){let f=o1(p);f!==void 0&&(!h||f.startTime<h.startTime)&&(h=f)}if(h)return h.startTime;let d=new Date;return d.setHours(0,0,0,0),d}let a=(0,ec.default)(r,t.trim(),!0);if(a.isValid())return n&&(a=a.add(1,"d")),a.toDate();let s=(0,ec.default)(e),[l,u]=N$(r);if(!Number.isNaN(l)){let h=s.add(l,u);h.isValid()&&(s=h)}return s.toDate()},"getEndDate"),Rv=0,ng=o(function(e){return e===void 0?(Rv=Rv+1,"task"+Rv):e},"parseId"),z9e=o(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let n=r.split(","),i={};E$(n,i,S$);for(let s=0;s<n.length;s++)n[s]=n[s].trim();let a="";switch(n.length){case 1:i.id=ng(),i.startTime=e.endTime,a=n[0];break;case 2:i.id=ng(),i.startTime=dT(void 0,bu,n[0]),a=n[1];break;case 3:i.id=ng(n[0]),i.startTime=dT(void 0,bu,n[1]),a=n[2];break;default:}return a&&(i.endTime=M$(i.startTime,bu,a,k2),i.manualEndTime=(0,ec.default)(a,"YYYY-MM-DD",!0).isValid(),L$(i,bu,w2,x2)),i},"compileData"),q9e=o(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let n=r.split(","),i={};E$(n,i,S$);for(let a=0;a<n.length;a++)n[a]=n[a].trim();switch(n.length){case 1:i.id=ng(),i.startTime={type:"prevTaskEnd",id:e},i.endTime={data:n[0]};break;case 2:i.id=ng(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=ng(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]};break;default:}return i},"parseData"),es=[],D$={},G9e=o(function(e,t){let r={section:rg,type:rg,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},n=q9e(pT,t);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=pT,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=hT,hT++;let i=es.push(r);pT=r.id,D$[r.id]=i-1},"addTask"),o1=o(function(e){let t=D$[e];return es[t]},"findTaskById"),Y9e=o(function(e,t){let r={section:rg,type:rg,description:e,task:e,classes:[]},n=z9e(I$,t);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,I$=r,Iv.push(r)},"addTaskOrg"),R$=o(function(){let e=o(function(r){let n=es[r],i="";switch(es[r].raw.startTime.type){case"prevTaskEnd":{let a=o1(n.prevTaskId);n.startTime=a.endTime;break}case"getStartDate":i=dT(void 0,bu,es[r].raw.startTime.startData),i&&(es[r].startTime=i);break}return es[r].startTime&&(es[r].endTime=M$(es[r].startTime,bu,es[r].raw.endTime.data,k2),es[r].endTime&&(es[r].processed=!0,es[r].manualEndTime=(0,ec.default)(es[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),L$(es[r],bu,w2,x2))),es[r].processed},"compileTask"),t=!0;for(let[r,n]of es.entries())e(r),t=t&&n.processed;return t},"compileTasks"),j9e=o(function(e,t){let r=t;Ge().securityLevel!=="loose"&&(r=(0,c9e.sanitizeUrl)(t)),e.split(",").forEach(function(n){o1(n)!==void 0&&(P$(n,()=>{window.open(r,"_self")}),aT.set(n,r))}),O$(e,"clickable")},"setLink"),O$=o(function(e,t){e.split(",").forEach(function(r){let n=o1(r);n!==void 0&&n.classes.push(t)})},"setClass"),H9e=o(function(e,t,r){if(Ge().securityLevel!=="loose"||t===void 0)return;let n=[];if(typeof r=="string"){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let i=0;i<n.length;i++){let a=n[i].trim();a.startsWith('"')&&a.endsWith('"')&&(a=a.substr(1,a.length-2)),n[i]=a}}n.length===0&&n.push(e),o1(e)!==void 0&&P$(e,()=>{mn.runFunc(t,...n)})},"setClickFun"),P$=o(function(e,t){lT.push(function(){let r=document.querySelector(`[id="${e}"]`);r!==null&&r.addEventListener("click",function(){t()})},function(){let r=document.querySelector(`[id="${e}-text"]`);r!==null&&r.addEventListener("click",function(){t()})})},"pushFun"),U9e=o(function(e,t,r){e.split(",").forEach(function(n){H9e(n,t,r)}),O$(e,"clickable")},"setClickEvent"),V9e=o(function(e){lT.forEach(function(t){t(e)})},"bindFunctions"),W9e={getConfig:o(()=>Ge().gantt,"getConfig"),clear:p9e,setDateFormat:x9e,getDateFormat:S9e,enableInclusiveEndDates:w9e,endDatesAreInclusive:k9e,enableTopAxis:T9e,topAxisEnabled:E9e,setAxisFormat:g9e,getAxisFormat:f9e,setTickInterval:m9e,getTickInterval:y9e,setTodayMarker:v9e,getTodayMarker:b9e,setAccTitle:ms,getAccTitle:Ls,setDiagramTitle:_o,getDiagramTitle:Is,setDisplayMode:C9e,getDisplayMode:_9e,setAccDescription:Ns,getAccDescription:Ms,addSection:D9e,getSections:R9e,getTasks:O9e,addTask:G9e,findTaskById:o1,addTaskOrg:Y9e,setIncludes:A9e,getIncludes:L9e,setExcludes:N9e,getExcludes:M9e,setClickEvent:U9e,setLink:j9e,getLinks:I9e,bindFunctions:V9e,parseDuration:N$,isInvalidDate:A$,setWeekday:P9e,getWeekday:B9e,setWeekend:F9e},o(E$,"getTaskTags")}),gT,X9e,B$,K9e,_0,Z9e,Q9e,cJe=R(()=>{"use strict";gT=Pr(lr(),1),We(),Ln(),En(),zr(),Fa(),X9e=o(function(){J.debug("Something is calling, setConf, remove the call")},"setConf"),B$={monday:Hf,tuesday:YA,wednesday:jA,thursday:bd,friday:HA,saturday:UA,sunday:jf},K9e=o((e,t)=>{let r=[...e].map(()=>-1/0),n=[...e].sort((a,s)=>a.startTime-s.startTime||a.order-s.order),i=0;for(let a of n)for(let s=0;s<r.length;s++)if(a.startTime>=r[s]){r[s]=a.endTime,a.order=s+t,s>i&&(i=s);break}return i},"getMaxIntersections"),Z9e=o(function(e,t,r,n){let i=Ge().gantt,a=Ge().securityLevel,s;a==="sandbox"&&(s=Bt("#i"+t));let l=Bt(a==="sandbox"?s.nodes()[0].contentDocument.body:"body"),u=a==="sandbox"?s.nodes()[0].contentDocument:document,h=u.getElementById(t);_0=h.parentElement.offsetWidth,_0===void 0&&(_0=1200),i.useWidth!==void 0&&(_0=i.useWidth);let d=n.db.getTasks(),p=[];for(let C of d)p.push(C.type);p=L(p);let f={},g=2*i.topPadding;if(n.db.getDisplayMode()==="compact"||i.displayMode==="compact"){let C={};for(let P of d)C[P.section]===void 0?C[P.section]=[P]:C[P.section].push(P);let D=0;for(let P of Object.keys(C)){let O=K9e(C[P],D)+1;D+=O,g+=O*(i.barHeight+i.barGap),f[P]=O}}else{g+=d.length*(i.barHeight+i.barGap);for(let C of p)f[C]=d.filter(D=>D.type===C).length}h.setAttribute("viewBox","0 0 "+_0+" "+g);let m=l.select(`[id="${t}"]`),y=Uee().domain([UW(d,function(C){return C.startTime}),HW(d,function(C){return C.endTime})]).rangeRound([0,_0-i.leftPadding-i.rightPadding]);function b(C,D){let P=C.startTime,O=D.startTime,I=0;return P>O?I=1:P<O&&(I=-1),I}o(b,"taskCompare"),d.sort(b),v(d,_0,g),Qs(m,g,_0,i.useMaxWidth),m.append("text").text(n.db.getDiagramTitle()).attr("x",_0/2).attr("y",i.titleTopMargin).attr("class","titleText");function v(C,D,P){let O=i.barHeight,I=O+i.barGap,q=i.topPadding,S=i.leftPadding,B=cp().domain([0,p.length]).range(["#00B9FA","#F95002"]).interpolate(IZ);w(I,q,S,D,P,C,n.db.getExcludes(),n.db.getIncludes()),E(S,q,D,P),x(C,I,q,S,O,B,D,P),A(I,q,S,O,B),N(S,q,D,P)}o(v,"makeGantt");function x(C,D,P,O,I,q,S){let B=[...new Set(C.map(M=>M.order))].map(M=>C.find(G=>G.order===M));m.append("g").selectAll("rect").data(B).enter().append("rect").attr("x",0).attr("y",function(M,G){return G=M.order,G*D+P-2}).attr("width",function(){return S-i.rightPadding/2}).attr("height",D).attr("class",function(M){for(let[G,Y]of p.entries())if(M.type===Y)return"section section"+G%i.numberSectionStyles;return"section section0"});let F=m.append("g").selectAll("rect").data(C).enter(),z=n.db.getLinks();if(F.append("rect").attr("id",function(M){return M.id}).attr("rx",3).attr("ry",3).attr("x",function(M){return M.milestone?y(M.startTime)+O+.5*(y(M.endTime)-y(M.startTime))-.5*I:y(M.startTime)+O}).attr("y",function(M,G){return G=M.order,G*D+P}).attr("width",function(M){return M.milestone?I:y(M.renderEndTime||M.endTime)-y(M.startTime)}).attr("height",I).attr("transform-origin",function(M,G){return G=M.order,(y(M.startTime)+O+.5*(y(M.endTime)-y(M.startTime))).toString()+"px "+(G*D+P+.5*I).toString()+"px"}).attr("class",function(M){let G="task",Y="";M.classes.length>0&&(Y=M.classes.join(" "));let V=0;for(let[re,de]of p.entries())M.type===de&&(V=re%i.numberSectionStyles);let X="";return M.active?M.crit?X+=" activeCrit":X=" active":M.done?M.crit?X=" doneCrit":X=" done":M.crit&&(X+=" crit"),X.length===0&&(X=" task"),M.milestone&&(X=" milestone "+X),X+=V,X+=" "+Y,G+X}),F.append("text").attr("id",function(M){return M.id+"-text"}).text(function(M){return M.task}).attr("font-size",i.fontSize).attr("x",function(M){let G=y(M.startTime),Y=y(M.renderEndTime||M.endTime);M.milestone&&(G+=.5*(y(M.endTime)-y(M.startTime))-.5*I),M.milestone&&(Y=G+I);let V=this.getBBox().width;return V>Y-G?Y+V+1.5*i.leftPadding>S?G+O-5:Y+O+5:(Y-G)/2+G+O}).attr("y",function(M,G){return G=M.order,G*D+i.barHeight/2+(i.fontSize/2-2)+P}).attr("text-height",I).attr("class",function(M){let G=y(M.startTime),Y=y(M.endTime);M.milestone&&(Y=G+I);let V=this.getBBox().width,X="";M.classes.length>0&&(X=M.classes.join(" "));let re=0;for(let[xe,he]of p.entries())M.type===he&&(re=xe%i.numberSectionStyles);let de="";return M.active&&(M.crit?de="activeCritText"+re:de="activeText"+re),M.done?M.crit?de=de+" doneCritText"+re:de=de+" doneText"+re:M.crit&&(de=de+" critText"+re),M.milestone&&(de+=" milestoneText"),V>Y-G?Y+V+1.5*i.leftPadding>S?X+" taskTextOutsideLeft taskTextOutside"+re+" "+de:X+" taskTextOutsideRight taskTextOutside"+re+" "+de+" width-"+V:X+" taskText taskText"+re+" "+de+" width-"+V}),Ge().securityLevel==="sandbox"){let M;M=Bt("#i"+t);let G=M.nodes()[0].contentDocument;F.filter(function(Y){return z.has(Y.id)}).each(function(Y){var V=G.querySelector("#"+Y.id),X=G.querySelector("#"+Y.id+"-text");let re=V.parentNode;var de=G.createElement("a");de.setAttribute("xlink:href",z.get(Y.id)),de.setAttribute("target","_top"),re.appendChild(de),de.appendChild(V),de.appendChild(X)})}}o(x,"drawRects");function w(C,D,P,O,I,q,S,B){if(S.length===0&&B.length===0)return;let F,z;for(let{startTime:X,endTime:re}of q)(F===void 0||X<F)&&(F=X),(z===void 0||re>z)&&(z=re);if(!F||!z)return;if((0,gT.default)(z).diff((0,gT.default)(F),"year")>5){J.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}let M=n.db.getDateFormat(),G=[],Y=null,V=(0,gT.default)(F);for(;V.valueOf()<=z;)n.db.isInvalidDate(V,M,S,B)?Y?Y.end=V:Y={start:V,end:V}:Y&&(G.push(Y),Y=null),V=V.add(1,"d");m.append("g").selectAll("rect").data(G).enter().append("rect").attr("id",function(X){return"exclude-"+X.start.format("YYYY-MM-DD")}).attr("x",function(X){return y(X.start)+P}).attr("y",i.gridLineStartPadding).attr("width",function(X){let re=X.end.add(1,"day");return y(re)-y(X.start)}).attr("height",I-D-i.gridLineStartPadding).attr("transform-origin",function(X,re){return(y(X.start)+P+.5*(y(X.end)-y(X.start))).toString()+"px "+(re*C+.5*I).toString()+"px"}).attr("class","exclude-range")}o(w,"drawExcludeDays");function E(C,D,P,O){let I=tX(y).tickSize(-O+D+i.gridLineStartPadding).tickFormat(g7(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d")),q=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||i.tickInterval);if(q!==null){let S=q[1],B=q[2],F=n.db.getWeekday()||i.weekday;switch(B){case"millisecond":I.ticks(up.every(S));break;case"second":I.ticks(jh.every(S));break;case"minute":I.ticks(Gf.every(S));break;case"hour":I.ticks(Yf.every(S));break;case"day":I.ticks(md.every(S));break;case"week":I.ticks(B$[F].every(S));break;case"month":I.ticks(Uf.every(S));break}}if(m.append("g").attr("class","grid").attr("transform","translate("+C+", "+(O-50)+")").call(I).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||i.topAxis){let S=eX(y).tickSize(-O+D+i.gridLineStartPadding).tickFormat(g7(n.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(q!==null){let B=q[1],F=q[2],z=n.db.getWeekday()||i.weekday;switch(F){case"millisecond":S.ticks(up.every(B));break;case"second":S.ticks(jh.every(B));break;case"minute":S.ticks(Gf.every(B));break;case"hour":S.ticks(Yf.every(B));break;case"day":S.ticks(md.every(B));break;case"week":S.ticks(B$[z].every(B));break;case"month":S.ticks(Uf.every(B));break}}m.append("g").attr("class","grid").attr("transform","translate("+C+", "+D+")").call(S).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}o(E,"makeGrid");function A(C,D){let P=0,O=Object.keys(f).map(I=>[I,f[I]]);m.append("g").selectAll("text").data(O).enter().append(function(I){let q=I[0].split(Yt.lineBreakRegex),S=-(q.length-1)/2,B=u.createElementNS("http://www.w3.org/2000/svg","text");B.setAttribute("dy",S+"em");for(let[F,z]of q.entries()){let M=u.createElementNS("http://www.w3.org/2000/svg","tspan");M.setAttribute("alignment-baseline","central"),M.setAttribute("x","10"),F>0&&M.setAttribute("dy","1em"),M.textContent=z,B.appendChild(M)}return B}).attr("x",10).attr("y",function(I,q){if(q>0)for(let S=0;S<q;S++)return P+=O[q-1][1],I[1]*C/2+P*C+D;else return I[1]*C/2+D}).attr("font-size",i.sectionFontSize).attr("class",function(I){for(let[q,S]of p.entries())if(I[0]===S)return"sectionTitle sectionTitle"+q%i.numberSectionStyles;return"sectionTitle"})}o(A,"vertLabels");function N(C,D,P,O){let I=n.db.getTodayMarker();if(I==="off")return;let q=m.append("g").attr("class","today"),S=new Date,B=q.append("line");B.attr("x1",y(S)+C).attr("x2",y(S)+C).attr("y1",i.titleTopMargin).attr("y2",O-i.titleTopMargin).attr("class","today"),I!==""&&B.attr("style",I.replace(/,/g,";"))}o(N,"drawToday");function L(C){let D={},P=[];for(let O=0,I=C.length;O<I;++O)Object.prototype.hasOwnProperty.call(D,C[O])||(D[C[O]]=!0,P.push(C[O]));return P}o(L,"checkUnique")},"draw"),Q9e={setConf:X9e,draw:Z9e}}),J9e,eTe,uJe=R(()=>{"use strict";J9e=o(e=>`
  .mermaid-main-font {
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${e.fontFamily};
    fill: ${e.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.titleColor||e.textColor};
    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);
  }
`,"getStyles"),eTe=J9e}),tTe={};yr(tTe,{diagram:()=>rTe});var rTe,hJe=R(()=>{"use strict";iJe(),lJe(),cJe(),uJe(),rTe={parser:l9e,db:W9e,renderer:Q9e,styles:eTe}}),nTe,dJe=R(()=>{"use strict";Av(),We(),nTe={parse:o(async e=>{let t=await tg("info",e);J.debug(t)},"parse")}}),fT,iTe=R(()=>{fT="11.4.1"}),aTe,sTe,oTe,pJe=R(()=>{"use strict";iTe(),aTe={version:fT},sTe=o(()=>aTe.version,"getVersion"),oTe={getVersion:sTe}}),S0,l1=R(()=>{"use strict";Ln(),zr(),S0=o(e=>{let{securityLevel:t}=Ge(),r=Bt("body");if(t==="sandbox"){let n=Bt(`#i${e}`).node()?.contentDocument??document;r=Bt(n.body)}return r.select(`#${e}`)},"selectSvgElement")}),lTe,cTe,gJe=R(()=>{"use strict";We(),l1(),Fa(),lTe=o((e,t,r)=>{J.debug(`rendering info diagram
`+e);let n=S0(t);Qs(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),cTe={draw:lTe}}),uTe={};yr(uTe,{diagram:()=>hTe});var hTe,fJe=R(()=>{"use strict";dJe(),pJe(),gJe(),hTe={parser:nTe,db:oTe,renderer:cTe}}),F$,mT,Ov,yT,dTe,pTe,gTe,fTe,mTe,yTe,vTe,$$,bTe=R(()=>{"use strict";We(),ys(),ka(),F$=Fn.pie,mT={sections:new Map,showData:!1,config:F$},Ov=mT.sections,yT=mT.showData,dTe=structuredClone(F$),pTe=o(()=>structuredClone(dTe),"getConfig"),gTe=o(()=>{Ov=new Map,yT=mT.showData,fs()},"clear"),fTe=o(({label:e,value:t})=>{Ov.has(e)||(Ov.set(e,t),J.debug(`added new section: ${e}, with value: ${t}`))},"addSection"),mTe=o(()=>Ov,"getSections"),yTe=o(e=>{yT=e},"setShowData"),vTe=o(()=>yT,"getShowData"),$$={getConfig:pTe,clear:gTe,setDiagramTitle:_o,getDiagramTitle:Is,setAccTitle:ms,getAccTitle:Ls,setAccDescription:Ns,getAccDescription:Ms,addSection:fTe,getSections:mTe,setShowData:yTe,getShowData:vTe}}),xTe,wTe,mJe=R(()=>{"use strict";Av(),We(),J9(),bTe(),xTe=o((e,t)=>{Lv(e,t),t.setShowData(e.showData),e.sections.map(t.addSection)},"populateDb"),wTe={parse:o(async e=>{let t=await tg("pie",e);J.debug(t),xTe(t,$$)},"parse")}}),kTe,TTe,yJe=R(()=>{"use strict";kTe=o(e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${e.pieOuterStrokeColor};
    stroke-width: ${e.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,"getStyles"),TTe=kTe}),ETe,CTe,_Te,vJe=R(()=>{"use strict";Ln(),zr(),We(),l1(),Fa(),kn(),ETe=o(e=>{let t=[...e.entries()].map(r=>({label:r[0],value:r[1]})).sort((r,n)=>n.value-r.value);return ute().value(r=>r.value)(t)},"createPieArcs"),CTe=o((e,t,r,n)=>{J.debug(`rendering pie chart
`+e);let i=n.db,a=Ge(),s=Xh(i.getConfig(),a.pie),l=40,u=18,h=4,d=450,p=d,f=S0(t),g=f.append("g");g.attr("transform","translate("+p/2+","+d/2+")");let{themeVariables:m}=a,[y]=Kh(m.pieOuterStrokeWidth);y??=2;let b=s.textPosition,v=Math.min(p,d)/2-l,x=pp().innerRadius(0).outerRadius(v),w=pp().innerRadius(v*b).outerRadius(v*b);g.append("circle").attr("cx",0).attr("cy",0).attr("r",v+y/2).attr("class","pieOuterCircle");let E=i.getSections(),A=ETe(E),N=[m.pie1,m.pie2,m.pie3,m.pie4,m.pie5,m.pie6,m.pie7,m.pie8,m.pie9,m.pie10,m.pie11,m.pie12],L=W4(N);g.selectAll("mySlices").data(A).enter().append("path").attr("d",x).attr("fill",I=>L(I.data.label)).attr("class","pieCircle");let C=0;E.forEach(I=>{C+=I}),g.selectAll("mySlices").data(A).enter().append("text").text(I=>(I.data.value/C*100).toFixed(0)+"%").attr("transform",I=>"translate("+w.centroid(I)+")").style("text-anchor","middle").attr("class","slice"),g.append("text").text(i.getDiagramTitle()).attr("x",0).attr("y",-(d-50)/2).attr("class","pieTitleText");let D=g.selectAll(".legend").data(L.domain()).enter().append("g").attr("class","legend").attr("transform",(I,q)=>{let S=u+h,B=S*L.domain().length/2,F=12*u,z=q*S-B;return"translate("+F+","+z+")"});D.append("rect").attr("width",u).attr("height",u).style("fill",L).style("stroke",L),D.data(A).append("text").attr("x",u+h).attr("y",u-h).text(I=>{let{label:q,value:S}=I.data;return i.getShowData()?`${q} [${S}]`:q});let P=Math.max(...D.selectAll("text").nodes().map(I=>I?.getBoundingClientRect().width??0)),O=p+l+u+h+P;f.attr("viewBox",`0 0 ${O} ${d}`),Qs(f,d,O,s.useMaxWidth)},"draw"),_Te={draw:CTe}}),STe={};yr(STe,{diagram:()=>ATe});var ATe,bJe=R(()=>{"use strict";mJe(),bTe(),yJe(),vJe(),ATe={parser:wTe,db:$$,renderer:_Te,styles:TTe}}),vT,LTe,xJe=R(()=>{"use strict";vT=function(){var e=o(function(fe,Le,Ue,Ke){for(Ue=Ue||{},Ke=fe.length;Ke--;Ue[fe[Ke]]=Le);return Ue},"o"),t=[1,3],r=[1,4],n=[1,5],i=[1,6],a=[1,7],s=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],l=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],u=[55,56,57],h=[2,36],d=[1,37],p=[1,36],f=[1,38],g=[1,35],m=[1,43],y=[1,41],b=[1,14],v=[1,23],x=[1,18],w=[1,19],E=[1,20],A=[1,21],N=[1,22],L=[1,24],C=[1,25],D=[1,26],P=[1,27],O=[1,28],I=[1,29],q=[1,32],S=[1,33],B=[1,34],F=[1,39],z=[1,40],M=[1,42],G=[1,44],Y=[1,62],V=[1,61],X=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],re=[1,65],de=[1,66],xe=[1,67],he=[1,68],be=[1,69],Q=[1,70],ne=[1,71],ee=[1,72],pe=[1,73],ie=[1,74],De=[1,75],se=[1,76],je=[4,5,6,7,8,9,10,11,12,13,14,15,18],ge=[1,90],rt=[1,91],Qe=[1,92],tt=[1,99],mt=[1,93],yt=[1,96],Nt=[1,94],kt=[1,95],te=[1,97],Ne=[1,98],Ce=[1,102],Fe=[10,55,56,57],oe=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],st={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:o(function(fe,Le,Ue,Ke,it,qe,xt){var at=qe.length-1;switch(it){case 23:this.$=qe[at];break;case 24:this.$=qe[at-1]+""+qe[at];break;case 26:this.$=qe[at-1]+qe[at];break;case 27:this.$=[qe[at].trim()];break;case 28:qe[at-2].push(qe[at].trim()),this.$=qe[at-2];break;case 29:this.$=qe[at-4],Ke.addClass(qe[at-2],qe[at]);break;case 37:this.$=[];break;case 42:this.$=qe[at].trim(),Ke.setDiagramTitle(this.$);break;case 43:this.$=qe[at].trim(),Ke.setAccTitle(this.$);break;case 44:case 45:this.$=qe[at].trim(),Ke.setAccDescription(this.$);break;case 46:Ke.addSection(qe[at].substr(8)),this.$=qe[at].substr(8);break;case 47:Ke.addPoint(qe[at-3],"",qe[at-1],qe[at],[]);break;case 48:Ke.addPoint(qe[at-4],qe[at-3],qe[at-1],qe[at],[]);break;case 49:Ke.addPoint(qe[at-4],"",qe[at-2],qe[at-1],qe[at]);break;case 50:Ke.addPoint(qe[at-5],qe[at-4],qe[at-2],qe[at-1],qe[at]);break;case 51:Ke.setXAxisLeftText(qe[at-2]),Ke.setXAxisRightText(qe[at]);break;case 52:qe[at-1].text+=" \u27F6 ",Ke.setXAxisLeftText(qe[at-1]);break;case 53:Ke.setXAxisLeftText(qe[at]);break;case 54:Ke.setYAxisBottomText(qe[at-2]),Ke.setYAxisTopText(qe[at]);break;case 55:qe[at-1].text+=" \u27F6 ",Ke.setYAxisBottomText(qe[at-1]);break;case 56:Ke.setYAxisBottomText(qe[at]);break;case 57:Ke.setQuadrant1Text(qe[at]);break;case 58:Ke.setQuadrant2Text(qe[at]);break;case 59:Ke.setQuadrant3Text(qe[at]);break;case 60:Ke.setQuadrant4Text(qe[at]);break;case 64:this.$={text:qe[at],type:"text"};break;case 65:this.$={text:qe[at-1].text+""+qe[at],type:qe[at-1].type};break;case 66:this.$={text:qe[at],type:"text"};break;case 67:this.$={text:qe[at],type:"markdown"};break;case 68:this.$=qe[at];break;case 69:this.$=qe[at-1]+""+qe[at];break}},"anonymous"),table:[{18:t,26:1,27:2,28:r,55:n,56:i,57:a},{1:[3]},{18:t,26:8,27:2,28:r,55:n,56:i,57:a},{18:t,26:9,27:2,28:r,55:n,56:i,57:a},e(s,[2,33],{29:10}),e(l,[2,61]),e(l,[2,62]),e(l,[2,63]),{1:[2,30]},{1:[2,31]},e(u,h,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:d,5:p,10:f,12:g,13:m,14:y,18:b,25:v,35:x,37:w,39:E,41:A,42:N,48:L,50:C,51:D,52:P,53:O,54:I,60:q,61:S,63:B,64:F,65:z,66:M,67:G}),e(s,[2,34]),{27:45,55:n,56:i,57:a},e(u,[2,37]),e(u,h,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:d,5:p,10:f,12:g,13:m,14:y,18:b,25:v,35:x,37:w,39:E,41:A,42:N,48:L,50:C,51:D,52:P,53:O,54:I,60:q,61:S,63:B,64:F,65:z,66:M,67:G}),e(u,[2,39]),e(u,[2,40]),e(u,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},e(u,[2,45]),e(u,[2,46]),{18:[1,50]},{4:d,5:p,10:f,12:g,13:m,14:y,43:51,58:31,60:q,61:S,63:B,64:F,65:z,66:M,67:G},{4:d,5:p,10:f,12:g,13:m,14:y,43:52,58:31,60:q,61:S,63:B,64:F,65:z,66:M,67:G},{4:d,5:p,10:f,12:g,13:m,14:y,43:53,58:31,60:q,61:S,63:B,64:F,65:z,66:M,67:G},{4:d,5:p,10:f,12:g,13:m,14:y,43:54,58:31,60:q,61:S,63:B,64:F,65:z,66:M,67:G},{4:d,5:p,10:f,12:g,13:m,14:y,43:55,58:31,60:q,61:S,63:B,64:F,65:z,66:M,67:G},{4:d,5:p,10:f,12:g,13:m,14:y,43:56,58:31,60:q,61:S,63:B,64:F,65:z,66:M,67:G},{4:d,5:p,8:Y,10:f,12:g,13:m,14:y,18:V,44:[1,57],47:[1,58],58:60,59:59,63:B,64:F,65:z,66:M,67:G},e(X,[2,64]),e(X,[2,66]),e(X,[2,67]),e(X,[2,70]),e(X,[2,71]),e(X,[2,72]),e(X,[2,73]),e(X,[2,74]),e(X,[2,75]),e(X,[2,76]),e(X,[2,77]),e(X,[2,78]),e(X,[2,79]),e(X,[2,80]),e(s,[2,35]),e(u,[2,38]),e(u,[2,42]),e(u,[2,43]),e(u,[2,44]),{3:64,4:re,5:de,6:xe,7:he,8:be,9:Q,10:ne,11:ee,12:pe,13:ie,14:De,15:se,21:63},e(u,[2,53],{59:59,58:60,4:d,5:p,8:Y,10:f,12:g,13:m,14:y,18:V,49:[1,77],63:B,64:F,65:z,66:M,67:G}),e(u,[2,56],{59:59,58:60,4:d,5:p,8:Y,10:f,12:g,13:m,14:y,18:V,49:[1,78],63:B,64:F,65:z,66:M,67:G}),e(u,[2,57],{59:59,58:60,4:d,5:p,8:Y,10:f,12:g,13:m,14:y,18:V,63:B,64:F,65:z,66:M,67:G}),e(u,[2,58],{59:59,58:60,4:d,5:p,8:Y,10:f,12:g,13:m,14:y,18:V,63:B,64:F,65:z,66:M,67:G}),e(u,[2,59],{59:59,58:60,4:d,5:p,8:Y,10:f,12:g,13:m,14:y,18:V,63:B,64:F,65:z,66:M,67:G}),e(u,[2,60],{59:59,58:60,4:d,5:p,8:Y,10:f,12:g,13:m,14:y,18:V,63:B,64:F,65:z,66:M,67:G}),{45:[1,79]},{44:[1,80]},e(X,[2,65]),e(X,[2,81]),e(X,[2,82]),e(X,[2,83]),{3:82,4:re,5:de,6:xe,7:he,8:be,9:Q,10:ne,11:ee,12:pe,13:ie,14:De,15:se,18:[1,81]},e(je,[2,23]),e(je,[2,1]),e(je,[2,2]),e(je,[2,3]),e(je,[2,4]),e(je,[2,5]),e(je,[2,6]),e(je,[2,7]),e(je,[2,8]),e(je,[2,9]),e(je,[2,10]),e(je,[2,11]),e(je,[2,12]),e(u,[2,52],{58:31,43:83,4:d,5:p,10:f,12:g,13:m,14:y,60:q,61:S,63:B,64:F,65:z,66:M,67:G}),e(u,[2,55],{58:31,43:84,4:d,5:p,10:f,12:g,13:m,14:y,60:q,61:S,63:B,64:F,65:z,66:M,67:G}),{46:[1,85]},{45:[1,86]},{4:ge,5:rt,6:Qe,8:tt,11:mt,13:yt,16:89,17:Nt,18:kt,19:te,20:Ne,22:88,23:87},e(je,[2,24]),e(u,[2,51],{59:59,58:60,4:d,5:p,8:Y,10:f,12:g,13:m,14:y,18:V,63:B,64:F,65:z,66:M,67:G}),e(u,[2,54],{59:59,58:60,4:d,5:p,8:Y,10:f,12:g,13:m,14:y,18:V,63:B,64:F,65:z,66:M,67:G}),e(u,[2,47],{22:88,16:89,23:100,4:ge,5:rt,6:Qe,8:tt,11:mt,13:yt,17:Nt,18:kt,19:te,20:Ne}),{46:[1,101]},e(u,[2,29],{10:Ce}),e(Fe,[2,27],{16:103,4:ge,5:rt,6:Qe,8:tt,11:mt,13:yt,17:Nt,18:kt,19:te,20:Ne}),e(oe,[2,25]),e(oe,[2,13]),e(oe,[2,14]),e(oe,[2,15]),e(oe,[2,16]),e(oe,[2,17]),e(oe,[2,18]),e(oe,[2,19]),e(oe,[2,20]),e(oe,[2,21]),e(oe,[2,22]),e(u,[2,49],{10:Ce}),e(u,[2,48],{22:88,16:89,23:104,4:ge,5:rt,6:Qe,8:tt,11:mt,13:yt,17:Nt,18:kt,19:te,20:Ne}),{4:ge,5:rt,6:Qe,8:tt,11:mt,13:yt,16:89,17:Nt,18:kt,19:te,20:Ne,22:105},e(oe,[2,26]),e(u,[2,50],{10:Ce}),e(Fe,[2,28],{16:103,4:ge,5:rt,6:Qe,8:tt,11:mt,13:yt,17:Nt,18:kt,19:te,20:Ne})],defaultActions:{8:[2,30],9:[2,31]},parseError:o(function(fe,Le){if(Le.recoverable)this.trace(fe);else{var Ue=new Error(fe);throw Ue.hash=Le,Ue}},"parseError"),parse:o(function(fe){var Le=this,Ue=[0],Ke=[],it=[null],qe=[],xt=this.table,at="",jt=0,mr=0,cr=0,Zt=2,vr=1,Gt=qe.slice.call(arguments,1),Tt=Object.create(this.lexer),wt={yy:{}};for(var pr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,pr)&&(wt.yy[pr]=this.yy[pr]);Tt.setInput(fe,wt.yy),wt.yy.lexer=Tt,wt.yy.parser=this,typeof Tt.yylloc>"u"&&(Tt.yylloc={});var Mt=Tt.yylloc;qe.push(Mt);var Rr=Tt.options&&Tt.options.ranges;typeof wt.yy.parseError=="function"?this.parseError=wt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Cr(Be){Ue.length=Ue.length-2*Be,it.length=it.length-Be,qe.length=qe.length-Be}o(Cr,"popStack");function Kt(){var Be;return Be=Ke.pop()||Tt.lex()||vr,typeof Be!="number"&&(Be instanceof Array&&(Ke=Be,Be=Ke.pop()),Be=Le.symbols_[Be]||Be),Be}o(Kt,"lex");for(var Xt,Ft,Tr,ir,oi,xn,On={},Qi,fi,aa,zi;;){if(Tr=Ue[Ue.length-1],this.defaultActions[Tr]?ir=this.defaultActions[Tr]:((Xt===null||typeof Xt>"u")&&(Xt=Kt()),ir=xt[Tr]&&xt[Tr][Xt]),typeof ir>"u"||!ir.length||!ir[0]){var sa="";zi=[];for(Qi in xt[Tr])this.terminals_[Qi]&&Qi>Zt&&zi.push("'"+this.terminals_[Qi]+"'");Tt.showPosition?sa="Parse error on line "+(jt+1)+`:
`+Tt.showPosition()+`
Expecting `+zi.join(", ")+", got '"+(this.terminals_[Xt]||Xt)+"'":sa="Parse error on line "+(jt+1)+": Unexpected "+(Xt==vr?"end of input":"'"+(this.terminals_[Xt]||Xt)+"'"),this.parseError(sa,{text:Tt.match,token:this.terminals_[Xt]||Xt,line:Tt.yylineno,loc:Mt,expected:zi})}if(ir[0]instanceof Array&&ir.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Tr+", token: "+Xt);switch(ir[0]){case 1:Ue.push(Xt),it.push(Tt.yytext),qe.push(Tt.yylloc),Ue.push(ir[1]),Xt=null,Ft?(Xt=Ft,Ft=null):(mr=Tt.yyleng,at=Tt.yytext,jt=Tt.yylineno,Mt=Tt.yylloc,cr>0&&cr--);break;case 2:if(fi=this.productions_[ir[1]][1],On.$=it[it.length-fi],On._$={first_line:qe[qe.length-(fi||1)].first_line,last_line:qe[qe.length-1].last_line,first_column:qe[qe.length-(fi||1)].first_column,last_column:qe[qe.length-1].last_column},Rr&&(On._$.range=[qe[qe.length-(fi||1)].range[0],qe[qe.length-1].range[1]]),xn=this.performAction.apply(On,[at,mr,jt,wt.yy,ir[1],it,qe].concat(Gt)),typeof xn<"u")return xn;fi&&(Ue=Ue.slice(0,-1*fi*2),it=it.slice(0,-1*fi),qe=qe.slice(0,-1*fi)),Ue.push(this.productions_[ir[1]][0]),it.push(On.$),qe.push(On._$),aa=xt[Ue[Ue.length-2]][Ue[Ue.length-1]],Ue.push(aa);break;case 3:return!0}}return!0},"parse")},ae=function(){var fe={EOF:1,parseError:o(function(Le,Ue){if(this.yy.parser)this.yy.parser.parseError(Le,Ue);else throw new Error(Le)},"parseError"),setInput:o(function(Le,Ue){return this.yy=Ue||this.yy||{},this._input=Le,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var Le=this._input[0];this.yytext+=Le,this.yyleng++,this.offset++,this.match+=Le,this.matched+=Le;var Ue=Le.match(/(?:\r\n?|\n).*/g);return Ue?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Le},"input"),unput:o(function(Le){var Ue=Le.length,Ke=Le.split(/(?:\r\n?|\n)/g);this._input=Le+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ue),this.offset-=Ue;var it=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ke.length-1&&(this.yylineno-=Ke.length-1);var qe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ke?(Ke.length===it.length?this.yylloc.first_column:0)+it[it.length-Ke.length].length-Ke[0].length:this.yylloc.first_column-Ue},this.options.ranges&&(this.yylloc.range=[qe[0],qe[0]+this.yyleng-Ue]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(Le){this.unput(this.match.slice(Le))},"less"),pastInput:o(function(){var Le=this.matched.substr(0,this.matched.length-this.match.length);return(Le.length>20?"...":"")+Le.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var Le=this.match;return Le.length<20&&(Le+=this._input.substr(0,20-Le.length)),(Le.substr(0,20)+(Le.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var Le=this.pastInput(),Ue=new Array(Le.length+1).join("-");return Le+this.upcomingInput()+`
`+Ue+"^"},"showPosition"),test_match:o(function(Le,Ue){var Ke,it,qe;if(this.options.backtrack_lexer&&(qe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(qe.yylloc.range=this.yylloc.range.slice(0))),it=Le[0].match(/(?:\r\n?|\n).*/g),it&&(this.yylineno+=it.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:it?it[it.length-1].length-it[it.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Le[0].length},this.yytext+=Le[0],this.match+=Le[0],this.matches=Le,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Le[0].length),this.matched+=Le[0],Ke=this.performAction.call(this,this.yy,this,Ue,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ke)return Ke;if(this._backtrack){for(var xt in qe)this[xt]=qe[xt];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Le,Ue,Ke,it;this._more||(this.yytext="",this.match="");for(var qe=this._currentRules(),xt=0;xt<qe.length;xt++)if(Ke=this._input.match(this.rules[qe[xt]]),Ke&&(!Ue||Ke[0].length>Ue[0].length)){if(Ue=Ke,it=xt,this.options.backtrack_lexer){if(Le=this.test_match(Ke,qe[xt]),Le!==!1)return Le;if(this._backtrack){Ue=!1;continue}else return!1}else if(!this.options.flex)break}return Ue?(Le=this.test_match(Ue,qe[it]),Le!==!1?Le:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var Le=this.next();return Le||this.lex()},"lex"),begin:o(function(Le){this.conditionStack.push(Le)},"begin"),popState:o(function(){var Le=this.conditionStack.length-1;return Le>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(Le){return Le=this.conditionStack.length-1-Math.abs(Le||0),Le>=0?this.conditionStack[Le]:"INITIAL"},"topState"),pushState:o(function(Le){this.begin(Le)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(Le,Ue,Ke,it){var qe=it;switch(Ke){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return fe}();st.lexer=ae;function ht(){this.yy={}}return o(ht,"Parser"),ht.prototype=st,st.Parser=ht,new ht}(),vT.parser=vT,LTe=vT}),Mo,NTe,wJe=R(()=>{"use strict";Ln(),ka(),We(),rf(),Mo=gl(),NTe=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}static{o(this,"QuadrantBuilder")}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:Fn.quadrantChart?.chartWidth||500,chartWidth:Fn.quadrantChart?.chartHeight||500,titlePadding:Fn.quadrantChart?.titlePadding||10,titleFontSize:Fn.quadrantChart?.titleFontSize||20,quadrantPadding:Fn.quadrantChart?.quadrantPadding||5,xAxisLabelPadding:Fn.quadrantChart?.xAxisLabelPadding||5,yAxisLabelPadding:Fn.quadrantChart?.yAxisLabelPadding||5,xAxisLabelFontSize:Fn.quadrantChart?.xAxisLabelFontSize||16,yAxisLabelFontSize:Fn.quadrantChart?.yAxisLabelFontSize||16,quadrantLabelFontSize:Fn.quadrantChart?.quadrantLabelFontSize||16,quadrantTextTopPadding:Fn.quadrantChart?.quadrantTextTopPadding||5,pointTextPadding:Fn.quadrantChart?.pointTextPadding||5,pointLabelFontSize:Fn.quadrantChart?.pointLabelFontSize||12,pointRadius:Fn.quadrantChart?.pointRadius||5,xAxisPosition:Fn.quadrantChart?.xAxisPosition||"top",yAxisPosition:Fn.quadrantChart?.yAxisPosition||"left",quadrantInternalBorderStrokeWidth:Fn.quadrantChart?.quadrantInternalBorderStrokeWidth||1,quadrantExternalBorderStrokeWidth:Fn.quadrantChart?.quadrantExternalBorderStrokeWidth||2}}getDefaultThemeConfig(){return{quadrant1Fill:Mo.quadrant1Fill,quadrant2Fill:Mo.quadrant2Fill,quadrant3Fill:Mo.quadrant3Fill,quadrant4Fill:Mo.quadrant4Fill,quadrant1TextFill:Mo.quadrant1TextFill,quadrant2TextFill:Mo.quadrant2TextFill,quadrant3TextFill:Mo.quadrant3TextFill,quadrant4TextFill:Mo.quadrant4TextFill,quadrantPointFill:Mo.quadrantPointFill,quadrantPointTextFill:Mo.quadrantPointTextFill,quadrantXAxisTextFill:Mo.quadrantXAxisTextFill,quadrantYAxisTextFill:Mo.quadrantYAxisTextFill,quadrantTitleFill:Mo.quadrantTitleFill,quadrantInternalBorderStrokeFill:Mo.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:Mo.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,J.info("clear called")}setData(e){this.data={...this.data,...e}}addPoints(e){this.data.points=[...e,...this.data.points]}addClass(e,t){this.classes.set(e,t)}setConfig(e){J.trace("setConfig called with: ",e),this.config={...this.config,...e}}setThemeConfig(e){J.trace("setThemeConfig called with: ",e),this.themeConfig={...this.themeConfig,...e}}calculateSpace(e,t,r,n){let i=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,a={top:e==="top"&&t?i:0,bottom:e==="bottom"&&t?i:0},s=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,l={left:this.config.yAxisPosition==="left"&&r?s:0,right:this.config.yAxisPosition==="right"&&r?s:0},u=this.config.titleFontSize+this.config.titlePadding*2,h={top:n?u:0},d=this.config.quadrantPadding+l.left,p=this.config.quadrantPadding+a.top+h.top,f=this.config.chartWidth-this.config.quadrantPadding*2-l.left-l.right,g=this.config.chartHeight-this.config.quadrantPadding*2-a.top-a.bottom-h.top,m=f/2,y=g/2;return{xAxisSpace:a,yAxisSpace:l,titleSpace:h,quadrantSpace:{quadrantLeft:d,quadrantTop:p,quadrantWidth:f,quadrantHalfWidth:m,quadrantHeight:g,quadrantHalfHeight:y}}}getAxisLabels(e,t,r,n){let{quadrantSpace:i,titleSpace:a}=n,{quadrantHalfHeight:s,quadrantHeight:l,quadrantLeft:u,quadrantHalfWidth:h,quadrantTop:d,quadrantWidth:p}=i,f=!!this.data.xAxisRightText,g=!!this.data.yAxisTopText,m=[];return this.data.xAxisLeftText&&t&&m.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+(f?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+a.top:this.config.xAxisLabelPadding+d+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:f?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&t&&m.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:u+h+(f?h/2:0),y:e==="top"?this.config.xAxisLabelPadding+a.top:this.config.xAxisLabelPadding+d+l+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:f?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&r&&m.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+p+this.config.quadrantPadding,y:d+l-(g?s/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&r&&m.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+u+p+this.config.quadrantPadding,y:d+s-(g?s/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:g?"center":"left",horizontalPos:"top",rotation:-90}),m}getQuadrants(e){let{quadrantSpace:t}=e,{quadrantHalfHeight:r,quadrantLeft:n,quadrantHalfWidth:i,quadrantTop:a}=t,s=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n+i,y:a,width:i,height:r,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n,y:a,width:i,height:r,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n,y:a+r,width:i,height:r,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n+i,y:a+r,width:i,height:r,fill:this.themeConfig.quadrant4Fill}];for(let l of s)l.text.x=l.x+l.width/2,this.data.points.length===0?(l.text.y=l.y+l.height/2,l.text.horizontalPos="middle"):(l.text.y=l.y+this.config.quadrantTextTopPadding,l.text.horizontalPos="top");return s}getQuadrantPoints(e){let{quadrantSpace:t}=e,{quadrantHeight:r,quadrantLeft:n,quadrantTop:i,quadrantWidth:a}=t,s=cp().domain([0,1]).range([n,a+n]),l=cp().domain([0,1]).range([r+i,i]);return this.data.points.map(u=>{let h=this.classes.get(u.className);return h&&(u={...h,...u}),{x:s(u.x),y:l(u.y),fill:u.color??this.themeConfig.quadrantPointFill,radius:u.radius??this.config.pointRadius,text:{text:u.text,fill:this.themeConfig.quadrantPointTextFill,x:s(u.x),y:l(u.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:u.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:u.strokeWidth??"0px"}})}getBorders(e){let t=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:r}=e,{quadrantHalfHeight:n,quadrantHeight:i,quadrantLeft:a,quadrantHalfWidth:s,quadrantTop:l,quadrantWidth:u}=r;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a-t,y1:l,x2:a+u+t,y2:l},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a+u,y1:l+t,x2:a+u,y2:l+i-t},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a-t,y1:l+i,x2:a+u+t,y2:l+i},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a,y1:l+t,x2:a,y2:l+i-t},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:a+s,y1:l+t,x2:a+s,y2:l+i-t},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:a+t,y1:l+n,x2:a+u-t,y2:l+n}]}getTitle(e){if(e)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){let e=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),t=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),r=this.config.showTitle&&!!this.data.titleText,n=this.data.points.length>0?"bottom":this.config.xAxisPosition,i=this.calculateSpace(n,e,t,r);return{points:this.getQuadrantPoints(i),quadrants:this.getQuadrants(i),axisLabels:this.getAxisLabels(n,e,t,i),borderLines:this.getBorders(i),title:this.getTitle(r)}}}});function z$(e){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(e)}function MTe(e){return!/^\d+$/.test(e)}function ITe(e){return!/^\d+px$/.test(e)}var Pv,kJe=R(()=>{"use strict";Pv=class extends Error{static{o(this,"InvalidStyleError")}constructor(e,t,r){super(`value for ${e} ${t} is invalid, please use a valid ${r}`),this.name="InvalidStyleError"}},o(z$,"validateHexCode"),o(MTe,"validateNumber"),o(ITe,"validateSizeInPixels")});function mh(e){return Ei(e.trim(),UTe)}function DTe(e){Bs.setData({quadrant1Text:mh(e.text)})}function RTe(e){Bs.setData({quadrant2Text:mh(e.text)})}function OTe(e){Bs.setData({quadrant3Text:mh(e.text)})}function PTe(e){Bs.setData({quadrant4Text:mh(e.text)})}function BTe(e){Bs.setData({xAxisLeftText:mh(e.text)})}function FTe(e){Bs.setData({xAxisRightText:mh(e.text)})}function $Te(e){Bs.setData({yAxisTopText:mh(e.text)})}function zTe(e){Bs.setData({yAxisBottomText:mh(e.text)})}function bT(e){let t={};for(let r of e){let[n,i]=r.trim().split(/\s*:\s*/);if(n==="radius"){if(MTe(i))throw new Pv(n,i,"number");t.radius=parseInt(i)}else if(n==="color"){if(z$(i))throw new Pv(n,i,"hex code");t.color=i}else if(n==="stroke-color"){if(z$(i))throw new Pv(n,i,"hex code");t.strokeColor=i}else if(n==="stroke-width"){if(ITe(i))throw new Pv(n,i,"number of pixels (eg. 10px)");t.strokeWidth=i}else throw new Error(`style named ${n} is not supported.`)}return t}function qTe(e,t,r,n,i){let a=bT(i);Bs.addPoints([{x:r,y:n,text:mh(e.text),className:t,...a}])}function GTe(e,t){Bs.addClass(e,bT(t))}function YTe(e){Bs.setConfig({chartWidth:e})}function jTe(e){Bs.setConfig({chartHeight:e})}function HTe(){let e=Ge(),{themeVariables:t,quadrantChart:r}=e;return r&&Bs.setConfig(r),Bs.setThemeConfig({quadrant1Fill:t.quadrant1Fill,quadrant2Fill:t.quadrant2Fill,quadrant3Fill:t.quadrant3Fill,quadrant4Fill:t.quadrant4Fill,quadrant1TextFill:t.quadrant1TextFill,quadrant2TextFill:t.quadrant2TextFill,quadrant3TextFill:t.quadrant3TextFill,quadrant4TextFill:t.quadrant4TextFill,quadrantPointFill:t.quadrantPointFill,quadrantPointTextFill:t.quadrantPointTextFill,quadrantXAxisTextFill:t.quadrantXAxisTextFill,quadrantYAxisTextFill:t.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:t.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:t.quadrantInternalBorderStrokeFill,quadrantTitleFill:t.quadrantTitleFill}),Bs.setData({titleText:Is()}),Bs.build()}var UTe,Bs,VTe,WTe,TJe=R(()=>{"use strict";zr(),En(),ys(),wJe(),kJe(),UTe=Ge(),o(mh,"textSanitizer"),Bs=new NTe,o(DTe,"setQuadrant1Text"),o(RTe,"setQuadrant2Text"),o(OTe,"setQuadrant3Text"),o(PTe,"setQuadrant4Text"),o(BTe,"setXAxisLeftText"),o(FTe,"setXAxisRightText"),o($Te,"setYAxisTopText"),o(zTe,"setYAxisBottomText"),o(bT,"parseStyles"),o(qTe,"addPoint"),o(GTe,"addClass"),o(YTe,"setWidth"),o(jTe,"setHeight"),o(HTe,"getQuadrantData"),VTe=o(function(){Bs.clear(),fs()},"clear"),WTe={setWidth:YTe,setHeight:jTe,setQuadrant1Text:DTe,setQuadrant2Text:RTe,setQuadrant3Text:OTe,setQuadrant4Text:PTe,setXAxisLeftText:BTe,setXAxisRightText:FTe,setYAxisTopText:$Te,setYAxisBottomText:zTe,parseStyles:bT,addPoint:qTe,addClass:GTe,getQuadrantData:HTe,clear:VTe,setAccTitle:ms,getAccTitle:Ls,setDiagramTitle:_o,getDiagramTitle:Is,getAccDescription:Ms,setAccDescription:Ns}}),XTe,KTe,EJe=R(()=>{"use strict";Ln(),zr(),We(),Fa(),XTe=o((e,t,r,n)=>{function i(N){return N==="top"?"hanging":"middle"}o(i,"getDominantBaseLine");function a(N){return N==="left"?"start":"middle"}o(a,"getTextAnchor");function s(N){return`translate(${N.x}, ${N.y}) rotate(${N.rotation||0})`}o(s,"getTransformation");let l=Ge();J.debug(`Rendering quadrant chart
`+e);let u=l.securityLevel,h;u==="sandbox"&&(h=Bt("#i"+t));let d=Bt(u==="sandbox"?h.nodes()[0].contentDocument.body:"body").select(`[id="${t}"]`),p=d.append("g").attr("class","main"),f=l.quadrantChart?.chartWidth??500,g=l.quadrantChart?.chartHeight??500;Qs(d,g,f,l.quadrantChart?.useMaxWidth??!0),d.attr("viewBox","0 0 "+f+" "+g),n.db.setHeight(g),n.db.setWidth(f);let m=n.db.getQuadrantData(),y=p.append("g").attr("class","quadrants"),b=p.append("g").attr("class","border"),v=p.append("g").attr("class","data-points"),x=p.append("g").attr("class","labels"),w=p.append("g").attr("class","title");m.title&&w.append("text").attr("x",0).attr("y",0).attr("fill",m.title.fill).attr("font-size",m.title.fontSize).attr("dominant-baseline",i(m.title.horizontalPos)).attr("text-anchor",a(m.title.verticalPos)).attr("transform",s(m.title)).text(m.title.text),m.borderLines&&b.selectAll("line").data(m.borderLines).enter().append("line").attr("x1",N=>N.x1).attr("y1",N=>N.y1).attr("x2",N=>N.x2).attr("y2",N=>N.y2).style("stroke",N=>N.strokeFill).style("stroke-width",N=>N.strokeWidth);let E=y.selectAll("g.quadrant").data(m.quadrants).enter().append("g").attr("class","quadrant");E.append("rect").attr("x",N=>N.x).attr("y",N=>N.y).attr("width",N=>N.width).attr("height",N=>N.height).attr("fill",N=>N.fill),E.append("text").attr("x",0).attr("y",0).attr("fill",N=>N.text.fill).attr("font-size",N=>N.text.fontSize).attr("dominant-baseline",N=>i(N.text.horizontalPos)).attr("text-anchor",N=>a(N.text.verticalPos)).attr("transform",N=>s(N.text)).text(N=>N.text.text),x.selectAll("g.label").data(m.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(N=>N.text).attr("fill",N=>N.fill).attr("font-size",N=>N.fontSize).attr("dominant-baseline",N=>i(N.horizontalPos)).attr("text-anchor",N=>a(N.verticalPos)).attr("transform",N=>s(N));let A=v.selectAll("g.data-point").data(m.points).enter().append("g").attr("class","data-point");A.append("circle").attr("cx",N=>N.x).attr("cy",N=>N.y).attr("r",N=>N.radius).attr("fill",N=>N.fill).attr("stroke",N=>N.strokeColor).attr("stroke-width",N=>N.strokeWidth),A.append("text").attr("x",0).attr("y",0).text(N=>N.text.text).attr("fill",N=>N.text.fill).attr("font-size",N=>N.text.fontSize).attr("dominant-baseline",N=>i(N.text.horizontalPos)).attr("text-anchor",N=>a(N.text.verticalPos)).attr("transform",N=>s(N.text))},"draw"),KTe={draw:XTe}}),ZTe={};yr(ZTe,{diagram:()=>QTe});var QTe,CJe=R(()=>{"use strict";xJe(),TJe(),EJe(),QTe={parser:LTe,db:WTe,renderer:KTe,styles:o(()=>"","styles")}}),xT,JTe,_Je=R(()=>{"use strict";xT=function(){var e=o(function(B,F,z,M){for(z=z||{},M=B.length;M--;z[B[M]]=F);return z},"o"),t=[1,10,12,14,16,18,19,21,23],r=[2,6],n=[1,3],i=[1,5],a=[1,6],s=[1,7],l=[1,5,10,12,14,16,18,19,21,23,34,35,36],u=[1,25],h=[1,26],d=[1,28],p=[1,29],f=[1,30],g=[1,31],m=[1,32],y=[1,33],b=[1,34],v=[1,35],x=[1,36],w=[1,37],E=[1,43],A=[1,42],N=[1,47],L=[1,50],C=[1,10,12,14,16,18,19,21,23,34,35,36],D=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],P=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],O=[1,64],I={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:o(function(B,F,z,M,G,Y,V){var X=Y.length-1;switch(G){case 5:M.setOrientation(Y[X]);break;case 9:M.setDiagramTitle(Y[X].text.trim());break;case 12:M.setLineData({text:"",type:"text"},Y[X]);break;case 13:M.setLineData(Y[X-1],Y[X]);break;case 14:M.setBarData({text:"",type:"text"},Y[X]);break;case 15:M.setBarData(Y[X-1],Y[X]);break;case 16:this.$=Y[X].trim(),M.setAccTitle(this.$);break;case 17:case 18:this.$=Y[X].trim(),M.setAccDescription(this.$);break;case 19:this.$=Y[X-1];break;case 20:this.$=[Number(Y[X-2]),...Y[X]];break;case 21:this.$=[Number(Y[X])];break;case 22:M.setXAxisTitle(Y[X]);break;case 23:M.setXAxisTitle(Y[X-1]);break;case 24:M.setXAxisTitle({type:"text",text:""});break;case 25:M.setXAxisBand(Y[X]);break;case 26:M.setXAxisRangeData(Number(Y[X-2]),Number(Y[X]));break;case 27:this.$=Y[X-1];break;case 28:this.$=[Y[X-2],...Y[X]];break;case 29:this.$=[Y[X]];break;case 30:M.setYAxisTitle(Y[X]);break;case 31:M.setYAxisTitle(Y[X-1]);break;case 32:M.setYAxisTitle({type:"text",text:""});break;case 33:M.setYAxisRangeData(Number(Y[X-2]),Number(Y[X]));break;case 37:this.$={text:Y[X],type:"text"};break;case 38:this.$={text:Y[X],type:"text"};break;case 39:this.$={text:Y[X],type:"markdown"};break;case 40:this.$=Y[X];break;case 41:this.$=Y[X-1]+""+Y[X];break}},"anonymous"),table:[e(t,r,{3:1,4:2,7:4,5:n,34:i,35:a,36:s}),{1:[3]},e(t,r,{4:2,7:4,3:8,5:n,34:i,35:a,36:s}),e(t,r,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:i,35:a,36:s}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},e(l,[2,34]),e(l,[2,35]),e(l,[2,36]),{1:[2,1]},e(t,r,{4:2,7:4,3:21,5:n,34:i,35:a,36:s}),{1:[2,3]},e(l,[2,5]),e(t,[2,7],{4:22,34:i,35:a,36:s}),{11:23,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:w},{11:39,13:38,24:E,27:A,29:40,30:41,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:w},{11:45,15:44,27:N,33:46,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:w},{11:49,17:48,24:L,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:w},{11:52,17:51,24:L,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:w},{20:[1,53]},{22:[1,54]},e(C,[2,18]),{1:[2,2]},e(C,[2,8]),e(C,[2,9]),e(D,[2,37],{40:55,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:w}),e(D,[2,38]),e(D,[2,39]),e(P,[2,40]),e(P,[2,42]),e(P,[2,43]),e(P,[2,44]),e(P,[2,45]),e(P,[2,46]),e(P,[2,47]),e(P,[2,48]),e(P,[2,49]),e(P,[2,50]),e(P,[2,51]),e(C,[2,10]),e(C,[2,22],{30:41,29:56,24:E,27:A}),e(C,[2,24]),e(C,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:w},e(C,[2,11]),e(C,[2,30],{33:60,27:N}),e(C,[2,32]),{31:[1,61]},e(C,[2,12]),{17:62,24:L},{25:63,27:O},e(C,[2,14]),{17:65,24:L},e(C,[2,16]),e(C,[2,17]),e(P,[2,41]),e(C,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},e(C,[2,31]),{27:[1,69]},e(C,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},e(C,[2,15]),e(C,[2,26]),e(C,[2,27]),{11:59,32:72,37:24,38:u,39:h,40:27,41:d,42:p,43:f,44:g,45:m,46:y,47:b,48:v,49:x,50:w},e(C,[2,33]),e(C,[2,19]),{25:73,27:O},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:o(function(B,F){if(F.recoverable)this.trace(B);else{var z=new Error(B);throw z.hash=F,z}},"parseError"),parse:o(function(B){var F=this,z=[0],M=[],G=[null],Y=[],V=this.table,X="",re=0,de=0,xe=0,he=2,be=1,Q=Y.slice.call(arguments,1),ne=Object.create(this.lexer),ee={yy:{}};for(var pe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,pe)&&(ee.yy[pe]=this.yy[pe]);ne.setInput(B,ee.yy),ee.yy.lexer=ne,ee.yy.parser=this,typeof ne.yylloc>"u"&&(ne.yylloc={});var ie=ne.yylloc;Y.push(ie);var De=ne.options&&ne.options.ranges;typeof ee.yy.parseError=="function"?this.parseError=ee.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function se(oe){z.length=z.length-2*oe,G.length=G.length-oe,Y.length=Y.length-oe}o(se,"popStack");function je(){var oe;return oe=M.pop()||ne.lex()||be,typeof oe!="number"&&(oe instanceof Array&&(M=oe,oe=M.pop()),oe=F.symbols_[oe]||oe),oe}o(je,"lex");for(var ge,rt,Qe,tt,mt,yt,Nt={},kt,te,Ne,Ce;;){if(Qe=z[z.length-1],this.defaultActions[Qe]?tt=this.defaultActions[Qe]:((ge===null||typeof ge>"u")&&(ge=je()),tt=V[Qe]&&V[Qe][ge]),typeof tt>"u"||!tt.length||!tt[0]){var Fe="";Ce=[];for(kt in V[Qe])this.terminals_[kt]&&kt>he&&Ce.push("'"+this.terminals_[kt]+"'");ne.showPosition?Fe="Parse error on line "+(re+1)+`:
`+ne.showPosition()+`
Expecting `+Ce.join(", ")+", got '"+(this.terminals_[ge]||ge)+"'":Fe="Parse error on line "+(re+1)+": Unexpected "+(ge==be?"end of input":"'"+(this.terminals_[ge]||ge)+"'"),this.parseError(Fe,{text:ne.match,token:this.terminals_[ge]||ge,line:ne.yylineno,loc:ie,expected:Ce})}if(tt[0]instanceof Array&&tt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Qe+", token: "+ge);switch(tt[0]){case 1:z.push(ge),G.push(ne.yytext),Y.push(ne.yylloc),z.push(tt[1]),ge=null,rt?(ge=rt,rt=null):(de=ne.yyleng,X=ne.yytext,re=ne.yylineno,ie=ne.yylloc,xe>0&&xe--);break;case 2:if(te=this.productions_[tt[1]][1],Nt.$=G[G.length-te],Nt._$={first_line:Y[Y.length-(te||1)].first_line,last_line:Y[Y.length-1].last_line,first_column:Y[Y.length-(te||1)].first_column,last_column:Y[Y.length-1].last_column},De&&(Nt._$.range=[Y[Y.length-(te||1)].range[0],Y[Y.length-1].range[1]]),yt=this.performAction.apply(Nt,[X,de,re,ee.yy,tt[1],G,Y].concat(Q)),typeof yt<"u")return yt;te&&(z=z.slice(0,-1*te*2),G=G.slice(0,-1*te),Y=Y.slice(0,-1*te)),z.push(this.productions_[tt[1]][0]),G.push(Nt.$),Y.push(Nt._$),Ne=V[z[z.length-2]][z[z.length-1]],z.push(Ne);break;case 3:return!0}}return!0},"parse")},q=function(){var B={EOF:1,parseError:o(function(F,z){if(this.yy.parser)this.yy.parser.parseError(F,z);else throw new Error(F)},"parseError"),setInput:o(function(F,z){return this.yy=z||this.yy||{},this._input=F,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var F=this._input[0];this.yytext+=F,this.yyleng++,this.offset++,this.match+=F,this.matched+=F;var z=F.match(/(?:\r\n?|\n).*/g);return z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),F},"input"),unput:o(function(F){var z=F.length,M=F.split(/(?:\r\n?|\n)/g);this._input=F+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-z),this.offset-=z;var G=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),M.length-1&&(this.yylineno-=M.length-1);var Y=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:M?(M.length===G.length?this.yylloc.first_column:0)+G[G.length-M.length].length-M[0].length:this.yylloc.first_column-z},this.options.ranges&&(this.yylloc.range=[Y[0],Y[0]+this.yyleng-z]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(F){this.unput(this.match.slice(F))},"less"),pastInput:o(function(){var F=this.matched.substr(0,this.matched.length-this.match.length);return(F.length>20?"...":"")+F.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var F=this.match;return F.length<20&&(F+=this._input.substr(0,20-F.length)),(F.substr(0,20)+(F.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var F=this.pastInput(),z=new Array(F.length+1).join("-");return F+this.upcomingInput()+`
`+z+"^"},"showPosition"),test_match:o(function(F,z){var M,G,Y;if(this.options.backtrack_lexer&&(Y={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Y.yylloc.range=this.yylloc.range.slice(0))),G=F[0].match(/(?:\r\n?|\n).*/g),G&&(this.yylineno+=G.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:G?G[G.length-1].length-G[G.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+F[0].length},this.yytext+=F[0],this.match+=F[0],this.matches=F,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(F[0].length),this.matched+=F[0],M=this.performAction.call(this,this.yy,this,z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),M)return M;if(this._backtrack){for(var V in Y)this[V]=Y[V];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var F,z,M,G;this._more||(this.yytext="",this.match="");for(var Y=this._currentRules(),V=0;V<Y.length;V++)if(M=this._input.match(this.rules[Y[V]]),M&&(!z||M[0].length>z[0].length)){if(z=M,G=V,this.options.backtrack_lexer){if(F=this.test_match(M,Y[V]),F!==!1)return F;if(this._backtrack){z=!1;continue}else return!1}else if(!this.options.flex)break}return z?(F=this.test_match(z,Y[G]),F!==!1?F:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var F=this.next();return F||this.lex()},"lex"),begin:o(function(F){this.conditionStack.push(F)},"begin"),popState:o(function(){var F=this.conditionStack.length-1;return F>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(F){return F=this.conditionStack.length-1-Math.abs(F||0),F>=0?this.conditionStack[F]:"INITIAL"},"topState"),pushState:o(function(F){this.begin(F)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(F,z,M,G){var Y=G;switch(M){case 0:break;case 1:break;case 2:return this.popState(),34;case 3:return this.popState(),34;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";case 17:return this.pushState("axis_data"),"Y_AXIS";case 18:return this.pushState("axis_band_data"),24;case 19:return 31;case 20:return this.pushState("data"),16;case 21:return this.pushState("data"),18;case 22:return this.pushState("data_inner"),24;case 23:return 27;case 24:return this.popState(),26;case 25:this.popState();break;case 26:this.pushState("string");break;case 27:this.popState();break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 43:break;case 44:return 35;case 45:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}};return B}();I.lexer=q;function S(){this.yy={}}return o(S,"Parser"),S.prototype=I,I.Parser=S,new S}(),xT.parser=xT,JTe=xT});function q$(e){return e.type==="bar"}function G$(e){return e.type==="band"}function T2(e){return e.type==="linear"}var Y$=R(()=>{"use strict";o(q$,"isBarPlot"),o(G$,"isBandAxisData"),o(T2,"isLinearAxisData")}),j$,eEe=R(()=>{"use strict";eh(),j$=class{constructor(e){this.parentGroup=e}static{o(this,"TextDimensionCalculatorWithFont")}getMaxDimension(e,t){if(!this.parentGroup)return{width:e.reduce((i,a)=>Math.max(a.length,i),0)*t,height:t};let r={width:0,height:0},n=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",t);for(let i of e){let a=Coe(n,1,i),s=a?a.width:i.length*t,l=a?a.height:t;r.width=Math.max(r.width,s),r.height=Math.max(r.height,l)}return n.remove(),r}}}),H$,tEe=R(()=>{"use strict";H$=class{constructor(e,t,r,n){this.axisConfig=e,this.title=t,this.textDimensionCalculator=r,this.axisThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}static{o(this,"BaseAxis")}setRange(e){this.range=e,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=e[1]-e[0]:this.boundingRect.width=e[1]-e[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(e){this.axisPosition=e,this.setRange(this.range)}getTickDistance(){let e=this.getRange();return Math.abs(e[0]-e[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(e=>e.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){.7*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(.7*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(e){let t=e.height;if(this.axisConfig.showAxisLine&&t>this.axisConfig.axisLineWidth&&(t-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let r=this.getLabelDimension(),n=.2*e.width;this.outerPadding=Math.min(r.width/2,n);let i=r.height+this.axisConfig.labelPadding*2;this.labelTextHeight=r.height,i<=t&&(t-=i,this.showLabel=!0)}if(this.axisConfig.showTick&&t>=this.axisConfig.tickLength&&(this.showTick=!0,t-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let r=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),n=r.height+this.axisConfig.titlePadding*2;this.titleTextHeight=r.height,n<=t&&(t-=n,this.showTitle=!0)}this.boundingRect.width=e.width,this.boundingRect.height=e.height-t}calculateSpaceIfDrawnVertical(e){let t=e.width;if(this.axisConfig.showAxisLine&&t>this.axisConfig.axisLineWidth&&(t-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let r=this.getLabelDimension(),n=.2*e.height;this.outerPadding=Math.min(r.height/2,n);let i=r.width+this.axisConfig.labelPadding*2;i<=t&&(t-=i,this.showLabel=!0)}if(this.axisConfig.showTick&&t>=this.axisConfig.tickLength&&(this.showTick=!0,t-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let r=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),n=r.height+this.axisConfig.titlePadding*2;this.titleTextHeight=r.height,n<=t&&(t-=n,this.showTitle=!0)}this.boundingRect.width=e.width-t,this.boundingRect.height=e.height}calculateSpace(e){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(e):this.calculateSpaceIfDrawnHorizontally(e),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}getDrawableElementsForLeftAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${t},${this.boundingRect.y} L ${t},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(t),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){let t=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${t},${this.getScaleValue(r)} L ${t-this.axisConfig.tickLength},${this.getScaleValue(r)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForBottomAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.y+this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${t} L ${this.boundingRect.x+this.boundingRect.width},${t}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.getScaleValue(t),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let t=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${this.getScaleValue(r)},${t} L ${this.getScaleValue(r)},${t+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForTopAxis(){let e=[];if(this.showAxisLine){let t=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${t} L ${this.boundingRect.x+this.boundingRect.width},${t}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(t=>({text:t.toString(),x:this.getScaleValue(t),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let t=this.boundingRect.y;e.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(r=>({path:`M ${this.getScaleValue(r)},${t+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(r)},${t+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&e.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}}}),rEe,SJe=R(()=>{"use strict";Ln(),We(),tEe(),rEe=class extends H${static{o(this,"BandAxis")}constructor(e,t,r,n,i){super(e,n,i,t),this.categories=r,this.scale=s7().domain(this.categories).range(this.getRange())}setRange(e){super.setRange(e)}recalculateScale(){this.scale=s7().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),J.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(e){return this.scale(e)??this.getRange()[0]}}}),nEe,AJe=R(()=>{"use strict";Ln(),tEe(),nEe=class extends H${static{o(this,"LinearAxis")}constructor(e,t,r,n,i){super(e,n,i,t),this.domain=r,this.scale=cp().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){let e=[...this.domain];this.axisPosition==="left"&&e.reverse(),this.scale=cp().domain(e).range(this.getRange())}getScaleValue(e){return this.scale(e)}}});function U$(e,t,r,n){let i=new j$(n);return G$(e)?new rEe(t,r,e.categories,e.title,i):new nEe(t,r,[e.min,e.max],e.title,i)}var LJe=R(()=>{"use strict";Y$(),eEe(),SJe(),AJe(),o(U$,"getAxis")});function iEe(e,t,r,n){let i=new j$(n);return new aEe(i,e,t,r)}var aEe,NJe=R(()=>{"use strict";eEe(),aEe=class{constructor(e,t,r,n){this.textDimensionCalculator=e,this.chartConfig=t,this.chartData=r,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}static{o(this,"ChartTitle")}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){let t=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),r=Math.max(t.width,e.width),n=t.height+2*this.chartConfig.titlePadding;return t.width<=r&&t.height<=n&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=r,this.boundingRect.height=n,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){let e=[];return this.showChartTitle&&e.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),e}},o(iEe,"getChartTitleComponent")}),sEe,MJe=R(()=>{"use strict";Ln(),sEe=class{constructor(e,t,r,n,i){this.plotData=e,this.xAxis=t,this.yAxis=r,this.orientation=n,this.plotIndex=i}static{o(this,"LinePlot")}getDrawableElement(){let e=this.plotData.data.map(r=>[this.xAxis.getScaleValue(r[0]),this.yAxis.getScaleValue(r[1])]),t;return this.orientation==="horizontal"?t=wd().y(r=>r[0]).x(r=>r[1])(e):t=wd().x(r=>r[0]).y(r=>r[1])(e),t?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:t,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}}}),oEe,IJe=R(()=>{"use strict";oEe=class{constructor(e,t,r,n,i,a){this.barData=e,this.boundingRect=t,this.xAxis=r,this.yAxis=n,this.orientation=i,this.plotIndex=a}static{o(this,"BarPlot")}getDrawableElement(){let e=this.barData.data.map(n=>[this.xAxis.getScaleValue(n[0]),this.yAxis.getScaleValue(n[1])]),t=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-.05),r=t/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(n=>({x:this.boundingRect.x,y:n[0]-r,height:t,width:n[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map(n=>({x:n[0]-r,y:n[1],width:t,height:this.boundingRect.y+this.boundingRect.height-n[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}}});function lEe(e,t,r){return new cEe(e,t,r)}var cEe,DJe=R(()=>{"use strict";MJe(),IJe(),cEe=class{constructor(e,t,r){this.chartConfig=e,this.chartData=t,this.chartThemeConfig=r,this.boundingRect={x:0,y:0,width:0,height:0}}static{o(this,"BasePlot")}setAxes(e,t){this.xAxis=e,this.yAxis=t}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){return this.boundingRect.width=e.width,this.boundingRect.height=e.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");let e=[];for(let[t,r]of this.chartData.plots.entries())switch(r.type){case"line":{let n=new sEe(r,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,t);e.push(...n.getDrawableElement())}break;case"bar":{let n=new oEe(r,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,t);e.push(...n.getDrawableElement())}break}return e}},o(lEe,"getPlotComponent")}),uEe,RJe=R(()=>{"use strict";LJe(),NJe(),DJe(),Y$(),uEe=class{constructor(e,t,r,n){this.chartConfig=e,this.chartData=t,this.componentStore={title:iEe(e,t,r,n),plot:lEe(e,t,r),xAxis:U$(t.xAxis,e.xAxis,{titleColor:r.xAxisTitleColor,labelColor:r.xAxisLabelColor,tickColor:r.xAxisTickColor,axisLineColor:r.xAxisLineColor},n),yAxis:U$(t.yAxis,e.yAxis,{titleColor:r.yAxisTitleColor,labelColor:r.yAxisLabelColor,tickColor:r.yAxisTickColor,axisLineColor:r.yAxisLineColor},n)}}static{o(this,"Orchestrator")}calculateVerticalSpace(){let e=this.chartConfig.width,t=this.chartConfig.height,r=0,n=0,i=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),a=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),s=this.componentStore.plot.calculateSpace({width:i,height:a});e-=s.width,t-=s.height,s=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:t}),n=s.height,t-=s.height,this.componentStore.xAxis.setAxisPosition("bottom"),s=this.componentStore.xAxis.calculateSpace({width:e,height:t}),t-=s.height,this.componentStore.yAxis.setAxisPosition("left"),s=this.componentStore.yAxis.calculateSpace({width:e,height:t}),r=s.width,e-=s.width,e>0&&(i+=e,e=0),t>0&&(a+=t,t=0),this.componentStore.plot.calculateSpace({width:i,height:a}),this.componentStore.plot.setBoundingBoxXY({x:r,y:n}),this.componentStore.xAxis.setRange([r,r+i]),this.componentStore.xAxis.setBoundingBoxXY({x:r,y:n+a}),this.componentStore.yAxis.setRange([n,n+a]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:n}),this.chartData.plots.some(l=>q$(l))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let e=this.chartConfig.width,t=this.chartConfig.height,r=0,n=0,i=0,a=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),s=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),l=this.componentStore.plot.calculateSpace({width:a,height:s});e-=l.width,t-=l.height,l=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:t}),r=l.height,t-=l.height,this.componentStore.xAxis.setAxisPosition("left"),l=this.componentStore.xAxis.calculateSpace({width:e,height:t}),e-=l.width,n=l.width,this.componentStore.yAxis.setAxisPosition("top"),l=this.componentStore.yAxis.calculateSpace({width:e,height:t}),t-=l.height,i=r+l.height,e>0&&(a+=e,e=0),t>0&&(s+=t,t=0),this.componentStore.plot.calculateSpace({width:a,height:s}),this.componentStore.plot.setBoundingBoxXY({x:n,y:i}),this.componentStore.yAxis.setRange([n,n+a]),this.componentStore.yAxis.setBoundingBoxXY({x:n,y:r}),this.componentStore.xAxis.setRange([i,i+s]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:i}),this.chartData.plots.some(u=>q$(u))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();let e=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(let t of Object.values(this.componentStore))e.push(...t.getDrawableElements());return e}}}),hEe,OJe=R(()=>{"use strict";RJe(),hEe=class{static{o(this,"XYChartBuilder")}static build(e,t,r,n){return new uEe(e,t,r,n).getDrawableElement()}}});function V$(){let e=gl(),t=Ni();return Xh(e.xyChart,t.themeVariables.xyChart)}function W$(){let e=Ni();return Xh(Fn.xyChart,e.xyChart)}function X$(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function wT(e){let t=Ni();return Ei(e.trim(),t)}function dEe(e){EEe=e}function pEe(e){e==="horizontal"?C2.chartOrientation="horizontal":C2.chartOrientation="vertical"}function gEe(e){wi.xAxis.title=wT(e.text)}function K$(e,t){wi.xAxis={type:"linear",title:wi.xAxis.title,min:e,max:t},Bv=!0}function fEe(e){wi.xAxis={type:"band",title:wi.xAxis.title,categories:e.map(t=>wT(t.text))},Bv=!0}function mEe(e){wi.yAxis.title=wT(e.text)}function yEe(e,t){wi.yAxis={type:"linear",title:wi.yAxis.title,min:e,max:t},TT=!0}function vEe(e){let t=Math.min(...e),r=Math.max(...e),n=T2(wi.yAxis)?wi.yAxis.min:1/0,i=T2(wi.yAxis)?wi.yAxis.max:-1/0;wi.yAxis={type:"linear",title:wi.yAxis.title,min:Math.min(n,t),max:Math.max(i,r)}}function Z$(e){let t=[];if(e.length===0)return t;if(!Bv){let r=T2(wi.xAxis)?wi.xAxis.min:1/0,n=T2(wi.xAxis)?wi.xAxis.max:-1/0;K$(Math.min(r,1),Math.max(n,e.length))}if(TT||vEe(e),G$(wi.xAxis)&&(t=wi.xAxis.categories.map((r,n)=>[r,e[n]])),T2(wi.xAxis)){let r=wi.xAxis.min,n=wi.xAxis.max,i=(n-r)/(e.length-1),a=[];for(let s=r;s<=n;s+=i)a.push(`${s}`);t=a.map((s,l)=>[s,e[l]])}return t}function Q$(e){return kT[e===0?0:e%kT.length]}function bEe(e,t){let r=Z$(t);wi.plots.push({type:"line",strokeFill:Q$(E2),strokeWidth:2,data:r}),E2++}function xEe(e,t){let r=Z$(t);wi.plots.push({type:"bar",fill:Q$(E2),data:r}),E2++}function wEe(){if(wi.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return wi.title=Is(),hEe.build(C2,wi,_2,EEe)}function kEe(){return _2}function TEe(){return C2}var E2,EEe,C2,_2,wi,kT,Bv,TT,CEe,_Ee,PJe=R(()=>{"use strict";wo(),ka(),rf(),kn(),En(),ys(),OJe(),Y$(),E2=0,C2=W$(),_2=V$(),wi=X$(),kT=_2.plotColorPalette.split(",").map(e=>e.trim()),Bv=!1,TT=!1,o(V$,"getChartDefaultThemeConfig"),o(W$,"getChartDefaultConfig"),o(X$,"getChartDefaultData"),o(wT,"textSanitizer"),o(dEe,"setTmpSVGG"),o(pEe,"setOrientation"),o(gEe,"setXAxisTitle"),o(K$,"setXAxisRangeData"),o(fEe,"setXAxisBand"),o(mEe,"setYAxisTitle"),o(yEe,"setYAxisRangeData"),o(vEe,"setYAxisRangeFromPlotData"),o(Z$,"transformDataWithoutCategory"),o(Q$,"getPlotColorFromPalette"),o(bEe,"setLineData"),o(xEe,"setBarData"),o(wEe,"getDrawableElem"),o(kEe,"getChartThemeConfig"),o(TEe,"getChartConfig"),CEe=o(function(){fs(),E2=0,C2=W$(),wi=X$(),_2=V$(),kT=_2.plotColorPalette.split(",").map(e=>e.trim()),Bv=!1,TT=!1},"clear"),_Ee={getDrawableElem:wEe,clear:CEe,setAccTitle:ms,getAccTitle:Ls,setDiagramTitle:_o,getDiagramTitle:Is,getAccDescription:Ms,setAccDescription:Ns,setOrientation:pEe,setXAxisTitle:gEe,setXAxisRangeData:K$,setXAxisBand:fEe,setYAxisTitle:mEe,setYAxisRangeData:yEe,setLineData:bEe,setBarData:xEe,setTmpSVGG:dEe,getChartThemeConfig:kEe,getChartConfig:TEe}}),SEe,AEe,BJe=R(()=>{"use strict";We(),l1(),Fa(),SEe=o((e,t,r,n)=>{let i=n.db,a=i.getChartThemeConfig(),s=i.getChartConfig();function l(b){return b==="top"?"text-before-edge":"middle"}o(l,"getDominantBaseLine");function u(b){return b==="left"?"start":b==="right"?"end":"middle"}o(u,"getTextAnchor");function h(b){return`translate(${b.x}, ${b.y}) rotate(${b.rotation||0})`}o(h,"getTextTransformation"),J.debug(`Rendering xychart chart
`+e);let d=S0(t),p=d.append("g").attr("class","main"),f=p.append("rect").attr("width",s.width).attr("height",s.height).attr("class","background");Qs(d,s.height,s.width,!0),d.attr("viewBox",`0 0 ${s.width} ${s.height}`),f.attr("fill",a.backgroundColor),i.setTmpSVGG(d.append("g").attr("class","mermaid-tmp-group"));let g=i.getDrawableElem(),m={};function y(b){let v=p,x="";for(let[w]of b.entries()){let E=p;w>0&&m[x]&&(E=m[x]),x+=b[w],v=m[x],v||(v=m[x]=E.append("g").attr("class",b[w]))}return v}o(y,"getGroup");for(let b of g){if(b.data.length===0)continue;let v=y(b.groupTexts);switch(b.type){case"rect":v.selectAll("rect").data(b.data).enter().append("rect").attr("x",x=>x.x).attr("y",x=>x.y).attr("width",x=>x.width).attr("height",x=>x.height).attr("fill",x=>x.fill).attr("stroke",x=>x.strokeFill).attr("stroke-width",x=>x.strokeWidth);break;case"text":v.selectAll("text").data(b.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",x=>x.fill).attr("font-size",x=>x.fontSize).attr("dominant-baseline",x=>l(x.verticalPos)).attr("text-anchor",x=>u(x.horizontalPos)).attr("transform",x=>h(x)).text(x=>x.text);break;case"path":v.selectAll("path").data(b.data).enter().append("path").attr("d",x=>x.path).attr("fill",x=>x.fill?x.fill:"none").attr("stroke",x=>x.strokeFill).attr("stroke-width",x=>x.strokeWidth);break}}},"draw"),AEe={draw:SEe}}),LEe={};yr(LEe,{diagram:()=>NEe});var NEe,FJe=R(()=>{"use strict";_Je(),PJe(),BJe(),NEe={parser:JTe,db:_Ee,renderer:AEe}}),ET,MEe,$Je=R(()=>{"use strict";ET=function(){var e=o(function(xe,he,be,Q){for(be=be||{},Q=xe.length;Q--;be[xe[Q]]=he);return be},"o"),t=[1,3],r=[1,4],n=[1,5],i=[1,6],a=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],s=[1,18],l=[2,7],u=[1,22],h=[1,23],d=[1,24],p=[1,25],f=[1,26],g=[1,27],m=[1,20],y=[1,28],b=[1,29],v=[62,63],x=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],w=[1,47],E=[1,48],A=[1,49],N=[1,50],L=[1,51],C=[1,52],D=[1,53],P=[53,54],O=[1,64],I=[1,60],q=[1,61],S=[1,62],B=[1,63],F=[1,65],z=[1,69],M=[1,70],G=[1,67],Y=[1,68],V=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],X={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:o(function(xe,he,be,Q,ne,ee,pe){var ie=ee.length-1;switch(ne){case 4:this.$=ee[ie].trim(),Q.setAccTitle(this.$);break;case 5:case 6:this.$=ee[ie].trim(),Q.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:Q.addRequirement(ee[ie-3],ee[ie-4]);break;case 14:Q.setNewReqId(ee[ie-2]);break;case 15:Q.setNewReqText(ee[ie-2]);break;case 16:Q.setNewReqRisk(ee[ie-2]);break;case 17:Q.setNewReqVerifyMethod(ee[ie-2]);break;case 20:this.$=Q.RequirementType.REQUIREMENT;break;case 21:this.$=Q.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=Q.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=Q.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=Q.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=Q.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=Q.RiskLevel.LOW_RISK;break;case 27:this.$=Q.RiskLevel.MED_RISK;break;case 28:this.$=Q.RiskLevel.HIGH_RISK;break;case 29:this.$=Q.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=Q.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=Q.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=Q.VerifyType.VERIFY_TEST;break;case 33:Q.addElement(ee[ie-3]);break;case 34:Q.setNewElementType(ee[ie-2]);break;case 35:Q.setNewElementDocRef(ee[ie-2]);break;case 38:Q.addRelationship(ee[ie-2],ee[ie],ee[ie-4]);break;case 39:Q.addRelationship(ee[ie-2],ee[ie-4],ee[ie]);break;case 40:this.$=Q.Relationships.CONTAINS;break;case 41:this.$=Q.Relationships.COPIES;break;case 42:this.$=Q.Relationships.DERIVES;break;case 43:this.$=Q.Relationships.SATISFIES;break;case 44:this.$=Q.Relationships.VERIFIES;break;case 45:this.$=Q.Relationships.REFINES;break;case 46:this.$=Q.Relationships.TRACES;break}},"anonymous"),table:[{3:1,4:2,6:t,9:r,11:n,13:i},{1:[3]},{3:8,4:2,5:[1,7],6:t,9:r,11:n,13:i},{5:[1,9]},{10:[1,10]},{12:[1,11]},e(a,[2,6]),{3:12,4:2,6:t,9:r,11:n,13:i},{1:[2,2]},{4:17,5:s,7:13,8:l,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:b},e(a,[2,4]),e(a,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:s,7:31,8:l,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:b},{4:17,5:s,7:32,8:l,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:b},{4:17,5:s,7:33,8:l,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:b},{4:17,5:s,7:34,8:l,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:b},{4:17,5:s,7:35,8:l,9:r,11:n,13:i,14:14,15:15,16:16,17:19,23:21,31:u,32:h,33:d,34:p,35:f,36:g,44:m,62:y,63:b},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},e(v,[2,20]),e(v,[2,21]),e(v,[2,22]),e(v,[2,23]),e(v,[2,24]),e(v,[2,25]),e(x,[2,49]),e(x,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:w,56:E,57:A,58:N,59:L,60:C,61:D},{52:54,55:w,56:E,57:A,58:N,59:L,60:C,61:D},{5:[1,55]},{5:[1,56]},{53:[1,57]},e(P,[2,40]),e(P,[2,41]),e(P,[2,42]),e(P,[2,43]),e(P,[2,44]),e(P,[2,45]),e(P,[2,46]),{54:[1,58]},{5:O,20:59,21:I,24:q,26:S,28:B,30:F},{5:z,30:M,46:66,47:G,49:Y},{23:71,62:y,63:b},{23:72,62:y,63:b},e(V,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:O,20:77,21:I,24:q,26:S,28:B,30:F},e(V,[2,19]),e(V,[2,33]),{22:[1,78]},{22:[1,79]},{5:z,30:M,46:80,47:G,49:Y},e(V,[2,37]),e(V,[2,38]),e(V,[2,39]),{23:81,62:y,63:b},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},e(V,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},e(V,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:O,20:106,21:I,24:q,26:S,28:B,30:F},{5:O,20:107,21:I,24:q,26:S,28:B,30:F},{5:O,20:108,21:I,24:q,26:S,28:B,30:F},{5:O,20:109,21:I,24:q,26:S,28:B,30:F},{5:z,30:M,46:110,47:G,49:Y},{5:z,30:M,46:111,47:G,49:Y},e(V,[2,14]),e(V,[2,15]),e(V,[2,16]),e(V,[2,17]),e(V,[2,34]),e(V,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:o(function(xe,he){if(he.recoverable)this.trace(xe);else{var be=new Error(xe);throw be.hash=he,be}},"parseError"),parse:o(function(xe){var he=this,be=[0],Q=[],ne=[null],ee=[],pe=this.table,ie="",De=0,se=0,je=0,ge=2,rt=1,Qe=ee.slice.call(arguments,1),tt=Object.create(this.lexer),mt={yy:{}};for(var yt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,yt)&&(mt.yy[yt]=this.yy[yt]);tt.setInput(xe,mt.yy),mt.yy.lexer=tt,mt.yy.parser=this,typeof tt.yylloc>"u"&&(tt.yylloc={});var Nt=tt.yylloc;ee.push(Nt);var kt=tt.options&&tt.options.ranges;typeof mt.yy.parseError=="function"?this.parseError=mt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function te(xt){be.length=be.length-2*xt,ne.length=ne.length-xt,ee.length=ee.length-xt}o(te,"popStack");function Ne(){var xt;return xt=Q.pop()||tt.lex()||rt,typeof xt!="number"&&(xt instanceof Array&&(Q=xt,xt=Q.pop()),xt=he.symbols_[xt]||xt),xt}o(Ne,"lex");for(var Ce,Fe,oe,st,ae,ht,fe={},Le,Ue,Ke,it;;){if(oe=be[be.length-1],this.defaultActions[oe]?st=this.defaultActions[oe]:((Ce===null||typeof Ce>"u")&&(Ce=Ne()),st=pe[oe]&&pe[oe][Ce]),typeof st>"u"||!st.length||!st[0]){var qe="";it=[];for(Le in pe[oe])this.terminals_[Le]&&Le>ge&&it.push("'"+this.terminals_[Le]+"'");tt.showPosition?qe="Parse error on line "+(De+1)+`:
`+tt.showPosition()+`
Expecting `+it.join(", ")+", got '"+(this.terminals_[Ce]||Ce)+"'":qe="Parse error on line "+(De+1)+": Unexpected "+(Ce==rt?"end of input":"'"+(this.terminals_[Ce]||Ce)+"'"),this.parseError(qe,{text:tt.match,token:this.terminals_[Ce]||Ce,line:tt.yylineno,loc:Nt,expected:it})}if(st[0]instanceof Array&&st.length>1)throw new Error("Parse Error: multiple actions possible at state: "+oe+", token: "+Ce);switch(st[0]){case 1:be.push(Ce),ne.push(tt.yytext),ee.push(tt.yylloc),be.push(st[1]),Ce=null,Fe?(Ce=Fe,Fe=null):(se=tt.yyleng,ie=tt.yytext,De=tt.yylineno,Nt=tt.yylloc,je>0&&je--);break;case 2:if(Ue=this.productions_[st[1]][1],fe.$=ne[ne.length-Ue],fe._$={first_line:ee[ee.length-(Ue||1)].first_line,last_line:ee[ee.length-1].last_line,first_column:ee[ee.length-(Ue||1)].first_column,last_column:ee[ee.length-1].last_column},kt&&(fe._$.range=[ee[ee.length-(Ue||1)].range[0],ee[ee.length-1].range[1]]),ht=this.performAction.apply(fe,[ie,se,De,mt.yy,st[1],ne,ee].concat(Qe)),typeof ht<"u")return ht;Ue&&(be=be.slice(0,-1*Ue*2),ne=ne.slice(0,-1*Ue),ee=ee.slice(0,-1*Ue)),be.push(this.productions_[st[1]][0]),ne.push(fe.$),ee.push(fe._$),Ke=pe[be[be.length-2]][be[be.length-1]],be.push(Ke);break;case 3:return!0}}return!0},"parse")},re=function(){var xe={EOF:1,parseError:o(function(he,be){if(this.yy.parser)this.yy.parser.parseError(he,be);else throw new Error(he)},"parseError"),setInput:o(function(he,be){return this.yy=be||this.yy||{},this._input=he,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var he=this._input[0];this.yytext+=he,this.yyleng++,this.offset++,this.match+=he,this.matched+=he;var be=he.match(/(?:\r\n?|\n).*/g);return be?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),he},"input"),unput:o(function(he){var be=he.length,Q=he.split(/(?:\r\n?|\n)/g);this._input=he+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-be),this.offset-=be;var ne=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Q.length-1&&(this.yylineno-=Q.length-1);var ee=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Q?(Q.length===ne.length?this.yylloc.first_column:0)+ne[ne.length-Q.length].length-Q[0].length:this.yylloc.first_column-be},this.options.ranges&&(this.yylloc.range=[ee[0],ee[0]+this.yyleng-be]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(he){this.unput(this.match.slice(he))},"less"),pastInput:o(function(){var he=this.matched.substr(0,this.matched.length-this.match.length);return(he.length>20?"...":"")+he.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var he=this.match;return he.length<20&&(he+=this._input.substr(0,20-he.length)),(he.substr(0,20)+(he.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var he=this.pastInput(),be=new Array(he.length+1).join("-");return he+this.upcomingInput()+`
`+be+"^"},"showPosition"),test_match:o(function(he,be){var Q,ne,ee;if(this.options.backtrack_lexer&&(ee={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ee.yylloc.range=this.yylloc.range.slice(0))),ne=he[0].match(/(?:\r\n?|\n).*/g),ne&&(this.yylineno+=ne.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ne?ne[ne.length-1].length-ne[ne.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+he[0].length},this.yytext+=he[0],this.match+=he[0],this.matches=he,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(he[0].length),this.matched+=he[0],Q=this.performAction.call(this,this.yy,this,be,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Q)return Q;if(this._backtrack){for(var pe in ee)this[pe]=ee[pe];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var he,be,Q,ne;this._more||(this.yytext="",this.match="");for(var ee=this._currentRules(),pe=0;pe<ee.length;pe++)if(Q=this._input.match(this.rules[ee[pe]]),Q&&(!be||Q[0].length>be[0].length)){if(be=Q,ne=pe,this.options.backtrack_lexer){if(he=this.test_match(Q,ee[pe]),he!==!1)return he;if(this._backtrack){be=!1;continue}else return!1}else if(!this.options.flex)break}return be?(he=this.test_match(be,ee[ne]),he!==!1?he:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var he=this.next();return he||this.lex()},"lex"),begin:o(function(he){this.conditionStack.push(he)},"begin"),popState:o(function(){var he=this.conditionStack.length-1;return he>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(he){return he=this.conditionStack.length-1-Math.abs(he||0),he>=0?this.conditionStack[he]:"INITIAL"},"topState"),pushState:o(function(he){this.begin(he)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(he,be,Q,ne){var ee=ne;switch(Q){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:break;case 10:break;case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 48:this.popState();break;case 49:return"qString";case 50:return be.yytext=be.yytext.trim(),62}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}};return xe}();X.lexer=re;function de(){this.yy={}}return o(de,"Parser"),de.prototype=X,X.Parser=de,new de}(),ET.parser=ET,MEe=ET}),CT,tl,S2,A0,A2,IEe,DEe,REe,OEe,PEe,BEe,FEe,$Ee,zEe,qEe,GEe,YEe,jEe,HEe,UEe,VEe,WEe,XEe,zJe=R(()=>{"use strict";zr(),We(),ys(),CT=[],tl={},S2=new Map,A0={},A2=new Map,IEe={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},DEe={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},REe={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},OEe={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},PEe=o((e,t)=>(S2.has(e)||S2.set(e,{name:e,type:t,id:tl.id,text:tl.text,risk:tl.risk,verifyMethod:tl.verifyMethod}),tl={},S2.get(e)),"addRequirement"),BEe=o(()=>S2,"getRequirements"),FEe=o(e=>{tl!==void 0&&(tl.id=e)},"setNewReqId"),$Ee=o(e=>{tl!==void 0&&(tl.text=e)},"setNewReqText"),zEe=o(e=>{tl!==void 0&&(tl.risk=e)},"setNewReqRisk"),qEe=o(e=>{tl!==void 0&&(tl.verifyMethod=e)},"setNewReqVerifyMethod"),GEe=o(e=>(A2.has(e)||(A2.set(e,{name:e,type:A0.type,docRef:A0.docRef}),J.info("Added new requirement: ",e)),A0={},A2.get(e)),"addElement"),YEe=o(()=>A2,"getElements"),jEe=o(e=>{A0!==void 0&&(A0.type=e)},"setNewElementType"),HEe=o(e=>{A0!==void 0&&(A0.docRef=e)},"setNewElementDocRef"),UEe=o((e,t,r)=>{CT.push({type:e,src:t,dst:r})},"addRelationship"),VEe=o(()=>CT,"getRelationships"),WEe=o(()=>{CT=[],tl={},S2=new Map,A0={},A2=new Map,fs()},"clear"),XEe={RequirementType:IEe,RiskLevel:DEe,VerifyType:REe,Relationships:OEe,getConfig:o(()=>Ge().req,"getConfig"),addRequirement:PEe,getRequirements:BEe,setNewReqId:FEe,setNewReqText:$Ee,setNewReqRisk:zEe,setNewReqVerifyMethod:qEe,setAccTitle:ms,getAccTitle:Ls,setAccDescription:Ns,getAccDescription:Ms,addElement:GEe,getElements:YEe,setNewElementType:jEe,setNewElementDocRef:HEe,addRelationship:UEe,getRelationships:VEe,clear:WEe}}),KEe,ZEe,qJe=R(()=>{"use strict";KEe=o(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }

`,"getStyles"),ZEe=KEe}),_T,QEe,J$,GJe=R(()=>{"use strict";_T={CONTAINS:"contains",ARROW:"arrow"},QEe=o((e,t)=>{let r=e.append("defs").append("marker").attr("id",_T.CONTAINS+"_line_ending").attr("refX",0).attr("refY",t.line_height/2).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("g");r.append("circle").attr("cx",t.line_height/2).attr("cy",t.line_height/2).attr("r",t.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",t.line_height).attr("y1",t.line_height/2).attr("y2",t.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",t.line_height).attr("x1",t.line_height/2).attr("x2",t.line_height/2).attr("stroke-width",1),e.append("defs").append("marker").attr("id",_T.ARROW+"_line_ending").attr("refX",t.line_height).attr("refY",.5*t.line_height).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${t.line_height},${t.line_height/2}
      M${t.line_height},${t.line_height/2}
      L0,${t.line_height}`).attr("stroke-width",1)},"insertLineEndings"),J$={ReqMarkers:_T,insertLineEndings:QEe}}),fa,ez,tz,rz,nz,JEe,eCe,tCe,rCe,nCe,iCe,ig,aCe,sCe,YJe=R(()=>{"use strict";Ln(),Lw(),Xl(),zr(),We(),Fa(),En(),GJe(),fa={},ez=0,tz=o((e,t)=>e.insert("rect","#"+t).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",fa.rect_min_width+"px").attr("height",fa.rect_min_height+"px"),"newRectNode"),rz=o((e,t,r)=>{let n=fa.rect_min_width/2,i=e.append("text").attr("class","req reqLabel reqTitle").attr("id",t).attr("x",n).attr("y",fa.rect_padding).attr("dominant-baseline","hanging"),a=0;r.forEach(h=>{a==0?i.append("tspan").attr("text-anchor","middle").attr("x",fa.rect_min_width/2).attr("dy",0).text(h):i.append("tspan").attr("text-anchor","middle").attr("x",fa.rect_min_width/2).attr("dy",fa.line_height*.75).text(h),a++});let s=1.5*fa.rect_padding,l=a*fa.line_height*.75,u=s+l;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",fa.rect_min_width).attr("y1",u).attr("y2",u),{titleNode:i,y:u}},"newTitleNode"),nz=o((e,t,r,n)=>{let i=e.append("text").attr("class","req reqLabel").attr("id",t).attr("x",fa.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),a=0,s=30,l=[];return r.forEach(u=>{let h=u.length;for(;h>s&&a<3;){let d=u.substring(0,s);u=u.substring(s,u.length),h=u.length,l[l.length]=d,a++}if(a==3){let d=l[l.length-1];l[l.length-1]=d.substring(0,d.length-4)+"..."}else l[l.length]=u;a=0}),l.forEach(u=>{i.append("tspan").attr("x",fa.rect_padding).attr("dy",fa.line_height).text(u)}),i},"newBodyNode"),JEe=o((e,t,r,n)=>{let i=t.node().getTotalLength(),a=t.node().getPointAtLength(i*.5),s="rel"+ez;ez++;let l=e.append("text").attr("class","req relationshipLabel").attr("id",s).attr("x",a.x).attr("y",a.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();e.insert("rect","#"+s).attr("class","req reqLabelBox").attr("x",a.x-l.width/2).attr("y",a.y-l.height/2).attr("width",l.width).attr("height",l.height).attr("fill","white").attr("fill-opacity","85%")},"addEdgeLabel"),eCe=o(function(e,t,r,n,i){let a=r.edge(ig(t.src),ig(t.dst)),s=wd().x(function(u){return u.x}).y(function(u){return u.y}),l=e.insert("path","#"+n).attr("class","er relationshipLine").attr("d",s(a.points)).attr("fill","none");t.type==i.db.Relationships.CONTAINS?l.attr("marker-start","url("+Yt.getUrl(fa.arrowMarkerAbsolute)+"#"+t.type+"_line_ending)"):(l.attr("stroke-dasharray","10,7"),l.attr("marker-end","url("+Yt.getUrl(fa.arrowMarkerAbsolute)+"#"+J$.ReqMarkers.ARROW+"_line_ending)")),JEe(e,l,fa,`<<${t.type}>>`)},"drawRelationshipFromLayout"),tCe=o((e,t,r)=>{e.forEach((n,i)=>{i=ig(i),J.info("Added new requirement: ",i);let a=r.append("g").attr("id",i),s="req-"+i,l=tz(a,s),u=[],h=rz(a,i+"_title",[`<<${n.type}>>`,`${n.name}`]);u.push(h.titleNode);let d=nz(a,i+"_body",[`Id: ${n.id}`,`Text: ${n.text}`,`Risk: ${n.risk}`,`Verification: ${n.verifyMethod}`],h.y);u.push(d);let p=l.node().getBBox();t.setNode(i,{width:p.width,height:p.height,shape:"rect",id:i})})},"drawReqs"),rCe=o((e,t,r)=>{e.forEach((n,i)=>{let a=ig(i),s=r.append("g").attr("id",a),l="element-"+a,u=tz(s,l),h=[],d=rz(s,l+"_title",["<<Element>>",`${i}`]);h.push(d.titleNode);let p=nz(s,l+"_body",[`Type: ${n.type||"Not Specified"}`,`Doc Ref: ${n.docRef||"None"}`],d.y);h.push(p);let f=u.node().getBBox();t.setNode(a,{width:f.width,height:f.height,shape:"rect",id:a})})},"drawElements"),nCe=o((e,t)=>(e.forEach(function(r){let n=ig(r.src),i=ig(r.dst);t.setEdge(n,i,{relationship:r})}),e),"addRelationships"),iCe=o(function(e,t){t.nodes().forEach(function(r){r!==void 0&&t.node(r)!==void 0&&(e.select("#"+r),e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )"))})},"adjustEntities"),ig=o(e=>e.replace(/\s/g,"").replace(/\./g,"_"),"elementString"),aCe=o((e,t,r,n)=>{fa=Ge().requirement;let i=fa.securityLevel,a;i==="sandbox"&&(a=Bt("#i"+t));let s=Bt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${t}']`);J$.insertLineEndings(s,fa);let l=new ao({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:fa.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}}),u=n.db.getRequirements(),h=n.db.getElements(),d=n.db.getRelationships();tCe(u,l,s),rCe(h,l,s),nCe(d,l),x5(l),iCe(s,l),d.forEach(function(y){eCe(s,y,l,t,n)});let p=fa.rect_padding,f=s.node().getBBox(),g=f.width+p*2,m=f.height+p*2;Qs(s,m,g,fa.useMaxWidth),s.attr("viewBox",`${f.x-p} ${f.y-p} ${g} ${m}`)},"draw"),sCe={draw:aCe}}),oCe={};yr(oCe,{diagram:()=>lCe});var lCe,jJe=R(()=>{"use strict";$Je(),zJe(),qJe(),YJe(),lCe={parser:MEe,db:XEe,renderer:sCe,styles:ZEe}}),ST,cCe,HJe=R(()=>{"use strict";ST=function(){var e=o(function(ne,ee,pe,ie){for(pe=pe||{},ie=ne.length;ie--;pe[ne[ie]]=ee);return pe},"o"),t=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],l=[1,13],u=[1,14],h=[1,16],d=[1,17],p=[1,18],f=[1,24],g=[1,25],m=[1,26],y=[1,27],b=[1,28],v=[1,29],x=[1,30],w=[1,31],E=[1,32],A=[1,33],N=[1,34],L=[1,35],C=[1,36],D=[1,37],P=[1,38],O=[1,39],I=[1,41],q=[1,42],S=[1,43],B=[1,44],F=[1,45],z=[1,46],M=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],G=[4,5,16,50,52,53],Y=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],V=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],X=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],re=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],de=[68,69,70],xe=[1,122],he={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:o(function(ne,ee,pe,ie,De,se,je){var ge=se.length-1;switch(De){case 3:return ie.apply(se[ge]),se[ge];case 4:case 9:this.$=[];break;case 5:case 10:se[ge-1].push(se[ge]),this.$=se[ge-1];break;case 6:case 7:case 11:case 12:this.$=se[ge];break;case 8:case 13:this.$=[];break;case 15:se[ge].type="createParticipant",this.$=se[ge];break;case 16:se[ge-1].unshift({type:"boxStart",boxData:ie.parseBoxData(se[ge-2])}),se[ge-1].push({type:"boxEnd",boxText:se[ge-2]}),this.$=se[ge-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(se[ge-2]),sequenceIndexStep:Number(se[ge-1]),sequenceVisible:!0,signalType:ie.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(se[ge-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:ie.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:ie.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:ie.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:ie.LINETYPE.ACTIVE_START,actor:se[ge-1].actor};break;case 23:this.$={type:"activeEnd",signalType:ie.LINETYPE.ACTIVE_END,actor:se[ge-1].actor};break;case 29:ie.setDiagramTitle(se[ge].substring(6)),this.$=se[ge].substring(6);break;case 30:ie.setDiagramTitle(se[ge].substring(7)),this.$=se[ge].substring(7);break;case 31:this.$=se[ge].trim(),ie.setAccTitle(this.$);break;case 32:case 33:this.$=se[ge].trim(),ie.setAccDescription(this.$);break;case 34:se[ge-1].unshift({type:"loopStart",loopText:ie.parseMessage(se[ge-2]),signalType:ie.LINETYPE.LOOP_START}),se[ge-1].push({type:"loopEnd",loopText:se[ge-2],signalType:ie.LINETYPE.LOOP_END}),this.$=se[ge-1];break;case 35:se[ge-1].unshift({type:"rectStart",color:ie.parseMessage(se[ge-2]),signalType:ie.LINETYPE.RECT_START}),se[ge-1].push({type:"rectEnd",color:ie.parseMessage(se[ge-2]),signalType:ie.LINETYPE.RECT_END}),this.$=se[ge-1];break;case 36:se[ge-1].unshift({type:"optStart",optText:ie.parseMessage(se[ge-2]),signalType:ie.LINETYPE.OPT_START}),se[ge-1].push({type:"optEnd",optText:ie.parseMessage(se[ge-2]),signalType:ie.LINETYPE.OPT_END}),this.$=se[ge-1];break;case 37:se[ge-1].unshift({type:"altStart",altText:ie.parseMessage(se[ge-2]),signalType:ie.LINETYPE.ALT_START}),se[ge-1].push({type:"altEnd",signalType:ie.LINETYPE.ALT_END}),this.$=se[ge-1];break;case 38:se[ge-1].unshift({type:"parStart",parText:ie.parseMessage(se[ge-2]),signalType:ie.LINETYPE.PAR_START}),se[ge-1].push({type:"parEnd",signalType:ie.LINETYPE.PAR_END}),this.$=se[ge-1];break;case 39:se[ge-1].unshift({type:"parStart",parText:ie.parseMessage(se[ge-2]),signalType:ie.LINETYPE.PAR_OVER_START}),se[ge-1].push({type:"parEnd",signalType:ie.LINETYPE.PAR_END}),this.$=se[ge-1];break;case 40:se[ge-1].unshift({type:"criticalStart",criticalText:ie.parseMessage(se[ge-2]),signalType:ie.LINETYPE.CRITICAL_START}),se[ge-1].push({type:"criticalEnd",signalType:ie.LINETYPE.CRITICAL_END}),this.$=se[ge-1];break;case 41:se[ge-1].unshift({type:"breakStart",breakText:ie.parseMessage(se[ge-2]),signalType:ie.LINETYPE.BREAK_START}),se[ge-1].push({type:"breakEnd",optText:ie.parseMessage(se[ge-2]),signalType:ie.LINETYPE.BREAK_END}),this.$=se[ge-1];break;case 43:this.$=se[ge-3].concat([{type:"option",optionText:ie.parseMessage(se[ge-1]),signalType:ie.LINETYPE.CRITICAL_OPTION},se[ge]]);break;case 45:this.$=se[ge-3].concat([{type:"and",parText:ie.parseMessage(se[ge-1]),signalType:ie.LINETYPE.PAR_AND},se[ge]]);break;case 47:this.$=se[ge-3].concat([{type:"else",altText:ie.parseMessage(se[ge-1]),signalType:ie.LINETYPE.ALT_ELSE},se[ge]]);break;case 48:se[ge-3].draw="participant",se[ge-3].type="addParticipant",se[ge-3].description=ie.parseMessage(se[ge-1]),this.$=se[ge-3];break;case 49:se[ge-1].draw="participant",se[ge-1].type="addParticipant",this.$=se[ge-1];break;case 50:se[ge-3].draw="actor",se[ge-3].type="addParticipant",se[ge-3].description=ie.parseMessage(se[ge-1]),this.$=se[ge-3];break;case 51:se[ge-1].draw="actor",se[ge-1].type="addParticipant",this.$=se[ge-1];break;case 52:se[ge-1].type="destroyParticipant",this.$=se[ge-1];break;case 53:this.$=[se[ge-1],{type:"addNote",placement:se[ge-2],actor:se[ge-1].actor,text:se[ge]}];break;case 54:se[ge-2]=[].concat(se[ge-1],se[ge-1]).slice(0,2),se[ge-2][0]=se[ge-2][0].actor,se[ge-2][1]=se[ge-2][1].actor,this.$=[se[ge-1],{type:"addNote",placement:ie.PLACEMENT.OVER,actor:se[ge-2].slice(0,2),text:se[ge]}];break;case 55:this.$=[se[ge-1],{type:"addLinks",actor:se[ge-1].actor,text:se[ge]}];break;case 56:this.$=[se[ge-1],{type:"addALink",actor:se[ge-1].actor,text:se[ge]}];break;case 57:this.$=[se[ge-1],{type:"addProperties",actor:se[ge-1].actor,text:se[ge]}];break;case 58:this.$=[se[ge-1],{type:"addDetails",actor:se[ge-1].actor,text:se[ge]}];break;case 61:this.$=[se[ge-2],se[ge]];break;case 62:this.$=se[ge];break;case 63:this.$=ie.PLACEMENT.LEFTOF;break;case 64:this.$=ie.PLACEMENT.RIGHTOF;break;case 65:this.$=[se[ge-4],se[ge-1],{type:"addMessage",from:se[ge-4].actor,to:se[ge-1].actor,signalType:se[ge-3],msg:se[ge],activate:!0},{type:"activeStart",signalType:ie.LINETYPE.ACTIVE_START,actor:se[ge-1].actor}];break;case 66:this.$=[se[ge-4],se[ge-1],{type:"addMessage",from:se[ge-4].actor,to:se[ge-1].actor,signalType:se[ge-3],msg:se[ge]},{type:"activeEnd",signalType:ie.LINETYPE.ACTIVE_END,actor:se[ge-4].actor}];break;case 67:this.$=[se[ge-3],se[ge-1],{type:"addMessage",from:se[ge-3].actor,to:se[ge-1].actor,signalType:se[ge-2],msg:se[ge]}];break;case 68:this.$={type:"addParticipant",actor:se[ge]};break;case 69:this.$=ie.LINETYPE.SOLID_OPEN;break;case 70:this.$=ie.LINETYPE.DOTTED_OPEN;break;case 71:this.$=ie.LINETYPE.SOLID;break;case 72:this.$=ie.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=ie.LINETYPE.DOTTED;break;case 74:this.$=ie.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=ie.LINETYPE.SOLID_CROSS;break;case 76:this.$=ie.LINETYPE.DOTTED_CROSS;break;case 77:this.$=ie.LINETYPE.SOLID_POINT;break;case 78:this.$=ie.LINETYPE.DOTTED_POINT;break;case 79:this.$=ie.parseMessage(se[ge].trim().substring(1));break}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,12:12,13:l,14:u,17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:w,39:E,41:A,43:N,44:L,46:C,50:D,52:P,53:O,54:I,59:q,60:S,61:B,62:F,70:z},e(M,[2,5]),{9:47,12:12,13:l,14:u,17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:w,39:E,41:A,43:N,44:L,46:C,50:D,52:P,53:O,54:I,59:q,60:S,61:B,62:F,70:z},e(M,[2,7]),e(M,[2,8]),e(M,[2,14]),{12:48,50:D,52:P,53:O},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:z},{22:55,70:z},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},e(M,[2,29]),e(M,[2,30]),{32:[1,61]},{34:[1,62]},e(M,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:z},{22:72,70:z},{22:73,70:z},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:z},{22:90,70:z},{22:91,70:z},{22:92,70:z},e([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),e(M,[2,6]),e(M,[2,15]),e(G,[2,9],{10:93}),e(M,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},e(M,[2,21]),{5:[1,97]},{5:[1,98]},e(M,[2,24]),e(M,[2,25]),e(M,[2,26]),e(M,[2,27]),e(M,[2,28]),e(M,[2,31]),e(M,[2,32]),e(Y,i,{7:99}),e(Y,i,{7:100}),e(Y,i,{7:101}),e(V,i,{40:102,7:103}),e(X,i,{42:104,7:105}),e(X,i,{7:105,42:106}),e(re,i,{45:107,7:108}),e(Y,i,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:z},e(de,[2,69]),e(de,[2,70]),e(de,[2,71]),e(de,[2,72]),e(de,[2,73]),e(de,[2,74]),e(de,[2,75]),e(de,[2,76]),e(de,[2,77]),e(de,[2,78]),{22:118,70:z},{22:120,58:119,70:z},{70:[2,63]},{70:[2,64]},{56:121,81:xe},{56:123,81:xe},{56:124,81:xe},{56:125,81:xe},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:D,52:P,53:O},{5:[1,131]},e(M,[2,19]),e(M,[2,20]),e(M,[2,22]),e(M,[2,23]),{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[1,132],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:w,39:E,41:A,43:N,44:L,46:C,50:D,52:P,53:O,54:I,59:q,60:S,61:B,62:F,70:z},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[1,133],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:w,39:E,41:A,43:N,44:L,46:C,50:D,52:P,53:O,54:I,59:q,60:S,61:B,62:F,70:z},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[1,134],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:w,39:E,41:A,43:N,44:L,46:C,50:D,52:P,53:O,54:I,59:q,60:S,61:B,62:F,70:z},{16:[1,135]},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[2,46],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:w,39:E,41:A,43:N,44:L,46:C,49:[1,136],50:D,52:P,53:O,54:I,59:q,60:S,61:B,62:F,70:z},{16:[1,137]},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[2,44],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:w,39:E,41:A,43:N,44:L,46:C,48:[1,138],50:D,52:P,53:O,54:I,59:q,60:S,61:B,62:F,70:z},{16:[1,139]},{16:[1,140]},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[2,42],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:w,39:E,41:A,43:N,44:L,46:C,47:[1,141],50:D,52:P,53:O,54:I,59:q,60:S,61:B,62:F,70:z},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[1,142],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:f,30:g,31:m,33:y,35:b,36:v,37:x,38:w,39:E,41:A,43:N,44:L,46:C,50:D,52:P,53:O,54:I,59:q,60:S,61:B,62:F,70:z},{15:[1,143]},e(M,[2,49]),{15:[1,144]},e(M,[2,51]),e(M,[2,52]),{22:145,70:z},{22:146,70:z},{56:147,81:xe},{56:148,81:xe},{56:149,81:xe},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},e(M,[2,16]),e(G,[2,10]),{12:151,50:D,52:P,53:O},e(G,[2,12]),e(G,[2,13]),e(M,[2,18]),e(M,[2,34]),e(M,[2,35]),e(M,[2,36]),e(M,[2,37]),{15:[1,152]},e(M,[2,38]),{15:[1,153]},e(M,[2,39]),e(M,[2,40]),{15:[1,154]},e(M,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:xe},{56:158,81:xe},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:z},e(G,[2,11]),e(V,i,{7:103,40:160}),e(X,i,{7:105,42:161}),e(re,i,{7:108,45:162}),e(M,[2,48]),e(M,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:o(function(ne,ee){if(ee.recoverable)this.trace(ne);else{var pe=new Error(ne);throw pe.hash=ee,pe}},"parseError"),parse:o(function(ne){var ee=this,pe=[0],ie=[],De=[null],se=[],je=this.table,ge="",rt=0,Qe=0,tt=0,mt=2,yt=1,Nt=se.slice.call(arguments,1),kt=Object.create(this.lexer),te={yy:{}};for(var Ne in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ne)&&(te.yy[Ne]=this.yy[Ne]);kt.setInput(ne,te.yy),te.yy.lexer=kt,te.yy.parser=this,typeof kt.yylloc>"u"&&(kt.yylloc={});var Ce=kt.yylloc;se.push(Ce);var Fe=kt.options&&kt.options.ranges;typeof te.yy.parseError=="function"?this.parseError=te.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function oe(cr){pe.length=pe.length-2*cr,De.length=De.length-cr,se.length=se.length-cr}o(oe,"popStack");function st(){var cr;return cr=ie.pop()||kt.lex()||yt,typeof cr!="number"&&(cr instanceof Array&&(ie=cr,cr=ie.pop()),cr=ee.symbols_[cr]||cr),cr}o(st,"lex");for(var ae,ht,fe,Le,Ue,Ke,it={},qe,xt,at,jt;;){if(fe=pe[pe.length-1],this.defaultActions[fe]?Le=this.defaultActions[fe]:((ae===null||typeof ae>"u")&&(ae=st()),Le=je[fe]&&je[fe][ae]),typeof Le>"u"||!Le.length||!Le[0]){var mr="";jt=[];for(qe in je[fe])this.terminals_[qe]&&qe>mt&&jt.push("'"+this.terminals_[qe]+"'");kt.showPosition?mr="Parse error on line "+(rt+1)+`:
`+kt.showPosition()+`
Expecting `+jt.join(", ")+", got '"+(this.terminals_[ae]||ae)+"'":mr="Parse error on line "+(rt+1)+": Unexpected "+(ae==yt?"end of input":"'"+(this.terminals_[ae]||ae)+"'"),this.parseError(mr,{text:kt.match,token:this.terminals_[ae]||ae,line:kt.yylineno,loc:Ce,expected:jt})}if(Le[0]instanceof Array&&Le.length>1)throw new Error("Parse Error: multiple actions possible at state: "+fe+", token: "+ae);switch(Le[0]){case 1:pe.push(ae),De.push(kt.yytext),se.push(kt.yylloc),pe.push(Le[1]),ae=null,ht?(ae=ht,ht=null):(Qe=kt.yyleng,ge=kt.yytext,rt=kt.yylineno,Ce=kt.yylloc,tt>0&&tt--);break;case 2:if(xt=this.productions_[Le[1]][1],it.$=De[De.length-xt],it._$={first_line:se[se.length-(xt||1)].first_line,last_line:se[se.length-1].last_line,first_column:se[se.length-(xt||1)].first_column,last_column:se[se.length-1].last_column},Fe&&(it._$.range=[se[se.length-(xt||1)].range[0],se[se.length-1].range[1]]),Ke=this.performAction.apply(it,[ge,Qe,rt,te.yy,Le[1],De,se].concat(Nt)),typeof Ke<"u")return Ke;xt&&(pe=pe.slice(0,-1*xt*2),De=De.slice(0,-1*xt),se=se.slice(0,-1*xt)),pe.push(this.productions_[Le[1]][0]),De.push(it.$),se.push(it._$),at=je[pe[pe.length-2]][pe[pe.length-1]],pe.push(at);break;case 3:return!0}}return!0},"parse")},be=function(){var ne={EOF:1,parseError:o(function(ee,pe){if(this.yy.parser)this.yy.parser.parseError(ee,pe);else throw new Error(ee)},"parseError"),setInput:o(function(ee,pe){return this.yy=pe||this.yy||{},this._input=ee,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var ee=this._input[0];this.yytext+=ee,this.yyleng++,this.offset++,this.match+=ee,this.matched+=ee;var pe=ee.match(/(?:\r\n?|\n).*/g);return pe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ee},"input"),unput:o(function(ee){var pe=ee.length,ie=ee.split(/(?:\r\n?|\n)/g);this._input=ee+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-pe),this.offset-=pe;var De=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ie.length-1&&(this.yylineno-=ie.length-1);var se=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ie?(ie.length===De.length?this.yylloc.first_column:0)+De[De.length-ie.length].length-ie[0].length:this.yylloc.first_column-pe},this.options.ranges&&(this.yylloc.range=[se[0],se[0]+this.yyleng-pe]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(ee){this.unput(this.match.slice(ee))},"less"),pastInput:o(function(){var ee=this.matched.substr(0,this.matched.length-this.match.length);return(ee.length>20?"...":"")+ee.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var ee=this.match;return ee.length<20&&(ee+=this._input.substr(0,20-ee.length)),(ee.substr(0,20)+(ee.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var ee=this.pastInput(),pe=new Array(ee.length+1).join("-");return ee+this.upcomingInput()+`
`+pe+"^"},"showPosition"),test_match:o(function(ee,pe){var ie,De,se;if(this.options.backtrack_lexer&&(se={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(se.yylloc.range=this.yylloc.range.slice(0))),De=ee[0].match(/(?:\r\n?|\n).*/g),De&&(this.yylineno+=De.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:De?De[De.length-1].length-De[De.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ee[0].length},this.yytext+=ee[0],this.match+=ee[0],this.matches=ee,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ee[0].length),this.matched+=ee[0],ie=this.performAction.call(this,this.yy,this,pe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ie)return ie;if(this._backtrack){for(var je in se)this[je]=se[je];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ee,pe,ie,De;this._more||(this.yytext="",this.match="");for(var se=this._currentRules(),je=0;je<se.length;je++)if(ie=this._input.match(this.rules[se[je]]),ie&&(!pe||ie[0].length>pe[0].length)){if(pe=ie,De=je,this.options.backtrack_lexer){if(ee=this.test_match(ie,se[je]),ee!==!1)return ee;if(this._backtrack){pe=!1;continue}else return!1}else if(!this.options.flex)break}return pe?(ee=this.test_match(pe,se[De]),ee!==!1?ee:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var ee=this.next();return ee||this.lex()},"lex"),begin:o(function(ee){this.conditionStack.push(ee)},"begin"),popState:o(function(){var ee=this.conditionStack.length-1;return ee>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(ee){return ee=this.conditionStack.length-1-Math.abs(ee||0),ee>=0?this.conditionStack[ee]:"INITIAL"},"topState"),pushState:o(function(ee){this.begin(ee)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(ee,pe,ie,De){var se=De;switch(ie){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;case 8:return this.begin("ID"),50;case 9:return this.begin("ID"),52;case 10:return 13;case 11:return this.begin("ID"),53;case 12:return pe.yytext=pe.yytext.trim(),this.begin("ALIAS"),70;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),36;case 16:return this.begin("LINE"),37;case 17:return this.begin("LINE"),38;case 18:return this.begin("LINE"),39;case 19:return this.begin("LINE"),49;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),43;case 22:return this.begin("LINE"),48;case 23:return this.begin("LINE"),44;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),46;case 26:return this.popState(),15;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;case 37:return this.begin("ID"),23;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;case 41:return this.popState(),"acc_title_value";case 42:return this.begin("acc_descr"),33;case 43:return this.popState(),"acc_descr_value";case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 51:return 5;case 52:return pe.yytext=pe.yytext.trim(),70;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:return 81;case 64:return 68;case 65:return 69;case 66:return 5;case 67:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};return ne}();he.lexer=be;function Q(){this.yy={}}return o(Q,"Parser"),Q.prototype=he,he.Parser=Q,new Q}(),ST.parser=ST,cCe=ST});function AT(e,t){if(e.links==null)e.links=t;else for(let r in t)e.links[r]=t[r]}function iz(e,t){if(e.properties==null)e.properties=t;else for(let r in t)e.properties[r]=t[r]}function uCe(){Dr.records.currentBox=void 0}var Dr,hCe,LT,dCe,pCe,La,gCe,fCe,mCe,yCe,vCe,bCe,xCe,L2,wCe,kCe,TCe,ECe,CCe,az,c1,_Ce,SCe,ACe,N2,LCe,NCe,sz,oz,MCe,lz,cz,ICe,uz,hz,UJe=R(()=>{"use strict";zr(),We(),f$(),En(),ys(),Dr=new eT(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),hCe=o(function(e){Dr.records.boxes.push({name:e.text,wrap:e.wrap??c1(),fill:e.color,actorKeys:[]}),Dr.records.currentBox=Dr.records.boxes.slice(-1)[0]},"addBox"),LT=o(function(e,t,r,n){let i=Dr.records.currentBox,a=Dr.records.actors.get(e);if(a){if(Dr.records.currentBox&&a.box&&Dr.records.currentBox!==a.box)throw new Error(`A same participant should only be defined in one Box: ${a.name} can't be in '${a.box.name}' and in '${Dr.records.currentBox.name}' at the same time.`);if(i=a.box?a.box:Dr.records.currentBox,a.box=i,a&&t===a.name&&r==null)return}if(r?.text==null&&(r={text:t,type:n}),(n==null||r.text==null)&&(r={text:t,type:n}),Dr.records.actors.set(e,{box:i,name:t,description:r.text,wrap:r.wrap??c1(),prevActor:Dr.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:n??"participant"}),Dr.records.prevActor){let s=Dr.records.actors.get(Dr.records.prevActor);s&&(s.nextActor=e)}Dr.records.currentBox&&Dr.records.currentBox.actorKeys.push(e),Dr.records.prevActor=e},"addActor"),dCe=o(e=>{let t,r=0;if(!e)return 0;for(t=0;t<Dr.records.messages.length;t++)Dr.records.messages[t].type===N2.ACTIVE_START&&Dr.records.messages[t].from===e&&r++,Dr.records.messages[t].type===N2.ACTIVE_END&&Dr.records.messages[t].from===e&&r--;return r},"activationCount"),pCe=o(function(e,t,r,n){Dr.records.messages.push({from:e,to:t,message:r.text,wrap:r.wrap??c1(),answer:n})},"addMessage"),La=o(function(e,t,r,n,i=!1){if(n===N2.ACTIVE_END&&dCe(e??"")<1){let a=new Error("Trying to inactivate an inactive participant ("+e+")");throw a.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},a}return Dr.records.messages.push({from:e,to:t,message:r?.text??"",wrap:r?.wrap??c1(),type:n,activate:i}),!0},"addSignal"),gCe=o(function(){return Dr.records.boxes.length>0},"hasAtLeastOneBox"),fCe=o(function(){return Dr.records.boxes.some(e=>e.name)},"hasAtLeastOneBoxWithTitle"),mCe=o(function(){return Dr.records.messages},"getMessages"),yCe=o(function(){return Dr.records.boxes},"getBoxes"),vCe=o(function(){return Dr.records.actors},"getActors"),bCe=o(function(){return Dr.records.createdActors},"getCreatedActors"),xCe=o(function(){return Dr.records.destroyedActors},"getDestroyedActors"),L2=o(function(e){return Dr.records.actors.get(e)},"getActor"),wCe=o(function(){return[...Dr.records.actors.keys()]},"getActorKeys"),kCe=o(function(){Dr.records.sequenceNumbersEnabled=!0},"enableSequenceNumbers"),TCe=o(function(){Dr.records.sequenceNumbersEnabled=!1},"disableSequenceNumbers"),ECe=o(()=>Dr.records.sequenceNumbersEnabled,"showSequenceNumbers"),CCe=o(function(e){Dr.records.wrapEnabled=e},"setWrap"),az=o(e=>{if(e===void 0)return{};e=e.trim();let t=/^:?wrap:/.exec(e)!==null?!0:/^:?nowrap:/.exec(e)!==null?!1:void 0;return{cleanedText:(t===void 0?e:e.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:t}},"extractWrap"),c1=o(()=>Dr.records.wrapEnabled!==void 0?Dr.records.wrapEnabled:Ge().sequence?.wrap??!1,"autoWrap"),_Ce=o(function(){Dr.reset(),fs()},"clear"),SCe=o(function(e){let t=e.trim(),{wrap:r,cleanedText:n}=az(t),i={text:n,wrap:r};return J.debug(`parseMessage: ${JSON.stringify(i)}`),i},"parseMessage"),ACe=o(function(e){let t=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(e),r=t?.[1]?t[1].trim():"transparent",n=t?.[2]?t[2].trim():void 0;if(window?.CSS)window.CSS.supports("color",r)||(r="transparent",n=e.trim());else{let s=new Option().style;s.color=r,s.color!==r&&(r="transparent",n=e.trim())}let{wrap:i,cleanedText:a}=az(n);return{text:a?Ei(a,Ge()):void 0,color:r,wrap:i}},"parseBoxData"),N2={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},LCe={FILLED:0,OPEN:1},NCe={LEFTOF:0,RIGHTOF:1,OVER:2},sz=o(function(e,t,r){let n={actor:e,placement:t,message:r.text,wrap:r.wrap??c1()},i=[].concat(e,e);Dr.records.notes.push(n),Dr.records.messages.push({from:i[0],to:i[1],message:r.text,wrap:r.wrap??c1(),type:N2.NOTE,placement:t})},"addNote"),oz=o(function(e,t){let r=L2(e);try{let n=Ei(t.text,Ge());n=n.replace(/&amp;/g,"&"),n=n.replace(/&equals;/g,"=");let i=JSON.parse(n);AT(r,i)}catch(n){J.error("error while parsing actor link text",n)}},"addLinks"),MCe=o(function(e,t){let r=L2(e);try{let n={},i=Ei(t.text,Ge()),a=i.indexOf("@");i=i.replace(/&amp;/g,"&"),i=i.replace(/&equals;/g,"=");let s=i.slice(0,a-1).trim(),l=i.slice(a+1).trim();n[s]=l,AT(r,n)}catch(n){J.error("error while parsing actor link text",n)}},"addALink"),o(AT,"insertLinks"),lz=o(function(e,t){let r=L2(e);try{let n=Ei(t.text,Ge()),i=JSON.parse(n);iz(r,i)}catch(n){J.error("error while parsing actor properties text",n)}},"addProperties"),o(iz,"insertProperties"),o(uCe,"boxEnd"),cz=o(function(e,t){let r=L2(e),n=document.getElementById(t.text);try{let i=n.innerHTML,a=JSON.parse(i);a.properties&&iz(r,a.properties),a.links&&AT(r,a.links)}catch(i){J.error("error while parsing actor details text",i)}},"addDetails"),ICe=o(function(e,t){if(e?.properties!==void 0)return e.properties[t]},"getActorProperty"),uz=o(function(e){if(Array.isArray(e))e.forEach(function(t){uz(t)});else switch(e.type){case"sequenceIndex":Dr.records.messages.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":LT(e.actor,e.actor,e.description,e.draw);break;case"createParticipant":if(Dr.records.actors.has(e.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");Dr.records.lastCreated=e.actor,LT(e.actor,e.actor,e.description,e.draw),Dr.records.createdActors.set(e.actor,Dr.records.messages.length);break;case"destroyParticipant":Dr.records.lastDestroyed=e.actor,Dr.records.destroyedActors.set(e.actor,Dr.records.messages.length);break;case"activeStart":La(e.actor,void 0,void 0,e.signalType);break;case"activeEnd":La(e.actor,void 0,void 0,e.signalType);break;case"addNote":sz(e.actor,e.placement,e.text);break;case"addLinks":oz(e.actor,e.text);break;case"addALink":MCe(e.actor,e.text);break;case"addProperties":lz(e.actor,e.text);break;case"addDetails":cz(e.actor,e.text);break;case"addMessage":if(Dr.records.lastCreated){if(e.to!==Dr.records.lastCreated)throw new Error("The created participant "+Dr.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");Dr.records.lastCreated=void 0}else if(Dr.records.lastDestroyed){if(e.to!==Dr.records.lastDestroyed&&e.from!==Dr.records.lastDestroyed)throw new Error("The destroyed participant "+Dr.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");Dr.records.lastDestroyed=void 0}La(e.from,e.to,e.msg,e.signalType,e.activate);break;case"boxStart":hCe(e.boxData);break;case"boxEnd":uCe();break;case"loopStart":La(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":La(void 0,void 0,void 0,e.signalType);break;case"rectStart":La(void 0,void 0,e.color,e.signalType);break;case"rectEnd":La(void 0,void 0,void 0,e.signalType);break;case"optStart":La(void 0,void 0,e.optText,e.signalType);break;case"optEnd":La(void 0,void 0,void 0,e.signalType);break;case"altStart":La(void 0,void 0,e.altText,e.signalType);break;case"else":La(void 0,void 0,e.altText,e.signalType);break;case"altEnd":La(void 0,void 0,void 0,e.signalType);break;case"setAccTitle":ms(e.text);break;case"parStart":La(void 0,void 0,e.parText,e.signalType);break;case"and":La(void 0,void 0,e.parText,e.signalType);break;case"parEnd":La(void 0,void 0,void 0,e.signalType);break;case"criticalStart":La(void 0,void 0,e.criticalText,e.signalType);break;case"option":La(void 0,void 0,e.optionText,e.signalType);break;case"criticalEnd":La(void 0,void 0,void 0,e.signalType);break;case"breakStart":La(void 0,void 0,e.breakText,e.signalType);break;case"breakEnd":La(void 0,void 0,void 0,e.signalType);break}},"apply"),hz={addActor:LT,addMessage:pCe,addSignal:La,addLinks:oz,addDetails:cz,addProperties:lz,autoWrap:c1,setWrap:CCe,enableSequenceNumbers:kCe,disableSequenceNumbers:TCe,showSequenceNumbers:ECe,getMessages:mCe,getActors:vCe,getCreatedActors:bCe,getDestroyedActors:xCe,getActor:L2,getActorKeys:wCe,getActorProperty:ICe,getAccTitle:Ls,getBoxes:yCe,getDiagramTitle:Is,setDiagramTitle:_o,getConfig:o(()=>Ge().sequence,"getConfig"),clear:_Ce,parseMessage:SCe,parseBoxData:ACe,LINETYPE:N2,ARROWTYPE:LCe,PLACEMENT:NCe,addNote:sz,setAccTitle:ms,apply:uz,setAccDescription:Ns,getAccDescription:Ms,hasAtLeastOneBox:gCe,hasAtLeastOneBoxWithTitle:fCe}}),DCe,RCe,VJe=R(()=>{"use strict";DCe=o(e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }
`,"getStyles"),RCe=DCe}),dz,u1,pz,gz,OCe,fz,NT,PCe,BCe,Fv,ag,mz,xu,yz,FCe,$Ce,zCe,qCe,GCe,YCe,jCe,vz,HCe,UCe,VCe,WCe,XCe,KCe,ZCe,bz,QCe,MT,JCe,Na,WJe=R(()=>{"use strict";En(),C7(),kn(),dz=Pr(i3(),1),wo(),u1=18*2,pz="actor-top",gz="actor-bottom",OCe="actor-box",fz="actor-man",NT=o(function(e,t){return a3(e,t)},"drawRect"),PCe=o(function(e,t,r,n,i){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};let a=t.links,s=t.actorCnt,l=t.rectData;var u="none";i&&(u="block !important");let h=e.append("g");h.attr("id","actor"+s+"_popup"),h.attr("class","actorPopupMenu"),h.attr("display",u);var d="";l.class!==void 0&&(d=" "+l.class);let p=l.width>r?l.width:r,f=h.append("rect");if(f.attr("class","actorPopupMenuPanel"+d),f.attr("x",l.x),f.attr("y",l.height),f.attr("fill",l.fill),f.attr("stroke",l.stroke),f.attr("width",p),f.attr("height",l.height),f.attr("rx",l.rx),f.attr("ry",l.ry),a!=null){var g=20;for(let b in a){var m=h.append("a"),y=(0,dz.sanitizeUrl)(a[b]);m.attr("xlink:href",y),m.attr("target","_blank"),JCe(n)(b,m,l.x+10,l.height+g,p,20,{class:"actor"},n),g+=30}}return f.attr("height",g),{height:l.height+g,width:p}},"drawPopup"),BCe=o(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),Fv=o(async function(e,t,r=null){let n=e.append("foreignObject"),i=await If(t.text,Ni()),a=n.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(i).node().getBoundingClientRect();if(n.attr("height",Math.round(a.height)).attr("width",Math.round(a.width)),t.class==="noteText"){let s=e.node().firstChild;s.setAttribute("height",a.height+2*t.textMargin);let l=s.getBBox();n.attr("x",Math.round(l.x+l.width/2-a.width/2)).attr("y",Math.round(l.y+l.height/2-a.height/2))}else if(r){let{startx:s,stopx:l,starty:u}=r;if(s>l){let h=s;s=l,l=h}n.attr("x",Math.round(s+Math.abs(s-l)/2-a.width/2)),t.class==="loopText"?n.attr("y",Math.round(u)):n.attr("y",Math.round(u-a.height))}return[n]},"drawKatex"),ag=o(function(e,t){let r=0,n=0,i=t.text.split(Yt.lineBreakRegex),[a,s]=Kh(t.fontSize),l=[],u=0,h=o(()=>t.y,"yfunc");if(t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0)switch(t.valign){case"top":case"start":h=o(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":h=o(()=>Math.round(t.y+(r+n+t.textMargin)/2),"yfunc");break;case"bottom":case"end":h=o(()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin),"yfunc");break}if(t.anchor!==void 0&&t.textMargin!==void 0&&t.width!==void 0)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let[d,p]of i.entries()){t.textMargin!==void 0&&t.textMargin===0&&a!==void 0&&(u=d*a);let f=e.append("text");f.attr("x",t.x),f.attr("y",h()),t.anchor!==void 0&&f.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),t.fontFamily!==void 0&&f.style("font-family",t.fontFamily),s!==void 0&&f.style("font-size",s),t.fontWeight!==void 0&&f.style("font-weight",t.fontWeight),t.fill!==void 0&&f.attr("fill",t.fill),t.class!==void 0&&f.attr("class",t.class),t.dy!==void 0?f.attr("dy",t.dy):u!==0&&f.attr("dy",u);let g=p||EN;if(t.tspan){let m=f.append("tspan");m.attr("x",t.x),t.fill!==void 0&&m.attr("fill",t.fill),m.text(g)}else f.text(g);t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0&&(n+=(f._groups||f)[0][0].getBBox().height,r=n),l.push(f)}return l},"drawText"),mz=o(function(e,t){function r(i,a,s,l,u){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+l-u)+" "+(i+s-u*1.2)+","+(a+l)+" "+i+","+(a+l)}o(r,"genPoints");let n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,ag(e,t),n},"drawLabel"),xu=-1,yz=o((e,t,r,n)=>{e.select&&r.forEach(i=>{let a=t.get(i),s=e.select("#actor"+a.actorCnt);!n.mirrorActors&&a.stopy?s.attr("y2",a.stopy+a.height/2):n.mirrorActors&&s.attr("y2",a.stopy)})},"fixLifeLineHeights"),FCe=o(function(e,t,r,n){let i=n?t.stopy:t.starty,a=t.x+t.width/2,s=i+t.height,l=e.append("g").lower();var u=l;n||(xu++,Object.keys(t.links||{}).length&&!r.forceMenus&&u.attr("onclick",BCe(`actor${xu}_popup`)).attr("cursor","pointer"),u.append("line").attr("id","actor"+xu).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),u=l.append("g"),t.actorCnt=xu,t.links!=null&&u.attr("id","root-"+xu));let h=kd();var d="actor";t.properties?.class?d=t.properties.class:h.fill="#eaeaea",n?d+=` ${gz}`:d+=` ${pz}`,h.x=t.x,h.y=i,h.width=t.width,h.height=t.height,h.class=d,h.rx=3,h.ry=3,h.name=t.name;let p=NT(u,h);if(t.rectData=h,t.properties?.icon){let g=t.properties.icon.trim();g.charAt(0)==="@"?Pte(u,h.x+h.width-20,h.y+10,g.substr(1)):Ote(u,h.x+h.width-20,h.y+10,g)}MT(r,Zs(t.description))(t.description,u,h.x,h.y,h.width,h.height,{class:`actor ${OCe}`},r);let f=t.height;if(p.node){let g=p.node().getBBox();t.height=g.height,f=g.height}return f},"drawActorTypeParticipant"),$Ce=o(function(e,t,r,n){let i=n?t.stopy:t.starty,a=t.x+t.width/2,s=i+80,l=e.append("g").lower();n||(xu++,l.append("line").attr("id","actor"+xu).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=xu);let u=e.append("g"),h=fz;n?h+=` ${gz}`:h+=` ${pz}`,u.attr("class",h),u.attr("name",t.name);let d=kd();d.x=t.x,d.y=i,d.fill="#eaeaea",d.width=t.width,d.height=t.height,d.class="actor",d.rx=3,d.ry=3,u.append("line").attr("id","actor-man-torso"+xu).attr("x1",a).attr("y1",i+25).attr("x2",a).attr("y2",i+45),u.append("line").attr("id","actor-man-arms"+xu).attr("x1",a-u1/2).attr("y1",i+33).attr("x2",a+u1/2).attr("y2",i+33),u.append("line").attr("x1",a-u1/2).attr("y1",i+60).attr("x2",a).attr("y2",i+45),u.append("line").attr("x1",a).attr("y1",i+45).attr("x2",a+u1/2-2).attr("y2",i+60);let p=u.append("circle");p.attr("cx",t.x+t.width/2),p.attr("cy",i+10),p.attr("r",15),p.attr("width",t.width),p.attr("height",t.height);let f=u.node().getBBox();return t.height=f.height,MT(r,Zs(t.description))(t.description,u,d.x,d.y+35,d.width,d.height,{class:`actor ${fz}`},r),t.height},"drawActorTypeActor"),zCe=o(async function(e,t,r,n){switch(t.type){case"actor":return await $Ce(e,t,r,n);case"participant":return await FCe(e,t,r,n)}},"drawActor"),qCe=o(function(e,t,r){let n=e.append("g");vz(n,t),t.name&&MT(r)(t.name,n,t.x,t.y+(t.textMaxHeight||0)/2,t.width,0,{class:"text"},r),n.lower()},"drawBox"),GCe=o(function(e){return e.append("g")},"anchorElement"),YCe=o(function(e,t,r,n,i){let a=kd(),s=t.anchored;a.x=t.startx,a.y=t.starty,a.class="activation"+i%3,a.width=t.stopx-t.startx,a.height=r-t.starty,NT(s,a)},"drawActivation"),jCe=o(async function(e,t,r,n){let{boxMargin:i,boxTextMargin:a,labelBoxHeight:s,labelBoxWidth:l,messageFontFamily:u,messageFontSize:h,messageFontWeight:d}=n,p=e.append("g"),f=o(function(y,b,v,x){return p.append("line").attr("x1",y).attr("y1",b).attr("x2",v).attr("y2",x).attr("class","loopLine")},"drawLoopLine");f(t.startx,t.starty,t.stopx,t.starty),f(t.stopx,t.starty,t.stopx,t.stopy),f(t.startx,t.stopy,t.stopx,t.stopy),f(t.startx,t.starty,t.startx,t.stopy),t.sections!==void 0&&t.sections.forEach(function(y){f(t.startx,y.y,t.stopx,y.y).style("stroke-dasharray","3, 3")});let g=E7();g.text=r,g.x=t.startx,g.y=t.starty,g.fontFamily=u,g.fontSize=h,g.fontWeight=d,g.anchor="middle",g.valign="middle",g.tspan=!1,g.width=l||50,g.height=s||20,g.textMargin=a,g.class="labelText",mz(p,g),g=bz(),g.text=t.title,g.x=t.startx+l/2+(t.stopx-t.startx)/2,g.y=t.starty+i+a,g.anchor="middle",g.valign="middle",g.textMargin=a,g.class="loopText",g.fontFamily=u,g.fontSize=h,g.fontWeight=d,g.wrap=!0;let m=Zs(g.text)?await Fv(p,g,t):ag(p,g);if(t.sectionTitles!==void 0){for(let[y,b]of Object.entries(t.sectionTitles))if(b.message){g.text=b.message,g.x=t.startx+(t.stopx-t.startx)/2,g.y=t.sections[y].y+i+a,g.class="loopText",g.anchor="middle",g.valign="middle",g.tspan=!1,g.fontFamily=u,g.fontSize=h,g.fontWeight=d,g.wrap=t.wrap,Zs(g.text)?(t.starty=t.sections[y].y,await Fv(p,g,t)):ag(p,g);let v=Math.round(m.map(x=>(x._groups||x)[0][0].getBBox().height).reduce((x,w)=>x+w));t.sections[y].height+=v-(i+a)}}return t.height=Math.round(t.stopy-t.starty),p},"drawLoop"),vz=o(function(e,t){PL(e,t)},"drawBackgroundRect"),HCe=o(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),UCe=o(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),VCe=o(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),WCe=o(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),XCe=o(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),KCe=o(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),ZCe=o(function(e){e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),bz=o(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),QCe=o(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),MT=function(){function e(a,s,l,u,h,d,p){let f=s.append("text").attr("x",l+h/2).attr("y",u+d/2+5).style("text-anchor","middle").text(a);i(f,p)}o(e,"byText");function t(a,s,l,u,h,d,p,f){let{actorFontSize:g,actorFontFamily:m,actorFontWeight:y}=f,[b,v]=Kh(g),x=a.split(Yt.lineBreakRegex);for(let w=0;w<x.length;w++){let E=w*b-b*(x.length-1)/2,A=s.append("text").attr("x",l+h/2).attr("y",u).style("text-anchor","middle").style("font-size",v).style("font-weight",y).style("font-family",m);A.append("tspan").attr("x",l+h/2).attr("dy",E).text(x[w]),A.attr("y",u+d/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(A,p)}}o(t,"byTspan");function r(a,s,l,u,h,d,p,f){let g=s.append("switch"),m=g.append("foreignObject").attr("x",l).attr("y",u).attr("width",h).attr("height",d).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,g,l,u,h,d,p,f),i(m,p)}o(r,"byFo");async function n(a,s,l,u,h,d,p,f){let g=await Mf(a,Ni()),m=s.append("switch"),y=m.append("foreignObject").attr("x",l+h/2-g.width/2).attr("y",u+d/2-g.height/2).attr("width",g.width).attr("height",g.height).append("xhtml:div").style("height","100%").style("width","100%");y.append("div").style("text-align","center").style("vertical-align","middle").html(await If(a,Ni())),t(a,m,l,u,h,d,p,f),i(y,p)}o(n,"byKatex");function i(a,s){for(let l in s)s.hasOwnProperty(l)&&a.attr(l,s[l])}return o(i,"_setTextAttrs"),function(a,s=!1){return s?n:a.textPlacement==="fo"?r:a.textPlacement==="old"?e:t}}(),JCe=function(){function e(i,a,s,l,u,h,d){let p=a.append("text").attr("x",s).attr("y",l).style("text-anchor","start").text(i);n(p,d)}o(e,"byText");function t(i,a,s,l,u,h,d,p){let{actorFontSize:f,actorFontFamily:g,actorFontWeight:m}=p,y=i.split(Yt.lineBreakRegex);for(let b=0;b<y.length;b++){let v=b*f-f*(y.length-1)/2,x=a.append("text").attr("x",s).attr("y",l).style("text-anchor","start").style("font-size",f).style("font-weight",m).style("font-family",g);x.append("tspan").attr("x",s).attr("dy",v).text(y[b]),x.attr("y",l+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(x,d)}}o(t,"byTspan");function r(i,a,s,l,u,h,d,p){let f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",l).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,s,l,u,h,d,p),n(g,d)}o(r,"byFo");function n(i,a){for(let s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return o(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),Na={drawRect:NT,drawText:ag,drawLabel:mz,drawActor:zCe,drawBox:qCe,drawPopup:PCe,anchorElement:GCe,drawActivation:YCe,drawLoop:jCe,drawBackgroundRect:vz,insertArrowHead:WCe,insertArrowFilledHead:XCe,insertSequenceNumber:KCe,insertArrowCrossHead:ZCe,insertDatabaseIcon:HCe,insertComputerIcon:UCe,insertClockIcon:VCe,getTextObj:bz,getNoteRect:QCe,fixLifeLineHeights:yz,sanitizeUrl:dz.sanitizeUrl}});async function e_e(e,t){Ot.bumpVerticalPos(10);let{startx:r,stopx:n,message:i}=t,a=Yt.splitBreaks(i).length,s=Zs(i),l=s?await Mf(i,Ge()):mn.calculateTextDimensions(i,h1(nt));if(!s){let p=l.height/a;t.height+=p,Ot.bumpVerticalPos(p)}let u,h=l.height-10,d=l.width;if(r===n){u=Ot.getVerticalPos()+h,nt.rightAngles||(h+=nt.boxMargin,u=Ot.getVerticalPos()+h),h+=30;let p=Yt.getMax(d/2,nt.width/2);Ot.insert(r-p,Ot.getVerticalPos()-10+h,n+p,Ot.getVerticalPos()+30+h)}else h+=nt.boxMargin,u=Ot.getVerticalPos()+h,Ot.insert(r,u-10,n,u);return Ot.bumpVerticalPos(h),t.height+=h,t.stopy=t.starty+t.height,Ot.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),u}function wu(e,t,r,n,i){Ot.bumpVerticalPos(r);let a=n;if(t.id&&t.message&&e[t.id]){let s=e[t.id].width,l=h1(nt);t.message=mn.wrapLabel(`[${t.message}]`,s-2*nt.wrapPadding,l),t.width=s,t.wrap=!0;let u=mn.calculateTextDimensions(t.message,l),h=Yt.getMax(u.height,nt.labelBoxHeight);a=n+h,J.debug(`${h} - ${t.message}`)}i(t),Ot.bumpVerticalPos(a)}function t_e(e,t,r,n,i,a,s){function l(h,d){h.x<i.get(e.from).x?(Ot.insert(t.stopx-d,t.starty,t.startx,t.stopy+h.height/2+nt.noteMargin),t.stopx=t.stopx+d):(Ot.insert(t.startx,t.starty,t.stopx+d,t.stopy+h.height/2+nt.noteMargin),t.stopx=t.stopx-d)}o(l,"receiverAdjustment");function u(h,d){h.x<i.get(e.to).x?(Ot.insert(t.startx-d,t.starty,t.stopx,t.stopy+h.height/2+nt.noteMargin),t.startx=t.startx+d):(Ot.insert(t.stopx,t.starty,t.startx+d,t.stopy+h.height/2+nt.noteMargin),t.startx=t.startx-d)}if(o(u,"senderAdjustment"),a.get(e.to)==n){let h=i.get(e.to),d=h.type=="actor"?u1/2+3:h.width/2+3;l(h,d),h.starty=r-h.height/2,Ot.bumpVerticalPos(h.height/2)}else if(s.get(e.from)==n){let h=i.get(e.from);if(nt.mirrorActors){let d=h.type=="actor"?u1/2:h.width/2;u(h,d)}h.stopy=r-h.height/2,Ot.bumpVerticalPos(h.height/2)}else if(s.get(e.to)==n){let h=i.get(e.to);if(nt.mirrorActors){let d=h.type=="actor"?u1/2+3:h.width/2+3;l(h,d)}h.stopy=r-h.height/2,Ot.bumpVerticalPos(h.height/2)}}async function r_e(e,t,r){let n={};for(let i of t)if(e.get(i.to)&&e.get(i.from)){let a=e.get(i.to);if(i.placement===r.db.PLACEMENT.LEFTOF&&!a.prevActor||i.placement===r.db.PLACEMENT.RIGHTOF&&!a.nextActor)continue;let s=i.placement!==void 0,l=!s,u=s?sg(nt):h1(nt),h=i.wrap?mn.wrapLabel(i.message,nt.width-2*nt.wrapPadding,u):i.message,d=(Zs(h)?await Mf(i.message,Ge()):mn.calculateTextDimensions(h,u)).width+2*nt.wrapPadding;l&&i.from===a.nextActor?n[i.to]=Yt.getMax(n[i.to]||0,d):l&&i.from===a.prevActor?n[i.from]=Yt.getMax(n[i.from]||0,d):l&&i.from===i.to?(n[i.from]=Yt.getMax(n[i.from]||0,d/2),n[i.to]=Yt.getMax(n[i.to]||0,d/2)):i.placement===r.db.PLACEMENT.RIGHTOF?n[i.from]=Yt.getMax(n[i.from]||0,d):i.placement===r.db.PLACEMENT.LEFTOF?n[a.prevActor]=Yt.getMax(n[a.prevActor]||0,d):i.placement===r.db.PLACEMENT.OVER&&(a.prevActor&&(n[a.prevActor]=Yt.getMax(n[a.prevActor]||0,d/2)),a.nextActor&&(n[i.from]=Yt.getMax(n[i.from]||0,d/2)))}return J.debug("maxMessageWidthPerActor:",n),n}async function n_e(e,t,r){let n=0;for(let a of e.keys()){let s=e.get(a);s.wrap&&(s.description=mn.wrapLabel(s.description,nt.width-2*nt.wrapPadding,IT(nt)));let l=Zs(s.description)?await Mf(s.description,Ge()):mn.calculateTextDimensions(s.description,IT(nt));s.width=s.wrap?nt.width:Yt.getMax(nt.width,l.width+2*nt.wrapPadding),s.height=s.wrap?Yt.getMax(l.height,nt.height):nt.height,n=Yt.getMax(n,s.height)}for(let a in t){let s=e.get(a);if(!s)continue;let l=e.get(s.nextActor);if(!l){let h=t[a]+nt.actorMargin-s.width/2;s.margin=Yt.getMax(h,nt.actorMargin);continue}let u=t[a]+nt.actorMargin-s.width/2-l.width/2;s.margin=Yt.getMax(u,nt.actorMargin)}let i=0;return r.forEach(a=>{let s=h1(nt),l=a.actorKeys.reduce((d,p)=>d+=e.get(p).width+(e.get(p).margin||0),0);l-=2*nt.boxTextMargin,a.wrap&&(a.name=mn.wrapLabel(a.name,l-2*nt.wrapPadding,s));let u=mn.calculateTextDimensions(a.name,s);i=Yt.getMax(u.height,i);let h=Yt.getMax(l,u.width+2*nt.wrapPadding);if(a.margin=nt.boxTextMargin,l<h){let d=(h-l)/2;a.margin+=d}}),r.forEach(a=>a.textMaxHeight=i),Yt.getMax(n,nt.height)}var nt,Ot,i_e,h1,sg,IT,a_e,s_e,DT,xz,wz,$v,kz,o_e,l_e,c_e,u_e,h_e,d_e,XJe=R(()=>{"use strict";Ln(),WJe(),We(),En(),C7(),zr(),hl(),kn(),Fa(),nt={},Ot={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:o(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},"getHeight"),clear:o(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:o(function(e){this.boxes.push(e)},"addBox"),addActor:o(function(e){this.actors.push(e)},"addActor"),addLoop:o(function(e){this.loops.push(e)},"addLoop"),addMessage:o(function(e){this.messages.push(e)},"addMessage"),addNote:o(function(e){this.notes.push(e)},"addNote"),lastActor:o(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:o(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:o(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:o(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:o(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,wz(Ge())},"init"),updateVal:o(function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},"updateVal"),updateBounds:o(function(e,t,r,n){let i=this,a=0;function s(l){return o(function(u){a++;let h=i.sequenceItems.length-a+1;i.updateVal(u,"starty",t-h*nt.boxMargin,Math.min),i.updateVal(u,"stopy",n+h*nt.boxMargin,Math.max),i.updateVal(Ot.data,"startx",e-h*nt.boxMargin,Math.min),i.updateVal(Ot.data,"stopx",r+h*nt.boxMargin,Math.max),l!=="activation"&&(i.updateVal(u,"startx",e-h*nt.boxMargin,Math.min),i.updateVal(u,"stopx",r+h*nt.boxMargin,Math.max),i.updateVal(Ot.data,"starty",t-h*nt.boxMargin,Math.min),i.updateVal(Ot.data,"stopy",n+h*nt.boxMargin,Math.max))},"updateItemBounds")}o(s,"updateFn"),this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},"updateBounds"),insert:o(function(e,t,r,n){let i=Yt.getMin(e,r),a=Yt.getMax(e,r),s=Yt.getMin(t,n),l=Yt.getMax(t,n);this.updateVal(Ot.data,"startx",i,Math.min),this.updateVal(Ot.data,"starty",s,Math.min),this.updateVal(Ot.data,"stopx",a,Math.max),this.updateVal(Ot.data,"stopy",l,Math.max),this.updateBounds(i,s,a,l)},"insert"),newActivation:o(function(e,t,r){let n=r.get(e.from),i=$v(e.from).length||0,a=n.x+n.width/2+(i-1)*nt.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+nt.activationWidth,stopy:void 0,actor:e.from,anchored:Na.anchorElement(t)})},"newActivation"),endActivation:o(function(e){let t=this.activations.map(function(r){return r.actor}).lastIndexOf(e.from);return this.activations.splice(t,1)[0]},"endActivation"),createLoop:o(function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},"createLoop"),newLoop:o(function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},"newLoop"),endLoop:o(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:o(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:o(function(e){let t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:Ot.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},"addSectionToLoop"),saveVerticalPos:o(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:o(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:o(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=Yt.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:o(function(){return this.verticalPos},"getVerticalPos"),getBounds:o(function(){return{bounds:this.data,models:this.models}},"getBounds")},i_e=o(async function(e,t){Ot.bumpVerticalPos(nt.boxMargin),t.height=nt.boxMargin,t.starty=Ot.getVerticalPos();let r=kd();r.x=t.startx,r.y=t.starty,r.width=t.width||nt.width,r.class="note";let n=e.append("g"),i=Na.drawRect(n,r),a=E7();a.x=t.startx,a.y=t.starty,a.width=r.width,a.dy="1em",a.text=t.message,a.class="noteText",a.fontFamily=nt.noteFontFamily,a.fontSize=nt.noteFontSize,a.fontWeight=nt.noteFontWeight,a.anchor=nt.noteAlign,a.textMargin=nt.noteMargin,a.valign="center";let s=Zs(a.text)?await Fv(n,a):ag(n,a),l=Math.round(s.map(u=>(u._groups||u)[0][0].getBBox().height).reduce((u,h)=>u+h));i.attr("height",l+2*nt.noteMargin),t.height+=l+2*nt.noteMargin,Ot.bumpVerticalPos(l+2*nt.noteMargin),t.stopy=t.starty+l+2*nt.noteMargin,t.stopx=t.startx+r.width,Ot.insert(t.startx,t.starty,t.stopx,t.stopy),Ot.models.addNote(t)},"drawNote"),h1=o(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),sg=o(e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),"noteFont"),IT=o(e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),"actorFont"),o(e_e,"boundMessage"),a_e=o(async function(e,t,r,n){let{startx:i,stopx:a,starty:s,message:l,type:u,sequenceIndex:h,sequenceVisible:d}=t,p=mn.calculateTextDimensions(l,h1(nt)),f=E7();f.x=i,f.y=s+10,f.width=a-i,f.class="messageText",f.dy="1em",f.text=l,f.fontFamily=nt.messageFontFamily,f.fontSize=nt.messageFontSize,f.fontWeight=nt.messageFontWeight,f.anchor=nt.messageAlign,f.valign="center",f.textMargin=nt.wrapPadding,f.tspan=!1,Zs(f.text)?await Fv(e,f,{startx:i,stopx:a,starty:r}):ag(e,f);let g=p.width,m;i===a?nt.rightAngles?m=e.append("path").attr("d",`M  ${i},${r} H ${i+Yt.getMax(nt.width/2,g/2)} V ${r+25} H ${i}`):m=e.append("path").attr("d","M "+i+","+r+" C "+(i+60)+","+(r-10)+" "+(i+60)+","+(r+30)+" "+i+","+(r+20)):(m=e.append("line"),m.attr("x1",i),m.attr("y1",r),m.attr("x2",a),m.attr("y2",r)),u===n.db.LINETYPE.DOTTED||u===n.db.LINETYPE.DOTTED_CROSS||u===n.db.LINETYPE.DOTTED_POINT||u===n.db.LINETYPE.DOTTED_OPEN||u===n.db.LINETYPE.BIDIRECTIONAL_DOTTED?(m.style("stroke-dasharray","3, 3"),m.attr("class","messageLine1")):m.attr("class","messageLine0");let y="";nt.arrowMarkerAbsolute&&(y=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,y=y.replace(/\(/g,"\\("),y=y.replace(/\)/g,"\\)")),m.attr("stroke-width",2),m.attr("stroke","none"),m.style("fill","none"),(u===n.db.LINETYPE.SOLID||u===n.db.LINETYPE.DOTTED)&&m.attr("marker-end","url("+y+"#arrowhead)"),(u===n.db.LINETYPE.BIDIRECTIONAL_SOLID||u===n.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(m.attr("marker-start","url("+y+"#arrowhead)"),m.attr("marker-end","url("+y+"#arrowhead)")),(u===n.db.LINETYPE.SOLID_POINT||u===n.db.LINETYPE.DOTTED_POINT)&&m.attr("marker-end","url("+y+"#filled-head)"),(u===n.db.LINETYPE.SOLID_CROSS||u===n.db.LINETYPE.DOTTED_CROSS)&&m.attr("marker-end","url("+y+"#crosshead)"),(d||nt.showSequenceNumbers)&&(m.attr("marker-start","url("+y+"#sequencenumber)"),e.append("text").attr("x",i).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(h))},"drawMessage"),s_e=o(function(e,t,r,n,i,a,s){let l=0,u=0,h,d=0;for(let p of n){let f=t.get(p),g=f.box;h&&h!=g&&(s||Ot.models.addBox(h),u+=nt.boxMargin+h.margin),g&&g!=h&&(s||(g.x=l+u,g.y=i),u+=g.margin),f.width=f.width||nt.width,f.height=Yt.getMax(f.height||nt.height,nt.height),f.margin=f.margin||nt.actorMargin,d=Yt.getMax(d,f.height),r.get(f.name)&&(u+=f.width/2),f.x=l+u,f.starty=Ot.getVerticalPos(),Ot.insert(f.x,i,f.x+f.width,f.height),l+=f.width+u,f.box&&(f.box.width=l+g.margin-f.box.x),u=f.margin,h=f.box,Ot.models.addActor(f)}h&&!s&&Ot.models.addBox(h),Ot.bumpVerticalPos(d)},"addActorRenderingData"),DT=o(async function(e,t,r,n){if(n){let i=0;Ot.bumpVerticalPos(nt.boxMargin*2);for(let a of r){let s=t.get(a);s.stopy||(s.stopy=Ot.getVerticalPos());let l=await Na.drawActor(e,s,nt,!0);i=Yt.getMax(i,l)}Ot.bumpVerticalPos(i+nt.boxMargin)}else for(let i of r){let a=t.get(i);await Na.drawActor(e,a,nt,!1)}},"drawActors"),xz=o(function(e,t,r,n){let i=0,a=0;for(let s of r){let l=t.get(s),u=l_e(l),h=Na.drawPopup(e,l,u,nt,nt.forceMenus,n);h.height>i&&(i=h.height),h.width+l.x>a&&(a=h.width+l.x)}return{maxHeight:i,maxWidth:a}},"drawActorsPopup"),wz=o(function(e){ci(nt,e),e.fontFamily&&(nt.actorFontFamily=nt.noteFontFamily=nt.messageFontFamily=e.fontFamily),e.fontSize&&(nt.actorFontSize=nt.noteFontSize=nt.messageFontSize=e.fontSize),e.fontWeight&&(nt.actorFontWeight=nt.noteFontWeight=nt.messageFontWeight=e.fontWeight)},"setConf"),$v=o(function(e){return Ot.activations.filter(function(t){return t.actor===e})},"actorActivations"),kz=o(function(e,t){let r=t.get(e),n=$v(e),i=n.reduce(function(s,l){return Yt.getMin(s,l.startx)},r.x+r.width/2-1),a=n.reduce(function(s,l){return Yt.getMax(s,l.stopx)},r.x+r.width/2+1);return[i,a]},"activationBounds"),o(wu,"adjustLoopHeightForWrap"),o(t_e,"adjustCreatedDestroyedData"),o_e=o(async function(e,t,r,n){let{securityLevel:i,sequence:a}=Ge();nt=a;let s;i==="sandbox"&&(s=Bt("#i"+t));let l=Bt(i==="sandbox"?s.nodes()[0].contentDocument.body:"body"),u=i==="sandbox"?s.nodes()[0].contentDocument:document;Ot.init(),J.debug(n.db);let h=i==="sandbox"?l.select(`[id="${t}"]`):Bt(`[id="${t}"]`),d=n.db.getActors(),p=n.db.getCreatedActors(),f=n.db.getDestroyedActors(),g=n.db.getBoxes(),m=n.db.getActorKeys(),y=n.db.getMessages(),b=n.db.getDiagramTitle(),v=n.db.hasAtLeastOneBox(),x=n.db.hasAtLeastOneBoxWithTitle(),w=await r_e(d,y,n);if(nt.height=await n_e(d,w,g),Na.insertComputerIcon(h),Na.insertDatabaseIcon(h),Na.insertClockIcon(h),v&&(Ot.bumpVerticalPos(nt.boxMargin),x&&Ot.bumpVerticalPos(g[0].textMaxHeight)),nt.hideUnusedParticipants===!0){let M=new Set;y.forEach(G=>{M.add(G.from),M.add(G.to)}),m=m.filter(G=>M.has(G))}s_e(h,d,p,m,0,y,!1);let E=await h_e(y,d,w,n);Na.insertArrowHead(h),Na.insertArrowCrossHead(h),Na.insertArrowFilledHead(h),Na.insertSequenceNumber(h);function A(M,G){let Y=Ot.endActivation(M);Y.starty+18>G&&(Y.starty=G-6,G+=12),Na.drawActivation(h,Y,G,nt,$v(M.from).length),Ot.insert(Y.startx,G-10,Y.stopx,G)}o(A,"activeEnd");let N=1,L=1,C=[],D=[],P=0;for(let M of y){let G,Y,V;switch(M.type){case n.db.LINETYPE.NOTE:Ot.resetVerticalPos(),Y=M.noteModel,await i_e(h,Y);break;case n.db.LINETYPE.ACTIVE_START:Ot.newActivation(M,h,d);break;case n.db.LINETYPE.ACTIVE_END:A(M,Ot.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:wu(E,M,nt.boxMargin,nt.boxMargin+nt.boxTextMargin,X=>Ot.newLoop(X));break;case n.db.LINETYPE.LOOP_END:G=Ot.endLoop(),await Na.drawLoop(h,G,"loop",nt),Ot.bumpVerticalPos(G.stopy-Ot.getVerticalPos()),Ot.models.addLoop(G);break;case n.db.LINETYPE.RECT_START:wu(E,M,nt.boxMargin,nt.boxMargin,X=>Ot.newLoop(void 0,X.message));break;case n.db.LINETYPE.RECT_END:G=Ot.endLoop(),D.push(G),Ot.models.addLoop(G),Ot.bumpVerticalPos(G.stopy-Ot.getVerticalPos());break;case n.db.LINETYPE.OPT_START:wu(E,M,nt.boxMargin,nt.boxMargin+nt.boxTextMargin,X=>Ot.newLoop(X));break;case n.db.LINETYPE.OPT_END:G=Ot.endLoop(),await Na.drawLoop(h,G,"opt",nt),Ot.bumpVerticalPos(G.stopy-Ot.getVerticalPos()),Ot.models.addLoop(G);break;case n.db.LINETYPE.ALT_START:wu(E,M,nt.boxMargin,nt.boxMargin+nt.boxTextMargin,X=>Ot.newLoop(X));break;case n.db.LINETYPE.ALT_ELSE:wu(E,M,nt.boxMargin+nt.boxTextMargin,nt.boxMargin,X=>Ot.addSectionToLoop(X));break;case n.db.LINETYPE.ALT_END:G=Ot.endLoop(),await Na.drawLoop(h,G,"alt",nt),Ot.bumpVerticalPos(G.stopy-Ot.getVerticalPos()),Ot.models.addLoop(G);break;case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:wu(E,M,nt.boxMargin,nt.boxMargin+nt.boxTextMargin,X=>Ot.newLoop(X)),Ot.saveVerticalPos();break;case n.db.LINETYPE.PAR_AND:wu(E,M,nt.boxMargin+nt.boxTextMargin,nt.boxMargin,X=>Ot.addSectionToLoop(X));break;case n.db.LINETYPE.PAR_END:G=Ot.endLoop(),await Na.drawLoop(h,G,"par",nt),Ot.bumpVerticalPos(G.stopy-Ot.getVerticalPos()),Ot.models.addLoop(G);break;case n.db.LINETYPE.AUTONUMBER:N=M.message.start||N,L=M.message.step||L,M.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:wu(E,M,nt.boxMargin,nt.boxMargin+nt.boxTextMargin,X=>Ot.newLoop(X));break;case n.db.LINETYPE.CRITICAL_OPTION:wu(E,M,nt.boxMargin+nt.boxTextMargin,nt.boxMargin,X=>Ot.addSectionToLoop(X));break;case n.db.LINETYPE.CRITICAL_END:G=Ot.endLoop(),await Na.drawLoop(h,G,"critical",nt),Ot.bumpVerticalPos(G.stopy-Ot.getVerticalPos()),Ot.models.addLoop(G);break;case n.db.LINETYPE.BREAK_START:wu(E,M,nt.boxMargin,nt.boxMargin+nt.boxTextMargin,X=>Ot.newLoop(X));break;case n.db.LINETYPE.BREAK_END:G=Ot.endLoop(),await Na.drawLoop(h,G,"break",nt),Ot.bumpVerticalPos(G.stopy-Ot.getVerticalPos()),Ot.models.addLoop(G);break;default:try{V=M.msgModel,V.starty=Ot.getVerticalPos(),V.sequenceIndex=N,V.sequenceVisible=n.db.showSequenceNumbers();let X=await e_e(h,V);t_e(M,V,X,P,d,p,f),C.push({messageModel:V,lineStartY:X}),Ot.models.addMessage(V)}catch(X){J.error("error while drawing message",X)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT,n.db.LINETYPE.BIDIRECTIONAL_SOLID,n.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(M.type)&&(N=N+L),P++}J.debug("createdActors",p),J.debug("destroyedActors",f),await DT(h,d,m,!1);for(let M of C)await a_e(h,M.messageModel,M.lineStartY,n);nt.mirrorActors&&await DT(h,d,m,!0),D.forEach(M=>Na.drawBackgroundRect(h,M)),yz(h,d,m,nt);for(let M of Ot.models.boxes)M.height=Ot.getVerticalPos()-M.y,Ot.insert(M.x,M.y,M.x+M.width,M.height),M.startx=M.x,M.starty=M.y,M.stopx=M.startx+M.width,M.stopy=M.starty+M.height,M.stroke="rgb(0,0,0, 0.5)",Na.drawBox(h,M,nt);v&&Ot.bumpVerticalPos(nt.boxMargin);let O=xz(h,d,m,u),{bounds:I}=Ot.getBounds();I.startx===void 0&&(I.startx=0),I.starty===void 0&&(I.starty=0),I.stopx===void 0&&(I.stopx=0),I.stopy===void 0&&(I.stopy=0);let q=I.stopy-I.starty;q<O.maxHeight&&(q=O.maxHeight);let S=q+2*nt.diagramMarginY;nt.mirrorActors&&(S=S-nt.boxMargin+nt.bottomMarginAdj);let B=I.stopx-I.startx;B<O.maxWidth&&(B=O.maxWidth);let F=B+2*nt.diagramMarginX;b&&h.append("text").text(b).attr("x",(I.stopx-I.startx)/2-2*nt.diagramMarginX).attr("y",-25),Qs(h,S,F,nt.useMaxWidth);let z=b?40:0;h.attr("viewBox",I.startx-nt.diagramMarginX+" -"+(nt.diagramMarginY+z)+" "+F+" "+(S+z)),J.debug("models:",Ot.models)},"draw"),o(r_e,"getMaxMessageWidthPerActor"),l_e=o(function(e){let t=0,r=IT(nt);for(let n in e.links){let i=mn.calculateTextDimensions(n,r).width+2*nt.wrapPadding+2*nt.boxMargin;t<i&&(t=i)}return t},"getRequiredPopupWidth"),o(n_e,"calculateActorMargins"),c_e=o(async function(e,t,r){let n=t.get(e.from),i=t.get(e.to),a=n.x,s=i.x,l=e.wrap&&e.message,u=Zs(e.message)?await Mf(e.message,Ge()):mn.calculateTextDimensions(l?mn.wrapLabel(e.message,nt.width,sg(nt)):e.message,sg(nt)),h={width:l?nt.width:Yt.getMax(nt.width,u.width+2*nt.noteMargin),height:0,startx:n.x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===r.db.PLACEMENT.RIGHTOF?(h.width=l?Yt.getMax(nt.width,u.width):Yt.getMax(n.width/2+i.width/2,u.width+2*nt.noteMargin),h.startx=a+(n.width+nt.actorMargin)/2):e.placement===r.db.PLACEMENT.LEFTOF?(h.width=l?Yt.getMax(nt.width,u.width+2*nt.noteMargin):Yt.getMax(n.width/2+i.width/2,u.width+2*nt.noteMargin),h.startx=a-h.width+(n.width-nt.actorMargin)/2):e.to===e.from?(u=mn.calculateTextDimensions(l?mn.wrapLabel(e.message,Yt.getMax(nt.width,n.width),sg(nt)):e.message,sg(nt)),h.width=l?Yt.getMax(nt.width,n.width):Yt.getMax(n.width,nt.width,u.width+2*nt.noteMargin),h.startx=a+(n.width-h.width)/2):(h.width=Math.abs(a+n.width/2-(s+i.width/2))+nt.actorMargin,h.startx=a<s?a+n.width/2-nt.actorMargin/2:s+i.width/2-nt.actorMargin/2),l&&(h.message=mn.wrapLabel(e.message,h.width-2*nt.wrapPadding,sg(nt))),J.debug(`NM:[${h.startx},${h.stopx},${h.starty},${h.stopy}:${h.width},${h.height}=${e.message}]`),h},"buildNoteModel"),u_e=o(function(e,t,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type))return{};let[n,i]=kz(e.from,t),[a,s]=kz(e.to,t),l=n<=a,u=l?i:n,h=l?a:s,d=Math.abs(a-s)>2,p=o(y=>l?-y:y,"adjustValue");e.from===e.to?h=u:(e.activate&&!d&&(h+=p(nt.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(e.type)||(h+=p(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type)&&(u-=p(3)));let f=[n,i,a,s],g=Math.abs(u-h);e.wrap&&e.message&&(e.message=mn.wrapLabel(e.message,Yt.getMax(g+2*nt.wrapPadding,nt.width),h1(nt)));let m=mn.calculateTextDimensions(e.message,h1(nt));return{width:Yt.getMax(e.wrap?0:m.width+2*nt.wrapPadding,g+2*nt.wrapPadding,nt.width),height:0,startx:u,stopx:h,starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,f),toBounds:Math.max.apply(null,f)}},"buildMessageModel"),h_e=o(async function(e,t,r,n){let i={},a=[],s,l,u;for(let h of e){switch(h.id=mn.random({length:10}),h.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:a.push({id:h.id,msg:h.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:h.message&&(s=a.pop(),i[s.id]=s,i[h.id]=s,a.push(s));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:s=a.pop(),i[s.id]=s;break;case n.db.LINETYPE.ACTIVE_START:{let d=t.get(h.from?h.from:h.to.actor),p=$v(h.from?h.from:h.to.actor).length,f=d.x+d.width/2+(p-1)*nt.activationWidth/2,g={startx:f,stopx:f+nt.activationWidth,actor:h.from,enabled:!0};Ot.activations.push(g)}break;case n.db.LINETYPE.ACTIVE_END:{let d=Ot.activations.map(p=>p.actor).lastIndexOf(h.from);Ot.activations.splice(d,1).splice(0,1)}break}h.placement!==void 0?(l=await c_e(h,t,n),h.noteModel=l,a.forEach(d=>{s=d,s.from=Yt.getMin(s.from,l.startx),s.to=Yt.getMax(s.to,l.startx+l.width),s.width=Yt.getMax(s.width,Math.abs(s.from-s.to))-nt.labelBoxWidth})):(u=u_e(h,t,n),h.msgModel=u,u.startx&&u.stopx&&a.length>0&&a.forEach(d=>{if(s=d,u.startx===u.stopx){let p=t.get(h.from),f=t.get(h.to);s.from=Yt.getMin(p.x-u.width/2,p.x-p.width/2,s.from),s.to=Yt.getMax(f.x+u.width/2,f.x+p.width/2,s.to),s.width=Yt.getMax(s.width,Math.abs(s.to-s.from))-nt.labelBoxWidth}else s.from=Yt.getMin(u.startx,s.from),s.to=Yt.getMax(u.stopx,s.to),s.width=Yt.getMax(s.width,u.width)-nt.labelBoxWidth}))}return Ot.activations=[],J.debug("Loop type widths:",i),i},"calculateLoopBounds"),d_e={bounds:Ot,drawActors:DT,drawActorsPopup:xz,setConf:wz,draw:o_e}}),p_e={};yr(p_e,{diagram:()=>g_e});var g_e,KJe=R(()=>{"use strict";HJe(),UJe(),VJe(),XJe(),g_e={parser:cCe,db:hz,renderer:d_e,styles:RCe,init:o(({wrap:e})=>{hz.setWrap(e)},"init")}}),RT,Tz,f_e=R(()=>{"use strict";RT=function(){var e=o(function(Ne,Ce,Fe,oe){for(Fe=Fe||{},oe=Ne.length;oe--;Fe[Ne[oe]]=Ce);return Fe},"o"),t=[1,18],r=[1,19],n=[1,20],i=[1,41],a=[1,42],s=[1,26],l=[1,24],u=[1,25],h=[1,32],d=[1,33],p=[1,34],f=[1,45],g=[1,35],m=[1,36],y=[1,37],b=[1,38],v=[1,27],x=[1,28],w=[1,29],E=[1,30],A=[1,31],N=[1,44],L=[1,46],C=[1,43],D=[1,47],P=[1,9],O=[1,8,9],I=[1,58],q=[1,59],S=[1,60],B=[1,61],F=[1,62],z=[1,63],M=[1,64],G=[1,8,9,41],Y=[1,76],V=[1,8,9,12,13,22,39,41,44,66,67,68,69,70,71,72,77,79],X=[1,8,9,12,13,17,20,22,39,41,44,48,58,66,67,68,69,70,71,72,77,79,84,99,101,102],re=[13,58,84,99,101,102],de=[13,58,71,72,84,99,101,102],xe=[13,58,66,67,68,69,70,84,99,101,102],he=[1,98],be=[1,115],Q=[1,107],ne=[1,113],ee=[1,108],pe=[1,109],ie=[1,110],De=[1,111],se=[1,112],je=[1,114],ge=[22,58,59,80,84,85,86,87,88,89],rt=[1,8,9,39,41,44],Qe=[1,8,9,22],tt=[1,143],mt=[1,8,9,59],yt=[1,8,9,22,58,59,80,84,85,86,87,88,89],Nt={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,DOT:17,className:18,classLiteralName:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,ANNOTATION_START:47,ANNOTATION_END:48,MEMBER:49,SEPARATOR:50,relation:51,NOTE_FOR:52,noteText:53,NOTE:54,CLASSDEF:55,classList:56,stylesOpt:57,ALPHA:58,COMMA:59,direction_tb:60,direction_bt:61,direction_rl:62,direction_lr:63,relationType:64,lineType:65,AGGREGATION:66,EXTENSION:67,COMPOSITION:68,DEPENDENCY:69,LOLLIPOP:70,LINE:71,DOTTED_LINE:72,CALLBACK:73,LINK:74,LINK_TARGET:75,CLICK:76,CALLBACK_NAME:77,CALLBACK_ARGS:78,HREF:79,STYLE:80,CSSCLASS:81,style:82,styleComponent:83,NUM:84,COLON:85,UNIT:86,SPACE:87,BRKT:88,PCT:89,commentToken:90,textToken:91,graphCodeTokens:92,textNoTagsToken:93,TAGSTART:94,TAGEND:95,"==":96,"--":97,DEFAULT:98,MINUS:99,keywords:100,UNICODE_TEXT:101,BQUOTE_STR:102,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",17:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",47:"ANNOTATION_START",48:"ANNOTATION_END",49:"MEMBER",50:"SEPARATOR",52:"NOTE_FOR",54:"NOTE",55:"CLASSDEF",58:"ALPHA",59:"COMMA",60:"direction_tb",61:"direction_bt",62:"direction_rl",63:"direction_lr",66:"AGGREGATION",67:"EXTENSION",68:"COMPOSITION",69:"DEPENDENCY",70:"LOLLIPOP",71:"LINE",72:"DOTTED_LINE",73:"CALLBACK",74:"LINK",75:"LINK_TARGET",76:"CLICK",77:"CALLBACK_NAME",78:"CALLBACK_ARGS",79:"HREF",80:"STYLE",81:"CSSCLASS",84:"NUM",85:"COLON",86:"UNIT",87:"SPACE",88:"BRKT",89:"PCT",92:"graphCodeTokens",94:"TAGSTART",95:"TAGEND",96:"==",97:"--",98:"DEFAULT",99:"MINUS",100:"keywords",101:"UNICODE_TEXT",102:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,3],[15,2],[18,1],[18,3],[18,1],[18,2],[18,2],[18,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,6],[43,2],[43,3],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[56,1],[56,3],[32,1],[32,1],[32,1],[32,1],[51,3],[51,2],[51,2],[51,1],[64,1],[64,1],[64,1],[64,1],[64,1],[65,1],[65,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[57,1],[57,3],[82,1],[82,2],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[90,1],[90,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[93,1],[93,1],[93,1],[93,1],[16,1],[16,1],[16,1],[16,1],[19,1],[53,1]],performAction:o(function(Ne,Ce,Fe,oe,st,ae,ht){var fe=ae.length-1;switch(st){case 8:this.$=ae[fe-1];break;case 9:case 12:case 14:this.$=ae[fe];break;case 10:case 13:this.$=ae[fe-2]+"."+ae[fe];break;case 11:case 15:this.$=ae[fe-1]+ae[fe];break;case 16:case 17:this.$=ae[fe-1]+"~"+ae[fe]+"~";break;case 18:oe.addRelation(ae[fe]);break;case 19:ae[fe-1].title=oe.cleanupLabel(ae[fe]),oe.addRelation(ae[fe-1]);break;case 30:this.$=ae[fe].trim(),oe.setAccTitle(this.$);break;case 31:case 32:this.$=ae[fe].trim(),oe.setAccDescription(this.$);break;case 33:oe.addClassesToNamespace(ae[fe-3],ae[fe-1]);break;case 34:oe.addClassesToNamespace(ae[fe-4],ae[fe-1]);break;case 35:this.$=ae[fe],oe.addNamespace(ae[fe]);break;case 36:this.$=[ae[fe]];break;case 37:this.$=[ae[fe-1]];break;case 38:ae[fe].unshift(ae[fe-2]),this.$=ae[fe];break;case 40:oe.setCssClass(ae[fe-2],ae[fe]);break;case 41:oe.addMembers(ae[fe-3],ae[fe-1]);break;case 42:oe.setCssClass(ae[fe-5],ae[fe-3]),oe.addMembers(ae[fe-5],ae[fe-1]);break;case 43:this.$=ae[fe],oe.addClass(ae[fe]);break;case 44:this.$=ae[fe-1],oe.addClass(ae[fe-1]),oe.setClassLabel(ae[fe-1],ae[fe]);break;case 45:oe.addAnnotation(ae[fe],ae[fe-2]);break;case 46:case 59:this.$=[ae[fe]];break;case 47:ae[fe].push(ae[fe-1]),this.$=ae[fe];break;case 48:break;case 49:oe.addMember(ae[fe-1],oe.cleanupLabel(ae[fe]));break;case 50:break;case 51:break;case 52:this.$={id1:ae[fe-2],id2:ae[fe],relation:ae[fe-1],relationTitle1:"none",relationTitle2:"none"};break;case 53:this.$={id1:ae[fe-3],id2:ae[fe],relation:ae[fe-1],relationTitle1:ae[fe-2],relationTitle2:"none"};break;case 54:this.$={id1:ae[fe-3],id2:ae[fe],relation:ae[fe-2],relationTitle1:"none",relationTitle2:ae[fe-1]};break;case 55:this.$={id1:ae[fe-4],id2:ae[fe],relation:ae[fe-2],relationTitle1:ae[fe-3],relationTitle2:ae[fe-1]};break;case 56:oe.addNote(ae[fe],ae[fe-1]);break;case 57:oe.addNote(ae[fe]);break;case 58:this.$=ae[fe-2],oe.defineClass(ae[fe-1],ae[fe]);break;case 60:this.$=ae[fe-2].concat([ae[fe]]);break;case 61:oe.setDirection("TB");break;case 62:oe.setDirection("BT");break;case 63:oe.setDirection("RL");break;case 64:oe.setDirection("LR");break;case 65:this.$={type1:ae[fe-2],type2:ae[fe],lineType:ae[fe-1]};break;case 66:this.$={type1:"none",type2:ae[fe],lineType:ae[fe-1]};break;case 67:this.$={type1:ae[fe-1],type2:"none",lineType:ae[fe]};break;case 68:this.$={type1:"none",type2:"none",lineType:ae[fe]};break;case 69:this.$=oe.relationType.AGGREGATION;break;case 70:this.$=oe.relationType.EXTENSION;break;case 71:this.$=oe.relationType.COMPOSITION;break;case 72:this.$=oe.relationType.DEPENDENCY;break;case 73:this.$=oe.relationType.LOLLIPOP;break;case 74:this.$=oe.lineType.LINE;break;case 75:this.$=oe.lineType.DOTTED_LINE;break;case 76:case 82:this.$=ae[fe-2],oe.setClickEvent(ae[fe-1],ae[fe]);break;case 77:case 83:this.$=ae[fe-3],oe.setClickEvent(ae[fe-2],ae[fe-1]),oe.setTooltip(ae[fe-2],ae[fe]);break;case 78:this.$=ae[fe-2],oe.setLink(ae[fe-1],ae[fe]);break;case 79:this.$=ae[fe-3],oe.setLink(ae[fe-2],ae[fe-1],ae[fe]);break;case 80:this.$=ae[fe-3],oe.setLink(ae[fe-2],ae[fe-1]),oe.setTooltip(ae[fe-2],ae[fe]);break;case 81:this.$=ae[fe-4],oe.setLink(ae[fe-3],ae[fe-2],ae[fe]),oe.setTooltip(ae[fe-3],ae[fe-1]);break;case 84:this.$=ae[fe-3],oe.setClickEvent(ae[fe-2],ae[fe-1],ae[fe]);break;case 85:this.$=ae[fe-4],oe.setClickEvent(ae[fe-3],ae[fe-2],ae[fe-1]),oe.setTooltip(ae[fe-3],ae[fe]);break;case 86:this.$=ae[fe-3],oe.setLink(ae[fe-2],ae[fe]);break;case 87:this.$=ae[fe-4],oe.setLink(ae[fe-3],ae[fe-1],ae[fe]);break;case 88:this.$=ae[fe-4],oe.setLink(ae[fe-3],ae[fe-1]),oe.setTooltip(ae[fe-3],ae[fe]);break;case 89:this.$=ae[fe-5],oe.setLink(ae[fe-4],ae[fe-2],ae[fe]),oe.setTooltip(ae[fe-4],ae[fe-1]);break;case 90:this.$=ae[fe-2],oe.setCssStyle(ae[fe-1],ae[fe]);break;case 91:oe.setCssClass(ae[fe-1],ae[fe]);break;case 92:this.$=[ae[fe]];break;case 93:ae[fe-2].push(ae[fe]),this.$=ae[fe-2];break;case 95:this.$=ae[fe-1]+ae[fe];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:n,38:22,42:i,43:23,46:a,47:s,49:l,50:u,52:h,54:d,55:p,58:f,60:g,61:m,62:y,63:b,73:v,74:x,76:w,80:E,81:A,84:N,99:L,101:C,102:D},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},e(P,[2,5],{8:[1,48]}),{8:[1,49]},e(O,[2,18],{22:[1,50]}),e(O,[2,20]),e(O,[2,21]),e(O,[2,22]),e(O,[2,23]),e(O,[2,24]),e(O,[2,25]),e(O,[2,26]),e(O,[2,27]),e(O,[2,28]),e(O,[2,29]),{34:[1,51]},{36:[1,52]},e(O,[2,32]),e(O,[2,48],{51:53,64:56,65:57,13:[1,54],22:[1,55],66:I,67:q,68:S,69:B,70:F,71:z,72:M}),{39:[1,65]},e(G,[2,39],{39:[1,67],44:[1,66]}),e(O,[2,50]),e(O,[2,51]),{16:68,58:f,84:N,99:L,101:C},{16:39,18:69,19:40,58:f,84:N,99:L,101:C,102:D},{16:39,18:70,19:40,58:f,84:N,99:L,101:C,102:D},{16:39,18:71,19:40,58:f,84:N,99:L,101:C,102:D},{58:[1,72]},{13:[1,73]},{16:39,18:74,19:40,58:f,84:N,99:L,101:C,102:D},{13:Y,53:75},{56:77,58:[1,78]},e(O,[2,61]),e(O,[2,62]),e(O,[2,63]),e(O,[2,64]),e(V,[2,12],{16:39,19:40,18:80,17:[1,79],20:[1,81],58:f,84:N,99:L,101:C,102:D}),e(V,[2,14],{20:[1,82]}),{15:83,16:84,58:f,84:N,99:L,101:C},{16:39,18:85,19:40,58:f,84:N,99:L,101:C,102:D},e(X,[2,118]),e(X,[2,119]),e(X,[2,120]),e(X,[2,121]),e([1,8,9,12,13,20,22,39,41,44,66,67,68,69,70,71,72,77,79],[2,122]),e(P,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,18:21,38:22,43:23,16:39,19:40,5:86,33:t,35:r,37:n,42:i,46:a,47:s,49:l,50:u,52:h,54:d,55:p,58:f,60:g,61:m,62:y,63:b,73:v,74:x,76:w,80:E,81:A,84:N,99:L,101:C,102:D}),{5:87,10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:n,38:22,42:i,43:23,46:a,47:s,49:l,50:u,52:h,54:d,55:p,58:f,60:g,61:m,62:y,63:b,73:v,74:x,76:w,80:E,81:A,84:N,99:L,101:C,102:D},e(O,[2,19]),e(O,[2,30]),e(O,[2,31]),{13:[1,89],16:39,18:88,19:40,58:f,84:N,99:L,101:C,102:D},{51:90,64:56,65:57,66:I,67:q,68:S,69:B,70:F,71:z,72:M},e(O,[2,49]),{65:91,71:z,72:M},e(re,[2,68],{64:92,66:I,67:q,68:S,69:B,70:F}),e(de,[2,69]),e(de,[2,70]),e(de,[2,71]),e(de,[2,72]),e(de,[2,73]),e(xe,[2,74]),e(xe,[2,75]),{8:[1,94],24:95,40:93,43:23,46:a},{16:96,58:f,84:N,99:L,101:C},{45:97,49:he},{48:[1,99]},{13:[1,100]},{13:[1,101]},{77:[1,102],79:[1,103]},{22:be,57:104,58:Q,80:ne,82:105,83:106,84:ee,85:pe,86:ie,87:De,88:se,89:je},{58:[1,116]},{13:Y,53:117},e(O,[2,57]),e(O,[2,123]),{22:be,57:118,58:Q,59:[1,119],80:ne,82:105,83:106,84:ee,85:pe,86:ie,87:De,88:se,89:je},e(ge,[2,59]),{16:39,18:120,19:40,58:f,84:N,99:L,101:C,102:D},e(V,[2,15]),e(V,[2,16]),e(V,[2,17]),{39:[2,35]},{15:122,16:84,17:[1,121],39:[2,9],58:f,84:N,99:L,101:C},e(rt,[2,43],{11:123,12:[1,124]}),e(P,[2,7]),{9:[1,125]},e(Qe,[2,52]),{16:39,18:126,19:40,58:f,84:N,99:L,101:C,102:D},{13:[1,128],16:39,18:127,19:40,58:f,84:N,99:L,101:C,102:D},e(re,[2,67],{64:129,66:I,67:q,68:S,69:B,70:F}),e(re,[2,66]),{41:[1,130]},{24:95,40:131,43:23,46:a},{8:[1,132],41:[2,36]},e(G,[2,40],{39:[1,133]}),{41:[1,134]},{41:[2,46],45:135,49:he},{16:39,18:136,19:40,58:f,84:N,99:L,101:C,102:D},e(O,[2,76],{13:[1,137]}),e(O,[2,78],{13:[1,139],75:[1,138]}),e(O,[2,82],{13:[1,140],78:[1,141]}),{13:[1,142]},e(O,[2,90],{59:tt}),e(mt,[2,92],{83:144,22:be,58:Q,80:ne,84:ee,85:pe,86:ie,87:De,88:se,89:je}),e(yt,[2,94]),e(yt,[2,96]),e(yt,[2,97]),e(yt,[2,98]),e(yt,[2,99]),e(yt,[2,100]),e(yt,[2,101]),e(yt,[2,102]),e(yt,[2,103]),e(yt,[2,104]),e(O,[2,91]),e(O,[2,56]),e(O,[2,58],{59:tt}),{58:[1,145]},e(V,[2,13]),{15:146,16:84,58:f,84:N,99:L,101:C},{39:[2,11]},e(rt,[2,44]),{13:[1,147]},{1:[2,4]},e(Qe,[2,54]),e(Qe,[2,53]),{16:39,18:148,19:40,58:f,84:N,99:L,101:C,102:D},e(re,[2,65]),e(O,[2,33]),{41:[1,149]},{24:95,40:150,41:[2,37],43:23,46:a},{45:151,49:he},e(G,[2,41]),{41:[2,47]},e(O,[2,45]),e(O,[2,77]),e(O,[2,79]),e(O,[2,80],{75:[1,152]}),e(O,[2,83]),e(O,[2,84],{13:[1,153]}),e(O,[2,86],{13:[1,155],75:[1,154]}),{22:be,58:Q,80:ne,82:156,83:106,84:ee,85:pe,86:ie,87:De,88:se,89:je},e(yt,[2,95]),e(ge,[2,60]),{39:[2,10]},{14:[1,157]},e(Qe,[2,55]),e(O,[2,34]),{41:[2,38]},{41:[1,158]},e(O,[2,81]),e(O,[2,85]),e(O,[2,87]),e(O,[2,88],{75:[1,159]}),e(mt,[2,93],{83:144,22:be,58:Q,80:ne,84:ee,85:pe,86:ie,87:De,88:se,89:je}),e(rt,[2,8]),e(G,[2,42]),e(O,[2,89])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,35],122:[2,11],125:[2,4],135:[2,47],146:[2,10],150:[2,38]},parseError:o(function(Ne,Ce){if(Ce.recoverable)this.trace(Ne);else{var Fe=new Error(Ne);throw Fe.hash=Ce,Fe}},"parseError"),parse:o(function(Ne){var Ce=this,Fe=[0],oe=[],st=[null],ae=[],ht=this.table,fe="",Le=0,Ue=0,Ke=0,it=2,qe=1,xt=ae.slice.call(arguments,1),at=Object.create(this.lexer),jt={yy:{}};for(var mr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,mr)&&(jt.yy[mr]=this.yy[mr]);at.setInput(Ne,jt.yy),jt.yy.lexer=at,jt.yy.parser=this,typeof at.yylloc>"u"&&(at.yylloc={});var cr=at.yylloc;ae.push(cr);var Zt=at.options&&at.options.ranges;typeof jt.yy.parseError=="function"?this.parseError=jt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function vr(xn){Fe.length=Fe.length-2*xn,st.length=st.length-xn,ae.length=ae.length-xn}o(vr,"popStack");function Gt(){var xn;return xn=oe.pop()||at.lex()||qe,typeof xn!="number"&&(xn instanceof Array&&(oe=xn,xn=oe.pop()),xn=Ce.symbols_[xn]||xn),xn}o(Gt,"lex");for(var Tt,wt,pr,Mt,Rr,Cr,Kt={},Xt,Ft,Tr,ir;;){if(pr=Fe[Fe.length-1],this.defaultActions[pr]?Mt=this.defaultActions[pr]:((Tt===null||typeof Tt>"u")&&(Tt=Gt()),Mt=ht[pr]&&ht[pr][Tt]),typeof Mt>"u"||!Mt.length||!Mt[0]){var oi="";ir=[];for(Xt in ht[pr])this.terminals_[Xt]&&Xt>it&&ir.push("'"+this.terminals_[Xt]+"'");at.showPosition?oi="Parse error on line "+(Le+1)+`:
`+at.showPosition()+`
Expecting `+ir.join(", ")+", got '"+(this.terminals_[Tt]||Tt)+"'":oi="Parse error on line "+(Le+1)+": Unexpected "+(Tt==qe?"end of input":"'"+(this.terminals_[Tt]||Tt)+"'"),this.parseError(oi,{text:at.match,token:this.terminals_[Tt]||Tt,line:at.yylineno,loc:cr,expected:ir})}if(Mt[0]instanceof Array&&Mt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+pr+", token: "+Tt);switch(Mt[0]){case 1:Fe.push(Tt),st.push(at.yytext),ae.push(at.yylloc),Fe.push(Mt[1]),Tt=null,wt?(Tt=wt,wt=null):(Ue=at.yyleng,fe=at.yytext,Le=at.yylineno,cr=at.yylloc,Ke>0&&Ke--);break;case 2:if(Ft=this.productions_[Mt[1]][1],Kt.$=st[st.length-Ft],Kt._$={first_line:ae[ae.length-(Ft||1)].first_line,last_line:ae[ae.length-1].last_line,first_column:ae[ae.length-(Ft||1)].first_column,last_column:ae[ae.length-1].last_column},Zt&&(Kt._$.range=[ae[ae.length-(Ft||1)].range[0],ae[ae.length-1].range[1]]),Cr=this.performAction.apply(Kt,[fe,Ue,Le,jt.yy,Mt[1],st,ae].concat(xt)),typeof Cr<"u")return Cr;Ft&&(Fe=Fe.slice(0,-1*Ft*2),st=st.slice(0,-1*Ft),ae=ae.slice(0,-1*Ft)),Fe.push(this.productions_[Mt[1]][0]),st.push(Kt.$),ae.push(Kt._$),Tr=ht[Fe[Fe.length-2]][Fe[Fe.length-1]],Fe.push(Tr);break;case 3:return!0}}return!0},"parse")},kt=function(){var Ne={EOF:1,parseError:o(function(Ce,Fe){if(this.yy.parser)this.yy.parser.parseError(Ce,Fe);else throw new Error(Ce)},"parseError"),setInput:o(function(Ce,Fe){return this.yy=Fe||this.yy||{},this._input=Ce,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var Ce=this._input[0];this.yytext+=Ce,this.yyleng++,this.offset++,this.match+=Ce,this.matched+=Ce;var Fe=Ce.match(/(?:\r\n?|\n).*/g);return Fe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ce},"input"),unput:o(function(Ce){var Fe=Ce.length,oe=Ce.split(/(?:\r\n?|\n)/g);this._input=Ce+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Fe),this.offset-=Fe;var st=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),oe.length-1&&(this.yylineno-=oe.length-1);var ae=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:oe?(oe.length===st.length?this.yylloc.first_column:0)+st[st.length-oe.length].length-oe[0].length:this.yylloc.first_column-Fe},this.options.ranges&&(this.yylloc.range=[ae[0],ae[0]+this.yyleng-Fe]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(Ce){this.unput(this.match.slice(Ce))},"less"),pastInput:o(function(){var Ce=this.matched.substr(0,this.matched.length-this.match.length);return(Ce.length>20?"...":"")+Ce.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var Ce=this.match;return Ce.length<20&&(Ce+=this._input.substr(0,20-Ce.length)),(Ce.substr(0,20)+(Ce.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var Ce=this.pastInput(),Fe=new Array(Ce.length+1).join("-");return Ce+this.upcomingInput()+`
`+Fe+"^"},"showPosition"),test_match:o(function(Ce,Fe){var oe,st,ae;if(this.options.backtrack_lexer&&(ae={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ae.yylloc.range=this.yylloc.range.slice(0))),st=Ce[0].match(/(?:\r\n?|\n).*/g),st&&(this.yylineno+=st.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:st?st[st.length-1].length-st[st.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ce[0].length},this.yytext+=Ce[0],this.match+=Ce[0],this.matches=Ce,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ce[0].length),this.matched+=Ce[0],oe=this.performAction.call(this,this.yy,this,Fe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),oe)return oe;if(this._backtrack){for(var ht in ae)this[ht]=ae[ht];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ce,Fe,oe,st;this._more||(this.yytext="",this.match="");for(var ae=this._currentRules(),ht=0;ht<ae.length;ht++)if(oe=this._input.match(this.rules[ae[ht]]),oe&&(!Fe||oe[0].length>Fe[0].length)){if(Fe=oe,st=ht,this.options.backtrack_lexer){if(Ce=this.test_match(oe,ae[ht]),Ce!==!1)return Ce;if(this._backtrack){Fe=!1;continue}else return!1}else if(!this.options.flex)break}return Fe?(Ce=this.test_match(Fe,ae[st]),Ce!==!1?Ce:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var Ce=this.next();return Ce||this.lex()},"lex"),begin:o(function(Ce){this.conditionStack.push(Ce)},"begin"),popState:o(function(){var Ce=this.conditionStack.length-1;return Ce>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(Ce){return Ce=this.conditionStack.length-1-Math.abs(Ce||0),Ce>=0?this.conditionStack[Ce]:"INITIAL"},"topState"),pushState:o(function(Ce){this.begin(Ce)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:o(function(Ce,Fe,oe,st){var ae=st;switch(oe){case 0:return 60;case 1:return 61;case 2:return 62;case 3:return 63;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 77;case 22:this.popState();break;case 23:return 78;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 80;case 28:return 55;case 29:return this.begin("namespace"),42;case 30:return this.popState(),8;case 31:break;case 32:return this.begin("namespace-body"),39;case 33:return this.popState(),41;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;case 39:return this.popState(),8;case 40:break;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 43:return this.popState(),41;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 81;case 50:return 73;case 51:return 74;case 52:return 76;case 53:return 52;case 54:return 54;case 55:return 47;case 56:return 48;case 57:return 79;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 75;case 65:return 75;case 66:return 75;case 67:return 75;case 68:return 67;case 69:return 67;case 70:return 69;case 71:return 69;case 72:return 68;case 73:return 66;case 74:return 70;case 75:return 71;case 76:return 72;case 77:return 22;case 78:return 44;case 79:return 99;case 80:return 17;case 81:return"PLUS";case 82:return 85;case 83:return 59;case 84:return 88;case 85:return 88;case 86:return 89;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 58;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 84;case 94:return 101;case 95:return 87;case 96:return 87;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return Ne}();Nt.lexer=kt;function te(){this.yy={}}return o(te,"Parser"),te.prototype=Nt,Nt.Parser=te,new te}(),RT.parser=RT,Tz=RT}),Ez,Cz,ZJe=R(()=>{"use strict";zr(),En(),Ez=["#","+","~","-",""],Cz=class{static{o(this,"ClassMember")}constructor(e,t){this.memberType=t,this.visibility="",this.classifier="",this.text="";let r=Ei(e,Ge());this.parseMember(r)}getDisplayDetails(){let e=this.visibility+ld(this.id);this.memberType==="method"&&(e+=`(${ld(this.parameters.trim())})`,this.returnType&&(e+=" : "+ld(this.returnType))),e=e.trim();let t=this.parseClassifier();return{displayText:e,cssStyle:t}}parseMember(e){let t="";if(this.memberType==="method"){let n=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(e);if(n){let i=n[1]?n[1].trim():"";if(Ez.includes(i)&&(this.visibility=i),this.id=n[2],this.parameters=n[3]?n[3].trim():"",t=n[4]?n[4].trim():"",this.returnType=n[5]?n[5].trim():"",t===""){let a=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(a)&&(t=a,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{let n=e.length,i=e.substring(0,1),a=e.substring(n-1);Ez.includes(i)&&(this.visibility=i),/[$*]/.exec(a)&&(t=a),this.id=e.substring(this.visibility===""?0:1,t===""?n:n-1)}this.classifier=t,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();let r=`${this.visibility?"\\"+this.visibility:""}${ld(this.id)}${this.memberType==="method"?`(${ld(this.parameters)})${this.returnType?" : "+ld(this.returnType):""}`:""}`;this.text=r.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}}});function _z(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}var zv,qv,Bi,Sz,M2,og,Az,Dc,OT,I2,d1,p1,m_e,lg,Lz,Nz,y_e,v_e,b_e,x_e,w_e,k_e,T_e,Mz,E_e,C_e,__e,PT,S_e,A_e,L_e,N_e,M_e,I_e,D_e,R_e,L0,Iz,BT,Dz,O_e,P_e,B_e,F_e,$_e,z_e,q_e,Gv,G_e=R(()=>{"use strict";Ln(),We(),zr(),En(),kn(),ys(),ZJe(),zv="classId-",qv=[],Bi=new Map,Sz=new Map,M2=[],og=[],Az=0,Dc=new Map,OT=0,I2=[],d1=o(e=>Yt.sanitizeText(e,Ge()),"sanitizeText"),p1=o(function(e){let t=Yt.sanitizeText(e,Ge()),r="",n=t;if(t.indexOf("~")>0){let i=t.split("~");n=d1(i[0]),r=d1(i[1])}return{className:n,type:r}},"splitClassNameAndType"),m_e=o(function(e,t){let r=Yt.sanitizeText(e,Ge());t&&(t=d1(t));let{className:n}=p1(r);Bi.get(n).label=t,Bi.get(n).text=`${t}${Bi.get(n).type?`<${Bi.get(n).type}>`:""}`},"setClassLabel"),lg=o(function(e){let t=Yt.sanitizeText(e,Ge()),{className:r,type:n}=p1(t);if(Bi.has(r))return;let i=Yt.sanitizeText(r,Ge());Bi.set(i,{id:i,type:n,label:i,text:`${i}${n?`&lt;${n}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:zv+i+"-"+Az}),Az++},"addClass"),Lz=o(function(e,t){let r={id:`interface${og.length}`,label:e,classId:t};og.push(r)},"addInterface"),Nz=o(function(e){let t=Yt.sanitizeText(e,Ge());if(Bi.has(t))return Bi.get(t).domId;throw new Error("Class not found: "+t)},"lookUpDomId"),y_e=o(function(){qv=[],Bi=new Map,M2=[],og=[],I2=[],I2.push(Iz),Dc=new Map,OT=0,BT="TB",fs()},"clear"),v_e=o(function(e){return Bi.get(e)},"getClass"),b_e=o(function(){return Bi},"getClasses"),x_e=o(function(){return qv},"getRelations"),w_e=o(function(){return M2},"getNotes"),k_e=o(function(e){J.debug("Adding relation: "+JSON.stringify(e));let t=[L0.LOLLIPOP,L0.AGGREGATION,L0.COMPOSITION,L0.DEPENDENCY,L0.EXTENSION];e.relation.type1===L0.LOLLIPOP&&!t.includes(e.relation.type2)?(lg(e.id2),Lz(e.id1,e.id2),e.id1=`interface${og.length-1}`):e.relation.type2===L0.LOLLIPOP&&!t.includes(e.relation.type1)?(lg(e.id1),Lz(e.id2,e.id1),e.id2=`interface${og.length-1}`):(lg(e.id1),lg(e.id2)),e.id1=p1(e.id1).className,e.id2=p1(e.id2).className,e.relationTitle1=Yt.sanitizeText(e.relationTitle1.trim(),Ge()),e.relationTitle2=Yt.sanitizeText(e.relationTitle2.trim(),Ge()),qv.push(e)},"addRelation"),T_e=o(function(e,t){let r=p1(e).className;Bi.get(r).annotations.push(t)},"addAnnotation"),Mz=o(function(e,t){lg(e);let r=p1(e).className,n=Bi.get(r);if(typeof t=="string"){let i=t.trim();i.startsWith("<<")&&i.endsWith(">>")?n.annotations.push(d1(i.substring(2,i.length-2))):i.indexOf(")")>0?n.methods.push(new Cz(i,"method")):i&&n.members.push(new Cz(i,"attribute"))}},"addMember"),E_e=o(function(e,t){Array.isArray(t)&&(t.reverse(),t.forEach(r=>Mz(e,r)))},"addMembers"),C_e=o(function(e,t){let r={id:`note${M2.length}`,class:t,text:e};M2.push(r)},"addNote"),__e=o(function(e){return e.startsWith(":")&&(e=e.substring(1)),d1(e.trim())},"cleanupLabel"),PT=o(function(e,t){e.split(",").forEach(function(r){let n=r;/\d/.exec(r[0])&&(n=zv+n);let i=Bi.get(n);i&&(i.cssClasses+=" "+t)})},"setCssClass"),S_e=o(function(e,t){for(let r of e){let n=Sz.get(r);n===void 0&&(n={id:r,styles:[],textStyles:[]},Sz.set(r,n)),t&&t.forEach(function(i){if(/color/.exec(i)){let a=i.replace("fill","bgFill");n.textStyles.push(a)}n.styles.push(i)}),Bi.forEach(i=>{i.cssClasses.includes(r)&&i.styles.push(...t.flatMap(a=>a.split(",")))})}},"defineClass"),A_e=o(function(e,t){e.split(",").forEach(function(r){t!==void 0&&(Bi.get(r).tooltip=d1(t))})},"setTooltip"),L_e=o(function(e,t){return t&&Dc.has(t)?Dc.get(t).classes.get(e).tooltip:Bi.get(e).tooltip},"getTooltip"),N_e=o(function(e,t,r){let n=Ge();e.split(",").forEach(function(i){let a=i;/\d/.exec(i[0])&&(a=zv+a);let s=Bi.get(a);s&&(s.link=mn.formatUrl(t,n),n.securityLevel==="sandbox"?s.linkTarget="_top":typeof r=="string"?s.linkTarget=d1(r):s.linkTarget="_blank")}),PT(e,"clickable")},"setLink"),M_e=o(function(e,t,r){e.split(",").forEach(function(n){I_e(n,t,r),Bi.get(n).haveCallback=!0}),PT(e,"clickable")},"setClickEvent"),I_e=o(function(e,t,r){let n=Yt.sanitizeText(e,Ge());if(Ge().securityLevel!=="loose"||t===void 0)return;let i=n;if(Bi.has(i)){let a=Nz(i),s=[];if(typeof r=="string"){s=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let l=0;l<s.length;l++){let u=s[l].trim();u.startsWith('"')&&u.endsWith('"')&&(u=u.substr(1,u.length-2)),s[l]=u}}s.length===0&&s.push(a),I2.push(function(){let l=document.querySelector(`[id="${a}"]`);l!==null&&l.addEventListener("click",function(){mn.runFunc(t,...s)},!1)})}},"setClickFunc"),D_e=o(function(e){I2.forEach(function(t){t(e)})},"bindFunctions"),R_e={LINE:0,DOTTED_LINE:1},L0={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},Iz=o(function(e){let t=Bt(".mermaidTooltip");(t._groups||t)[0][0]===null&&(t=Bt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Bt(e).select("svg").selectAll("g.node").on("mouseover",function(){let r=Bt(this);if(r.attr("title")===null)return;let n=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(r.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),r.classed("hover",!0)}).on("mouseout",function(){t.transition().duration(500).style("opacity",0),Bt(this).classed("hover",!1)})},"setupToolTips"),I2.push(Iz),BT="TB",Dz=o(()=>BT,"getDirection"),O_e=o(e=>{BT=e},"setDirection"),P_e=o(function(e){Dc.has(e)||(Dc.set(e,{id:e,classes:new Map,children:{},domId:zv+e+"-"+OT}),OT++)},"addNamespace"),B_e=o(function(e){return Dc.get(e)},"getNamespace"),F_e=o(function(){return Dc},"getNamespaces"),$_e=o(function(e,t){if(Dc.has(e))for(let r of t){let{className:n}=p1(r);Bi.get(n).parent=e,Dc.get(e).classes.set(n,Bi.get(n))}},"addClassesToNamespace"),z_e=o(function(e,t){let r=Bi.get(e);if(!(!t||!r))for(let n of t)n.includes(",")?r.styles.push(...n.split(",")):r.styles.push(n)},"setCssStyle"),o(_z,"getArrowMarker"),q_e=o(()=>{let e=[],t=[],r=Ge();for(let i of Dc.keys()){let a=Dc.get(i);if(a){let s={id:a.id,label:a.id,isGroup:!0,padding:r.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:r.look};e.push(s)}}for(let i of Bi.keys()){let a=Bi.get(i);if(a){let s=a;s.parentId=a.parent,s.look=r.look,e.push(s)}}let n=0;for(let i of M2){n++;let a={id:i.id,label:i.text,isGroup:!1,shape:"note",padding:r.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${r.themeVariables.noteBkgColor}`,`stroke: ${r.themeVariables.noteBorderColor}`],look:r.look};e.push(a);let s=Bi.get(i.class)?.id??"";if(s){let l={id:`edgeNote${n}`,start:i.id,end:s,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:r.look};t.push(l)}}for(let i of og){let a={id:i.id,label:i.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:r.look};e.push(a)}n=0;for(let i of qv){n++;let a={id:MN(i.id1,i.id2,{prefix:"id",counter:n}),start:i.id1,end:i.id2,type:"normal",label:i.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:_z(i.relation.type1),arrowTypeEnd:_z(i.relation.type2),startLabelRight:i.relationTitle1==="none"?"":i.relationTitle1,endLabelLeft:i.relationTitle2==="none"?"":i.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:i.style||"",pattern:i.relation.lineType==1?"dashed":"solid",look:r.look};t.push(a)}return{nodes:e,edges:t,other:{},config:r,direction:Dz()}},"getData"),Gv={setAccTitle:ms,getAccTitle:Ls,getAccDescription:Ms,setAccDescription:Ns,getConfig:o(()=>Ge().class,"getConfig"),addClass:lg,bindFunctions:D_e,clear:y_e,getClass:v_e,getClasses:b_e,getNotes:w_e,addAnnotation:T_e,addNote:C_e,getRelations:x_e,addRelation:k_e,getDirection:Dz,setDirection:O_e,addMember:Mz,addMembers:E_e,cleanupLabel:__e,lineType:R_e,relationType:L0,setClickEvent:M_e,setCssClass:PT,defineClass:S_e,setLink:N_e,getTooltip:L_e,setTooltip:A_e,lookUpDomId:Nz,setDiagramTitle:_o,getDiagramTitle:Is,setClassLabel:m_e,addNamespace:P_e,addClassesToNamespace:$_e,getNamespace:B_e,getNamespaces:F_e,setCssStyle:z_e,getData:q_e}}),Y_e,Rz,j_e=R(()=>{"use strict";Y_e=o(e=>`g.classGroup text {
  fill: ${e.nodeBorder||e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}

.labelBkg {
  background: ${e.mainBkg};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),Rz=Y_e}),H_e,U_e,V_e,Oz,W_e=R(()=>{"use strict";zr(),We(),kI(),Mw(),GR(),kn(),H_e=o((e,t="TB")=>{if(!e.doc)return t;let r=t;for(let n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),U_e=o(function(e,t){return t.db.getClasses()},"getClasses"),V_e=o(async function(e,t,r,n){J.info("REF0:"),J.info("Drawing class diagram (v3)",t);let{securityLevel:i,state:a,layout:s}=Ge(),l=n.db.getData(),u=Y8(t,i);l.type=n.type,l.layoutAlgorithm=qR(s),l.nodeSpacing=a?.nodeSpacing||50,l.rankSpacing=a?.rankSpacing||50,l.markers=["aggregation","extension","composition","dependency","lollipop"],l.diagramId=t,await Nw(l,u),mn.insertTitle(u,"classDiagramTitleText",a?.titleTopMargin??25,n.db.getDiagramTitle()),Iw(u,8,"classDiagram",a?.useMaxWidth??!0)},"draw"),Oz={getClasses:U_e,draw:V_e,getDir:H_e}}),X_e={};yr(X_e,{diagram:()=>K_e});var K_e,QJe=R(()=>{"use strict";f_e(),G_e(),j_e(),W_e(),K_e={parser:Tz,db:Gv,renderer:Oz,styles:Rz,init:o(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,Gv.clear()},"init")}}),Z_e={};yr(Z_e,{diagram:()=>Q_e});var Q_e,JJe=R(()=>{"use strict";f_e(),G_e(),j_e(),W_e(),Q_e={parser:Tz,db:Gv,renderer:Oz,styles:Rz,init:o(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,Gv.clear()},"init")}}),FT,Pz,J_e=R(()=>{"use strict";FT=function(){var e=o(function(M,G,Y,V){for(Y=Y||{},V=M.length;V--;Y[M[V]]=G);return Y},"o"),t=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],l=[1,16],u=[1,17],h=[1,18],d=[1,19],p=[1,32],f=[1,20],g=[1,21],m=[1,22],y=[1,23],b=[1,24],v=[1,26],x=[1,27],w=[1,28],E=[1,29],A=[1,30],N=[1,31],L=[1,34],C=[1,35],D=[1,36],P=[1,37],O=[1,33],I=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],q=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],S=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],B={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,style:42,STYLE_IDS:43,STYLEDEF_STYLEOPTS:44,class:45,CLASSENTITY_IDS:46,STYLECLASS:47,direction_tb:48,direction_bt:49,direction_rl:50,direction_lr:51,eol:52,";":53,EDGE_STATE:54,STYLE_SEPARATOR:55,left_of:56,right_of:57,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"style",43:"STYLE_IDS",44:"STYLEDEF_STYLEOPTS",45:"class",46:"CLASSENTITY_IDS",47:"STYLECLASS",48:"direction_tb",49:"direction_bt",50:"direction_rl",51:"direction_lr",53:";",54:"EDGE_STATE",55:"STYLE_SEPARATOR",56:"left_of",57:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[52,1],[52,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:o(function(M,G,Y,V,X,re,de){var xe=re.length-1;switch(X){case 3:return V.setRootDoc(re[xe]),re[xe];case 4:this.$=[];break;case 5:re[xe]!="nl"&&(re[xe-1].push(re[xe]),this.$=re[xe-1]);break;case 6:case 7:this.$=re[xe];break;case 8:this.$="nl";break;case 12:this.$=re[xe];break;case 13:let ne=re[xe-1];ne.description=V.trimColon(re[xe]),this.$=ne;break;case 14:this.$={stmt:"relation",state1:re[xe-2],state2:re[xe]};break;case 15:let ee=V.trimColon(re[xe]);this.$={stmt:"relation",state1:re[xe-3],state2:re[xe-1],description:ee};break;case 19:this.$={stmt:"state",id:re[xe-3],type:"default",description:"",doc:re[xe-1]};break;case 20:var he=re[xe],be=re[xe-2].trim();if(re[xe].match(":")){var Q=re[xe].split(":");he=Q[0],be=[be,Q[1]]}this.$={stmt:"state",id:he,type:"default",description:be};break;case 21:this.$={stmt:"state",id:re[xe-3],type:"default",description:re[xe-5],doc:re[xe-1]};break;case 22:this.$={stmt:"state",id:re[xe],type:"fork"};break;case 23:this.$={stmt:"state",id:re[xe],type:"join"};break;case 24:this.$={stmt:"state",id:re[xe],type:"choice"};break;case 25:this.$={stmt:"state",id:V.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:re[xe-1].trim(),note:{position:re[xe-2].trim(),text:re[xe].trim()}};break;case 29:this.$=re[xe].trim(),V.setAccTitle(this.$);break;case 30:case 31:this.$=re[xe].trim(),V.setAccDescription(this.$);break;case 32:case 33:this.$={stmt:"classDef",id:re[xe-1].trim(),classes:re[xe].trim()};break;case 34:this.$={stmt:"style",id:re[xe-1].trim(),styleClass:re[xe].trim()};break;case 35:this.$={stmt:"applyClass",id:re[xe-1].trim(),styleClass:re[xe].trim()};break;case 36:V.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 37:V.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 38:V.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 39:V.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 42:case 43:this.$={stmt:"state",id:re[xe].trim(),type:"default",description:""};break;case 44:this.$={stmt:"state",id:re[xe-2].trim(),classes:[re[xe].trim()],type:"default",description:""};break;case 45:this.$={stmt:"state",id:re[xe-2].trim(),classes:[re[xe].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:l,17:u,19:h,22:d,24:p,25:f,26:g,27:m,28:y,29:b,32:25,33:v,35:x,37:w,38:E,42:A,45:N,48:L,49:C,50:D,51:P,54:O},e(I,[2,5]),{9:38,10:12,11:13,12:14,13:15,16:l,17:u,19:h,22:d,24:p,25:f,26:g,27:m,28:y,29:b,32:25,33:v,35:x,37:w,38:E,42:A,45:N,48:L,49:C,50:D,51:P,54:O},e(I,[2,7]),e(I,[2,8]),e(I,[2,9]),e(I,[2,10]),e(I,[2,11]),e(I,[2,12],{14:[1,39],15:[1,40]}),e(I,[2,16]),{18:[1,41]},e(I,[2,18],{20:[1,42]}),{23:[1,43]},e(I,[2,22]),e(I,[2,23]),e(I,[2,24]),e(I,[2,25]),{30:44,31:[1,45],56:[1,46],57:[1,47]},e(I,[2,28]),{34:[1,48]},{36:[1,49]},e(I,[2,31]),{39:[1,50],41:[1,51]},{43:[1,52]},{46:[1,53]},e(q,[2,42],{55:[1,54]}),e(q,[2,43],{55:[1,55]}),e(I,[2,36]),e(I,[2,37]),e(I,[2,38]),e(I,[2,39]),e(I,[2,6]),e(I,[2,13]),{13:56,24:p,54:O},e(I,[2,17]),e(S,i,{7:57}),{24:[1,58]},{24:[1,59]},{23:[1,60]},{24:[2,46]},{24:[2,47]},e(I,[2,29]),e(I,[2,30]),{40:[1,61]},{40:[1,62]},{44:[1,63]},{47:[1,64]},{24:[1,65]},{24:[1,66]},e(I,[2,14],{14:[1,67]}),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:l,17:u,19:h,21:[1,68],22:d,24:p,25:f,26:g,27:m,28:y,29:b,32:25,33:v,35:x,37:w,38:E,42:A,45:N,48:L,49:C,50:D,51:P,54:O},e(I,[2,20],{20:[1,69]}),{31:[1,70]},{24:[1,71]},e(I,[2,32]),e(I,[2,33]),e(I,[2,34]),e(I,[2,35]),e(q,[2,44]),e(q,[2,45]),e(I,[2,15]),e(I,[2,19]),e(S,i,{7:72}),e(I,[2,26]),e(I,[2,27]),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:l,17:u,19:h,21:[1,73],22:d,24:p,25:f,26:g,27:m,28:y,29:b,32:25,33:v,35:x,37:w,38:E,42:A,45:N,48:L,49:C,50:D,51:P,54:O},e(I,[2,21])],defaultActions:{5:[2,1],6:[2,2],46:[2,46],47:[2,47]},parseError:o(function(M,G){if(G.recoverable)this.trace(M);else{var Y=new Error(M);throw Y.hash=G,Y}},"parseError"),parse:o(function(M){var G=this,Y=[0],V=[],X=[null],re=[],de=this.table,xe="",he=0,be=0,Q=0,ne=2,ee=1,pe=re.slice.call(arguments,1),ie=Object.create(this.lexer),De={yy:{}};for(var se in this.yy)Object.prototype.hasOwnProperty.call(this.yy,se)&&(De.yy[se]=this.yy[se]);ie.setInput(M,De.yy),De.yy.lexer=ie,De.yy.parser=this,typeof ie.yylloc>"u"&&(ie.yylloc={});var je=ie.yylloc;re.push(je);var ge=ie.options&&ie.options.ranges;typeof De.yy.parseError=="function"?this.parseError=De.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function rt(ht){Y.length=Y.length-2*ht,X.length=X.length-ht,re.length=re.length-ht}o(rt,"popStack");function Qe(){var ht;return ht=V.pop()||ie.lex()||ee,typeof ht!="number"&&(ht instanceof Array&&(V=ht,ht=V.pop()),ht=G.symbols_[ht]||ht),ht}o(Qe,"lex");for(var tt,mt,yt,Nt,kt,te,Ne={},Ce,Fe,oe,st;;){if(yt=Y[Y.length-1],this.defaultActions[yt]?Nt=this.defaultActions[yt]:((tt===null||typeof tt>"u")&&(tt=Qe()),Nt=de[yt]&&de[yt][tt]),typeof Nt>"u"||!Nt.length||!Nt[0]){var ae="";st=[];for(Ce in de[yt])this.terminals_[Ce]&&Ce>ne&&st.push("'"+this.terminals_[Ce]+"'");ie.showPosition?ae="Parse error on line "+(he+1)+`:
`+ie.showPosition()+`
Expecting `+st.join(", ")+", got '"+(this.terminals_[tt]||tt)+"'":ae="Parse error on line "+(he+1)+": Unexpected "+(tt==ee?"end of input":"'"+(this.terminals_[tt]||tt)+"'"),this.parseError(ae,{text:ie.match,token:this.terminals_[tt]||tt,line:ie.yylineno,loc:je,expected:st})}if(Nt[0]instanceof Array&&Nt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+yt+", token: "+tt);switch(Nt[0]){case 1:Y.push(tt),X.push(ie.yytext),re.push(ie.yylloc),Y.push(Nt[1]),tt=null,mt?(tt=mt,mt=null):(be=ie.yyleng,xe=ie.yytext,he=ie.yylineno,je=ie.yylloc,Q>0&&Q--);break;case 2:if(Fe=this.productions_[Nt[1]][1],Ne.$=X[X.length-Fe],Ne._$={first_line:re[re.length-(Fe||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(Fe||1)].first_column,last_column:re[re.length-1].last_column},ge&&(Ne._$.range=[re[re.length-(Fe||1)].range[0],re[re.length-1].range[1]]),te=this.performAction.apply(Ne,[xe,be,he,De.yy,Nt[1],X,re].concat(pe)),typeof te<"u")return te;Fe&&(Y=Y.slice(0,-1*Fe*2),X=X.slice(0,-1*Fe),re=re.slice(0,-1*Fe)),Y.push(this.productions_[Nt[1]][0]),X.push(Ne.$),re.push(Ne._$),oe=de[Y[Y.length-2]][Y[Y.length-1]],Y.push(oe);break;case 3:return!0}}return!0},"parse")},F=function(){var M={EOF:1,parseError:o(function(G,Y){if(this.yy.parser)this.yy.parser.parseError(G,Y);else throw new Error(G)},"parseError"),setInput:o(function(G,Y){return this.yy=Y||this.yy||{},this._input=G,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var G=this._input[0];this.yytext+=G,this.yyleng++,this.offset++,this.match+=G,this.matched+=G;var Y=G.match(/(?:\r\n?|\n).*/g);return Y?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),G},"input"),unput:o(function(G){var Y=G.length,V=G.split(/(?:\r\n?|\n)/g);this._input=G+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Y),this.offset-=Y;var X=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),V.length-1&&(this.yylineno-=V.length-1);var re=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:V?(V.length===X.length?this.yylloc.first_column:0)+X[X.length-V.length].length-V[0].length:this.yylloc.first_column-Y},this.options.ranges&&(this.yylloc.range=[re[0],re[0]+this.yyleng-Y]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(G){this.unput(this.match.slice(G))},"less"),pastInput:o(function(){var G=this.matched.substr(0,this.matched.length-this.match.length);return(G.length>20?"...":"")+G.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var G=this.match;return G.length<20&&(G+=this._input.substr(0,20-G.length)),(G.substr(0,20)+(G.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var G=this.pastInput(),Y=new Array(G.length+1).join("-");return G+this.upcomingInput()+`
`+Y+"^"},"showPosition"),test_match:o(function(G,Y){var V,X,re;if(this.options.backtrack_lexer&&(re={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(re.yylloc.range=this.yylloc.range.slice(0))),X=G[0].match(/(?:\r\n?|\n).*/g),X&&(this.yylineno+=X.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:X?X[X.length-1].length-X[X.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+G[0].length},this.yytext+=G[0],this.match+=G[0],this.matches=G,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(G[0].length),this.matched+=G[0],V=this.performAction.call(this,this.yy,this,Y,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),V)return V;if(this._backtrack){for(var de in re)this[de]=re[de];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var G,Y,V,X;this._more||(this.yytext="",this.match="");for(var re=this._currentRules(),de=0;de<re.length;de++)if(V=this._input.match(this.rules[re[de]]),V&&(!Y||V[0].length>Y[0].length)){if(Y=V,X=de,this.options.backtrack_lexer){if(G=this.test_match(V,re[de]),G!==!1)return G;if(this._backtrack){Y=!1;continue}else return!1}else if(!this.options.flex)break}return Y?(G=this.test_match(Y,re[X]),G!==!1?G:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var G=this.next();return G||this.lex()},"lex"),begin:o(function(G){this.conditionStack.push(G)},"begin"),popState:o(function(){var G=this.conditionStack.length-1;return G>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(G){return G=this.conditionStack.length-1-Math.abs(G||0),G>=0?this.conditionStack[G]:"INITIAL"},"topState"),pushState:o(function(G){this.begin(G)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(G,Y,V,X){var re=X;switch(V){case 0:return 41;case 1:return 48;case 2:return 49;case 3:return 50;case 4:return 51;case 5:break;case 6:break;case 7:return 5;case 8:break;case 9:break;case 10:break;case 11:break;case 12:return this.pushState("SCALE"),17;case 13:return 18;case 14:this.popState();break;case 15:return this.begin("acc_title"),33;case 16:return this.popState(),"acc_title_value";case 17:return this.begin("acc_descr"),35;case 18:return this.popState(),"acc_descr_value";case 19:this.begin("acc_descr_multiline");break;case 20:this.popState();break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),38;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 24:return this.popState(),this.pushState("CLASSDEFID"),39;case 25:return this.popState(),40;case 26:return this.pushState("CLASS"),45;case 27:return this.popState(),this.pushState("CLASS_STYLE"),46;case 28:return this.popState(),47;case 29:return this.pushState("STYLE"),42;case 30:return this.popState(),this.pushState("STYLEDEF_STYLES"),43;case 31:return this.popState(),44;case 32:return this.pushState("SCALE"),17;case 33:return 18;case 34:this.popState();break;case 35:this.pushState("STATE");break;case 36:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),25;case 37:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),26;case 38:return this.popState(),Y.yytext=Y.yytext.slice(0,-10).trim(),27;case 39:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),25;case 40:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),26;case 41:return this.popState(),Y.yytext=Y.yytext.slice(0,-10).trim(),27;case 42:return 48;case 43:return 49;case 44:return 50;case 45:return 51;case 46:this.pushState("STATE_STRING");break;case 47:return this.pushState("STATE_ID"),"AS";case 48:return this.popState(),"ID";case 49:this.popState();break;case 50:return"STATE_DESCR";case 51:return 19;case 52:this.popState();break;case 53:return this.popState(),this.pushState("struct"),20;case 54:break;case 55:return this.popState(),21;case 56:break;case 57:return this.begin("NOTE"),29;case 58:return this.popState(),this.pushState("NOTE_ID"),56;case 59:return this.popState(),this.pushState("NOTE_ID"),57;case 60:this.popState(),this.pushState("FLOATING_NOTE");break;case 61:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 62:break;case 63:return"NOTE_TEXT";case 64:return this.popState(),"ID";case 65:return this.popState(),this.pushState("NOTE_TEXT"),24;case 66:return this.popState(),Y.yytext=Y.yytext.substr(2).trim(),31;case 67:return this.popState(),Y.yytext=Y.yytext.slice(0,-8).trim(),31;case 68:return 6;case 69:return 6;case 70:return 16;case 71:return 54;case 72:return 24;case 73:return Y.yytext=Y.yytext.trim(),14;case 74:return 15;case 75:return 28;case 76:return 55;case 77:return 5;case 78:return"INVALID"}},"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,29,35,42,43,44,45,54,55,56,57,71,72,73,74,75],inclusive:!1},FLOATING_NOTE_ID:{rules:[64],inclusive:!1},FLOATING_NOTE:{rules:[61,62,63],inclusive:!1},NOTE_TEXT:{rules:[66,67],inclusive:!1},NOTE_ID:{rules:[65],inclusive:!1},NOTE:{rules:[58,59,60],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[31],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[30],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,33,34],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[48],inclusive:!1},STATE_STRING:{rules:[49,50],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,36,37,38,39,40,41,46,47,51,52,53],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,35,53,57,68,69,70,71,72,73,74,76,77,78],inclusive:!0}}};return M}();B.lexer=F;function z(){this.yy={}}return o(z,"Parser"),z.prototype=B,B.Parser=z,new z}(),FT.parser=FT,Pz=FT}),eSe,Bz,Yv,$T,tSe,rSe,nSe,D2,Fz,$z,zz,qz,Gz,Yz,zT,qT,iSe,aSe,jz,Hz,sSe,oSe,R2,lSe,cSe,Uz,uSe,hSe,dSe,pSe,gSe,fSe,mSe,ySe,Vz,Wz,vSe,GT,bSe,Xz,Kz=R(()=>{"use strict";eSe="LR",Bz="TB",Yv="state",$T="relation",tSe="classDef",rSe="style",nSe="applyClass",D2="default",Fz="divider",$z="fill:none",zz="fill: #333",qz="c",Gz="text",Yz="normal",zT="rect",qT="rectWithTitle",iSe="stateStart",aSe="stateEnd",jz="divider",Hz="roundedWithTitle",sSe="note",oSe="noteGroup",R2="statediagram",lSe="state",cSe=`${R2}-${lSe}`,Uz="transition",uSe="note",hSe="note-edge",dSe=`${Uz} ${hSe}`,pSe=`${R2}-${uSe}`,gSe="cluster",fSe=`${R2}-${gSe}`,mSe="cluster-alt",ySe=`${R2}-${mSe}`,Vz="parent",Wz="note",vSe="state",GT="----",bSe=`${GT}${Wz}`,Xz=`${GT}${Vz}`});function YT(e="",t=0,r="",n=GT){let i=r!==null&&r.length>0?`${n}${r}`:"";return`${vSe}-${e}${i}-${t}`}function jv(e,t,r){if(!t.id||t.id==="</join></fork>"||t.id==="</choice>")return;t.cssClasses&&(Array.isArray(t.cssCompiledStyles)||(t.cssCompiledStyles=[]),t.cssClasses.split(" ").forEach(i=>{if(r.get(i)){let a=r.get(i);t.cssCompiledStyles=[...t.cssCompiledStyles,...a.styles]}}));let n=e.find(i=>i.id===t.id);n?Object.assign(n,t):e.push(t)}function xSe(e){return e?.classes?.join(" ")??""}function wSe(e){return e?.styles??[]}var Hv,N0,kSe,Zz,O2,TSe,eet=R(()=>{"use strict";zr(),We(),En(),Kz(),Hv=new Map,N0=0,o(YT,"stateDomId"),kSe=o((e,t,r,n,i,a,s,l)=>{J.trace("items",t),t.forEach(u=>{switch(u.stmt){case Yv:O2(e,u,r,n,i,a,s,l);break;case D2:O2(e,u,r,n,i,a,s,l);break;case $T:{O2(e,u.state1,r,n,i,a,s,l),O2(e,u.state2,r,n,i,a,s,l);let h={id:"edge"+N0,start:u.state1.id,end:u.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:$z,labelStyle:"",label:Yt.sanitizeText(u.description,Ge()),arrowheadStyle:zz,labelpos:qz,labelType:Gz,thickness:Yz,classes:Uz,look:s};i.push(h),N0++}break}})},"setupDoc"),Zz=o((e,t=Bz)=>{let r=t;if(e.doc)for(let n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),o(jv,"insertOrUpdateNode"),o(xSe,"getClassesFromDbInfo"),o(wSe,"getStylesFromDbInfo"),O2=o((e,t,r,n,i,a,s,l)=>{let u=t.id,h=r.get(u),d=xSe(h),p=wSe(h);if(J.info("dataFetcher parsedItem",t,h,p),u!=="root"){let f=zT;t.start===!0?f=iSe:t.start===!1&&(f=aSe),t.type!==D2&&(f=t.type),Hv.get(u)||Hv.set(u,{id:u,shape:f,description:Yt.sanitizeText(u,Ge()),cssClasses:`${d} ${cSe}`,cssStyles:p});let g=Hv.get(u);t.description&&(Array.isArray(g.description)?(g.shape=qT,g.description.push(t.description)):g.description?.length>0?(g.shape=qT,g.description===u?g.description=[t.description]:g.description=[g.description,t.description]):(g.shape=zT,g.description=t.description),g.description=Yt.sanitizeTextOrArray(g.description,Ge())),g.description?.length===1&&g.shape===qT&&(g.type==="group"?g.shape=Hz:g.shape=zT),!g.type&&t.doc&&(J.info("Setting cluster for XCX",u,Zz(t)),g.type="group",g.isGroup=!0,g.dir=Zz(t),g.shape=t.type===Fz?jz:Hz,g.cssClasses=`${g.cssClasses} ${fSe} ${a?ySe:""}`);let m={labelStyle:"",shape:g.shape,label:g.description,cssClasses:g.cssClasses,cssCompiledStyles:[],cssStyles:g.cssStyles,id:u,dir:g.dir,domId:YT(u,N0),type:g.type,isGroup:g.type==="group",padding:8,rx:10,ry:10,look:s};if(m.shape===jz&&(m.label=""),e&&e.id!=="root"&&(J.trace("Setting node ",u," to be child of its parent ",e.id),m.parentId=e.id),m.centerLabel=!0,t.note){let y={labelStyle:"",shape:sSe,label:t.note.text,cssClasses:pSe,cssStyles:[],cssCompilesStyles:[],id:u+bSe+"-"+N0,domId:YT(u,N0,Wz),type:g.type,isGroup:g.type==="group",padding:Ge().flowchart.padding,look:s,position:t.note.position},b=u+Xz,v={labelStyle:"",shape:oSe,label:t.note.text,cssClasses:g.cssClasses,cssStyles:[],id:u+Xz,domId:YT(u,N0,Vz),type:"group",isGroup:!0,padding:16,look:s,position:t.note.position};N0++,v.id=b,y.parentId=b,jv(n,v,l),jv(n,y,l),jv(n,m,l);let x=u,w=y.id;t.note.position==="left of"&&(x=y.id,w=u),i.push({id:x+"-"+w,start:x,end:w,arrowhead:"none",arrowTypeEnd:"",style:$z,labelStyle:"",classes:dSe,arrowheadStyle:zz,labelpos:qz,labelType:Gz,thickness:Yz,look:s})}else jv(n,m,l)}t.doc&&(J.trace("Adding nodes children "),kSe(t,t.doc,r,n,i,!a,s,l))},"dataFetcher"),TSe=o(()=>{Hv.clear(),N0=0},"reset")}),Qz,ESe,CSe,_Se,SSe=R(()=>{"use strict";zr(),We(),kI(),Mw(),GR(),kn(),Kz(),Qz=o((e,t=Bz)=>{if(!e.doc)return t;let r=t;for(let n of e.doc)n.stmt==="dir"&&(r=n.value);return r},"getDir"),ESe=o(function(e,t){return t.db.extract(t.db.getRootDocV2()),t.db.getClasses()},"getClasses"),CSe=o(async function(e,t,r,n){J.info("REF0:"),J.info("Drawing state diagram (v2)",t);let{securityLevel:i,state:a,layout:s}=Ge();n.db.extract(n.db.getRootDocV2());let l=n.db.getData(),u=Y8(t,i);l.type=n.type,l.layoutAlgorithm=s,l.nodeSpacing=a?.nodeSpacing||50,l.rankSpacing=a?.rankSpacing||50,l.markers=["barb"],l.diagramId=t,await Nw(l,u),mn.insertTitle(u,"statediagramTitleText",a?.titleTopMargin??25,n.db.getDiagramTitle()),Iw(u,8,R2,a?.useMaxWidth??!0)},"draw"),_Se={getClasses:ESe,draw:CSe,getDir:Qz}});function Jz(){return new Map}function jT(e=""){let t=e;return e===UT&&(P2++,t=`${eq}${P2}`),t}function HT(e="",t=D2){return e===UT?eq:t}function ASe(e=""){let t=e;return e===tq&&(P2++,t=`${rq}${P2}`),t}function LSe(e="",t=D2){return e===tq?rq:t}function NSe(e,t,r){let n=jT(e.id.trim()),i=HT(e.id.trim(),e.type),a=jT(t.id.trim()),s=HT(t.id.trim(),t.type);M0(n,i,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),M0(a,s,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),rl.relations.push({id1:n,id2:a,relationTitle:Yt.sanitizeText(r,Ge())})}var UT,eq,tq,rq,nq,iq,MSe,ISe,Uv,VT,aq,Vv,cg,sq,Wv,rl,P2,oq,DSe,RSe,Xv,OSe,PSe,Kv,WT,BSe,M0,lq,g1,cq,FSe,$Se,uq,XT,zSe,qSe,hq,GSe,KT,YSe,jSe,HSe,USe,VSe,WSe,yh,dq=R(()=>{"use strict";We(),kn(),En(),zr(),ys(),eet(),SSe(),Kz(),UT="[*]",eq="start",tq=UT,rq="end",nq="color",iq="fill",MSe="bgFill",ISe=",",o(Jz,"newClassesList"),Uv=[],VT=[],aq=eSe,Vv=[],cg=Jz(),sq=o(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),Wv={root:sq()},rl=Wv.root,P2=0,oq=0,DSe={LINE:0,DOTTED_LINE:1},RSe={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},Xv=o(e=>JSON.parse(JSON.stringify(e)),"clone"),OSe=o(e=>{J.info("Setting root doc",e),Vv=e},"setRootDoc"),PSe=o(()=>Vv,"getRootDoc"),Kv=o((e,t,r)=>{if(t.stmt===$T)Kv(e,t.state1,!0),Kv(e,t.state2,!1);else if(t.stmt===Yv&&(t.id==="[*]"?(t.id=r?e.id+"_start":e.id+"_end",t.start=r):t.id=t.id.trim()),t.doc){let n=[],i=[],a;for(a=0;a<t.doc.length;a++)if(t.doc[a].type===Fz){let s=Xv(t.doc[a]);s.doc=Xv(i),n.push(s),i=[]}else i.push(t.doc[a]);if(n.length>0&&i.length>0){let s={stmt:Yv,id:AN(),type:"divider",doc:Xv(i)};n.push(Xv(s)),t.doc=n}t.doc.forEach(s=>Kv(t,s,!0))}},"docTranslator"),WT=o(()=>(Kv({id:"root"},{id:"root",doc:Vv},!0),{id:"root",doc:Vv}),"getRootDocV2"),BSe=o(e=>{let t;e.doc?t=e.doc:t=e,J.info(t),lq(!0),J.info("Extract initial document:",t),t.forEach(i=>{switch(J.warn("Statement",i.stmt),i.stmt){case Yv:M0(i.id.trim(),i.type,i.doc,i.description,i.note,i.classes,i.styles,i.textStyles);break;case $T:uq(i.state1,i.state2,i.description);break;case tSe:hq(i.id.trim(),i.classes);break;case rSe:{let a=i.id.trim().split(","),s=i.styleClass.split(",");a.forEach(l=>{let u=g1(l);if(u===void 0){let h=l.trim();M0(h),u=g1(h)}u.styles=s.map(h=>h.replace(/;/g,"")?.trim())})}break;case nSe:KT(i.id.trim(),i.styleClass);break}});let r=cq(),n=Ge().look;TSe(),O2(void 0,WT(),r,Uv,VT,!0,n,cg),Uv.forEach(i=>{if(Array.isArray(i.label)){if(i.description=i.label.slice(1),i.isGroup&&i.description.length>0)throw new Error("Group nodes can only have label. Remove the additional description for node ["+i.id+"]");i.label=i.label[0]}})},"extract"),M0=o(function(e,t=D2,r=null,n=null,i=null,a=null,s=null,l=null){let u=e?.trim();if(rl.states.has(u)?(rl.states.get(u).doc||(rl.states.get(u).doc=r),rl.states.get(u).type||(rl.states.get(u).type=t)):(J.info("Adding state ",u,n),rl.states.set(u,{id:u,descriptions:[],type:t,doc:r,note:i,classes:[],styles:[],textStyles:[]})),n&&(J.info("Setting state description",u,n),typeof n=="string"&&XT(u,n.trim()),typeof n=="object"&&n.forEach(h=>XT(u,h.trim()))),i){let h=rl.states.get(u);h.note=i,h.note.text=Yt.sanitizeText(h.note.text,Ge())}a&&(J.info("Setting state classes",u,a),(typeof a=="string"?[a]:a).forEach(h=>KT(u,h.trim()))),s&&(J.info("Setting state styles",u,s),(typeof s=="string"?[s]:s).forEach(h=>YSe(u,h.trim()))),l&&(J.info("Setting state styles",u,s),(typeof l=="string"?[l]:l).forEach(h=>jSe(u,h.trim())))},"addState"),lq=o(function(e){Uv=[],VT=[],Wv={root:sq()},rl=Wv.root,P2=0,cg=Jz(),e||fs()},"clear"),g1=o(function(e){return rl.states.get(e)},"getState"),cq=o(function(){return rl.states},"getStates"),FSe=o(function(){J.info("Documents = ",Wv)},"logDocuments"),$Se=o(function(){return rl.relations},"getRelations"),o(jT,"startIdIfNeeded"),o(HT,"startTypeIfNeeded"),o(ASe,"endIdIfNeeded"),o(LSe,"endTypeIfNeeded"),o(NSe,"addRelationObjs"),uq=o(function(e,t,r){if(typeof e=="object")NSe(e,t,r);else{let n=jT(e.trim()),i=HT(e),a=ASe(t.trim()),s=LSe(t);M0(n,i),M0(a,s),rl.relations.push({id1:n,id2:a,title:Yt.sanitizeText(r,Ge())})}},"addRelation"),XT=o(function(e,t){let r=rl.states.get(e),n=t.startsWith(":")?t.replace(":","").trim():t;r.descriptions.push(Yt.sanitizeText(n,Ge()))},"addDescription"),zSe=o(function(e){return e.substring(0,1)===":"?e.substr(2).trim():e.trim()},"cleanupLabel"),qSe=o(()=>(oq++,"divider-id-"+oq),"getDividerId"),hq=o(function(e,t=""){cg.has(e)||cg.set(e,{id:e,styles:[],textStyles:[]});let r=cg.get(e);t?.split(ISe).forEach(n=>{let i=n.replace(/([^;]*);/,"$1").trim();if(RegExp(nq).exec(n)){let a=i.replace(iq,MSe).replace(nq,iq);r.textStyles.push(a)}r.styles.push(i)})},"addStyleClass"),GSe=o(function(){return cg},"getClasses"),KT=o(function(e,t){e.split(",").forEach(function(r){let n=g1(r);if(n===void 0){let i=r.trim();M0(i),n=g1(i)}n.classes.push(t)})},"setCssClass"),YSe=o(function(e,t){let r=g1(e);r!==void 0&&r.styles.push(t)},"setStyle"),jSe=o(function(e,t){let r=g1(e);r!==void 0&&r.textStyles.push(t)},"setTextStyle"),HSe=o(()=>aq,"getDirection"),USe=o(e=>{aq=e},"setDirection"),VSe=o(e=>e&&e[0]===":"?e.substr(1).trim():e.trim(),"trimColon"),WSe=o(()=>{let e=Ge();return{nodes:Uv,edges:VT,other:{},config:e,direction:Qz(WT())}},"getData"),yh={getConfig:o(()=>Ge().state,"getConfig"),getData:WSe,addState:M0,clear:lq,getState:g1,getStates:cq,getRelations:$Se,getClasses:GSe,getDirection:HSe,addRelation:uq,getDividerId:qSe,setDirection:USe,cleanupLabel:zSe,lineType:DSe,relationType:RSe,logDocuments:FSe,getRootDoc:PSe,setRootDoc:OSe,getRootDocV2:WT,extract:BSe,trimColon:VSe,getAccTitle:Ls,setAccTitle:ms,getAccDescription:Ms,setAccDescription:Ns,addStyleClass:hq,setCssClass:KT,addDescription:XT,setDiagramTitle:_o,getDiagramTitle:Is}}),XSe,pq,KSe=R(()=>{"use strict";XSe=o(e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${e.edgeLabelBackground};
  p {
    background-color: ${e.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${e.edgeLabelBackground};
    fill: ${e.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),pq=XSe}),ZT,ZSe,QSe,gq,JSe,eAe,tet=R(()=>{"use strict";ZT={},ZSe=o((e,t)=>{ZT[e]=t},"set"),QSe=o(e=>ZT[e],"get"),gq=o(()=>Object.keys(ZT),"keys"),JSe=o(()=>gq().length,"size"),eAe={get:QSe,set:ZSe,keys:gq,size:JSe}}),tAe,rAe,nAe,iAe,aAe,sAe,oAe,lAe,cAe,fq,mq,uAe,ret=R(()=>{"use strict";Ln(),tet(),dq(),kn(),En(),zr(),We(),tAe=o(e=>e.append("circle").attr("class","start-state").attr("r",Ge().state.sizeUnit).attr("cx",Ge().state.padding+Ge().state.sizeUnit).attr("cy",Ge().state.padding+Ge().state.sizeUnit),"drawStartState"),rAe=o(e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",Ge().state.textHeight).attr("class","divider").attr("x2",Ge().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),nAe=o((e,t)=>{let r=e.append("text").attr("x",2*Ge().state.padding).attr("y",Ge().state.textHeight+2*Ge().state.padding).attr("font-size",Ge().state.fontSize).attr("class","state-title").text(t.id),n=r.node().getBBox();return e.insert("rect",":first-child").attr("x",Ge().state.padding).attr("y",Ge().state.padding).attr("width",n.width+2*Ge().state.padding).attr("height",n.height+2*Ge().state.padding).attr("rx",Ge().state.radius),r},"drawSimpleState"),iAe=o((e,t)=>{let r=o(function(p,f,g){let m=p.append("tspan").attr("x",2*Ge().state.padding).text(f);g||m.attr("dy",Ge().state.textHeight)},"addTspan"),n=e.append("text").attr("x",2*Ge().state.padding).attr("y",Ge().state.textHeight+1.3*Ge().state.padding).attr("font-size",Ge().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),i=n.height,a=e.append("text").attr("x",Ge().state.padding).attr("y",i+Ge().state.padding*.4+Ge().state.dividerMargin+Ge().state.textHeight).attr("class","state-description"),s=!0,l=!0;t.descriptions.forEach(function(p){s||(r(a,p,l),l=!1),s=!1});let u=e.append("line").attr("x1",Ge().state.padding).attr("y1",Ge().state.padding+i+Ge().state.dividerMargin/2).attr("y2",Ge().state.padding+i+Ge().state.dividerMargin/2).attr("class","descr-divider"),h=a.node().getBBox(),d=Math.max(h.width,n.width);return u.attr("x2",d+3*Ge().state.padding),e.insert("rect",":first-child").attr("x",Ge().state.padding).attr("y",Ge().state.padding).attr("width",d+2*Ge().state.padding).attr("height",h.height+i+2*Ge().state.padding).attr("rx",Ge().state.radius),e},"drawDescrState"),aAe=o((e,t,r)=>{let n=Ge().state.padding,i=2*Ge().state.padding,a=e.node().getBBox(),s=a.width,l=a.x,u=e.append("text").attr("x",0).attr("y",Ge().state.titleShift).attr("font-size",Ge().state.fontSize).attr("class","state-title").text(t.id),h=u.node().getBBox().width+i,d=Math.max(h,s);d===s&&(d=d+i);let p,f=e.node().getBBox();t.doc,p=l-n,h>s&&(p=(s-d)/2+n),Math.abs(l-f.x)<n&&h>s&&(p=l-(h-s)/2);let g=1-Ge().state.textHeight;return e.insert("rect",":first-child").attr("x",p).attr("y",g).attr("class",r?"alt-composit":"composit").attr("width",d).attr("height",f.height+Ge().state.textHeight+Ge().state.titleShift+1).attr("rx","0"),u.attr("x",p+n),h<=s&&u.attr("x",l+(d-i)/2-h/2+n),e.insert("rect",":first-child").attr("x",p).attr("y",Ge().state.titleShift-Ge().state.textHeight-Ge().state.padding).attr("width",d).attr("height",Ge().state.textHeight*3).attr("rx",Ge().state.radius),e.insert("rect",":first-child").attr("x",p).attr("y",Ge().state.titleShift-Ge().state.textHeight-Ge().state.padding).attr("width",d).attr("height",f.height+3+2*Ge().state.textHeight).attr("rx",Ge().state.radius),e},"addTitleAndBox"),sAe=o(e=>(e.append("circle").attr("class","end-state-outer").attr("r",Ge().state.sizeUnit+Ge().state.miniPadding).attr("cx",Ge().state.padding+Ge().state.sizeUnit+Ge().state.miniPadding).attr("cy",Ge().state.padding+Ge().state.sizeUnit+Ge().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",Ge().state.sizeUnit).attr("cx",Ge().state.padding+Ge().state.sizeUnit+2).attr("cy",Ge().state.padding+Ge().state.sizeUnit+2)),"drawEndState"),oAe=o((e,t)=>{let r=Ge().state.forkWidth,n=Ge().state.forkHeight;if(t.parentId){let i=r;r=n,n=i}return e.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",Ge().state.padding).attr("y",Ge().state.padding)},"drawForkJoinState"),lAe=o((e,t,r,n)=>{let i=0,a=n.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let s=e.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");let l=s.split(Yt.lineBreakRegex),u=1.25*Ge().state.noteMargin;for(let h of l){let d=h.trim();if(d.length>0){let p=a.append("tspan");if(p.text(d),u===0){let f=p.node().getBBox();u+=f.height}i+=u,p.attr("x",t+Ge().state.noteMargin),p.attr("y",r+i+1.25*Ge().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:i}},"_drawLongText"),cAe=o((e,t)=>{t.attr("class","state-note");let r=t.append("rect").attr("x",0).attr("y",Ge().state.padding),n=t.append("g"),{textWidth:i,textHeight:a}=lAe(e,0,0,n);return r.attr("height",a+2*Ge().state.noteMargin),r.attr("width",i+Ge().state.noteMargin*2),r},"drawNote"),fq=o(function(e,t){let r=t.id,n={id:r,label:t.id,width:0,height:0},i=e.append("g").attr("id",r).attr("class","stateGroup");t.type==="start"&&tAe(i),t.type==="end"&&sAe(i),(t.type==="fork"||t.type==="join")&&oAe(i,t),t.type==="note"&&cAe(t.note.text,i),t.type==="divider"&&rAe(i),t.type==="default"&&t.descriptions.length===0&&nAe(i,t),t.type==="default"&&t.descriptions.length>0&&iAe(i,t);let a=i.node().getBBox();return n.width=a.width+2*Ge().state.padding,n.height=a.height+2*Ge().state.padding,eAe.set(r,n),n},"drawState"),mq=0,uAe=o(function(e,t,r){let n=o(function(u){switch(u){case yh.relationType.AGGREGATION:return"aggregation";case yh.relationType.EXTENSION:return"extension";case yh.relationType.COMPOSITION:return"composition";case yh.relationType.DEPENDENCY:return"dependency"}},"getRelationType");t.points=t.points.filter(u=>!Number.isNaN(u.y));let i=t.points,a=wd().x(function(u){return u.x}).y(function(u){return u.y}).curve(Qf),s=e.append("path").attr("d",a(i)).attr("id","edge"+mq).attr("class","transition"),l="";if(Ge().state.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),s.attr("marker-end","url("+l+"#"+n(yh.relationType.DEPENDENCY)+"End)"),r.title!==void 0){let u=e.append("g").attr("class","stateLabel"),{x:h,y:d}=mn.calcLabelPosition(t.points),p=Yt.getRows(r.title),f=0,g=[],m=0,y=0;for(let x=0;x<=p.length;x++){let w=u.append("text").attr("text-anchor","middle").text(p[x]).attr("x",h).attr("y",d+f),E=w.node().getBBox();m=Math.max(m,E.width),y=Math.min(y,E.x),J.info(E.x,h,d+f),f===0&&(f=w.node().getBBox().height,J.info("Title height",f,d)),g.push(w)}let b=f*p.length;if(p.length>1){let x=(p.length-1)*f*.5;g.forEach((w,E)=>w.attr("y",d+E*f-x)),b=f*p.length}let v=u.node().getBBox();u.insert("rect",":first-child").attr("class","box").attr("x",h-m/2-Ge().state.padding/2).attr("y",d-b/2-Ge().state.padding/2-3.5).attr("width",m+Ge().state.padding).attr("height",b+Ge().state.padding),J.info(v)}mq++},"drawEdge")}),tc,QT,hAe,dAe,pAe,gAe,yq,fAe,net=R(()=>{"use strict";Ln(),Lw(),Xl(),We(),En(),ret(),zr(),Fa(),QT={},hAe=o(function(){},"setConf"),dAe=o(function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),pAe=o(function(e,t,r,n){tc=Ge().state;let i=Ge().securityLevel,a;i==="sandbox"&&(a=Bt("#i"+t));let s=Bt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body"),l=i==="sandbox"?a.nodes()[0].contentDocument:document;J.debug("Rendering diagram "+e);let u=s.select(`[id='${t}']`);dAe(u);let h=n.db.getRootDoc();yq(h,u,void 0,!1,s,l,n);let d=tc.padding,p=u.node().getBBox(),f=p.width+d*2,g=p.height+d*2,m=f*1.75;Qs(u,g,m,tc.useMaxWidth),u.attr("viewBox",`${p.x-tc.padding}  ${p.y-tc.padding} `+f+" "+g)},"draw"),gAe=o(e=>e?e.length*tc.fontSizeFactor:1,"getLabelWidth"),yq=o((e,t,r,n,i,a,s)=>{let l=new ao({compound:!0,multigraph:!0}),u,h=!0;for(u=0;u<e.length;u++)if(e[u].stmt==="relation"){h=!1;break}r?l.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:h?1:tc.edgeLengthFactor,nodeSep:h?1:50,isMultiGraph:!0}):l.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:h?1:tc.edgeLengthFactor,nodeSep:h?1:50,ranker:"tight-tree",isMultiGraph:!0}),l.setDefaultEdgeLabel(function(){return{}}),s.db.extract(e);let d=s.db.getStates(),p=s.db.getRelations(),f=Object.keys(d),g=!0;for(let x of f){let w=d[x];r&&(w.parentId=r);let E;if(w.doc){let A=t.append("g").attr("id",w.id).attr("class","stateGroup");if(E=yq(w.doc,A,w.id,!n,i,a,s),g){A=aAe(A,w,n);let N=A.node().getBBox();E.width=N.width,E.height=N.height+tc.padding/2,QT[w.id]={y:tc.compositTitleSize}}else{let N=A.node().getBBox();E.width=N.width,E.height=N.height}}else E=fq(t,w,l);if(w.note){let A={descriptions:[],id:w.id+"-note",note:w.note,type:"note"},N=fq(t,A,l);w.note.position==="left of"?(l.setNode(E.id+"-note",N),l.setNode(E.id,E)):(l.setNode(E.id,E),l.setNode(E.id+"-note",N)),l.setParent(E.id,E.id+"-group"),l.setParent(E.id+"-note",E.id+"-group")}else l.setNode(E.id,E)}J.debug("Count=",l.nodeCount(),l);let m=0;p.forEach(function(x){m++,J.debug("Setting edge",x),l.setEdge(x.id1,x.id2,{relation:x,width:gAe(x.title),height:tc.labelHeight*Yt.getRows(x.title).length,labelpos:"c"},"id"+m)}),x5(l),J.debug("Graph after layout",l.nodes());let y=t.node();l.nodes().forEach(function(x){x!==void 0&&l.node(x)!==void 0?(J.warn("Node "+x+": "+JSON.stringify(l.node(x))),i.select("#"+y.id+" #"+x).attr("transform","translate("+(l.node(x).x-l.node(x).width/2)+","+(l.node(x).y+(QT[x]?QT[x].y:0)-l.node(x).height/2)+" )"),i.select("#"+y.id+" #"+x).attr("data-x-shift",l.node(x).x-l.node(x).width/2),a.querySelectorAll("#"+y.id+" #"+x+" .divider").forEach(w=>{let E=w.parentElement,A=0,N=0;E&&(E.parentElement&&(A=E.parentElement.getBBox().width),N=parseInt(E.getAttribute("data-x-shift"),10),Number.isNaN(N)&&(N=0)),w.setAttribute("x1",0-N+8),w.setAttribute("x2",A-N-8)})):J.debug("No Node "+x+": "+JSON.stringify(l.node(x)))});let b=y.getBBox();l.edges().forEach(function(x){x!==void 0&&l.edge(x)!==void 0&&(J.debug("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(l.edge(x))),uAe(t,l.edge(x),l.edge(x).relation))}),b=y.getBBox();let v={id:r||"root",label:r||"root",width:0,height:0};return v.width=b.width+2*tc.padding,v.height=b.height+2*tc.padding,J.debug("Doc rendered",v,l),v},"renderDoc"),fAe={setConf:hAe,draw:pAe}}),mAe={};yr(mAe,{diagram:()=>yAe});var yAe,iet=R(()=>{"use strict";J_e(),dq(),KSe(),net(),yAe={parser:Pz,db:yh,renderer:fAe,styles:pq,init:o(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,yh.clear()},"init")}}),vAe={};yr(vAe,{diagram:()=>bAe});var bAe,aet=R(()=>{"use strict";J_e(),dq(),KSe(),SSe(),bAe={parser:Pz,db:yh,renderer:_Se,styles:pq,init:o(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,yh.clear()},"init")}}),JT,xAe,set=R(()=>{"use strict";JT=function(){var e=o(function(p,f,g,m){for(g=g||{},m=p.length;m--;g[p[m]]=f);return g},"o"),t=[6,8,10,11,12,14,16,17,18],r=[1,9],n=[1,10],i=[1,11],a=[1,12],s=[1,13],l=[1,14],u={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:o(function(p,f,g,m,y,b,v){var x=b.length-1;switch(y){case 1:return b[x-1];case 2:this.$=[];break;case 3:b[x-1].push(b[x]),this.$=b[x-1];break;case 4:case 5:this.$=b[x];break;case 6:case 7:this.$=[];break;case 8:m.setDiagramTitle(b[x].substr(6)),this.$=b[x].substr(6);break;case 9:this.$=b[x].trim(),m.setAccTitle(this.$);break;case 10:case 11:this.$=b[x].trim(),m.setAccDescription(this.$);break;case 12:m.addSection(b[x].substr(8)),this.$=b[x].substr(8);break;case 13:m.addTask(b[x-1],b[x]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:a,17:s,18:l},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:15,11:r,12:n,14:i,16:a,17:s,18:l},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,16]},{15:[1,17]},e(t,[2,11]),e(t,[2,12]),{19:[1,18]},e(t,[2,4]),e(t,[2,9]),e(t,[2,10]),e(t,[2,13])],defaultActions:{},parseError:o(function(p,f){if(f.recoverable)this.trace(p);else{var g=new Error(p);throw g.hash=f,g}},"parseError"),parse:o(function(p){var f=this,g=[0],m=[],y=[null],b=[],v=this.table,x="",w=0,E=0,A=0,N=2,L=1,C=b.slice.call(arguments,1),D=Object.create(this.lexer),P={yy:{}};for(var O in this.yy)Object.prototype.hasOwnProperty.call(this.yy,O)&&(P.yy[O]=this.yy[O]);D.setInput(p,P.yy),P.yy.lexer=D,P.yy.parser=this,typeof D.yylloc>"u"&&(D.yylloc={});var I=D.yylloc;b.push(I);var q=D.options&&D.options.ranges;typeof P.yy.parseError=="function"?this.parseError=P.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function S(Q){g.length=g.length-2*Q,y.length=y.length-Q,b.length=b.length-Q}o(S,"popStack");function B(){var Q;return Q=m.pop()||D.lex()||L,typeof Q!="number"&&(Q instanceof Array&&(m=Q,Q=m.pop()),Q=f.symbols_[Q]||Q),Q}o(B,"lex");for(var F,z,M,G,Y,V,X={},re,de,xe,he;;){if(M=g[g.length-1],this.defaultActions[M]?G=this.defaultActions[M]:((F===null||typeof F>"u")&&(F=B()),G=v[M]&&v[M][F]),typeof G>"u"||!G.length||!G[0]){var be="";he=[];for(re in v[M])this.terminals_[re]&&re>N&&he.push("'"+this.terminals_[re]+"'");D.showPosition?be="Parse error on line "+(w+1)+`:
`+D.showPosition()+`
Expecting `+he.join(", ")+", got '"+(this.terminals_[F]||F)+"'":be="Parse error on line "+(w+1)+": Unexpected "+(F==L?"end of input":"'"+(this.terminals_[F]||F)+"'"),this.parseError(be,{text:D.match,token:this.terminals_[F]||F,line:D.yylineno,loc:I,expected:he})}if(G[0]instanceof Array&&G.length>1)throw new Error("Parse Error: multiple actions possible at state: "+M+", token: "+F);switch(G[0]){case 1:g.push(F),y.push(D.yytext),b.push(D.yylloc),g.push(G[1]),F=null,z?(F=z,z=null):(E=D.yyleng,x=D.yytext,w=D.yylineno,I=D.yylloc,A>0&&A--);break;case 2:if(de=this.productions_[G[1]][1],X.$=y[y.length-de],X._$={first_line:b[b.length-(de||1)].first_line,last_line:b[b.length-1].last_line,first_column:b[b.length-(de||1)].first_column,last_column:b[b.length-1].last_column},q&&(X._$.range=[b[b.length-(de||1)].range[0],b[b.length-1].range[1]]),V=this.performAction.apply(X,[x,E,w,P.yy,G[1],y,b].concat(C)),typeof V<"u")return V;de&&(g=g.slice(0,-1*de*2),y=y.slice(0,-1*de),b=b.slice(0,-1*de)),g.push(this.productions_[G[1]][0]),y.push(X.$),b.push(X._$),xe=v[g[g.length-2]][g[g.length-1]],g.push(xe);break;case 3:return!0}}return!0},"parse")},h=function(){var p={EOF:1,parseError:o(function(f,g){if(this.yy.parser)this.yy.parser.parseError(f,g);else throw new Error(f)},"parseError"),setInput:o(function(f,g){return this.yy=g||this.yy||{},this._input=f,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var f=this._input[0];this.yytext+=f,this.yyleng++,this.offset++,this.match+=f,this.matched+=f;var g=f.match(/(?:\r\n?|\n).*/g);return g?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),f},"input"),unput:o(function(f){var g=f.length,m=f.split(/(?:\r\n?|\n)/g);this._input=f+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-g),this.offset-=g;var y=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var b=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===y.length?this.yylloc.first_column:0)+y[y.length-m.length].length-m[0].length:this.yylloc.first_column-g},this.options.ranges&&(this.yylloc.range=[b[0],b[0]+this.yyleng-g]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(f){this.unput(this.match.slice(f))},"less"),pastInput:o(function(){var f=this.matched.substr(0,this.matched.length-this.match.length);return(f.length>20?"...":"")+f.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var f=this.match;return f.length<20&&(f+=this._input.substr(0,20-f.length)),(f.substr(0,20)+(f.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var f=this.pastInput(),g=new Array(f.length+1).join("-");return f+this.upcomingInput()+`
`+g+"^"},"showPosition"),test_match:o(function(f,g){var m,y,b;if(this.options.backtrack_lexer&&(b={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(b.yylloc.range=this.yylloc.range.slice(0))),y=f[0].match(/(?:\r\n?|\n).*/g),y&&(this.yylineno+=y.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:y?y[y.length-1].length-y[y.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+f[0].length},this.yytext+=f[0],this.match+=f[0],this.matches=f,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(f[0].length),this.matched+=f[0],m=this.performAction.call(this,this.yy,this,g,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var v in b)this[v]=b[v];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var f,g,m,y;this._more||(this.yytext="",this.match="");for(var b=this._currentRules(),v=0;v<b.length;v++)if(m=this._input.match(this.rules[b[v]]),m&&(!g||m[0].length>g[0].length)){if(g=m,y=v,this.options.backtrack_lexer){if(f=this.test_match(m,b[v]),f!==!1)return f;if(this._backtrack){g=!1;continue}else return!1}else if(!this.options.flex)break}return g?(f=this.test_match(g,b[y]),f!==!1?f:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var f=this.next();return f||this.lex()},"lex"),begin:o(function(f){this.conditionStack.push(f)},"begin"),popState:o(function(){var f=this.conditionStack.length-1;return f>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(f){return f=this.conditionStack.length-1-Math.abs(f||0),f>=0?this.conditionStack[f]:"INITIAL"},"topState"),pushState:o(function(f){this.begin(f)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(f,g,m,y){var b=y;switch(m){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return p}();u.lexer=h;function d(){this.yy={}}return o(d,"Parser"),d.prototype=u,u.Parser=d,new d}(),JT.parser=JT,xAe=JT}),ug,eE,B2,F2,wAe,kAe,TAe,EAe,CAe,_Ae,SAe,vq,AAe,bq,oet=R(()=>{"use strict";zr(),ys(),ug="",eE=[],B2=[],F2=[],wAe=o(function(){eE.length=0,B2.length=0,ug="",F2.length=0,fs()},"clear"),kAe=o(function(e){ug=e,eE.push(e)},"addSection"),TAe=o(function(){return eE},"getSections"),EAe=o(function(){let e=vq(),t=100,r=0;for(;!e&&r<t;)e=vq(),r++;return B2.push(...F2),B2},"getTasks"),CAe=o(function(){let e=[];return B2.forEach(t=>{t.people&&e.push(...t.people)}),[...new Set(e)].sort()},"updateActors"),_Ae=o(function(e,t){let r=t.substr(1).split(":"),n=0,i=[];r.length===1?(n=Number(r[0]),i=[]):(n=Number(r[0]),i=r[1].split(","));let a=i.map(l=>l.trim()),s={section:ug,type:ug,people:a,task:e,score:n};F2.push(s)},"addTask"),SAe=o(function(e){let t={section:ug,type:ug,description:e,task:e,classes:[]};B2.push(t)},"addTaskOrg"),vq=o(function(){let e=o(function(r){return F2[r].processed},"compileTask"),t=!0;for(let[r,n]of F2.entries())e(r),t=t&&n.processed;return t},"compileTasks"),AAe=o(function(){return CAe()},"getActors"),bq={getConfig:o(()=>Ge().journey,"getConfig"),clear:wAe,setDiagramTitle:_o,getDiagramTitle:Is,setAccTitle:ms,getAccTitle:Ls,setAccDescription:Ns,getAccDescription:Ms,addSection:kAe,getSections:TAe,getTasks:EAe,addTask:_Ae,addTaskOrg:SAe,getActors:AAe}}),LAe,NAe,cet=R(()=>{"use strict";LAe=o(e=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
`,"getStyles"),NAe=LAe}),tE,MAe,xq,wq,IAe,DAe,kq,RAe,OAe,Tq,PAe,$2,uet=R(()=>{"use strict";Ln(),C7(),tE=o(function(e,t){return a3(e,t)},"drawRect"),MAe=o(function(e,t){let r=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),n=e.append("g");n.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),n.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function i(l){let u=pp().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}o(i,"smile");function a(l){let u=pp().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}o(a,"sad");function s(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return o(s,"ambivalent"),t.score>3?i(n):t.score<3?a(n):s(n),r},"drawFace"),xq=o(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),wq=o(function(e,t){return Rte(e,t)},"drawText"),IAe=o(function(e,t){function r(i,a,s,l,u){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+l-u)+" "+(i+s-u*1.2)+","+(a+l)+" "+i+","+(a+l)}o(r,"genPoints");let n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,wq(e,t)},"drawLabel"),DAe=o(function(e,t,r){let n=e.append("g"),i=kd();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width*t.taskCount+r.diagramMarginX*(t.taskCount-1),i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,tE(n,i),Tq(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),kq=-1,RAe=o(function(e,t,r){let n=t.x+r.width/2,i=e.append("g");kq++;let a=300+5*30;i.append("line").attr("id","task"+kq).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),MAe(i,{cx:n,cy:300+(5-t.score)*30,score:t.score});let s=kd();s.x=t.x,s.y=t.y,s.fill=t.fill,s.width=r.width,s.height=r.height,s.class="task task-type-"+t.num,s.rx=3,s.ry=3,tE(i,s);let l=t.x+14;t.people.forEach(u=>{let h=t.actors[u].color,d={cx:l,cy:t.y,r:7,fill:h,stroke:"#000",title:u,pos:t.actors[u].position};xq(i,d),l+=10}),Tq(r)(t.task,i,s.x,s.y,s.width,s.height,{class:"task"},r,t.colour)},"drawTask"),OAe=o(function(e,t){PL(e,t)},"drawBackgroundRect"),Tq=function(){function e(i,a,s,l,u,h,d,p){let f=a.append("text").attr("x",s+u/2).attr("y",l+h/2+5).style("font-color",p).style("text-anchor","middle").text(i);n(f,d)}o(e,"byText");function t(i,a,s,l,u,h,d,p,f){let{taskFontSize:g,taskFontFamily:m}=p,y=i.split(/<br\s*\/?>/gi);for(let b=0;b<y.length;b++){let v=b*g-g*(y.length-1)/2,x=a.append("text").attr("x",s+u/2).attr("y",l).attr("fill",f).style("text-anchor","middle").style("font-size",g).style("font-family",m);x.append("tspan").attr("x",s+u/2).attr("dy",v).text(y[b]),x.attr("y",l+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(x,d)}}o(t,"byTspan");function r(i,a,s,l,u,h,d,p){let f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",l).attr("width",u).attr("height",h).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,s,l,u,h,d,p),n(g,d)}o(r,"byFo");function n(i,a){for(let s in a)s in a&&i.attr(s,a[s])}return o(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),PAe=o(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),$2={drawRect:tE,drawCircle:xq,drawSection:DAe,drawText:wq,drawLabel:IAe,drawTask:RAe,drawBackgroundRect:OAe,initGraphics:PAe}});function BAe(e){let t=Ge().journey,r=60;Object.keys(vh).forEach(n=>{let i=vh[n].color,a={cx:20,cy:r,r:7,fill:i,stroke:"#000",pos:vh[n].position};$2.drawCircle(e,a);let s={x:40,y:r+7,fill:"#666",text:n,textMargin:t.boxTextMargin|5};$2.drawText(e,s),r+=20})}var FAe,vh,Zv,f1,$Ae,rc,rE,Eq,zAe,Cq,het=R(()=>{"use strict";Ln(),uet(),zr(),Fa(),FAe=o(function(e){Object.keys(e).forEach(function(t){Zv[t]=e[t]})},"setConf"),vh={},o(BAe,"drawActorLegend"),Zv=Ge().journey,f1=Zv.leftMargin,$Ae=o(function(e,t,r,n){let i=Ge().journey,a=Ge().securityLevel,s;a==="sandbox"&&(s=Bt("#i"+t));let l=Bt(a==="sandbox"?s.nodes()[0].contentDocument.body:"body");rc.init();let u=l.select("#"+t);$2.initGraphics(u);let h=n.db.getTasks(),d=n.db.getDiagramTitle(),p=n.db.getActors();for(let v in vh)delete vh[v];let f=0;p.forEach(v=>{vh[v]={color:i.actorColours[f%i.actorColours.length],position:f},f++}),BAe(u),rc.insert(0,0,f1,Object.keys(vh).length*50),zAe(u,h,0);let g=rc.getBounds();d&&u.append("text").text(d).attr("x",f1).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);let m=g.stopy-g.starty+2*i.diagramMarginY,y=f1+g.stopx+2*i.diagramMarginX;Qs(u,m,y,i.useMaxWidth),u.append("line").attr("x1",f1).attr("y1",i.height*4).attr("x2",y-f1-4).attr("y2",i.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");let b=d?70:0;u.attr("viewBox",`${g.startx} -25 ${y} ${m+b}`),u.attr("preserveAspectRatio","xMinYMin meet"),u.attr("height",m+b+25)},"draw"),rc={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:o(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:o(function(e,t,r,n){e[t]===void 0?e[t]=r:e[t]=n(r,e[t])},"updateVal"),updateBounds:o(function(e,t,r,n){let i=Ge().journey,a=this,s=0;function l(u){return o(function(h){s++;let d=a.sequenceItems.length-s+1;a.updateVal(h,"starty",t-d*i.boxMargin,Math.min),a.updateVal(h,"stopy",n+d*i.boxMargin,Math.max),a.updateVal(rc.data,"startx",e-d*i.boxMargin,Math.min),a.updateVal(rc.data,"stopx",r+d*i.boxMargin,Math.max),u!=="activation"&&(a.updateVal(h,"startx",e-d*i.boxMargin,Math.min),a.updateVal(h,"stopx",r+d*i.boxMargin,Math.max),a.updateVal(rc.data,"starty",t-d*i.boxMargin,Math.min),a.updateVal(rc.data,"stopy",n+d*i.boxMargin,Math.max))},"updateItemBounds")}o(l,"updateFn"),this.sequenceItems.forEach(l())},"updateBounds"),insert:o(function(e,t,r,n){let i=Math.min(e,r),a=Math.max(e,r),s=Math.min(t,n),l=Math.max(t,n);this.updateVal(rc.data,"startx",i,Math.min),this.updateVal(rc.data,"starty",s,Math.min),this.updateVal(rc.data,"stopx",a,Math.max),this.updateVal(rc.data,"stopy",l,Math.max),this.updateBounds(i,s,a,l)},"insert"),bumpVerticalPos:o(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:o(function(){return this.verticalPos},"getVerticalPos"),getBounds:o(function(){return this.data},"getBounds")},rE=Zv.sectionFills,Eq=Zv.sectionColours,zAe=o(function(e,t,r){let n=Ge().journey,i="",a=n.height*2+n.diagramMarginY,s=r+a,l=0,u="#CCC",h="black",d=0;for(let[p,f]of t.entries()){if(i!==f.section){u=rE[l%rE.length],d=l%rE.length,h=Eq[l%Eq.length];let m=0,y=f.section;for(let v=p;v<t.length&&t[v].section==y;v++)m=m+1;let b={x:p*n.taskMargin+p*n.width+f1,y:50,text:f.section,fill:u,num:d,colour:h,taskCount:m};$2.drawSection(e,b,n),i=f.section,l++}let g=f.people.reduce((m,y)=>(vh[y]&&(m[y]=vh[y]),m),{});f.x=p*n.taskMargin+p*n.width+f1,f.y=s,f.width=n.diagramMarginX,f.height=n.diagramMarginY,f.colour=h,f.fill=u,f.num=d,f.actors=g,$2.drawTask(e,f,n),rc.insert(f.x,f.y,f.x+f.width+n.taskMargin,300+5*30)}},"drawTasks"),Cq={setConf:FAe,draw:$Ae}}),qAe={};yr(qAe,{diagram:()=>GAe});var GAe,det=R(()=>{"use strict";set(),oet(),cet(),het(),GAe={parser:xAe,db:bq,renderer:Cq,styles:NAe,init:o(e=>{Cq.setConf(e.journey),bq.clear()},"init")}}),nE,YAe,pet=R(()=>{"use strict";nE=function(){var e=o(function(f,g,m,y){for(m=m||{},y=f.length;y--;m[f[y]]=g);return m},"o"),t=[6,8,10,11,12,14,16,17,20,21],r=[1,9],n=[1,10],i=[1,11],a=[1,12],s=[1,13],l=[1,16],u=[1,17],h={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:o(function(f,g,m,y,b,v,x){var w=v.length-1;switch(b){case 1:return v[w-1];case 2:this.$=[];break;case 3:v[w-1].push(v[w]),this.$=v[w-1];break;case 4:case 5:this.$=v[w];break;case 6:case 7:this.$=[];break;case 8:y.getCommonDb().setDiagramTitle(v[w].substr(6)),this.$=v[w].substr(6);break;case 9:this.$=v[w].trim(),y.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=v[w].trim(),y.getCommonDb().setAccDescription(this.$);break;case 12:y.addSection(v[w].substr(8)),this.$=v[w].substr(8);break;case 15:y.addTask(v[w],0,""),this.$=v[w];break;case 16:y.addEvent(v[w].substr(2)),this.$=v[w];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:i,16:a,17:s,18:14,19:15,20:l,21:u},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:18,11:r,12:n,14:i,16:a,17:s,18:14,19:15,20:l,21:u},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,19]},{15:[1,20]},e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),e(t,[2,4]),e(t,[2,9]),e(t,[2,10])],defaultActions:{},parseError:o(function(f,g){if(g.recoverable)this.trace(f);else{var m=new Error(f);throw m.hash=g,m}},"parseError"),parse:o(function(f){var g=this,m=[0],y=[],b=[null],v=[],x=this.table,w="",E=0,A=0,N=0,L=2,C=1,D=v.slice.call(arguments,1),P=Object.create(this.lexer),O={yy:{}};for(var I in this.yy)Object.prototype.hasOwnProperty.call(this.yy,I)&&(O.yy[I]=this.yy[I]);P.setInput(f,O.yy),O.yy.lexer=P,O.yy.parser=this,typeof P.yylloc>"u"&&(P.yylloc={});var q=P.yylloc;v.push(q);var S=P.options&&P.options.ranges;typeof O.yy.parseError=="function"?this.parseError=O.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function B(ne){m.length=m.length-2*ne,b.length=b.length-ne,v.length=v.length-ne}o(B,"popStack");function F(){var ne;return ne=y.pop()||P.lex()||C,typeof ne!="number"&&(ne instanceof Array&&(y=ne,ne=y.pop()),ne=g.symbols_[ne]||ne),ne}o(F,"lex");for(var z,M,G,Y,V,X,re={},de,xe,he,be;;){if(G=m[m.length-1],this.defaultActions[G]?Y=this.defaultActions[G]:((z===null||typeof z>"u")&&(z=F()),Y=x[G]&&x[G][z]),typeof Y>"u"||!Y.length||!Y[0]){var Q="";be=[];for(de in x[G])this.terminals_[de]&&de>L&&be.push("'"+this.terminals_[de]+"'");P.showPosition?Q="Parse error on line "+(E+1)+`:
`+P.showPosition()+`
Expecting `+be.join(", ")+", got '"+(this.terminals_[z]||z)+"'":Q="Parse error on line "+(E+1)+": Unexpected "+(z==C?"end of input":"'"+(this.terminals_[z]||z)+"'"),this.parseError(Q,{text:P.match,token:this.terminals_[z]||z,line:P.yylineno,loc:q,expected:be})}if(Y[0]instanceof Array&&Y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+G+", token: "+z);switch(Y[0]){case 1:m.push(z),b.push(P.yytext),v.push(P.yylloc),m.push(Y[1]),z=null,M?(z=M,M=null):(A=P.yyleng,w=P.yytext,E=P.yylineno,q=P.yylloc,N>0&&N--);break;case 2:if(xe=this.productions_[Y[1]][1],re.$=b[b.length-xe],re._$={first_line:v[v.length-(xe||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-(xe||1)].first_column,last_column:v[v.length-1].last_column},S&&(re._$.range=[v[v.length-(xe||1)].range[0],v[v.length-1].range[1]]),X=this.performAction.apply(re,[w,A,E,O.yy,Y[1],b,v].concat(D)),typeof X<"u")return X;xe&&(m=m.slice(0,-1*xe*2),b=b.slice(0,-1*xe),v=v.slice(0,-1*xe)),m.push(this.productions_[Y[1]][0]),b.push(re.$),v.push(re._$),he=x[m[m.length-2]][m[m.length-1]],m.push(he);break;case 3:return!0}}return!0},"parse")},d=function(){var f={EOF:1,parseError:o(function(g,m){if(this.yy.parser)this.yy.parser.parseError(g,m);else throw new Error(g)},"parseError"),setInput:o(function(g,m){return this.yy=m||this.yy||{},this._input=g,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var g=this._input[0];this.yytext+=g,this.yyleng++,this.offset++,this.match+=g,this.matched+=g;var m=g.match(/(?:\r\n?|\n).*/g);return m?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),g},"input"),unput:o(function(g){var m=g.length,y=g.split(/(?:\r\n?|\n)/g);this._input=g+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-m),this.offset-=m;var b=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),y.length-1&&(this.yylineno-=y.length-1);var v=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:y?(y.length===b.length?this.yylloc.first_column:0)+b[b.length-y.length].length-y[0].length:this.yylloc.first_column-m},this.options.ranges&&(this.yylloc.range=[v[0],v[0]+this.yyleng-m]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(g){this.unput(this.match.slice(g))},"less"),pastInput:o(function(){var g=this.matched.substr(0,this.matched.length-this.match.length);return(g.length>20?"...":"")+g.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var g=this.match;return g.length<20&&(g+=this._input.substr(0,20-g.length)),(g.substr(0,20)+(g.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var g=this.pastInput(),m=new Array(g.length+1).join("-");return g+this.upcomingInput()+`
`+m+"^"},"showPosition"),test_match:o(function(g,m){var y,b,v;if(this.options.backtrack_lexer&&(v={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(v.yylloc.range=this.yylloc.range.slice(0))),b=g[0].match(/(?:\r\n?|\n).*/g),b&&(this.yylineno+=b.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:b?b[b.length-1].length-b[b.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+g[0].length},this.yytext+=g[0],this.match+=g[0],this.matches=g,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(g[0].length),this.matched+=g[0],y=this.performAction.call(this,this.yy,this,m,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),y)return y;if(this._backtrack){for(var x in v)this[x]=v[x];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var g,m,y,b;this._more||(this.yytext="",this.match="");for(var v=this._currentRules(),x=0;x<v.length;x++)if(y=this._input.match(this.rules[v[x]]),y&&(!m||y[0].length>m[0].length)){if(m=y,b=x,this.options.backtrack_lexer){if(g=this.test_match(y,v[x]),g!==!1)return g;if(this._backtrack){m=!1;continue}else return!1}else if(!this.options.flex)break}return m?(g=this.test_match(m,v[b]),g!==!1?g:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var g=this.next();return g||this.lex()},"lex"),begin:o(function(g){this.conditionStack.push(g)},"begin"),popState:o(function(){var g=this.conditionStack.length-1;return g>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(g){return g=this.conditionStack.length-1-Math.abs(g||0),g>=0?this.conditionStack[g]:"INITIAL"},"topState"),pushState:o(function(g){this.begin(g)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(g,m,y,b){var v=b;switch(y){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s[^:\n]+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return f}();h.lexer=d;function p(){this.yy={}}return o(p,"Parser"),p.prototype=h,h.Parser=p,new p}(),nE.parser=nE,YAe=nE}),jAe={};yr(jAe,{addEvent:()=>Dq,addSection:()=>Lq,addTask:()=>Iq,addTaskOrg:()=>Rq,clear:()=>Aq,default:()=>HAe,getCommonDb:()=>Sq,getSections:()=>Nq,getTasks:()=>Mq});var hg,_q,iE,Qv,dg,Sq,Aq,Lq,Nq,Mq,Iq,Dq,Rq,Oq,HAe,get=R(()=>{"use strict";ys(),hg="",_q=0,iE=[],Qv=[],dg=[],Sq=o(()=>pS,"getCommonDb"),Aq=o(function(){iE.length=0,Qv.length=0,hg="",dg.length=0,fs()},"clear"),Lq=o(function(e){hg=e,iE.push(e)},"addSection"),Nq=o(function(){return iE},"getSections"),Mq=o(function(){let e=Oq(),t=100,r=0;for(;!e&&r<t;)e=Oq(),r++;return Qv.push(...dg),Qv},"getTasks"),Iq=o(function(e,t,r){let n={id:_q++,section:hg,type:hg,task:e,score:t||0,events:r?[r]:[]};dg.push(n)},"addTask"),Dq=o(function(e){dg.find(t=>t.id===_q-1).events.push(e)},"addEvent"),Rq=o(function(e){let t={section:hg,type:hg,description:e,task:e,classes:[]};Qv.push(t)},"addTaskOrg"),Oq=o(function(){let e=o(function(r){return dg[r].processed},"compileTask"),t=!0;for(let[r,n]of dg.entries())e(r),t=t&&n.processed;return t},"compileTasks"),HAe={clear:Aq,getCommonDb:Sq,addSection:Lq,getSections:Nq,getTasks:Mq,addTask:Iq,addTaskOrg:Rq,addEvent:Dq}});function Pq(e,t){e.each(function(){var r=Bt(this),n=r.text().split(/(\s+|<br>)/).reverse(),i,a=[],s=1.1,l=r.attr("y"),u=parseFloat(r.attr("dy")),h=r.text(null).append("tspan").attr("x",0).attr("y",l).attr("dy",u+"em");for(let d=0;d<n.length;d++)i=n[n.length-1-d],a.push(i),h.text(a.join(" ").trim()),(h.node().getComputedTextLength()>t||i==="<br>")&&(a.pop(),h.text(a.join(" ").trim()),i==="<br>"?a=[""]:a=[i],h=r.append("tspan").attr("x",0).attr("y",l).attr("dy",s+"em").text(i))})}var UAe,Jv,VAe,WAe,Bq,XAe,KAe,Fq,ZAe,QAe,JAe,aE,$q,eLe,tLe,rLe,nLe,m1,fet=R(()=>{"use strict";Ln(),UAe=12,Jv=o(function(e,t){let r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),t.class!==void 0&&r.attr("class",t.class),r},"drawRect"),VAe=o(function(e,t){let r=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),n=e.append("g");n.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),n.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function i(l){let u=pp().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}o(i,"smile");function a(l){let u=pp().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}o(a,"sad");function s(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return o(s,"ambivalent"),t.score>3?i(n):t.score<3?a(n):s(n),r},"drawFace"),WAe=o(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),Bq=o(function(e,t){let r=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),t.class!==void 0&&n.attr("class",t.class);let i=n.append("tspan");return i.attr("x",t.x+t.textMargin*2),i.text(r),n},"drawText"),XAe=o(function(e,t){function r(i,a,s,l,u){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+l-u)+" "+(i+s-u*1.2)+","+(a+l)+" "+i+","+(a+l)}o(r,"genPoints");let n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,Bq(e,t)},"drawLabel"),KAe=o(function(e,t,r){let n=e.append("g"),i=aE();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width,i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,Jv(n,i),$q(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),Fq=-1,ZAe=o(function(e,t,r){let n=t.x+r.width/2,i=e.append("g");Fq++;let a=300+5*30;i.append("line").attr("id","task"+Fq).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),VAe(i,{cx:n,cy:300+(5-t.score)*30,score:t.score});let s=aE();s.x=t.x,s.y=t.y,s.fill=t.fill,s.width=r.width,s.height=r.height,s.class="task task-type-"+t.num,s.rx=3,s.ry=3,Jv(i,s),$q(r)(t.task,i,s.x,s.y,s.width,s.height,{class:"task"},r,t.colour)},"drawTask"),QAe=o(function(e,t){Jv(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect"),JAe=o(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),aE=o(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),$q=function(){function e(i,a,s,l,u,h,d,p){let f=a.append("text").attr("x",s+u/2).attr("y",l+h/2+5).style("font-color",p).style("text-anchor","middle").text(i);n(f,d)}o(e,"byText");function t(i,a,s,l,u,h,d,p,f){let{taskFontSize:g,taskFontFamily:m}=p,y=i.split(/<br\s*\/?>/gi);for(let b=0;b<y.length;b++){let v=b*g-g*(y.length-1)/2,x=a.append("text").attr("x",s+u/2).attr("y",l).attr("fill",f).style("text-anchor","middle").style("font-size",g).style("font-family",m);x.append("tspan").attr("x",s+u/2).attr("dy",v).text(y[b]),x.attr("y",l+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(x,d)}}o(t,"byTspan");function r(i,a,s,l,u,h,d,p){let f=a.append("switch"),g=f.append("foreignObject").attr("x",s).attr("y",l).attr("width",u).attr("height",h).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");g.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),t(i,f,s,l,u,h,d,p),n(g,d)}o(r,"byFo");function n(i,a){for(let s in a)s in a&&i.attr(s,a[s])}return o(n,"_setTextAttrs"),function(i){return i.textPlacement==="fo"?r:i.textPlacement==="old"?e:t}}(),eLe=o(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),o(Pq,"wrap"),tLe=o(function(e,t,r,n){let i=r%UAe-1,a=e.append("g");t.section=i,a.attr("class",(t.class?t.class+" ":"")+"timeline-node "+("section-"+i));let s=a.append("g"),l=a.append("g"),u=l.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(Pq,t.width).node().getBBox(),h=n.fontSize?.replace?n.fontSize.replace("px",""):n.fontSize;return t.height=u.height+h*1.1*.5+t.padding,t.height=Math.max(t.height,t.maxHeight),t.width=t.width+2*t.padding,l.attr("transform","translate("+t.width/2+", "+t.padding/2+")"),nLe(s,t,i,n),t},"drawNode"),rLe=o(function(e,t,r){let n=e.append("g"),i=n.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(Pq,t.width).node().getBBox(),a=r.fontSize?.replace?r.fontSize.replace("px",""):r.fontSize;return n.remove(),i.height+a*1.1*.5+t.padding},"getVirtualNodeHeight"),nLe=o(function(e,t,r){e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("d",`M0 ${t.height-5} v${-t.height+2*5} q0,-5 5,-5 h${t.width-2*5} q5,0 5,5 v${t.height-5} H0 Z`),e.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",t.height).attr("x2",t.width).attr("y2",t.height)},"defaultBkg"),m1={drawRect:Jv,drawCircle:WAe,drawSection:KAe,drawText:Bq,drawLabel:XAe,drawTask:ZAe,drawBackgroundRect:QAe,getTextObj:JAe,getNoteRect:aE,initGraphics:eLe,drawNode:tLe,getVirtualNodeHeight:rLe}}),iLe,zq,aLe,sLe,met=R(()=>{"use strict";Ln(),fet(),We(),zr(),Fa(),iLe=o(function(e,t,r,n){let i=Ge(),a=i.leftMargin??50;J.debug("timeline",n.db);let s=i.securityLevel,l;s==="sandbox"&&(l=Bt("#i"+t));let u=Bt(s==="sandbox"?l.nodes()[0].contentDocument.body:"body").select("#"+t);u.append("g");let h=n.db.getTasks(),d=n.db.getCommonDb().getDiagramTitle();J.debug("task",h),m1.initGraphics(u);let p=n.db.getSections();J.debug("sections",p);let f=0,g=0,m=0,y=0,b=50+a,v=50;y=50;let x=0,w=!0;p.forEach(function(L){let C={number:x,descr:L,section:x,width:150,padding:20,maxHeight:f},D=m1.getVirtualNodeHeight(u,C,i);J.debug("sectionHeight before draw",D),f=Math.max(f,D+20)});let E=0,A=0;J.debug("tasks.length",h.length);for(let[L,C]of h.entries()){let D={number:L,descr:C,section:C.section,width:150,padding:20,maxHeight:g},P=m1.getVirtualNodeHeight(u,D,i);J.debug("taskHeight before draw",P),g=Math.max(g,P+20),E=Math.max(E,C.events.length);let O=0;for(let I of C.events){let q={descr:I,section:C.section,number:C.section,width:150,padding:20,maxHeight:50};O+=m1.getVirtualNodeHeight(u,q,i)}A=Math.max(A,O)}J.debug("maxSectionHeight before draw",f),J.debug("maxTaskHeight before draw",g),p&&p.length>0?p.forEach(L=>{let C=h.filter(I=>I.section===L),D={number:x,descr:L,section:x,width:200*Math.max(C.length,1)-50,padding:20,maxHeight:f};J.debug("sectionNode",D);let P=u.append("g"),O=m1.drawNode(P,D,x,i);J.debug("sectionNode output",O),P.attr("transform",`translate(${b}, ${y})`),v+=f+50,C.length>0&&zq(u,C,x,b,v,g,i,E,A,f,!1),b+=200*Math.max(C.length,1),v=y,x++}):(w=!1,zq(u,h,x,b,v,g,i,E,A,f,!0));let N=u.node().getBBox();J.debug("bounds",N),d&&u.append("text").text(d).attr("x",N.width/2-a).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),m=w?f+g+150:g+100,u.append("g").attr("class","lineWrapper").append("line").attr("x1",a).attr("y1",m).attr("x2",N.width+3*a).attr("y2",m).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),ep(void 0,u,i.timeline?.padding??50,i.timeline?.useMaxWidth??!1)},"draw"),zq=o(function(e,t,r,n,i,a,s,l,u,h,d){for(let p of t){let f={descr:p.task,section:r,number:r,width:150,padding:20,maxHeight:a};J.debug("taskNode",f);let g=e.append("g").attr("class","taskWrapper"),m=m1.drawNode(g,f,r,s).height;if(J.debug("taskHeight after draw",m),g.attr("transform",`translate(${n}, ${i})`),a=Math.max(a,m),p.events){let y=e.append("g").attr("class","lineWrapper"),b=a;i+=100,b=b+aLe(e,p.events,r,n,i,s),i-=100,y.append("line").attr("x1",n+190/2).attr("y1",i+a).attr("x2",n+190/2).attr("y2",i+a+(d?a:h)+u+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}n=n+200,d&&!s.timeline?.disableMulticolor&&r++}i=i-10},"drawTasks"),aLe=o(function(e,t,r,n,i,a){let s=0,l=i;i=i+100;for(let u of t){let h={descr:u,section:r,number:r,width:150,padding:20,maxHeight:50};J.debug("eventNode",h);let d=e.append("g").attr("class","eventWrapper"),p=m1.drawNode(d,h,r,a).height;s=s+p,d.attr("transform",`translate(${n}, ${i})`),i=i+10+p}return i=l,s},"drawEvents"),sLe={setConf:o(()=>{},"setConf"),draw:iLe}}),oLe,lLe,cLe,yet=R(()=>{"use strict";pl(),oLe=o(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],Hc(e["lineColor"+r])?e["lineColor"+r]=_r(e["lineColor"+r],20):e["lineColor"+r]=Mr(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){let n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${e["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),lLe=o(e=>`
  .edge {
    stroke-width: 3;
  }
  ${oLe(e)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),cLe=lLe}),uLe={};yr(uLe,{diagram:()=>hLe});var hLe,vet=R(()=>{"use strict";pet(),get(),met(),yet(),hLe={db:jAe,renderer:sLe,parser:YAe,styles:cLe}}),sE,dLe,bet=R(()=>{"use strict";sE=function(){var e=o(function(E,A,N,L){for(N=N||{},L=E.length;L--;N[E[L]]=A);return N},"o"),t=[1,4],r=[1,13],n=[1,12],i=[1,15],a=[1,16],s=[1,20],l=[1,19],u=[6,7,8],h=[1,26],d=[1,24],p=[1,25],f=[6,7,11],g=[1,6,13,15,16,19,22],m=[1,33],y=[1,34],b=[1,6,7,11,13,15,16,19,22],v={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:o(function(E,A,N,L,C,D,P){var O=D.length-1;switch(C){case 6:case 7:return L;case 8:L.getLogger().trace("Stop NL ");break;case 9:L.getLogger().trace("Stop EOF ");break;case 11:L.getLogger().trace("Stop NL2 ");break;case 12:L.getLogger().trace("Stop EOF2 ");break;case 15:L.getLogger().info("Node: ",D[O].id),L.addNode(D[O-1].length,D[O].id,D[O].descr,D[O].type);break;case 16:L.getLogger().trace("Icon: ",D[O]),L.decorateNode({icon:D[O]});break;case 17:case 21:L.decorateNode({class:D[O]});break;case 18:L.getLogger().trace("SPACELIST");break;case 19:L.getLogger().trace("Node: ",D[O].id),L.addNode(0,D[O].id,D[O].descr,D[O].type);break;case 20:L.decorateNode({icon:D[O]});break;case 25:L.getLogger().trace("node found ..",D[O-2]),this.$={id:D[O-1],descr:D[O-1],type:L.getType(D[O-2],D[O])};break;case 26:this.$={id:D[O],descr:D[O],type:L.nodeType.DEFAULT};break;case 27:L.getLogger().trace("node found ..",D[O-3]),this.$={id:D[O-3],descr:D[O-1],type:L.getType(D[O-2],D[O])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:l},e(u,[2,3]),{1:[2,2]},e(u,[2,4]),e(u,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:l},{6:r,9:22,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:l},{6:h,7:d,10:23,11:p},e(f,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:l}),e(f,[2,18]),e(f,[2,19]),e(f,[2,20]),e(f,[2,21]),e(f,[2,23]),e(f,[2,24]),e(f,[2,26],{19:[1,30]}),{20:[1,31]},{6:h,7:d,10:32,11:p},{1:[2,7],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:l},e(g,[2,14],{7:m,11:y}),e(b,[2,8]),e(b,[2,9]),e(b,[2,10]),e(f,[2,15]),e(f,[2,16]),e(f,[2,17]),{20:[1,35]},{21:[1,36]},e(g,[2,13],{7:m,11:y}),e(b,[2,11]),e(b,[2,12]),{21:[1,37]},e(f,[2,25]),e(f,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:o(function(E,A){if(A.recoverable)this.trace(E);else{var N=new Error(E);throw N.hash=A,N}},"parseError"),parse:o(function(E){var A=this,N=[0],L=[],C=[null],D=[],P=this.table,O="",I=0,q=0,S=0,B=2,F=1,z=D.slice.call(arguments,1),M=Object.create(this.lexer),G={yy:{}};for(var Y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Y)&&(G.yy[Y]=this.yy[Y]);M.setInput(E,G.yy),G.yy.lexer=M,G.yy.parser=this,typeof M.yylloc>"u"&&(M.yylloc={});var V=M.yylloc;D.push(V);var X=M.options&&M.options.ranges;typeof G.yy.parseError=="function"?this.parseError=G.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function re(rt){N.length=N.length-2*rt,C.length=C.length-rt,D.length=D.length-rt}o(re,"popStack");function de(){var rt;return rt=L.pop()||M.lex()||F,typeof rt!="number"&&(rt instanceof Array&&(L=rt,rt=L.pop()),rt=A.symbols_[rt]||rt),rt}o(de,"lex");for(var xe,he,be,Q,ne,ee,pe={},ie,De,se,je;;){if(be=N[N.length-1],this.defaultActions[be]?Q=this.defaultActions[be]:((xe===null||typeof xe>"u")&&(xe=de()),Q=P[be]&&P[be][xe]),typeof Q>"u"||!Q.length||!Q[0]){var ge="";je=[];for(ie in P[be])this.terminals_[ie]&&ie>B&&je.push("'"+this.terminals_[ie]+"'");M.showPosition?ge="Parse error on line "+(I+1)+`:
`+M.showPosition()+`
Expecting `+je.join(", ")+", got '"+(this.terminals_[xe]||xe)+"'":ge="Parse error on line "+(I+1)+": Unexpected "+(xe==F?"end of input":"'"+(this.terminals_[xe]||xe)+"'"),this.parseError(ge,{text:M.match,token:this.terminals_[xe]||xe,line:M.yylineno,loc:V,expected:je})}if(Q[0]instanceof Array&&Q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+be+", token: "+xe);switch(Q[0]){case 1:N.push(xe),C.push(M.yytext),D.push(M.yylloc),N.push(Q[1]),xe=null,he?(xe=he,he=null):(q=M.yyleng,O=M.yytext,I=M.yylineno,V=M.yylloc,S>0&&S--);break;case 2:if(De=this.productions_[Q[1]][1],pe.$=C[C.length-De],pe._$={first_line:D[D.length-(De||1)].first_line,last_line:D[D.length-1].last_line,first_column:D[D.length-(De||1)].first_column,last_column:D[D.length-1].last_column},X&&(pe._$.range=[D[D.length-(De||1)].range[0],D[D.length-1].range[1]]),ee=this.performAction.apply(pe,[O,q,I,G.yy,Q[1],C,D].concat(z)),typeof ee<"u")return ee;De&&(N=N.slice(0,-1*De*2),C=C.slice(0,-1*De),D=D.slice(0,-1*De)),N.push(this.productions_[Q[1]][0]),C.push(pe.$),D.push(pe._$),se=P[N[N.length-2]][N[N.length-1]],N.push(se);break;case 3:return!0}}return!0},"parse")},x=function(){var E={EOF:1,parseError:o(function(A,N){if(this.yy.parser)this.yy.parser.parseError(A,N);else throw new Error(A)},"parseError"),setInput:o(function(A,N){return this.yy=N||this.yy||{},this._input=A,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var A=this._input[0];this.yytext+=A,this.yyleng++,this.offset++,this.match+=A,this.matched+=A;var N=A.match(/(?:\r\n?|\n).*/g);return N?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),A},"input"),unput:o(function(A){var N=A.length,L=A.split(/(?:\r\n?|\n)/g);this._input=A+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-N),this.offset-=N;var C=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),L.length-1&&(this.yylineno-=L.length-1);var D=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:L?(L.length===C.length?this.yylloc.first_column:0)+C[C.length-L.length].length-L[0].length:this.yylloc.first_column-N},this.options.ranges&&(this.yylloc.range=[D[0],D[0]+this.yyleng-N]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(A){this.unput(this.match.slice(A))},"less"),pastInput:o(function(){var A=this.matched.substr(0,this.matched.length-this.match.length);return(A.length>20?"...":"")+A.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var A=this.match;return A.length<20&&(A+=this._input.substr(0,20-A.length)),(A.substr(0,20)+(A.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var A=this.pastInput(),N=new Array(A.length+1).join("-");return A+this.upcomingInput()+`
`+N+"^"},"showPosition"),test_match:o(function(A,N){var L,C,D;if(this.options.backtrack_lexer&&(D={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(D.yylloc.range=this.yylloc.range.slice(0))),C=A[0].match(/(?:\r\n?|\n).*/g),C&&(this.yylineno+=C.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C?C[C.length-1].length-C[C.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+A[0].length},this.yytext+=A[0],this.match+=A[0],this.matches=A,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(A[0].length),this.matched+=A[0],L=this.performAction.call(this,this.yy,this,N,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),L)return L;if(this._backtrack){for(var P in D)this[P]=D[P];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var A,N,L,C;this._more||(this.yytext="",this.match="");for(var D=this._currentRules(),P=0;P<D.length;P++)if(L=this._input.match(this.rules[D[P]]),L&&(!N||L[0].length>N[0].length)){if(N=L,C=P,this.options.backtrack_lexer){if(A=this.test_match(L,D[P]),A!==!1)return A;if(this._backtrack){N=!1;continue}else return!1}else if(!this.options.flex)break}return N?(A=this.test_match(N,D[C]),A!==!1?A:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var A=this.next();return A||this.lex()},"lex"),begin:o(function(A){this.conditionStack.push(A)},"begin"),popState:o(function(){var A=this.conditionStack.length-1;return A>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(A){return A=this.conditionStack.length-1-Math.abs(A||0),A>=0?this.conditionStack[A]:"INITIAL"},"topState"),pushState:o(function(A){this.begin(A)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(A,N,L,C){var D=C;switch(L){case 0:return A.getLogger().trace("Found comment",N.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:this.popState();break;case 5:A.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return A.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:A.getLogger().trace("end icon"),this.popState();break;case 10:return A.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return A.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return A.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return A.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:return this.begin("NODE"),19;case 15:return this.begin("NODE"),19;case 16:return this.begin("NODE"),19;case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:A.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return A.getLogger().trace("description:",N.yytext),"NODE_DESCR";case 26:this.popState();break;case 27:return this.popState(),A.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),A.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),A.getLogger().trace("node end ...",N.yytext),"NODE_DEND";case 30:return this.popState(),A.getLogger().trace("node end (("),"NODE_DEND";case 31:return this.popState(),A.getLogger().trace("node end (-"),"NODE_DEND";case 32:return this.popState(),A.getLogger().trace("node end (-"),"NODE_DEND";case 33:return this.popState(),A.getLogger().trace("node end (("),"NODE_DEND";case 34:return this.popState(),A.getLogger().trace("node end (("),"NODE_DEND";case 35:return A.getLogger().trace("Long description:",N.yytext),20;case 36:return A.getLogger().trace("Long description:",N.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return E}();v.lexer=x;function w(){this.yy={}}return o(w,"Parser"),w.prototype=v,v.Parser=w,new w}(),sE.parser=sE,dLe=sE}),Rc,qq,oE,pLe,gLe,fLe,mLe,ts,yLe,vLe,bLe,xLe,wLe,kLe,TLe,ELe,xet=R(()=>{"use strict";zr(),En(),We(),ka(),Rc=[],qq=0,oE={},pLe=o(()=>{Rc=[],qq=0,oE={}},"clear"),gLe=o(function(e){for(let t=Rc.length-1;t>=0;t--)if(Rc[t].level<e)return Rc[t];return null},"getParent"),fLe=o(()=>Rc.length>0?Rc[0]:null,"getMindmap"),mLe=o((e,t,r,n)=>{J.info("addNode",e,t,r,n);let i=Ge(),a=i.mindmap?.padding??Fn.mindmap.padding;switch(n){case ts.ROUNDED_RECT:case ts.RECT:case ts.HEXAGON:a*=2}let s={id:qq++,nodeId:Ei(t,i),level:e,descr:Ei(r,i),type:n,children:[],width:i.mindmap?.maxNodeWidth??Fn.mindmap.maxNodeWidth,padding:a},l=gLe(e);if(l)l.children.push(s),Rc.push(s);else if(Rc.length===0)Rc.push(s);else throw new Error('There can be only one root. No parent could be found for ("'+s.descr+'")')},"addNode"),ts={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},yLe=o((e,t)=>{switch(J.debug("In get type",e,t),e){case"[":return ts.RECT;case"(":return t===")"?ts.ROUNDED_RECT:ts.CLOUD;case"((":return ts.CIRCLE;case")":return ts.CLOUD;case"))":return ts.BANG;case"{{":return ts.HEXAGON;default:return ts.DEFAULT}},"getType"),vLe=o((e,t)=>{oE[e]=t},"setElementForId"),bLe=o(e=>{if(!e)return;let t=Ge(),r=Rc[Rc.length-1];e.icon&&(r.icon=Ei(e.icon,t)),e.class&&(r.class=Ei(e.class,t))},"decorateNode"),xLe=o(e=>{switch(e){case ts.DEFAULT:return"no-border";case ts.RECT:return"rect";case ts.ROUNDED_RECT:return"rounded-rect";case ts.CIRCLE:return"circle";case ts.CLOUD:return"cloud";case ts.BANG:return"bang";case ts.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),wLe=o(()=>J,"getLogger"),kLe=o(e=>oE[e],"getElementById"),TLe={clear:pLe,addNode:mLe,getMindmap:fLe,nodeType:ts,getType:yLe,setElementForId:vLe,decorateNode:bLe,type2Str:xLe,getLogger:wLe,getElementById:kLe},ELe=TLe});function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function lE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cE(e,t,r){return t&&Gq(e.prototype,t),r&&Gq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yq(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oc(e,t){return CLe(e)||_Le(e,t)||jq(e,t)||SLe()}function CLe(e){if(Array.isArray(e))return e}function _Le(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,s,l;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(u){a=!0,l=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw l}}return n}}function jq(e,t){if(e){if(typeof e=="string")return Hq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hq(e,t)}}function Hq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uq(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=jq(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=o(function(){},"F");return{s:i,n:o(function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},"n"),e:o(function(u){throw u},"e"),f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,l;return{s:o(function(){r=r.call(e)},"s"),n:o(function(){var u=r.next();return a=u.done,u},"n"),e:o(function(u){s=!0,l=u},"e"),f:o(function(){try{!a&&r.return!=null&&r.return()}finally{if(s)throw l}},"f")}}function ALe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function LLe(e,t){return t={exports:{}},e(t,t.exports),t.exports}function NLe(e){for(var t=e.length;t--&&hMe.test(e.charAt(t)););return t}function MLe(e){return e&&e.slice(0,dMe(e)+1).replace(pMe,"")}function ILe(e){var t=mMe.call(e,U2),r=e[U2];try{e[U2]=void 0;var n=!0}catch{}var i=yMe.call(e);return n&&(t?e[U2]=r:delete e[U2]),i}function DLe(e){return xMe.call(e)}function RLe(e){return e==null?e===void 0?TMe:kMe:LG&&LG in Object(e)?vMe(e):wMe(e)}function OLe(e){return e!=null&&typeof e=="object"}function PLe(e){return typeof e=="symbol"||EMe(e)&&NG(e)==CMe}function BLe(e){if(typeof e=="number")return e;if(V2(e))return MG;if(y1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=y1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=gMe(e);var r=SMe.test(e);return r||AMe.test(e)?LMe(e.slice(2),r?2:8):_Me.test(e)?MG:+e}function FLe(e,t,r){var n,i,a,s,l,u,h=0,d=!1,p=!1,f=!0;if(typeof e!="function")throw new TypeError(NMe);t=IG(t)||0,y1(r)&&(d=!!r.leading,p="maxWait"in r,a=p?MMe(IG(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f);function g(N){var L=n,C=i;return n=i=void 0,h=N,s=e.apply(C,L),s}o(g,"invokeFunc");function m(N){return h=N,l=setTimeout(v,t),d?g(N):s}o(m,"leadingEdge");function y(N){var L=N-u,C=N-h,D=t-L;return p?IMe(D,a-C):D}o(y,"remainingWait");function b(N){var L=N-u,C=N-h;return u===void 0||L>=t||L<0||p&&C>=a}o(b,"shouldInvoke");function v(){var N=xE();if(b(N))return x(N);l=setTimeout(v,y(N))}o(v,"timerExpired");function x(N){return l=void 0,f&&n?g(N):(n=i=void 0,s)}o(x,"trailingEdge");function w(){l!==void 0&&clearTimeout(l),h=0,n=u=i=l=void 0}o(w,"cancel");function E(){return l===void 0?s:x(xE())}o(E,"flush");function A(){var N=xE(),L=b(N);if(n=arguments,i=this,u=N,L){if(l===void 0)return m(u);if(p)return clearTimeout(l),l=setTimeout(v,t),g(u)}return l===void 0&&(l=setTimeout(v,t)),s}return o(A,"debounced"),A.cancel=w,A.flush=E,A}function eb(e,t,r,n,i,a){var s;return ia(e)?s=e:s=Sg[e]||Sg.euclidean,t===0&&ia(e)?s(i,a):s(t,r,n,i,a)}function $Le(e,t){if(Cb(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||V2(e)?!0:TDe.test(e)||!kDe.test(e)||t!=null&&e in Object(t)}function zLe(e){if(!y1(e))return!1;var t=NG(e);return t==_De||t==SDe||t==CDe||t==ADe}function qLe(e){return!!kY&&kY in e}function GLe(e){if(e!=null){try{return DDe.call(e)}catch{}try{return e+""}catch{}}return""}function YLe(e){if(!y1(e)||MDe(e))return!1;var t=LDe(e)?qDe:PDe;return t.test(RDe(e))}function jLe(e,t){return e?.[t]}function HLe(e,t){var r=YDe(e,t);return GDe(r)?r:void 0}function ULe(){this.__data__=ny?ny(null):{},this.size=0}function VLe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function WLe(e){var t=this.__data__;if(ny){var r=t[e];return r===VDe?void 0:r}return XDe.call(t,e)?t[e]:void 0}function XLe(e){var t=this.__data__;return ny?t[e]!==void 0:QDe.call(t,e)}function KLe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ny&&t===void 0?eRe:t,this}function pg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ZLe(){this.__data__=[],this.size=0}function QLe(e,t){return e===t||e!==e&&t!==t}function JLe(e,t){for(var r=e.length;r--;)if(EY(e[r][0],t))return r;return-1}function eNe(e){var t=this.__data__,r=_b(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():iRe.call(t,r,1),--this.size,!0}function tNe(e){var t=this.__data__,r=_b(t,e);return r<0?void 0:t[r][1]}function rNe(e){return _b(this.__data__,e)>-1}function nNe(e,t){var r=this.__data__,n=_b(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function gg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function iNe(){this.size=0,this.__data__={hash:new TY,map:new(hRe||cRe),string:new TY}}function aNe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function sNe(e,t){var r=e.__data__;return pRe(t)?r[typeof t=="string"?"string":"hash"]:r.map}function oNe(e){var t=Sb(this,e).delete(e);return this.size-=t?1:0,t}function lNe(e){return Sb(this,e).get(e)}function cNe(e){return Sb(this,e).has(e)}function uNe(e,t){var r=Sb(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function fg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function uE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(vRe);var r=o(function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s},"memoized");return r.cache=new(uE.Cache||CY),r}function hNe(e){var t=bRe(e,function(n){return r.size===xRe&&r.clear(),n}),r=t.cache;return t}function dNe(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Vq(e){if(typeof e=="string")return e;if(Cb(e))return SY(e,Vq)+"";if(V2(e))return LY?LY.call(e):"";var t=e+"";return t=="0"&&1/e==-CRe?"-0":t}function pNe(e){return e==null?"":_Re(e)}function gNe(e,t){return Cb(e)?e:EDe(e,t)?[e]:_Y(NY(e))}function fNe(e){if(typeof e=="string"||V2(e))return e;var t=e+"";return t=="0"&&1/e==-SRe?"-0":t}function mNe(e,t){t=MY(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[FE(t[r++])];return r&&r==n?e:void 0}function yNe(e,t,r){var n=e==null?void 0:ARe(e,t);return n===void 0?r:n}function vNe(e,t,r){t=="__proto__"&&IY?IY(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function bNe(e,t,r){var n=e[t];(!(DRe.call(e,t)&&EY(n,r))||r===void 0&&!(t in e))&&MRe(e,t,r)}function xNe(e,t){var r=typeof e;return t=t??ORe,!!t&&(r=="number"||r!="symbol"&&PRe.test(e))&&e>-1&&e%1==0&&e<t}function wNe(e,t,r,n){if(!y1(e))return e;t=MY(t,e);for(var i=-1,a=t.length,s=a-1,l=e;l!=null&&++i<a;){var u=FE(t[i]),h=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=s){var d=l[u];h=n?n(d,u,l):void 0,h===void 0&&(h=y1(d)?d:BRe(t[i+1])?[]:{})}RRe(l,u,h),l=l[u]}return e}function kNe(e,t,r){return e==null?e:FRe(e,t,r)}function TNe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function ENe(e){return Cb(e)?SY(e,FE):V2(e)?[e]:zRe(_Y(NY(e)))}function hE(e,t,r,n){for(var i=[],a=new wg,s=e.cy(),l=s.hasCompoundNodes(),u=0;u<e.length;u++){var h=e[u];r?i.push(h):l&&n(i,a,h)}for(;i.length>0;){var d=i.shift();t(d),a.add(d.id()),l&&n(i,a,d)}return e}function Wq(e,t,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];t.has(a.id())||e.push(a)}}function Xq(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}function CNe(e,t,r){Xq(e,t,r),Wq(e,t,r)}function dE(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,s=0;s<a.length;s++){var l=a[s];!t&&l.isLoop()||(n+=e(i,l))}return n}else return}}function mg(e,t){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var s=i[a],l=s[e](r);l!==void 0&&(n===void 0||t(l,n))&&(n=l)}return n}}function z2(){return!1}function tb(){return!0}function rb(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:COe,t=arguments.length>1?arguments[1]:void 0,r=0;r<UY.length;r++){var n=UY[r];this[n]=e[n]||HY[n]}this.context=t||this.context,this.listeners=[],this.emitting=0}function Kq(e,t,r){var n=r._private,i=n.styleCache=n.styleCache||[],a;return(a=i[e])!=null||(a=i[e]=t(r)),a}function nb(e,t){return e=v1(e),o(function(r){return Kq(e,t,r)},"cachedStyleFunction")}function ib(e,t){e=v1(e);var r=o(function(n){return t.call(n)},"selfFn");return o(function(){var n=this[0];if(n)return Kq(e,r,n)},"cachedPrototypeStyleFunction")}function pE(e,t){var r=e._private,n=r.data.parent?e.parents():null;if(n)for(var i=0;i<n.length;i++){var a=n[i];if(!t(a))return!1}return!0}function gE(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],s=i.hasCompoundNodes();if(a){var l=a._private;if(!t(a))return!1;if(a.isNode())return!s||pE(a,n);var u=l.source,h=l.target;return r(u)&&(!s||pE(u,r))&&(u===h||r(h)&&(!s||pE(h,r)))}}}function Zq(e){return function(){var t=arguments,r=[];if(t.length===2){var n=t[0],i=t[1];this.on(e.event,n,i)}else if(t.length===1&&ia(t[0])){var a=t[0];this.on(e.event,a)}else if(t.length===0||t.length===1&&Di(t[0])){for(var s=t.length===1?t[0]:null,l=0;l<this.length;l++){var u=this[l],h=!e.ableField||u._private[e.ableField],d=u._private[e.field]!=e.value;if(e.overrideAble){var p=e.overrideAble(u);if(p!==void 0&&(h=p,!p))return this}h&&(u._private[e.field]=e.value,d&&r.push(u))}var f=this.spawn(r);f.updateStyle(),f.emit(e.event),s&&f.emit(s)}return this}}function yg(e){G0[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},G0[e.on]=Zq({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),G0[e.off]=Zq({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}function Qq(e){return o(function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n],a=i._private[e.attr];a&&r.push(a)}return this.spawn(r,!0).filter(t)},"sourceImpl")}function Jq(e){return o(function(t){var r=[],n=this._private.cy,i=e||{};Ur(t)&&(t=n.$(t));for(var a=0;a<t.length;a++)for(var s=t[a]._private.edges,l=0;l<s.length;l++){var u=s[l],h=u._private.data,d=this.hasElementWithId(h.source)&&t.hasElementWithId(h.target),p=t.hasElementWithId(h.source)&&this.hasElementWithId(h.target),f=d||p;f&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!d||i.thisIsTgt&&!p)||r.push(u))}return this.spawn(r,!0)},"edgesWithImpl")}function eG(e){var t={codirected:!1};return e=nn({},t,e),o(function(r){for(var n=[],i=this.edges(),a=e,s=0;s<i.length;s++)for(var l=i[s],u=l._private,h=u.source,d=h._private.data.id,p=u.data.target,f=h._private.edges,g=0;g<f.length;g++){var m=f[g],y=m._private.data,b=y.target,v=y.source,x=b===p&&v===d,w=d===b&&p===v;(a.codirected&&x||!a.codirected&&(x||w))&&n.push(m)}return this.spawn(n,!0).filter(r)},"parallelEdgesImpl")}function _Ne(e,t,r,n){var i=4,a=.001,s=1e-7,l=10,u=11,h=1/(u-1),d=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var p=0;p<4;++p)if(typeof arguments[p]!="number"||isNaN(arguments[p])||!isFinite(arguments[p]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var f=d?new Float32Array(u):new Array(u);function g(P,O){return 1-3*O+3*P}o(g,"A");function m(P,O){return 3*O-6*P}o(m,"B");function y(P){return 3*P}o(y,"C");function b(P,O,I){return((g(O,I)*P+m(O,I))*P+y(O))*P}o(b,"calcBezier");function v(P,O,I){return 3*g(O,I)*P*P+2*m(O,I)*P+y(O)}o(v,"getSlope");function x(P,O){for(var I=0;I<i;++I){var q=v(O,e,r);if(q===0)return O;var S=b(O,e,r)-P;O-=S/q}return O}o(x,"newtonRaphsonIterate");function w(){for(var P=0;P<u;++P)f[P]=b(P*h,e,r)}o(w,"calcSampleValues");function E(P,O,I){var q,S,B=0;do S=O+(I-O)/2,q=b(S,e,r)-P,q>0?I=S:O=S;while(Math.abs(q)>s&&++B<l);return S}o(E,"binarySubdivide");function A(P){for(var O=0,I=1,q=u-1;I!==q&&f[I]<=P;++I)O+=h;--I;var S=(P-f[I])/(f[I+1]-f[I]),B=O+S*h,F=v(B,e,r);return F>=a?x(P,B):F===0?B:E(P,O,O+h)}o(A,"getTForX");var N=!1;function L(){N=!0,(e!==t||r!==n)&&w()}o(L,"precompute");var C=o(function(P){return N||L(),e===t&&r===n?P:P===0?0:P===1?1:b(A(P),t,n)},"f");C.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var D="generateBezier("+[e,t,r,n]+")";return C.toString=function(){return D},C}function tG(e,t,r,n,i){if(n===1||t===r)return r;var a=i(t,r,n);return e==null||((e.roundValue||e.color)&&(a=Math.round(a)),e.min!==void 0&&(a=Math.max(a,e.min)),e.max!==void 0&&(a=Math.min(a,e.max))),a}function rG(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function vg(e,t,r,n,i){var a=i!=null?i.type:null;r<0?r=0:r>1&&(r=1);var s=rG(e,i),l=rG(t,i);if(hr(s)&&hr(l))return tG(a,s,l,r,n);if(Di(s)&&Di(l)){for(var u=[],h=0;h<l.length;h++){var d=s[h],p=l[h];if(d!=null&&p!=null){var f=tG(a,d,p,r,n);u.push(f)}else u.push(p)}return u}}function SNe(e,t,r,n){var i=!n,a=e._private,s=t._private,l=s.easing,u=s.startTime,h=n?e:e.cy(),d=h.style();if(!s.easingImpl)if(l==null)s.easingImpl=Bb.linear;else{var p;if(Ur(l)){var f=d.parse("transition-timing-function",l);p=f.value}else p=l;var g,m;Ur(p)?(g=p,m=[]):(g=p[1],m=p.slice(2).map(function(G){return+G})),m.length>0?(g==="spring"&&m.push(s.duration),s.easingImpl=Bb[g].apply(null,m)):s.easingImpl=Bb[g]}var y=s.easingImpl,b;if(s.duration===0?b=1:b=(r-u)/s.duration,s.applying&&(b=s.progress),b<0?b=0:b>1&&(b=1),s.delay==null){var v=s.startPosition,x=s.position;if(x&&i&&!e.locked()){var w={};q2(v.x,x.x)&&(w.x=vg(v.x,x.x,b,y)),q2(v.y,x.y)&&(w.y=vg(v.y,x.y,b,y)),e.position(w)}var E=s.startPan,A=s.pan,N=a.pan,L=A!=null&&n;L&&(q2(E.x,A.x)&&(N.x=vg(E.x,A.x,b,y)),q2(E.y,A.y)&&(N.y=vg(E.y,A.y,b,y)),e.emit("pan"));var C=s.startZoom,D=s.zoom,P=D!=null&&n;P&&(q2(C,D)&&(a.zoom=J2(a.minZoom,vg(C,D,b,y),a.maxZoom)),e.emit("zoom")),(L||P)&&e.emit("viewport");var O=s.style;if(O&&O.length>0&&i){for(var I=0;I<O.length;I++){var q=O[I],S=q.name,B=q,F=s.startStyle[S],z=d.properties[F.name],M=vg(F,B,b,y,z);d.overrideBypass(e,S,M)}e.emit("style")}}return s.progress=b,b}function q2(e,t){return e==null||t==null?!1:hr(e)&&hr(t)?!0:!!(e&&t)}function ANe(e,t,r,n){var i=t._private;i.started=!0,i.startTime=r-i.progress*i.duration}function nG(e,t){var r=t._private.aniEles,n=[];function i(d,p){var f=d._private,g=f.animation.current,m=f.animation.queue,y=!1;if(g.length===0){var b=m.shift();b&&g.push(b)}for(var v=o(function(A){for(var N=A.length-1;N>=0;N--){var L=A[N];L()}A.splice(0,A.length)},"callbacks"),x=g.length-1;x>=0;x--){var w=g[x],E=w._private;if(E.stopped){g.splice(x,1),E.hooked=!1,E.playing=!1,E.started=!1,v(E.frames);continue}!E.playing&&!E.applying||(E.playing&&E.applying&&(E.applying=!1),E.started||ANe(d,w,e),SNe(d,w,e,p),E.applying&&(E.applying=!1),v(E.frames),E.step!=null&&E.step(e),w.completed()&&(g.splice(x,1),E.hooked=!1,E.playing=!1,E.started=!1,v(E.completes)),y=!0)}return!p&&g.length===0&&m.length===0&&n.push(d),y}o(i,"stepOne");for(var a=!1,s=0;s<r.length;s++){var l=r[s],u=i(l);a=a||u}var h=i(t,!0);(a||h)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(n),t.emit("step")}function iG(e){this.options=nn({},jOe,HOe,e)}function aG(e){this.options=nn({},UOe,e)}function sG(e){this.options=nn({},VOe,e)}function ab(e){this.options=nn({},WOe,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(i){var a=i.source().data("id"),s=i.target().data("id"),l=t.some(function(h){return h.data("id")===a}),u=t.some(function(h){return h.data("id")===s});return!l||!u});this.options.eles=this.options.eles.not(n)}function oG(e){this.options=nn({},uPe,e)}function fE(e){this.options=nn({},hPe,e)}function lG(e){this.options=nn({},dPe,e)}function cG(e){this.options=nn({},pPe,e)}function uG(e){this.options=e,this.notifications=0}function hG(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function mE(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(wPe(e,t,r,n,i),{cx:cj,cy:uj,radius:Og,startX:yPe,startY:vPe,stopX:hj,stopY:dj,startAngle:_u.ang+Math.PI/2*Dg,endAngle:ac.ang-Math.PI/2*Dg,counterClockwise:WE})}function dG(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];t.push({x:n,y:i})}return t}}function LNe(e,t,r){for(var n=o(function(u,h,d,p){return ws(u,h,d,p)},"qbezierAt$1"),i=t._private,a=i.rstyle.bezierPts,s=0;s<e.bezierProjPcts.length;s++){var l=e.bezierProjPcts[s];a.push({x:n(r[0],r[2],r[4],l),y:n(r[1],r[3],r[5],l)})}}function NNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}}function MNe(e,t,r){for(var n,i=0;i<t.length;i++){var a=t[i];i===0&&(n=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)}function pG(e,t,r){e.beginPath&&e.beginPath();for(var n=t,i=0;i<n.length;i++){var a=n[i];e.lineTo(a.x,a.y)}var s=r,l=r[0];e.moveTo(l.x,l.y);for(var i=1;i<s.length;i++){var a=s[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()}function INe(e,t,r,n,i){e.beginPath&&e.beginPath(),e.arc(r,n,i,0,Math.PI*2,!1);var a=t,s=a[0];e.moveTo(s.x,s.y);for(var l=0;l<a.length;l++){var u=a[l];e.lineTo(u.x,u.y)}e.closePath&&e.closePath()}function DNe(e,t,r,n){e.arc(t,r,n,0,Math.PI*2,!1)}function yE(e,t,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=arguments.length>6?arguments[6]:void 0;e.beginPath(),e.moveTo(t+a,r),e.lineTo(t+n-a,r),e.quadraticCurveTo(t+n,r,t+n,r+a),e.lineTo(t+n,r+i-a),e.quadraticCurveTo(t+n,r+i,t+n-a,r+i),e.lineTo(t+a,r+i),e.quadraticCurveTo(t,r+i,t,r+i-a),e.lineTo(t,r+a),e.quadraticCurveTo(t,r,t+a,r),e.closePath(),s?e.stroke():e.fill()}function RNe(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:t})}function gG(e){var t=e.indexOf(",");return e.substr(t+1)}function fG(e,t,r){var n=o(function(){return t.toDataURL(r,e.quality)},"getB64Uri");switch(e.output){case"blob-promise":return new Ag(function(i,a){try{t.toBlob(function(s){s!=null?i(s):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(s){a(s)}});case"blob":return RNe(gG(n()),r);case"base64":return gG(n());case"base64uri":default:return n()}}function mG(e){var t=this,r=t.cy.window(),n=r.document;t.data={canvases:new Array(ii.CANVAS_LAYERS),contexts:new Array(ii.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ii.CANVAS_LAYERS),bufferCanvases:new Array(ii.BUFFER_COUNT),bufferContexts:new Array(ii.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var s=t.data.canvasContainer.style;t.data.canvasContainer.style[i]=a,s.position="relative",s.zIndex="0",s.overflow="hidden";var l=e.cy.container();l.appendChild(t.data.canvasContainer),l.style[i]=a;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};UNe()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var h=0;h<ii.CANVAS_LAYERS;h++){var d=t.data.canvases[h]=n.createElement("canvas");t.data.contexts[h]=d.getContext("2d"),Object.keys(u).forEach(function(Q){d.style[Q]=u[Q]}),d.style.position="absolute",d.setAttribute("data-id","layer"+h),d.style.zIndex=String(ii.CANVAS_LAYERS-h),t.data.canvasContainer.appendChild(d),t.data.canvasNeedsRedraw[h]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[ii.NODE].setAttribute("data-id","layer"+ii.NODE+"-node"),t.data.canvases[ii.SELECT_BOX].setAttribute("data-id","layer"+ii.SELECT_BOX+"-selectbox"),t.data.canvases[ii.DRAG].setAttribute("data-id","layer"+ii.DRAG+"-drag");for(var h=0;h<ii.BUFFER_COUNT;h++)t.data.bufferCanvases[h]=n.createElement("canvas"),t.data.bufferContexts[h]=t.data.bufferCanvases[h].getContext("2d"),t.data.bufferCanvases[h].style.position="absolute",t.data.bufferCanvases[h].setAttribute("data-id","buffer"+h),t.data.bufferCanvases[h].style.zIndex=String(-h-1),t.data.bufferCanvases[h].style.visibility="hidden";t.pathsEnabled=!0;var p=nl(),f=o(function(Q){return{x:(Q.x1+Q.x2)/2,y:(Q.y1+Q.y2)/2}},"getBoxCenter"),g=o(function(Q){return{x:-Q.w/2,y:-Q.h/2}},"getCenterOffset"),m=o(function(Q){var ne=Q[0]._private,ee=ne.oldBackgroundTimestamp===ne.backgroundTimestamp;return!ee},"backgroundTimestampHasChanged"),y=o(function(Q){return Q[0]._private.nodeKey},"getStyleKey"),b=o(function(Q){return Q[0]._private.labelStyleKey},"getLabelKey"),v=o(function(Q){return Q[0]._private.sourceLabelStyleKey},"getSourceLabelKey"),x=o(function(Q){return Q[0]._private.targetLabelStyleKey},"getTargetLabelKey"),w=o(function(Q,ne,ee,pe,ie){return t.drawElement(Q,ne,ee,!1,!1,ie)},"drawElement"),E=o(function(Q,ne,ee,pe,ie){return t.drawElementText(Q,ne,ee,pe,"main",ie)},"drawLabel"),A=o(function(Q,ne,ee,pe,ie){return t.drawElementText(Q,ne,ee,pe,"source",ie)},"drawSourceLabel"),N=o(function(Q,ne,ee,pe,ie){return t.drawElementText(Q,ne,ee,pe,"target",ie)},"drawTargetLabel"),L=o(function(Q){return Q.boundingBox(),Q[0]._private.bodyBounds},"getElementBox"),C=o(function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.main||p},"getLabelBox"),D=o(function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.source||p},"getSourceLabelBox"),P=o(function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.target||p},"getTargetLabelBox"),O=o(function(Q,ne){return ne},"isLabelVisibleAtScale"),I=o(function(Q){return f(L(Q))},"getElementRotationPoint"),q=o(function(Q,ne,ee){var pe=Q?Q+"-":"";return{x:ne.x+ee.pstyle(pe+"text-margin-x").pfValue,y:ne.y+ee.pstyle(pe+"text-margin-y").pfValue}},"addTextMargin"),S=o(function(Q,ne,ee){var pe=Q[0]._private.rscratch;return{x:pe[ne],y:pe[ee]}},"getRsPt"),B=o(function(Q){return q("",S(Q,"labelX","labelY"),Q)},"getLabelRotationPoint"),F=o(function(Q){return q("source",S(Q,"sourceLabelX","sourceLabelY"),Q)},"getSourceLabelRotationPoint"),z=o(function(Q){return q("target",S(Q,"targetLabelX","targetLabelY"),Q)},"getTargetLabelRotationPoint"),M=o(function(Q){return g(L(Q))},"getElementRotationOffset"),G=o(function(Q){return g(D(Q))},"getSourceLabelRotationOffset"),Y=o(function(Q){return g(P(Q))},"getTargetLabelRotationOffset"),V=o(function(Q){var ne=C(Q),ee=g(C(Q));if(Q.isNode()){switch(Q.pstyle("text-halign").value){case"left":ee.x=-ne.w;break;case"right":ee.x=0;break}switch(Q.pstyle("text-valign").value){case"top":ee.y=-ne.h;break;case"bottom":ee.y=0;break}}return ee},"getLabelRotationOffset"),X=t.data.eleTxrCache=new gy(t,{getKey:y,doesEleInvalidateKey:m,drawElement:w,getBoundingBox:L,getRotationPoint:I,getRotationOffset:M,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),re=t.data.lblTxrCache=new gy(t,{getKey:b,drawElement:E,getBoundingBox:C,getRotationPoint:B,getRotationOffset:V,isVisible:O}),de=t.data.slbTxrCache=new gy(t,{getKey:v,drawElement:A,getBoundingBox:D,getRotationPoint:F,getRotationOffset:G,isVisible:O}),xe=t.data.tlbTxrCache=new gy(t,{getKey:x,drawElement:N,getBoundingBox:P,getRotationPoint:z,getRotationOffset:Y,isVisible:O}),he=t.data.lyrTxrCache=new _j(t);t.onUpdateEleCalcs(o(function(Q,ne){X.invalidateElements(ne),re.invalidateElements(ne),de.invalidateElements(ne),xe.invalidateElements(ne),he.invalidateElements(ne);for(var ee=0;ee<ne.length;ee++){var pe=ne[ee]._private;pe.oldBackgroundTimestamp=pe.backgroundTimestamp}},"invalidateTextureCaches"));var be=o(function(Q){for(var ne=0;ne<Q.length;ne++)he.enqueueElementRefinement(Q[ne].ele)},"refineInLayers");X.onDequeue(be),re.onDequeue(be),de.onDequeue(be),xe.onDequeue(be)}function yG(e,t,r){var n=r,i=o(function(L){pi("Can not register `"+t+"` for `"+e+"` since `"+L+"` already exists in the prototype and can not be overridden")},"overrideErr");if(e==="core"){if(uy.prototype[t])return i(t);uy.prototype[t]=r}else if(e==="collection"){if(zs.prototype[t])return i(t);zs.prototype[t]=r}else if(e==="layout"){for(var a=o(function(L){this.options=L,r.call(this,L),Zn(this._private)||(this._private={}),this._private.cy=L.cy,this._private.listeners=[],this.createEmitter()},"Layout"),s=a.prototype=Object.create(r.prototype),l=[],u=0;u<l.length;u++){var h=l[u];s[h]=s[h]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var d=r.prototype.stop;s.stop=function(){var L=this.options;if(L&&L.animate){var C=this.animations;if(C)for(var D=0;D<C.length;D++)C[D].stop()}return d?d.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var p=o(function(L){return L._private.cy},"getCy"),f={addEventFields:o(function(L,C){C.layout=L,C.cy=p(L),C.target=L},"addEventFields"),bubble:o(function(){return!0},"bubble"),parent:o(function(L){return p(L)},"parent")};nn(s,{createEmitter:o(function(){return this._private.emitter=new rb(f,this),this},"createEmitter"),emitter:o(function(){return this._private.emitter},"emitter"),on:o(function(L,C){return this.emitter().on(L,C),this},"on"),one:o(function(L,C){return this.emitter().one(L,C),this},"one"),once:o(function(L,C){return this.emitter().one(L,C),this},"once"),removeListener:o(function(L,C){return this.emitter().removeListener(L,C),this},"removeListener"),removeAllListeners:o(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),emit:o(function(L,C){return this.emitter().emit(L,C),this},"emit")}),gi.eventAliasesOn(s),n=a}else if(e==="renderer"&&t!=="null"&&t!=="base"){var g=vG("renderer","base"),m=g.prototype,y=r,b=r.prototype,v=o(function(){g.apply(this,arguments),y.apply(this,arguments)},"Renderer"),x=v.prototype;for(var w in m){var E=m[w],A=b[w]!=null;if(A)return i(w);x[w]=E}for(var N in b)x[N]=b[N];m.clientFunctions.forEach(function(L){x[L]=x[L]||function(){ma("Renderer does not implement `renderer."+L+"()` on its prototype")}}),n=v}else if(e==="__proto__"||e==="constructor"||e==="prototype")return ma(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return _G({map:Oj,keys:[e,t],value:n})}function vG(e,t){return SG({map:Oj,keys:[e,t]})}function ONe(e,t,r,n,i){return _G({map:Pj,keys:[e,t,r,n],value:i})}function PNe(e,t,r,n){return SG({map:Pj,keys:[e,t,r,n]})}var ns,bG,BNe,xG,FNe,$Ne,G2,Ur,ia,Di,Zn,zNe,hr,qNe,sb,Nl,Y2,wG,vE,kG,GNe,I0,YNe,jNe,HNe,UNe,j2,bE,ob,TG,EG,is,VNe,WNe,XNe,KNe,ZNe,QNe,CG,JNe,nn,eMe,tMe,rMe,nMe,iMe,aMe,_G,SG,y1,H2,sMe,oMe,lMe,cMe,lb,uMe,xE,hMe,dMe,pMe,gMe,fMe,bg,AG,mMe,yMe,U2,vMe,bMe,xMe,wMe,kMe,TMe,LG,NG,EMe,CMe,V2,MG,_Me,SMe,AMe,LMe,IG,NMe,MMe,IMe,cb,wE,DG,DMe,ub,bh,xg,RG,W2,OG,X2,K2,RMe,D0,hb,OMe,v1,PG,PMe,BG,BMe,FMe,kE,FG,db,$G,TE,ma,zG,pi,$Me,ku,zMe,qG,qMe,GG,Fs,R0,EE,GMe,Pc,O0,YMe,Tu,jMe,HMe,wg,pb,YG,Z2,UMe,Q2,VMe,WMe,XMe,KMe,ZMe,QMe,JMe,eIe,tIe,rIe,nIe,CE,iIe,aIe,gb,jG,kg,sIe,oIe,lIe,cIe,uIe,fb,_E,HG,b1,x1,hIe,ws,Tg,dIe,J2,nl,pIe,gIe,fIe,UG,mIe,mb,yb,VG,SE,Eg,yIe,WG,XG,vIe,bIe,xIe,wIe,kIe,TIe,il,xh,EIe,vb,bb,CIe,w1,ey,AE,P0,ty,_Ie,xb,Io,KG,LE,k1,ZG,NE,SIe,ME,AIe,LIe,QG,Cg,JG,_g,NIe,IE,MIe,IIe,DIe,RIe,eY,OIe,PIe,BIe,FIe,$Ie,zIe,qIe,tY,GIe,YIe,rY,nY,iY,jIe,HIe,ry,Sg,UIe,DE,wb,RE,aY,sY,VIe,WIe,XIe,oY,lY,KIe,ZIe,QIe,JIe,eDe,cY,tDe,rDe,nDe,iDe,uY,kb,aDe,sDe,hY,oDe,lDe,cDe,uDe,hDe,dDe,dY,pDe,pY,gDe,fDe,mDe,Tb,yDe,Eb,vDe,gY,fY,mY,yY,wh,vY,bY,xY,wY,bDe,Ag,OE,T1,xDe,wDe,Cb,kDe,TDe,EDe,CDe,_De,SDe,ADe,LDe,NDe,PE,kY,MDe,IDe,DDe,RDe,ODe,PDe,BDe,FDe,$De,zDe,qDe,GDe,YDe,BE,jDe,ny,HDe,UDe,VDe,WDe,XDe,KDe,ZDe,QDe,JDe,eRe,tRe,TY,rRe,EY,_b,nRe,iRe,aRe,sRe,oRe,lRe,cRe,uRe,hRe,dRe,pRe,Sb,gRe,fRe,mRe,yRe,CY,vRe,bRe,xRe,wRe,kRe,TRe,ERe,_Y,SY,CRe,AY,LY,_Re,NY,MY,SRe,FE,ARe,LRe,NRe,IY,MRe,IRe,DRe,RRe,ORe,PRe,BRe,FRe,$Re,zRe,qRe,GRe,YRe,gi,jRe,Ab,Qn,Si,wr,$E,HRe,URe,VRe,Lg,B0,zE,WRe,XRe,KRe,ZRe,QRe,DY,JRe,eOe,qE,tOe,ya,Hi,rOe,nOe,iOe,F0,$0,z0,nc,Ng,Lb,aOe,sOe,Nb,Eu,oOe,RY,OY,lOe,iy,E1,ic,Bc,C1,ay,Mb,GE,cOe,uOe,PY,BY,FY,sy,$Y,zY,hOe,Ib,Db,qY,dOe,pOe,gOe,fOe,mOe,yOe,vOe,bOe,xOe,GY,wOe,kOe,TOe,YY,jY,EOe,HY,UY,COe,q0,VY,WY,_Oe,SOe,Rb,XY,KY,ni,AOe,ZY,Ob,LOe,NOe,Pb,$s,Mg,MOe,IOe,DOe,ROe,G0,so,QY,JY,ej,zs,Fi,OOe,POe,$i,Bb,BOe,FOe,Fb,tj,YE,$b,$Oe,zOe,jE,zb,oo,oy,qOe,ly,HE,Cu,qb,UE,qs,Gb,lo,co,GOe,YOe,_1,cy,uy,Yb,jOe,HOe,Ig,rj,UOe,VOe,nj,WOe,XOe,KOe,ZOe,wet,QOe,ij,JOe,ePe,tPe,aj,rPe,nPe,jb,iPe,aPe,sPe,oPe,lPe,cPe,sj,uPe,hPe,dPe,pPe,gPe,oj,lj,VE,S1,Hb,cj,uj,_u,ac,fPe,mPe,Dg,WE,Y0,Rg,Og,kh,hy,XE,yPe,vPe,hj,dj,bPe,pj,xPe,wPe,uo,dy,KE,Su,gj,fj,kPe,mj,yj,vj,Ub,Vb,bj,xj,Pg,Th,py,wj,TPe,kj,Bg,ZE,Tj,EPe,Ej,Wb,Xb,QE,CPe,_Pe,SPe,APe,LPe,NPe,MPe,IPe,DPe,RPe,OPe,PPe,BPe,FPe,Fg,$Pe,gy,as,zPe,fy,Kb,qPe,GPe,YPe,jPe,HPe,UPe,VPe,WPe,Cj,XPe,KPe,_j,Gs,Sj,ZPe,Aj,QPe,Au,JPe,eBe,tBe,rBe,nBe,JE,Eh,Lj,eC,A1,$g,Nj,Ml,iBe,j0,Mj,Ij,tC,rC,Dj,zg,my,Rj,aBe,ii,sBe,oBe,lBe,Oj,Pj,nC,Bj,L1,cBe,Lu,uBe=R(()=>{"use strict";for(o(rs,"_typeof"),o(lE,"_classCallCheck"),o(Gq,"_defineProperties"),o(cE,"_createClass"),o(Yq,"_defineProperty$1"),o(Oc,"_slicedToArray"),o(CLe,"_arrayWithHoles"),o(_Le,"_iterableToArrayLimit"),o(jq,"_unsupportedIterableToArray"),o(Hq,"_arrayLikeToArray"),o(SLe,"_nonIterableRest"),o(Uq,"_createForOfIteratorHelper"),ns=typeof window>"u"?null:window,bG=ns?ns.navigator:null,ns&&ns.document,BNe=rs(""),xG=rs({}),FNe=rs(function(){}),$Ne=typeof HTMLElement>"u"?"undefined":rs(HTMLElement),G2=o(function(e){return e&&e.instanceString&&ia(e.instanceString)?e.instanceString():null},"instanceStr"),Ur=o(function(e){return e!=null&&rs(e)==BNe},"string"),ia=o(function(e){return e!=null&&rs(e)===FNe},"fn"),Di=o(function(e){return!Nl(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},"array"),Zn=o(function(e){return e!=null&&rs(e)===xG&&!Di(e)&&e.constructor===Object},"plainObject"),zNe=o(function(e){return e!=null&&rs(e)===xG},"object"),hr=o(function(e){return e!=null&&rs(e)===rs(1)&&!isNaN(e)},"number"),qNe=o(function(e){return hr(e)&&Math.floor(e)===e},"integer"),sb=o(function(e){if($Ne!=="undefined")return e!=null&&e instanceof HTMLElement},"htmlElement"),Nl=o(function(e){return Y2(e)||wG(e)},"elementOrCollection"),Y2=o(function(e){return G2(e)==="collection"&&e._private.single},"element"),wG=o(function(e){return G2(e)==="collection"&&!e._private.single},"collection"),vE=o(function(e){return G2(e)==="core"},"core"),kG=o(function(e){return G2(e)==="stylesheet"},"stylesheet"),GNe=o(function(e){return G2(e)==="event"},"event"),I0=o(function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},"emptyString"),YNe=o(function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},"domElement"),jNe=o(function(e){return Zn(e)&&hr(e.x1)&&hr(e.x2)&&hr(e.y1)&&hr(e.y2)},"boundingBox"),HNe=o(function(e){return zNe(e)&&ia(e.then)},"promise"),UNe=o(function(){return bG&&bG.userAgent.match(/msie|trident|edge/i)},"ms"),j2=o(function(e,t){t||(t=o(function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var n=[],i=0;i<arguments.length;i++)n.push(arguments[i]);return n.join("$")},"keyFn"));var r=o(function n(){var i=this,a=arguments,s,l=t.apply(i,a),u=n.cache;return(s=u[l])||(s=u[l]=e.apply(i,a)),s},"memoizedFn");return r.cache={},r},"memoize"),bE=j2(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),ob=j2(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),TG=j2(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),EG=o(function(e){return I0(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},"capitalize"),is="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",VNe="rgb[a]?\\(("+is+"[%]?)\\s*,\\s*("+is+"[%]?)\\s*,\\s*("+is+"[%]?)(?:\\s*,\\s*("+is+"))?\\)",WNe="rgb[a]?\\((?:"+is+"[%]?)\\s*,\\s*(?:"+is+"[%]?)\\s*,\\s*(?:"+is+"[%]?)(?:\\s*,\\s*(?:"+is+"))?\\)",XNe="hsl[a]?\\(("+is+")\\s*,\\s*("+is+"[%])\\s*,\\s*("+is+"[%])(?:\\s*,\\s*("+is+"))?\\)",KNe="hsl[a]?\\((?:"+is+")\\s*,\\s*(?:"+is+"[%])\\s*,\\s*(?:"+is+"[%])(?:\\s*,\\s*(?:"+is+"))?\\)",ZNe="\\#[0-9a-fA-F]{3}",QNe="\\#[0-9a-fA-F]{6}",CG=o(function(e,t){return e<t?-1:e>t?1:0},"ascending"),JNe=o(function(e,t){return-1*CG(e,t)},"descending"),nn=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(n!=null)for(var i=Object.keys(n),a=0;a<i.length;a++){var s=i[a];e[s]=n[s]}}return e},eMe=o(function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,r,n,i,a=16;return t?(r=parseInt(e[1]+e[1],a),n=parseInt(e[2]+e[2],a),i=parseInt(e[3]+e[3],a)):(r=parseInt(e[1]+e[2],a),n=parseInt(e[3]+e[4],a),i=parseInt(e[5]+e[6],a)),[r,n,i]}},"hex2tuple"),tMe=o(function(e){var t,r,n,i,a,s,l,u;function h(g,m,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?g+(m-g)*6*y:y<1/2?m:y<2/3?g+(m-g)*(2/3-y)*6:g}o(h,"hue2rgb");var d=new RegExp("^"+XNe+"$").exec(e);if(d){if(r=parseInt(d[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,n=parseFloat(d[2]),n<0||n>100||(n=n/100,i=parseFloat(d[3]),i<0||i>100)||(i=i/100,a=d[4],a!==void 0&&(a=parseFloat(a),a<0||a>1)))return;if(n===0)s=l=u=Math.round(i*255);else{var p=i<.5?i*(1+n):i+n-i*n,f=2*i-p;s=Math.round(255*h(f,p,r+1/3)),l=Math.round(255*h(f,p,r)),u=Math.round(255*h(f,p,r-1/3))}t=[s,l,u,a]}return t},"hsl2tuple"),rMe=o(function(e){var t,r=new RegExp("^"+VNe+"$").exec(e);if(r){t=[];for(var n=[],i=1;i<=3;i++){var a=r[i];if(a[a.length-1]==="%"&&(n[i]=!0),a=parseFloat(a),n[i]&&(a=a/100*255),a<0||a>255)return;t.push(Math.floor(a))}var s=n[1]||n[2]||n[3],l=n[1]&&n[2]&&n[3];if(s&&!l)return;var u=r[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;t.push(u)}}return t},"rgb2tuple"),nMe=o(function(e){return aMe[e.toLowerCase()]},"colorname2tuple"),iMe=o(function(e){return(Di(e)?e:null)||nMe(e)||eMe(e)||rMe(e)||tMe(e)},"color2tuple"),aMe={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},_G=o(function(e){for(var t=e.map,r=e.keys,n=r.length,i=0;i<n;i++){var a=r[i];if(Zn(a))throw Error("Tried to set map with object key");i<r.length-1?(t[a]==null&&(t[a]={}),t=t[a]):t[a]=e.value}},"setMap"),SG=o(function(e){for(var t=e.map,r=e.keys,n=r.length,i=0;i<n;i++){var a=r[i];if(Zn(a))throw Error("Tried to get map with object key");if(t=t[a],t==null)return t}return t},"getMap"),o(ALe,"isObject"),y1=ALe,H2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o(LLe,"createCommonjsModule"),sMe=typeof H2=="object"&&H2&&H2.Object===Object&&H2,oMe=sMe,lMe=typeof self=="object"&&self&&self.Object===Object&&self,cMe=oMe||lMe||Function("return this")(),lb=cMe,uMe=o(function(){return lb.Date.now()},"now"),xE=uMe,hMe=/\s/,o(NLe,"trimmedEndIndex"),dMe=NLe,pMe=/^\s+/,o(MLe,"baseTrim"),gMe=MLe,fMe=lb.Symbol,bg=fMe,AG=Object.prototype,mMe=AG.hasOwnProperty,yMe=AG.toString,U2=bg?bg.toStringTag:void 0,o(ILe,"getRawTag"),vMe=ILe,bMe=Object.prototype,xMe=bMe.toString,o(DLe,"objectToString"),wMe=DLe,kMe="[object Null]",TMe="[object Undefined]",LG=bg?bg.toStringTag:void 0,o(RLe,"baseGetTag"),NG=RLe,o(OLe,"isObjectLike"),EMe=OLe,CMe="[object Symbol]",o(PLe,"isSymbol"),V2=PLe,MG=NaN,_Me=/^[-+]0x[0-9a-f]+$/i,SMe=/^0b[01]+$/i,AMe=/^0o[0-7]+$/i,LMe=parseInt,o(BLe,"toNumber"),IG=BLe,NMe="Expected a function",MMe=Math.max,IMe=Math.min,o(FLe,"debounce"),cb=FLe,wE=ns?ns.performance:null,DG=wE&&wE.now?function(){return wE.now()}:function(){return Date.now()},DMe=function(){if(ns){if(ns.requestAnimationFrame)return function(e){ns.requestAnimationFrame(e)};if(ns.mozRequestAnimationFrame)return function(e){ns.mozRequestAnimationFrame(e)};if(ns.webkitRequestAnimationFrame)return function(e){ns.webkitRequestAnimationFrame(e)};if(ns.msRequestAnimationFrame)return function(e){ns.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(DG())},1e3/60)}}(),ub=o(function(e){return DMe(e)},"requestAnimationFrame"),bh=DG,xg=9261,RG=65599,W2=5381,OG=o(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xg,r=t,n;n=e.next(),!n.done;)r=r*RG+n.value|0;return r},"hashIterableInts"),X2=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xg;return t*RG+e|0},"hashInt"),K2=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W2;return(t<<5)+t+e|0},"hashIntAlt"),RMe=o(function(e,t){return e*2097152+t},"combineHashes"),D0=o(function(e){return e[0]*2097152+e[1]},"combineHashesArray"),hb=o(function(e,t){return[X2(e[0],t[0]),K2(e[1],t[1])]},"hashArrays"),OMe=o(function(e,t){var r={value:0,done:!1},n=0,i=e.length,a={next:o(function(){return n<i?r.value=e[n++]:r.done=!0,r},"next")};return OG(a,t)},"hashIntsArray"),v1=o(function(e,t){var r={value:0,done:!1},n=0,i=e.length,a={next:o(function(){return n<i?r.value=e.charCodeAt(n++):r.done=!0,r},"next")};return OG(a,t)},"hashString"),PG=o(function(){return PMe(arguments)},"hashStrings"),PMe=o(function(e){for(var t,r=0;r<e.length;r++){var n=e[r];r===0?t=v1(n):t=v1(n,t)}return t},"hashStringsArray"),BG=!0,BMe=console.warn!=null,FMe=console.trace!=null,kE=Number.MAX_SAFE_INTEGER||9007199254740991,FG=o(function(){return!0},"trueify"),db=o(function(){return!1},"falsify"),$G=o(function(){return 0},"zeroify"),TE=o(function(){},"noop"),ma=o(function(e){throw new Error(e)},"error"),zG=o(function(e){if(e!==void 0)BG=!!e;else return BG},"warnings"),pi=o(function(e){zG()&&(BMe?console.warn(e):(console.log(e),FMe&&console.trace()))},"warn"),$Me=o(function(e){return nn({},e)},"clone"),ku=o(function(e){return e==null?e:Di(e)?e.slice():Zn(e)?$Me(e):e},"copy"),zMe=o(function(e){return e.slice()},"copyArray"),qG=o(function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},"uuid"),qMe={},GG=o(function(){return qMe},"staticEmptyObject"),Fs=o(function(e){var t=Object.keys(e);return function(r){for(var n={},i=0;i<t.length;i++){var a=t[i],s=r?.[a];n[a]=s===void 0?e[a]:s}return n}},"defaults"),R0=o(function(e,t,r){for(var n=e.length-1;n>=0&&!(e[n]===t&&(e.splice(n,1),r));n--);},"removeFromArray"),EE=o(function(e){e.splice(0,e.length)},"clearArray"),GMe=o(function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.push(n)}},"push"),Pc=o(function(e,t,r){return r&&(t=TG(r,t)),e[t]},"getPrefixedProperty"),O0=o(function(e,t,r,n){r&&(t=TG(r,t)),e[t]=n},"setPrefixedProperty"),YMe=function(){function e(){lE(this,e),this._obj={}}return o(e,"ObjectMap"),cE(e,[{key:"set",value:o(function(t,r){return this._obj[t]=r,this},"set")},{key:"delete",value:o(function(t){return this._obj[t]=void 0,this},"_delete")},{key:"clear",value:o(function(){this._obj={}},"clear")},{key:"has",value:o(function(t){return this._obj[t]!==void 0},"has")},{key:"get",value:o(function(t){return this._obj[t]},"get")}]),e}(),Tu=typeof Map<"u"?Map:YMe,jMe="undefined",HMe=function(){function e(t){if(lE(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;t.instanceString!=null&&t.instanceString()===this.instanceString()?r=t.toArray():r=t;for(var n=0;n<r.length;n++)this.add(r[n])}}return o(e,"ObjectSet"),cE(e,[{key:"instanceString",value:o(function(){return"set"},"instanceString")},{key:"add",value:o(function(t){var r=this._obj;r[t]!==1&&(r[t]=1,this.size++)},"add")},{key:"delete",value:o(function(t){var r=this._obj;r[t]===1&&(r[t]=0,this.size--)},"_delete")},{key:"clear",value:o(function(){this._obj=Object.create(null)},"clear")},{key:"has",value:o(function(t){return this._obj[t]===1},"has")},{key:"toArray",value:o(function(){var t=this;return Object.keys(this._obj).filter(function(r){return t.has(r)})},"toArray")},{key:"forEach",value:o(function(t,r){return this.toArray().forEach(t,r)},"forEach")}]),e}(),wg=(typeof Set>"u"?"undefined":rs(Set))!==jMe?Set:HMe,pb=o(function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!vE(e)){ma("An element must have a core reference and parameters set");return}var n=t.group;if(n==null&&(t.data&&t.data.source!=null&&t.data.target!=null?n="edges":n="nodes"),n!=="nodes"&&n!=="edges"){ma("An element must be of type `nodes` or `edges`; you specified `"+n+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:n,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?n==="edges":!!t.pannable,active:!1,classes:new wg,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),t.renderedPosition){var a=t.renderedPosition,s=e.pan(),l=e.zoom();i.position={x:(a.x-s.x)/l,y:(a.y-s.y)/l}}var u=[];Di(t.classes)?u=t.classes:Ur(t.classes)&&(u=t.classes.split(/\s+/));for(var h=0,d=u.length;h<d;h++){var p=u[h];!p||p===""||i.classes.add(p)}this.createEmitter();var f=t.style||t.css;f&&(pi("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(f)),(r===void 0||r)&&this.restore()},"Element"),YG=o(function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},o(function(t,r,n){var i;Zn(t)&&!Nl(t)&&(i=t,t=i.roots||i.root,r=i.visit,n=i.directed),n=arguments.length===2&&!ia(r)?r:n,r=ia(r)?r:function(){};for(var a=this._private.cy,s=t=Ur(t)?this.filter(t):t,l=[],u=[],h={},d={},p={},f=0,g,m=this.byGroup(),y=m.nodes,b=m.edges,v=0;v<s.length;v++){var x=s[v],w=x.id();x.isNode()&&(l.unshift(x),e.bfs&&(p[w]=!0,u.push(x)),d[w]=0)}for(var E=o(function(){var P=e.bfs?l.shift():l.pop(),O=P.id();if(e.dfs){if(p[O])return"continue";p[O]=!0,u.push(P)}var I=d[O],q=h[O],S=q!=null?q.source():null,B=q!=null?q.target():null,F=q==null?void 0:P.same(S)?B[0]:S[0],z=void 0;if(z=r(P,q,F,f++,I),z===!0)return g=P,"break";if(z===!1)return"break";for(var M=P.connectedEdges().filter(function(re){return(!n||re.source().same(P))&&b.has(re)}),G=0;G<M.length;G++){var Y=M[G],V=Y.connectedNodes().filter(function(re){return!re.same(P)&&y.has(re)}),X=V.id();V.length!==0&&!p[X]&&(V=V[0],l.push(V),e.bfs&&(p[X]=!0,u.push(V)),h[X]=Y,d[X]=d[O]+1)}},"_loop");l.length!==0;){var A=E();if(A!=="continue"&&A==="break")break}for(var N=a.collection(),L=0;L<u.length;L++){var C=u[L],D=h[C.id()];D!=null&&N.push(D),N.push(C)}return{path:a.collection(N),found:a.collection(g)}},"searchFn")},"defineSearch"),Z2={breadthFirstSearch:YG({bfs:!0}),depthFirstSearch:YG({dfs:!0})},Z2.bfs=Z2.breadthFirstSearch,Z2.dfs=Z2.depthFirstSearch,UMe=LLe(function(e,t){(function(){var r,n,i,a,s,l,u,h,d,p,f,g,m,y,b;i=Math.floor,p=Math.min,n=o(function(v,x){return v<x?-1:v>x?1:0},"defaultCmp"),d=o(function(v,x,w,E,A){var N;if(w==null&&(w=0),A==null&&(A=n),w<0)throw new Error("lo must be non-negative");for(E==null&&(E=v.length);w<E;)N=i((w+E)/2),A(x,v[N])<0?E=N:w=N+1;return[].splice.apply(v,[w,w-w].concat(x)),x},"insort"),l=o(function(v,x,w){return w==null&&(w=n),v.push(x),y(v,0,v.length-1,w)},"heappush"),s=o(function(v,x){var w,E;return x==null&&(x=n),w=v.pop(),v.length?(E=v[0],v[0]=w,b(v,0,x)):E=w,E},"heappop"),h=o(function(v,x,w){var E;return w==null&&(w=n),E=v[0],v[0]=x,b(v,0,w),E},"heapreplace"),u=o(function(v,x,w){var E;return w==null&&(w=n),v.length&&w(v[0],x)<0&&(E=[v[0],x],x=E[0],v[0]=E[1],b(v,0,w)),x},"heappushpop"),a=o(function(v,x){var w,E,A,N,L,C;for(x==null&&(x=n),N=function(){C=[];for(var D=0,P=i(v.length/2);0<=P?D<P:D>P;0<=P?D++:D--)C.push(D);return C}.apply(this).reverse(),L=[],E=0,A=N.length;E<A;E++)w=N[E],L.push(b(v,w,x));return L},"heapify"),m=o(function(v,x,w){var E;if(w==null&&(w=n),E=v.indexOf(x),E!==-1)return y(v,0,E,w),b(v,E,w)},"updateItem"),f=o(function(v,x,w){var E,A,N,L,C;if(w==null&&(w=n),A=v.slice(0,x),!A.length)return A;for(a(A,w),C=v.slice(x),N=0,L=C.length;N<L;N++)E=C[N],u(A,E,w);return A.sort(w).reverse()},"nlargest"),g=o(function(v,x,w){var E,A,N,L,C,D,P,O,I;if(w==null&&(w=n),x*10<=v.length){if(N=v.slice(0,x).sort(w),!N.length)return N;for(A=N[N.length-1],P=v.slice(x),L=0,D=P.length;L<D;L++)E=P[L],w(E,A)<0&&(d(N,E,0,null,w),N.pop(),A=N[N.length-1]);return N}for(a(v,w),I=[],C=0,O=p(x,v.length);0<=O?C<O:C>O;0<=O?++C:--C)I.push(s(v,w));return I},"nsmallest"),y=o(function(v,x,w,E){var A,N,L;for(E==null&&(E=n),A=v[w];w>x;){if(L=w-1>>1,N=v[L],E(A,N)<0){v[w]=N,w=L;continue}break}return v[w]=A},"_siftdown"),b=o(function(v,x,w){var E,A,N,L,C;for(w==null&&(w=n),A=v.length,C=x,N=v[x],E=2*x+1;E<A;)L=E+1,L<A&&!(w(v[E],v[L])<0)&&(E=L),v[x]=v[E],x=E,E=2*x+1;return v[x]=N,y(v,C,x,w)},"_siftup"),r=function(){v.push=l,v.pop=s,v.replace=h,v.pushpop=u,v.heapify=a,v.updateItem=m,v.nlargest=f,v.nsmallest=g;function v(x){this.cmp=x??n,this.nodes=[]}return o(v,"Heap"),v.prototype.push=function(x){return l(this.nodes,x,this.cmp)},v.prototype.pop=function(){return s(this.nodes,this.cmp)},v.prototype.peek=function(){return this.nodes[0]},v.prototype.contains=function(x){return this.nodes.indexOf(x)!==-1},v.prototype.replace=function(x){return h(this.nodes,x,this.cmp)},v.prototype.pushpop=function(x){return u(this.nodes,x,this.cmp)},v.prototype.heapify=function(){return a(this.nodes,this.cmp)},v.prototype.updateItem=function(x){return m(this.nodes,x,this.cmp)},v.prototype.clear=function(){return this.nodes=[]},v.prototype.empty=function(){return this.nodes.length===0},v.prototype.size=function(){return this.nodes.length},v.prototype.clone=function(){var x;return x=new v,x.nodes=this.nodes.slice(0),x},v.prototype.toArray=function(){return this.nodes.slice(0)},v.prototype.insert=v.prototype.push,v.prototype.top=v.prototype.peek,v.prototype.front=v.prototype.peek,v.prototype.has=v.prototype.contains,v.prototype.copy=v.prototype.clone,v}(),function(v,x){return e.exports=x()}(this,function(){return r})}).call(H2)}),Q2=UMe,VMe=Fs({root:null,weight:o(function(e){return 1},"weight"),directed:!1}),WMe={dijkstra:o(function(e){if(!Zn(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var r=VMe(e),n=r.root,i=r.weight,a=r.directed,s=this,l=i,u=Ur(n)?this.filter(n)[0]:n[0],h={},d={},p={},f=this.byGroup(),g=f.nodes,m=f.edges;m.unmergeBy(function(S){return S.isLoop()});for(var y=o(function(S){return h[S.id()]},"getDist"),b=o(function(S,B){h[S.id()]=B,v.updateItem(S)},"setDist"),v=new Q2(function(S,B){return y(S)-y(B)}),x=0;x<g.length;x++){var w=g[x];h[w.id()]=w.same(u)?0:1/0,v.push(w)}for(var E=o(function(S,B){for(var F=(a?S.edgesTo(B):S.edgesWith(B)).intersect(m),z=1/0,M,G=0;G<F.length;G++){var Y=F[G],V=l(Y);(V<z||!M)&&(z=V,M=Y)}return{edge:M,dist:z}},"distBetween");v.size()>0;){var A=v.pop(),N=y(A),L=A.id();if(p[L]=N,N!==1/0)for(var C=A.neighborhood().intersect(g),D=0;D<C.length;D++){var P=C[D],O=P.id(),I=E(A,P),q=N+I.dist;q<y(P)&&(b(P,q),d[O]={node:A,edge:I.edge})}}return{distanceTo:o(function(S){var B=Ur(S)?g.filter(S)[0]:S[0];return p[B.id()]},"distanceTo"),pathTo:o(function(S){var B=Ur(S)?g.filter(S)[0]:S[0],F=[],z=B,M=z.id();if(B.length>0)for(F.unshift(B);d[M];){var G=d[M];F.unshift(G.edge),F.unshift(G.node),z=G.node,M=z.id()}return s.spawn(F)},"pathTo")}},"dijkstra")},XMe={kruskal:o(function(e){e=e||function(x){return 1};for(var t=this.byGroup(),r=t.nodes,n=t.edges,i=r.length,a=new Array(i),s=r,l=o(function(x){for(var w=0;w<a.length;w++){var E=a[w];if(E.has(x))return w}},"findSetIndex"),u=0;u<i;u++)a[u]=this.spawn(r[u]);for(var h=n.sort(function(x,w){return e(x)-e(w)}),d=0;d<h.length;d++){var p=h[d],f=p.source()[0],g=p.target()[0],m=l(f),y=l(g),b=a[m],v=a[y];m!==y&&(s.merge(p),b.merge(v),a.splice(y,1))}return s},"kruskal")},KMe=Fs({root:null,goal:null,weight:o(function(e){return 1},"weight"),heuristic:o(function(e){return 0},"heuristic"),directed:!1}),ZMe={aStar:o(function(e){var t=this.cy(),r=KMe(e),n=r.root,i=r.goal,a=r.heuristic,s=r.directed,l=r.weight;n=t.collection(n)[0],i=t.collection(i)[0];var u=n.id(),h=i.id(),d={},p={},f={},g=new Q2(function(G,Y){return p[G.id()]-p[Y.id()]}),m=new wg,y={},b={},v=o(function(G,Y){g.push(G),m.add(Y)},"addToOpenSet"),x,w,E=o(function(){x=g.pop(),w=x.id(),m.delete(w)},"popFromOpenSet"),A=o(function(G){return m.has(G)},"isInOpenSet");v(n,u),d[u]=0,p[u]=a(n);for(var N=0;g.size()>0;){if(E(),N++,w===h){for(var L=[],C=i,D=h,P=b[D];L.unshift(C),P!=null&&L.unshift(P),C=y[D],C!=null;)D=C.id(),P=b[D];return{found:!0,distance:d[w],path:this.spawn(L),steps:N}}f[w]=!0;for(var O=x._private.edges,I=0;I<O.length;I++){var q=O[I];if(this.hasElementWithId(q.id())&&!(s&&q.data("source")!==w)){var S=q.source(),B=q.target(),F=S.id()!==w?S:B,z=F.id();if(this.hasElementWithId(z)&&!f[z]){var M=d[w]+l(q);if(!A(z)){d[z]=M,p[z]=M+a(F),v(F,z),y[z]=x,b[z]=q;continue}M<d[z]&&(d[z]=M,p[z]=M+a(F),y[z]=x,b[z]=q)}}}}return{found:!1,distance:void 0,path:void 0,steps:N}},"aStar")},QMe=Fs({weight:o(function(e){return 1},"weight"),directed:!1}),JMe={floydWarshall:o(function(e){for(var t=this.cy(),r=QMe(e),n=r.weight,i=r.directed,a=n,s=this.byGroup(),l=s.nodes,u=s.edges,h=l.length,d=h*h,p=o(function(V){return l.indexOf(V)},"indexOf"),f=o(function(V){return l[V]},"atIndex"),g=new Array(d),m=0;m<d;m++){var y=m%h,b=(m-y)/h;b===y?g[m]=0:g[m]=1/0}for(var v=new Array(d),x=new Array(d),w=0;w<u.length;w++){var E=u[w],A=E.source()[0],N=E.target()[0];if(A!==N){var L=p(A),C=p(N),D=L*h+C,P=a(E);if(g[D]>P&&(g[D]=P,v[D]=C,x[D]=E),!i){var O=C*h+L;!i&&g[O]>P&&(g[O]=P,v[O]=L,x[O]=E)}}}for(var I=0;I<h;I++)for(var q=0;q<h;q++)for(var S=q*h+I,B=0;B<h;B++){var F=q*h+B,z=I*h+B;g[S]+g[z]<g[F]&&(g[F]=g[S]+g[z],v[F]=v[S])}var M=o(function(V){return(Ur(V)?t.filter(V):V)[0]},"getArgEle"),G=o(function(V){return p(M(V))},"indexOfArgEle"),Y={distance:o(function(V,X){var re=G(V),de=G(X);return g[re*h+de]},"distance"),path:o(function(V,X){var re=G(V),de=G(X),xe=f(re);if(re===de)return xe.collection();if(v[re*h+de]==null)return t.collection();var he=t.collection(),be=re,Q;for(he.merge(xe);re!==de;)be=re,re=v[re*h+de],Q=x[be*h+re],he.merge(Q),he.merge(f(re));return he},"path")};return Y},"floydWarshall")},eIe=Fs({weight:o(function(e){return 1},"weight"),directed:!1,root:null}),tIe={bellmanFord:o(function(e){var t=this,r=eIe(e),n=r.weight,i=r.directed,a=r.root,s=n,l=this,u=this.cy(),h=this.byGroup(),d=h.edges,p=h.nodes,f=p.length,g=new Tu,m=!1,y=[];a=u.collection(a)[0],d.unmergeBy(function(ge){return ge.isLoop()});for(var b=d.length,v=o(function(ge){var rt=g.get(ge.id());return rt||(rt={},g.set(ge.id(),rt)),rt},"getInfo"),x=o(function(ge){return(Ur(ge)?u.$(ge):ge)[0]},"getNodeFromTo"),w=o(function(ge){return v(x(ge)).dist},"distanceTo"),E=o(function(ge){for(var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,Qe=x(ge),tt=[],mt=Qe;;){if(mt==null)return t.spawn();var yt=v(mt),Nt=yt.edge,kt=yt.pred;if(tt.unshift(mt[0]),mt.same(rt)&&tt.length>0)break;Nt!=null&&tt.unshift(Nt),mt=kt}return l.spawn(tt)},"pathTo"),A=0;A<f;A++){var N=p[A],L=v(N);N.same(a)?L.dist=0:L.dist=1/0,L.pred=null,L.edge=null}for(var C=!1,D=o(function(ge,rt,Qe,tt,mt,yt){var Nt=tt.dist+yt;Nt<mt.dist&&!Qe.same(tt.edge)&&(mt.dist=Nt,mt.pred=ge,mt.edge=Qe,C=!0)},"checkForEdgeReplacement"),P=1;P<f;P++){C=!1;for(var O=0;O<b;O++){var I=d[O],q=I.source(),S=I.target(),B=s(I),F=v(q),z=v(S);D(q,S,I,F,z,B),i||D(S,q,I,z,F,B)}if(!C)break}if(C)for(var M=[],G=0;G<b;G++){var Y=d[G],V=Y.source(),X=Y.target(),re=s(Y),de=v(V).dist,xe=v(X).dist;if(de+re<xe||!i&&xe+re<de)if(m||(pi("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles!==!1){var he=[];de+re<xe&&he.push(V),!i&&xe+re<de&&he.push(X);for(var be=he.length,Q=0;Q<be;Q++){var ne=he[Q],ee=[ne];ee.push(v(ne).edge);for(var pe=v(ne).pred;ee.indexOf(pe)===-1;)ee.push(pe),ee.push(v(pe).edge),pe=v(pe).pred;ee=ee.slice(ee.indexOf(pe));for(var ie=ee[0].id(),De=0,se=2;se<ee.length;se+=2)ee[se].id()<ie&&(ie=ee[se].id(),De=se);ee=ee.slice(De).concat(ee.slice(0,De)),ee.push(ee[0]);var je=ee.map(function(ge){return ge.id()}).join(",");M.indexOf(je)===-1&&(y.push(l.spawn(ee)),M.push(je))}}else break}return{distanceTo:w,pathTo:E,hasNegativeWeightCycle:m,negativeWeightCycles:y}},"bellmanFord")},rIe=Math.sqrt(2),nIe=o(function(e,t,r){r.length===0&&ma("Karger-Stein must be run on a connected (sub)graph");for(var n=r[e],i=n[1],a=n[2],s=t[i],l=t[a],u=r,h=u.length-1;h>=0;h--){var d=u[h],p=d[1],f=d[2];(t[p]===s&&t[f]===l||t[p]===l&&t[f]===s)&&u.splice(h,1)}for(var g=0;g<u.length;g++){var m=u[g];m[1]===l?(u[g]=m.slice(),u[g][1]=s):m[2]===l&&(u[g]=m.slice(),u[g][2]=s)}for(var y=0;y<t.length;y++)t[y]===l&&(t[y]=s);return u},"collapse"),CE=o(function(e,t,r,n){for(;r>n;){var i=Math.floor(Math.random()*t.length);t=nIe(i,e,t),r--}return t},"contractUntil"),iIe={kargerStein:o(function(){var e=this,t=this.byGroup(),r=t.nodes,n=t.edges;n.unmergeBy(function(z){return z.isLoop()});var i=r.length,a=n.length,s=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),l=Math.floor(i/rIe);if(i<2){ma("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],h=0;h<a;h++){var d=n[h];u.push([h,r.indexOf(d.source()),r.indexOf(d.target())])}for(var p=1/0,f=[],g=new Array(i),m=new Array(i),y=new Array(i),b=o(function(z,M){for(var G=0;G<i;G++)M[G]=z[G]},"copyNodesMap"),v=0;v<=s;v++){for(var x=0;x<i;x++)m[x]=x;var w=CE(m,u.slice(),i,l),E=w.slice();b(m,y);var A=CE(m,w,l,2),N=CE(y,E,l,2);A.length<=N.length&&A.length<p?(p=A.length,f=A,b(m,g)):N.length<=A.length&&N.length<p&&(p=N.length,f=N,b(y,g))}for(var L=this.spawn(f.map(function(z){return n[z[0]]})),C=this.spawn(),D=this.spawn(),P=g[0],O=0;O<g.length;O++){var I=g[O],q=r[O];I===P?C.merge(q):D.merge(q)}var S=o(function(z){var M=e.spawn();return z.forEach(function(G){M.merge(G),G.connectedEdges().forEach(function(Y){e.contains(Y)&&!L.contains(Y)&&M.merge(Y)})}),M},"constructComponent"),B=[S(C),S(D)],F={cut:L,components:B,partition1:C,partition2:D};return F},"kargerStein")},aIe=o(function(e){return{x:e.x,y:e.y}},"copyPosition"),gb=o(function(e,t,r){return{x:e.x*t+r.x,y:e.y*t+r.y}},"modelToRenderedPosition"),jG=o(function(e,t,r){return{x:(e.x-r.x)/t,y:(e.y-r.y)/t}},"renderedToModelPosition"),kg=o(function(e){return{x:e[0],y:e[1]}},"array2point"),sIe=o(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=1/0,i=t;i<r;i++){var a=e[i];isFinite(a)&&(n=Math.min(a,n))}return n},"min"),oIe=o(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=-1/0,i=t;i<r;i++){var a=e[i];isFinite(a)&&(n=Math.max(a,n))}return n},"max"),lIe=o(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=0,i=0,a=t;a<r;a++){var s=e[a];isFinite(s)&&(n+=s,i++)}return n/i},"mean"),cIe=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;n?e=e.slice(t,r):(r<e.length&&e.splice(r,e.length-r),t>0&&e.splice(0,t));for(var s=0,l=e.length-1;l>=0;l--){var u=e[l];a?isFinite(u)||(e[l]=-1/0,s++):e.splice(l,1)}i&&e.sort(function(p,f){return p-f});var h=e.length,d=Math.floor(h/2);return h%2!==0?e[d+1+s]:(e[d-1+s]+e[d+s])/2},"median"),uIe=o(function(e){return Math.PI*e/180},"deg2rad"),fb=o(function(e,t){return Math.atan2(t,e)-Math.PI/2},"getAngleFromDisp"),_E=Math.log2||function(e){return Math.log(e)/Math.log(2)},HG=o(function(e){return e>0?1:e<0?-1:0},"signum"),b1=o(function(e,t){return Math.sqrt(x1(e,t))},"dist"),x1=o(function(e,t){var r=t.x-e.x,n=t.y-e.y;return r*r+n*n},"sqdist"),hIe=o(function(e){for(var t=e.length,r=0,n=0;n<t;n++)r+=e[n];for(var i=0;i<t;i++)e[i]=e[i]/r;return e},"inPlaceSumNormalize"),ws=o(function(e,t,r,n){return(1-n)*(1-n)*e+2*(1-n)*n*t+n*n*r},"qbezierAt"),Tg=o(function(e,t,r,n){return{x:ws(e.x,t.x,r.x,n),y:ws(e.y,t.y,r.y,n)}},"qbezierPtAt"),dIe=o(function(e,t,r,n){var i={x:t.x-e.x,y:t.y-e.y},a=b1(e,t),s={x:i.x/a,y:i.y/a};return r=r??0,n=n??r*a,{x:e.x+s.x*n,y:e.y+s.y*n}},"lineAt"),J2=o(function(e,t,r){return Math.max(e,Math.min(r,t))},"bound"),nl=o(function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},"makeBoundingBox"),pIe=o(function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},"copyBoundingBox"),gIe=o(function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},"clearBoundingBox"),fIe=o(function(e,t,r){return{x1:e.x1+t,x2:e.x2+t,y1:e.y1+r,y2:e.y2+r,w:e.w,h:e.h}},"shiftBoundingBox"),UG=o(function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},"updateBoundingBox"),mIe=o(function(e,t,r){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},"expandBoundingBoxByPoint"),mb=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},"expandBoundingBox"),yb=o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,n,i,a;if(t.length===1)r=n=i=a=t[0];else if(t.length===2)r=i=t[0],a=n=t[1];else if(t.length===4){var s=Oc(t,4);r=s[0],n=s[1],i=s[2],a=s[3]}return e.x1-=a,e.x2+=n,e.y1-=r,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},"expandBoundingBoxSides"),VG=o(function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},"assignBoundingBox"),SE=o(function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},"boundingBoxesIntersect"),Eg=o(function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2},"inBoundingBox"),yIe=o(function(e,t){return Eg(e,t.x,t.y)},"pointInBoundingBox"),WG=o(function(e,t){return Eg(e,t.x1,t.y1)&&Eg(e,t.x2,t.y2)},"boundingBoxInBoundingBox"),XG=o(function(e,t,r,n,i,a,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=l==="auto"?k1(i,a):l,h=i/2,d=a/2;u=Math.min(u,h,d);var p=u!==h,f=u!==d,g;if(p){var m=r-h+u-s,y=n-d-s,b=r+h-u+s,v=y;if(g=P0(e,t,r,n,m,y,b,v,!1),g.length>0)return g}if(f){var x=r+h+s,w=n-d+u-s,E=x,A=n+d-u+s;if(g=P0(e,t,r,n,x,w,E,A,!1),g.length>0)return g}if(p){var N=r-h+u-s,L=n+d+s,C=r+h-u+s,D=L;if(g=P0(e,t,r,n,N,L,C,D,!1),g.length>0)return g}if(f){var P=r-h-s,O=n-d+u-s,I=P,q=n+d-u+s;if(g=P0(e,t,r,n,P,O,I,q,!1),g.length>0)return g}var S;{var B=r-h+u,F=n-d+u;if(S=ey(e,t,r,n,B,F,u+s),S.length>0&&S[0]<=B&&S[1]<=F)return[S[0],S[1]]}{var z=r+h-u,M=n-d+u;if(S=ey(e,t,r,n,z,M,u+s),S.length>0&&S[0]>=z&&S[1]<=M)return[S[0],S[1]]}{var G=r+h-u,Y=n+d-u;if(S=ey(e,t,r,n,G,Y,u+s),S.length>0&&S[0]>=G&&S[1]>=Y)return[S[0],S[1]]}{var V=r-h+u,X=n+d-u;if(S=ey(e,t,r,n,V,X,u+s),S.length>0&&S[0]<=V&&S[1]>=X)return[S[0],S[1]]}return[]},"roundRectangleIntersectLine"),vIe=o(function(e,t,r,n,i,a,s){var l=s,u=Math.min(r,i),h=Math.max(r,i),d=Math.min(n,a),p=Math.max(n,a);return u-l<=e&&e<=h+l&&d-l<=t&&t<=p+l},"inLineVicinity"),bIe=o(function(e,t,r,n,i,a,s,l,u){var h={x1:Math.min(r,s,i)-u,x2:Math.max(r,s,i)+u,y1:Math.min(n,l,a)-u,y2:Math.max(n,l,a)+u};return!(e<h.x1||e>h.x2||t<h.y1||t>h.y2)},"inBezierVicinity"),xIe=o(function(e,t,r,n){r-=n;var i=t*t-4*e*r;if(i<0)return[];var a=Math.sqrt(i),s=2*e,l=(-t+a)/s,u=(-t-a)/s;return[l,u]},"solveQuadratic"),wIe=o(function(e,t,r,n,i){var a=1e-5;e===0&&(e=a),t/=e,r/=e,n/=e;var s,l,u,h,d,p,f,g;if(l=(3*r-t*t)/9,u=-(27*n)+t*(9*r-2*(t*t)),u/=54,s=l*l*l+u*u,i[1]=0,f=t/3,s>0){d=u+Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),p=u-Math.sqrt(s),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),i[0]=-f+d+p,f+=(d+p)/2,i[4]=i[2]=-f,f=Math.sqrt(3)*(-p+d)/2,i[3]=f,i[5]=-f;return}if(i[5]=i[3]=0,s===0){g=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),i[0]=-f+2*g,i[4]=i[2]=-(g+f);return}l=-l,h=l*l*l,h=Math.acos(u/Math.sqrt(h)),g=2*Math.sqrt(l),i[0]=-f+g*Math.cos(h/3),i[2]=-f+g*Math.cos((h+2*Math.PI)/3),i[4]=-f+g*Math.cos((h+4*Math.PI)/3)},"solveCubic"),kIe=o(function(e,t,r,n,i,a,s,l){var u=1*r*r-4*r*i+2*r*s+4*i*i-4*i*s+s*s+n*n-4*n*a+2*n*l+4*a*a-4*a*l+l*l,h=1*9*r*i-3*r*r-3*r*s-6*i*i+3*i*s+9*n*a-3*n*n-3*n*l-6*a*a+3*a*l,d=1*3*r*r-6*r*i+r*s-r*e+2*i*i+2*i*e-s*e+3*n*n-6*n*a+n*l-n*t+2*a*a+2*a*t-l*t,p=1*r*i-r*r+r*e-i*e+n*a-n*n+n*t-a*t,f=[];wIe(u,h,d,p,f);for(var g=1e-7,m=[],y=0;y<6;y+=2)Math.abs(f[y+1])<g&&f[y]>=0&&f[y]<=1&&m.push(f[y]);m.push(1),m.push(0);for(var b=-1,v,x,w,E=0;E<m.length;E++)v=Math.pow(1-m[E],2)*r+2*(1-m[E])*m[E]*i+m[E]*m[E]*s,x=Math.pow(1-m[E],2)*n+2*(1-m[E])*m[E]*a+m[E]*m[E]*l,w=Math.pow(v-e,2)+Math.pow(x-t,2),b>=0?w<b&&(b=w):b=w;return b},"sqdistToQuadraticBezier"),TIe=o(function(e,t,r,n,i,a){var s=[e-r,t-n],l=[i-r,a-n],u=l[0]*l[0]+l[1]*l[1],h=s[0]*s[0]+s[1]*s[1],d=s[0]*l[0]+s[1]*l[1],p=d*d/u;return d<0?h:p>u?(e-i)*(e-i)+(t-a)*(t-a):h-p},"sqdistToFiniteLine"),il=o(function(e,t,r){for(var n,i,a,s,l,u=0,h=0;h<r.length/2;h++)if(n=r[h*2],i=r[h*2+1],h+1<r.length/2?(a=r[(h+1)*2],s=r[(h+1)*2+1]):(a=r[(h+1-r.length/2)*2],s=r[(h+1-r.length/2)*2+1]),!(n==e&&a==e))if(n>=e&&e>=a||n<=e&&e<=a)l=(e-n)/(a-n)*(s-i)+i,l>t&&u++;else continue;return u%2!==0},"pointInsidePolygonPoints"),xh=o(function(e,t,r,n,i,a,s,l,u){var h=new Array(r.length),d;l[0]!=null?(d=Math.atan(l[1]/l[0]),l[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=l;for(var p=Math.cos(-d),f=Math.sin(-d),g=0;g<h.length/2;g++)h[g*2]=a/2*(r[g*2]*p-r[g*2+1]*f),h[g*2+1]=s/2*(r[g*2+1]*p+r[g*2]*f),h[g*2]+=n,h[g*2+1]+=i;var m;if(u>0){var y=bb(h,-u);m=vb(y)}else m=h;return il(e,t,m)},"pointInsidePolygon"),EIe=o(function(e,t,r,n,i,a,s,l){for(var u=new Array(r.length*2),h=0;h<l.length;h++){var d=l[h];u[h*4+0]=d.startX,u[h*4+1]=d.startY,u[h*4+2]=d.stopX,u[h*4+3]=d.stopY;var p=Math.pow(d.cx-e,2)+Math.pow(d.cy-t,2);if(p<=Math.pow(d.radius,2))return!0}return il(e,t,u)},"pointInsideRoundPolygon"),vb=o(function(e){for(var t=new Array(e.length/2),r,n,i,a,s,l,u,h,d=0;d<e.length/4;d++){r=e[d*4],n=e[d*4+1],i=e[d*4+2],a=e[d*4+3],d<e.length/4-1?(s=e[(d+1)*4],l=e[(d+1)*4+1],u=e[(d+1)*4+2],h=e[(d+1)*4+3]):(s=e[0],l=e[1],u=e[2],h=e[3]);var p=P0(r,n,i,a,s,l,u,h,!0);t[d*2]=p[0],t[d*2+1]=p[1]}return t},"joinLines"),bb=o(function(e,t){for(var r=new Array(e.length*2),n,i,a,s,l=0;l<e.length/2;l++){n=e[l*2],i=e[l*2+1],l<e.length/2-1?(a=e[(l+1)*2],s=e[(l+1)*2+1]):(a=e[0],s=e[1]);var u=s-i,h=-(a-n),d=Math.sqrt(u*u+h*h),p=u/d,f=h/d;r[l*4]=n+p*t,r[l*4+1]=i+f*t,r[l*4+2]=a+p*t,r[l*4+3]=s+f*t}return r},"expandPolygon"),CIe=o(function(e,t,r,n,i,a){var s=r-e,l=n-t;s/=i,l/=a;var u=Math.sqrt(s*s+l*l),h=u-1;if(h<0)return[];var d=h/u;return[(r-e)*d+e,(n-t)*d+t]},"intersectLineEllipse"),w1=o(function(e,t,r,n,i,a,s){return e-=i,t-=a,e/=r/2+s,t/=n/2+s,e*e+t*t<=1},"checkInEllipse"),ey=o(function(e,t,r,n,i,a,s){var l=[r-e,n-t],u=[e-i,t-a],h=l[0]*l[0]+l[1]*l[1],d=2*(u[0]*l[0]+u[1]*l[1]),p=u[0]*u[0]+u[1]*u[1]-s*s,f=d*d-4*h*p;if(f<0)return[];var g=(-d+Math.sqrt(f))/(2*h),m=(-d-Math.sqrt(f))/(2*h),y=Math.min(g,m),b=Math.max(g,m),v=[];if(y>=0&&y<=1&&v.push(y),b>=0&&b<=1&&v.push(b),v.length===0)return[];var x=v[0]*l[0]+e,w=v[0]*l[1]+t;if(v.length>1){if(v[0]==v[1])return[x,w];var E=v[1]*l[0]+e,A=v[1]*l[1]+t;return[x,w,E,A]}else return[x,w]},"intersectLineCircle"),AE=o(function(e,t,r){return t<=e&&e<=r||r<=e&&e<=t?e:e<=t&&t<=r||r<=t&&t<=e?t:r},"midOfThree"),P0=o(function(e,t,r,n,i,a,s,l,u){var h=e-i,d=r-e,p=s-i,f=t-a,g=n-t,m=l-a,y=p*f-m*h,b=d*f-g*h,v=m*d-p*g;if(v!==0){var x=y/v,w=b/v,E=.001,A=0-E,N=1+E;return A<=x&&x<=N&&A<=w&&w<=N?[e+x*d,t+x*g]:u?[e+x*d,t+x*g]:[]}else return y===0||b===0?AE(e,r,s)===s?[s,l]:AE(e,r,i)===i?[i,a]:AE(i,s,r)===r?[r,n]:[]:[]},"finiteLinesIntersect"),ty=o(function(e,t,r,n,i,a,s,l){var u=[],h,d=new Array(r.length),p=!0;a==null&&(p=!1);var f;if(p){for(var g=0;g<d.length/2;g++)d[g*2]=r[g*2]*a+n,d[g*2+1]=r[g*2+1]*s+i;if(l>0){var m=bb(d,-l);f=vb(m)}else f=d}else f=r;for(var y,b,v,x,w=0;w<f.length/2;w++)y=f[w*2],b=f[w*2+1],w<f.length/2-1?(v=f[(w+1)*2],x=f[(w+1)*2+1]):(v=f[0],x=f[1]),h=P0(e,t,n,i,y,b,v,x),h.length!==0&&u.push(h[0],h[1]);return u},"polygonIntersectLine"),_Ie=o(function(e,t,r,n,i,a,s,l,u){var h=[],d,p=new Array(r.length*2);u.forEach(function(v,x){x===0?(p[p.length-2]=v.startX,p[p.length-1]=v.startY):(p[x*4-2]=v.startX,p[x*4-1]=v.startY),p[x*4]=v.stopX,p[x*4+1]=v.stopY,d=ey(e,t,n,i,v.cx,v.cy,v.radius),d.length!==0&&h.push(d[0],d[1])});for(var f=0;f<p.length/4;f++)d=P0(e,t,n,i,p[f*4],p[f*4+1],p[f*4+2],p[f*4+3],!1),d.length!==0&&h.push(d[0],d[1]);if(h.length>2){for(var g=[h[0],h[1]],m=Math.pow(g[0]-e,2)+Math.pow(g[1]-t,2),y=1;y<h.length/2;y++){var b=Math.pow(h[y*2]-e,2)+Math.pow(h[y*2+1]-t,2);b<=m&&(g[0]=h[y*2],g[1]=h[y*2+1],m=b)}return g}return h},"roundPolygonIntersectLine"),xb=o(function(e,t,r){var n=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]),a=(i-r)/i;return a<0&&(a=1e-5),[t[0]+a*n[0],t[1]+a*n[1]]},"shortenIntersection"),Io=o(function(e,t){var r=LE(e,t);return r=KG(r),r},"generateUnitNgonPointsFitToSquare"),KG=o(function(e){for(var t,r,n=e.length/2,i=1/0,a=1/0,s=-1/0,l=-1/0,u=0;u<n;u++)t=e[2*u],r=e[2*u+1],i=Math.min(i,t),s=Math.max(s,t),a=Math.min(a,r),l=Math.max(l,r);for(var h=2/(s-i),d=2/(l-a),p=0;p<n;p++)t=e[2*p]=e[2*p]*h,r=e[2*p+1]=e[2*p+1]*d,i=Math.min(i,t),s=Math.max(s,t),a=Math.min(a,r),l=Math.max(l,r);if(a<-1)for(var f=0;f<n;f++)r=e[2*f+1]=e[2*f+1]+(-1-a);return e},"fitPolygonToSquare"),LE=o(function(e,t){var r=1/e*2*Math.PI,n=e%2===0?Math.PI/2+r/2:Math.PI/2;n+=t;for(var i=new Array(e*2),a,s=0;s<e;s++)a=s*r+n,i[2*s]=Math.cos(a),i[2*s+1]=Math.sin(-a);return i},"generateUnitNgonPoints"),k1=o(function(e,t){return Math.min(e/4,t/4,8)},"getRoundRectangleRadius"),ZG=o(function(e,t){return Math.min(e/10,t/10,8)},"getRoundPolygonRadius"),NE=o(function(){return 8},"getCutRectangleCornerLength"),SIe=o(function(e,t,r){return[e-2*t+r,2*(t-e),e]},"bezierPtsToQuadCoeff"),ME=o(function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},"getBarrelCurveConstants"),AIe=Fs({dampingFactor:.8,precision:1e-6,iterations:200,weight:o(function(e){return 1},"weight")}),LIe={pageRank:o(function(e){for(var t=AIe(e),r=t.dampingFactor,n=t.precision,i=t.iterations,a=t.weight,s=this._private.cy,l=this.byGroup(),u=l.nodes,h=l.edges,d=u.length,p=d*d,f=h.length,g=new Array(p),m=new Array(d),y=(1-r)/d,b=0;b<d;b++){for(var v=0;v<d;v++){var x=b*d+v;g[x]=0}m[b]=0}for(var w=0;w<f;w++){var E=h[w],A=E.data("source"),N=E.data("target");if(A!==N){var L=u.indexOfId(A),C=u.indexOfId(N),D=a(E),P=C*d+L;g[P]+=D,m[L]+=D}}for(var O=1/d+y,I=0;I<d;I++)if(m[I]===0)for(var q=0;q<d;q++){var S=q*d+I;g[S]=O}else for(var B=0;B<d;B++){var F=B*d+I;g[F]=g[F]/m[I]+y}for(var z=new Array(d),M=new Array(d),G,Y=0;Y<d;Y++)z[Y]=1;for(var V=0;V<i;V++){for(var X=0;X<d;X++)M[X]=0;for(var re=0;re<d;re++)for(var de=0;de<d;de++){var xe=re*d+de;M[re]+=g[xe]*z[de]}hIe(M),G=z,z=M,M=G;for(var he=0,be=0;be<d;be++){var Q=G[be]-z[be];he+=Q*Q}if(he<n)break}var ne={rank:o(function(ee){return ee=s.collection(ee)[0],z[u.indexOf(ee)]},"rank")};return ne},"pageRank")},QG=Fs({root:null,weight:o(function(e){return 1},"weight"),directed:!1,alpha:0}),Cg={degreeCentralityNormalized:o(function(e){e=QG(e);var t=this.cy(),r=this.nodes(),n=r.length;if(e.directed){for(var i={},a={},s=0,l=0,u=0;u<n;u++){var h=r[u],d=h.id();e.root=h;var p=this.degreeCentrality(e);s<p.indegree&&(s=p.indegree),l<p.outdegree&&(l=p.outdegree),i[d]=p.indegree,a[d]=p.outdegree}return{indegree:o(function(v){return s==0?0:(Ur(v)&&(v=t.filter(v)),i[v.id()]/s)},"indegree"),outdegree:o(function(v){return l===0?0:(Ur(v)&&(v=t.filter(v)),a[v.id()]/l)},"outdegree")}}else{for(var f={},g=0,m=0;m<n;m++){var y=r[m];e.root=y;var b=this.degreeCentrality(e);g<b.degree&&(g=b.degree),f[y.id()]=b.degree}return{degree:o(function(v){return g===0?0:(Ur(v)&&(v=t.filter(v)),f[v.id()]/g)},"degree")}}},"degreeCentralityNormalized"),degreeCentrality:o(function(e){e=QG(e);var t=this.cy(),r=this,n=e,i=n.root,a=n.weight,s=n.directed,l=n.alpha;if(i=t.collection(i)[0],s){for(var u=i.connectedEdges(),h=u.filter(function(A){return A.target().same(i)&&r.has(A)}),d=u.filter(function(A){return A.source().same(i)&&r.has(A)}),p=h.length,f=d.length,g=0,m=0,y=0;y<h.length;y++)g+=a(h[y]);for(var b=0;b<d.length;b++)m+=a(d[b]);return{indegree:Math.pow(p,1-l)*Math.pow(g,l),outdegree:Math.pow(f,1-l)*Math.pow(m,l)}}else{for(var v=i.connectedEdges().intersection(r),x=v.length,w=0,E=0;E<v.length;E++)w+=a(v[E]);return{degree:Math.pow(x,1-l)*Math.pow(w,l)}}},"degreeCentrality")},Cg.dc=Cg.degreeCentrality,Cg.dcn=Cg.degreeCentralityNormalised=Cg.degreeCentralityNormalized,JG=Fs({harmonic:!0,weight:o(function(){return 1},"weight"),directed:!1,root:null}),_g={closenessCentralityNormalized:o(function(e){for(var t=JG(e),r=t.harmonic,n=t.weight,i=t.directed,a=this.cy(),s={},l=0,u=this.nodes(),h=this.floydWarshall({weight:n,directed:i}),d=0;d<u.length;d++){for(var p=0,f=u[d],g=0;g<u.length;g++)if(d!==g){var m=h.distance(f,u[g]);r?p+=1/m:p+=m}r||(p=1/p),l<p&&(l=p),s[f.id()]=p}return{closeness:o(function(y){return l==0?0:(Ur(y)?y=a.filter(y)[0].id():y=y.id(),s[y]/l)},"closeness")}},"closenessCentralityNormalized"),closenessCentrality:o(function(e){var t=JG(e),r=t.root,n=t.weight,i=t.directed,a=t.harmonic;r=this.filter(r)[0];for(var s=this.dijkstra({root:r,weight:n,directed:i}),l=0,u=this.nodes(),h=0;h<u.length;h++){var d=u[h];if(!d.same(r)){var p=s.distanceTo(d);a?l+=1/p:l+=p}}return a?l:1/l},"closenessCentrality")},_g.cc=_g.closenessCentrality,_g.ccn=_g.closenessCentralityNormalised=_g.closenessCentralityNormalized,NIe=Fs({weight:null,directed:!1}),IE={betweennessCentrality:o(function(e){for(var t=NIe(e),r=t.directed,n=t.weight,i=n!=null,a=this.cy(),s=this.nodes(),l={},u={},h=0,d={set:o(function(v,x){u[v]=x,x>h&&(h=x)},"set"),get:o(function(v){return u[v]},"get")},p=0;p<s.length;p++){var f=s[p],g=f.id();r?l[g]=f.outgoers().nodes():l[g]=f.openNeighborhood().nodes(),d.set(g,0)}for(var m=o(function(v){for(var x=s[v].id(),w=[],E={},A={},N={},L=new Q2(function(re,de){return N[re]-N[de]}),C=0;C<s.length;C++){var D=s[C].id();E[D]=[],A[D]=0,N[D]=1/0}for(A[x]=1,N[x]=0,L.push(x);!L.empty();){var P=L.pop();if(w.push(P),i)for(var O=0;O<l[P].length;O++){var I=l[P][O],q=a.getElementById(P),S=void 0;q.edgesTo(I).length>0?S=q.edgesTo(I)[0]:S=I.edgesTo(q)[0];var B=n(S);I=I.id(),N[I]>N[P]+B&&(N[I]=N[P]+B,L.nodes.indexOf(I)<0?L.push(I):L.updateItem(I),A[I]=0,E[I]=[]),N[I]==N[P]+B&&(A[I]=A[I]+A[P],E[I].push(P))}else for(var F=0;F<l[P].length;F++){var z=l[P][F].id();N[z]==1/0&&(L.push(z),N[z]=N[P]+1),N[z]==N[P]+1&&(A[z]=A[z]+A[P],E[z].push(P))}}for(var M={},G=0;G<s.length;G++)M[s[G].id()]=0;for(;w.length>0;){for(var Y=w.pop(),V=0;V<E[Y].length;V++){var X=E[Y][V];M[X]=M[X]+A[X]/A[Y]*(1+M[Y])}Y!=s[v].id()&&d.set(Y,d.get(Y)+M[Y])}},"_loop"),y=0;y<s.length;y++)m(y);var b={betweenness:o(function(v){var x=a.collection(v).id();return d.get(x)},"betweenness"),betweennessNormalized:o(function(v){if(h==0)return 0;var x=a.collection(v).id();return d.get(x)/h},"betweennessNormalized")};return b.betweennessNormalised=b.betweennessNormalized,b},"betweennessCentrality")},IE.bc=IE.betweennessCentrality,MIe=Fs({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),IIe=o(function(e){return MIe(e)},"setOptions"),DIe=o(function(e,t){for(var r=0,n=0;n<t.length;n++)r+=t[n](e);return r},"getSimilarity"),RIe=o(function(e,t,r){for(var n=0;n<t;n++)e[n*t+n]=r},"addLoops"),eY=o(function(e,t){for(var r,n=0;n<t;n++){r=0;for(var i=0;i<t;i++)r+=e[i*t+n];for(var a=0;a<t;a++)e[a*t+n]=e[a*t+n]/r}},"normalize"),OIe=o(function(e,t,r){for(var n=new Array(r*r),i=0;i<r;i++){for(var a=0;a<r;a++)n[i*r+a]=0;for(var s=0;s<r;s++)for(var l=0;l<r;l++)n[i*r+l]+=e[i*r+s]*t[s*r+l]}return n},"mmult"),PIe=o(function(e,t,r){for(var n=e.slice(0),i=1;i<r;i++)e=OIe(e,n,t);return e},"expand"),BIe=o(function(e,t,r){for(var n=new Array(t*t),i=0;i<t*t;i++)n[i]=Math.pow(e[i],r);return eY(n,t),n},"inflate"),FIe=o(function(e,t,r,n){for(var i=0;i<r;i++){var a=Math.round(e[i]*Math.pow(10,n))/Math.pow(10,n),s=Math.round(t[i]*Math.pow(10,n))/Math.pow(10,n);if(a!==s)return!1}return!0},"hasConverged"),$Ie=o(function(e,t,r,n){for(var i=[],a=0;a<t;a++){for(var s=[],l=0;l<t;l++)Math.round(e[a*t+l]*1e3)/1e3>0&&s.push(r[l]);s.length!==0&&i.push(n.collection(s))}return i},"assign"),zIe=o(function(e,t){for(var r=0;r<e.length;r++)if(!t[r]||e[r].id()!==t[r].id())return!1;return!0},"isDuplicate"),qIe=o(function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e.length;r++)t!=r&&zIe(e[t],e[r])&&e.splice(r,1);return e},"removeDuplicates"),tY=o(function(e){for(var t=this.nodes(),r=this.edges(),n=this.cy(),i=IIe(e),a={},s=0;s<t.length;s++)a[t[s].id()]=s;for(var l=t.length,u=l*l,h=new Array(u),d,p=0;p<u;p++)h[p]=0;for(var f=0;f<r.length;f++){var g=r[f],m=a[g.source().id()],y=a[g.target().id()],b=DIe(g,i.attributes);h[m*l+y]+=b,h[y*l+m]+=b}RIe(h,l,i.multFactor),eY(h,l);for(var v=!0,x=0;v&&x<i.maxIterations;)v=!1,d=PIe(h,l,i.expandFactor),h=BIe(d,l,i.inflateFactor),FIe(h,d,u,4)||(v=!0),x++;var w=$Ie(h,l,t,n);return w=qIe(w),w},"markovClustering"),GIe={markovClustering:tY,mcl:tY},YIe=o(function(e){return e},"identity"),rY=o(function(e,t){return Math.abs(t-e)},"absDiff"),nY=o(function(e,t,r){return e+rY(t,r)},"addAbsDiff"),iY=o(function(e,t,r){return e+Math.pow(r-t,2)},"addSquaredDiff"),jIe=o(function(e){return Math.sqrt(e)},"sqrt"),HIe=o(function(e,t,r){return Math.max(e,rY(t,r))},"maxAbsDiff"),ry=o(function(e,t,r,n,i){for(var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:YIe,s=n,l,u,h=0;h<e;h++)l=t(h),u=r(h),s=i(s,l,u);return a(s)},"getDistance"),Sg={euclidean:o(function(e,t,r){return e>=2?ry(e,t,r,0,iY,jIe):ry(e,t,r,0,nY)},"euclidean"),squaredEuclidean:o(function(e,t,r){return ry(e,t,r,0,iY)},"squaredEuclidean"),manhattan:o(function(e,t,r){return ry(e,t,r,0,nY)},"manhattan"),max:o(function(e,t,r){return ry(e,t,r,-1/0,HIe)},"max")},Sg["squared-euclidean"]=Sg.squaredEuclidean,Sg.squaredeuclidean=Sg.squaredEuclidean,o(eb,"clusteringDistance"),UIe=Fs({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),DE=o(function(e){return UIe(e)},"setOptions"),wb=o(function(e,t,r,n,i){var a=i!=="kMedoids",s=a?function(d){return r[d]}:function(d){return n[d](r)},l=o(function(d){return n[d](t)},"getQ"),u=r,h=t;return eb(e,n.length,s,l,u,h)},"getDist"),RE=o(function(e,t,r){for(var n=r.length,i=new Array(n),a=new Array(n),s=new Array(t),l=null,u=0;u<n;u++)i[u]=e.min(r[u]).value,a[u]=e.max(r[u]).value;for(var h=0;h<t;h++){l=[];for(var d=0;d<n;d++)l[d]=Math.random()*(a[d]-i[d])+i[d];s[h]=l}return s},"randomCentroids"),aY=o(function(e,t,r,n,i){for(var a=1/0,s=0,l=0;l<t.length;l++){var u=wb(r,e,t[l],n,i);u<a&&(a=u,s=l)}return s},"classify"),sY=o(function(e,t,r){for(var n=[],i=null,a=0;a<t.length;a++)i=t[a],r[i.id()]===e&&n.push(i);return n},"buildCluster"),VIe=o(function(e,t,r){return Math.abs(t-e)<=r},"haveValuesConverged"),WIe=o(function(e,t,r){for(var n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++){var a=Math.abs(e[n][i]-t[n][i]);if(a>r)return!1}return!0},"haveMatricesConverged"),XIe=o(function(e,t,r){for(var n=0;n<r;n++)if(e===t[n])return!0;return!1},"seenBefore"),oY=o(function(e,t){var r=new Array(t);if(e.length<50)for(var n=0;n<t;n++){for(var i=e[Math.floor(Math.random()*e.length)];XIe(i,r,n);)i=e[Math.floor(Math.random()*e.length)];r[n]=i}else for(var a=0;a<t;a++)r[a]=e[Math.floor(Math.random()*e.length)];return r},"randomMedoids"),lY=o(function(e,t,r){for(var n=0,i=0;i<t.length;i++)n+=wb("manhattan",t[i],e,r,"kMedoids");return n},"findCost"),KIe=o(function(e){var t=this.cy(),r=this.nodes(),n=null,i=DE(e),a=new Array(i.k),s={},l;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,l=RE(r,i.k,i.attributes)):rs(i.testCentroids)==="object"?l=i.testCentroids:l=RE(r,i.k,i.attributes):l=RE(r,i.k,i.attributes);for(var u=!0,h=0;u&&h<i.maxIterations;){for(var d=0;d<r.length;d++)n=r[d],s[n.id()]=aY(n,l,i.distance,i.attributes,"kMeans");u=!1;for(var p=0;p<i.k;p++){var f=sY(p,r,s);if(f.length!==0){for(var g=i.attributes.length,m=l[p],y=new Array(g),b=new Array(g),v=0;v<g;v++){b[v]=0;for(var x=0;x<f.length;x++)n=f[x],b[v]+=i.attributes[v](n);y[v]=b[v]/f.length,VIe(y[v],m[v],i.sensitivityThreshold)||(u=!0)}l[p]=y,a[p]=t.collection(f)}}h++}return a},"kMeans"),ZIe=o(function(e){var t=this.cy(),r=this.nodes(),n=null,i=DE(e),a=new Array(i.k),s,l={},u,h=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(rs(i.testCentroids)==="object"?s=i.testCentroids:s=oY(r,i.k)):s=oY(r,i.k);for(var d=!0,p=0;d&&p<i.maxIterations;){for(var f=0;f<r.length;f++)n=r[f],l[n.id()]=aY(n,s,i.distance,i.attributes,"kMedoids");d=!1;for(var g=0;g<s.length;g++){var m=sY(g,r,l);if(m.length!==0){h[g]=lY(s[g],m,i.attributes);for(var y=0;y<m.length;y++)u=lY(m[y],m,i.attributes),u<h[g]&&(h[g]=u,s[g]=m[y],d=!0);a[g]=t.collection(m)}}p++}return a},"kMedoids"),QIe=o(function(e,t,r,n,i){for(var a,s,l=0;l<t.length;l++)for(var u=0;u<e.length;u++)n[l][u]=Math.pow(r[l][u],i.m);for(var h=0;h<e.length;h++)for(var d=0;d<i.attributes.length;d++){a=0,s=0;for(var p=0;p<t.length;p++)a+=n[p][h]*i.attributes[d](t[p]),s+=n[p][h];e[h][d]=a/s}},"updateCentroids"),JIe=o(function(e,t,r,n,i){for(var a=0;a<e.length;a++)t[a]=e[a].slice();for(var s,l,u,h=2/(i.m-1),d=0;d<r.length;d++)for(var p=0;p<n.length;p++){s=0;for(var f=0;f<r.length;f++)l=wb(i.distance,n[p],r[d],i.attributes,"cmeans"),u=wb(i.distance,n[p],r[f],i.attributes,"cmeans"),s+=Math.pow(l/u,h);e[p][d]=1/s}},"updateMembership"),eDe=o(function(e,t,r,n){for(var i=new Array(r.k),a=0;a<i.length;a++)i[a]=[];for(var s,l,u=0;u<t.length;u++){s=-1/0,l=-1;for(var h=0;h<t[0].length;h++)t[u][h]>s&&(s=t[u][h],l=h);i[l].push(e[u])}for(var d=0;d<i.length;d++)i[d]=n.collection(i[d]);return i},"assign"),cY=o(function(e){var t=this.cy(),r=this.nodes(),n=DE(e),i,a,s,l,u;l=new Array(r.length);for(var h=0;h<r.length;h++)l[h]=new Array(n.k);s=new Array(r.length);for(var d=0;d<r.length;d++)s[d]=new Array(n.k);for(var p=0;p<r.length;p++){for(var f=0,g=0;g<n.k;g++)s[p][g]=Math.random(),f+=s[p][g];for(var m=0;m<n.k;m++)s[p][m]=s[p][m]/f}a=new Array(n.k);for(var y=0;y<n.k;y++)a[y]=new Array(n.attributes.length);u=new Array(r.length);for(var b=0;b<r.length;b++)u[b]=new Array(n.k);for(var v=!0,x=0;v&&x<n.maxIterations;)v=!1,QIe(a,r,s,u,n),JIe(s,l,a,r,n),WIe(s,l,n.sensitivityThreshold)||(v=!0),x++;return i=eDe(r,s,n,t),{clusters:i,degreeOfMembership:s}},"fuzzyCMeans"),tDe={kMeans:KIe,kMedoids:ZIe,fuzzyCMeans:cY,fcm:cY},rDe=Fs({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),nDe={single:"min",complete:"max"},iDe=o(function(e){var t=rDe(e),r=nDe[t.linkage];return r!=null&&(t.linkage=r),t},"setOptions"),uY=o(function(e,t,r,n,i){for(var a=0,s=1/0,l,u=i.attributes,h=o(function(L,C){return eb(i.distance,u.length,function(D){return u[D](L)},function(D){return u[D](C)},L,C)},"getDist"),d=0;d<e.length;d++){var p=e[d].key,f=r[p][n[p]];f<s&&(a=p,s=f)}if(i.mode==="threshold"&&s>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var g=t[a],m=t[n[a]],y;i.mode==="dendrogram"?y={left:g,right:m,key:g.key}:y={value:g.value.concat(m.value),key:g.key},e[g.index]=y,e.splice(m.index,1),t[g.key]=y;for(var b=0;b<e.length;b++){var v=e[b];g.key===v.key?l=1/0:i.linkage==="min"?(l=r[g.key][v.key],r[g.key][v.key]>r[m.key][v.key]&&(l=r[m.key][v.key])):i.linkage==="max"?(l=r[g.key][v.key],r[g.key][v.key]<r[m.key][v.key]&&(l=r[m.key][v.key])):i.linkage==="mean"?l=(r[g.key][v.key]*g.size+r[m.key][v.key]*m.size)/(g.size+m.size):i.mode==="dendrogram"?l=h(v.value,g.value):l=h(v.value[0],g.value[0]),r[g.key][v.key]=r[v.key][g.key]=l}for(var x=0;x<e.length;x++){var w=e[x].key;if(n[w]===g.key||n[w]===m.key){for(var E=w,A=0;A<e.length;A++){var N=e[A].key;r[w][N]<r[w][E]&&(E=N)}n[w]=E}e[x].index=x}return g.key=m.key=g.index=m.index=null,!0},"mergeClosest"),kb=o(function e(t,r,n){t&&(t.value?r.push(t.value):(t.left&&e(t.left,r),t.right&&e(t.right,r)))},"getAllChildren"),aDe=o(function e(t,r){if(!t)return"";if(t.left&&t.right){var n=e(t.left,r),i=e(t.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(t.value)return t.value.id()},"buildDendrogram"),sDe=o(function e(t,r,n){if(!t)return[];var i=[],a=[],s=[];return r===0?(t.left&&kb(t.left,i),t.right&&kb(t.right,a),s=i.concat(a),[n.collection(s)]):r===1?t.value?[n.collection(t.value)]:(t.left&&kb(t.left,i),t.right&&kb(t.right,a),[n.collection(i),n.collection(a)]):t.value?[n.collection(t.value)]:(t.left&&(i=e(t.left,r-1,n)),t.right&&(a=e(t.right,r-1,n)),i.concat(a))},"buildClustersFromTree"),hY=o(function(e){for(var t=this.cy(),r=this.nodes(),n=iDe(e),i=n.attributes,a=o(function(v,x){return eb(n.distance,i.length,function(w){return i[w](v)},function(w){return i[w](x)},v,x)},"getDist"),s=[],l=[],u=[],h=[],d=0;d<r.length;d++){var p={value:n.mode==="dendrogram"?r[d]:[r[d]],key:d,index:d};s[d]=p,h[d]=p,l[d]=[],u[d]=0}for(var f=0;f<s.length;f++)for(var g=0;g<=f;g++){var m=void 0;n.mode==="dendrogram"?m=f===g?1/0:a(s[f].value,s[g].value):m=f===g?1/0:a(s[f].value[0],s[g].value[0]),l[f][g]=m,l[g][f]=m,m<l[f][u[f]]&&(u[f]=g)}for(var y=uY(s,h,l,u,n);y;)y=uY(s,h,l,u,n);var b;return n.mode==="dendrogram"?(b=sDe(s[0],n.dendrogramDepth,t),n.addDendrogram&&aDe(s[0],t)):(b=new Array(s.length),s.forEach(function(v,x){v.key=v.index=null,b[x]=t.collection(v.value)})),b},"hierarchicalClustering"),oDe={hierarchicalClustering:hY,hca:hY},lDe=Fs({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),cDe=o(function(e){var t=e.damping,r=e.preference;.5<=t&&t<1||ma("Damping must range on [0.5, 1).  Got: ".concat(t));var n=["median","mean","min","max"];return n.some(function(i){return i===r})||hr(r)||ma("Preference must be one of [".concat(n.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(r)),lDe(e)},"setOptions"),uDe=o(function(e,t,r,n){var i=o(function(a,s){return n[s](a)},"attr");return-eb(e,n.length,function(a){return i(t,a)},function(a){return i(r,a)},t,r)},"getSimilarity"),hDe=o(function(e,t){var r=null;return t==="median"?r=cIe(e):t==="mean"?r=lIe(e):t==="min"?r=sIe(e):t==="max"?r=oIe(e):r=t,r},"getPreference"),dDe=o(function(e,t,r){for(var n=[],i=0;i<e;i++)t[i*e+i]+r[i*e+i]>0&&n.push(i);return n},"findExemplars"),dY=o(function(e,t,r){for(var n=[],i=0;i<e;i++){for(var a=-1,s=-1/0,l=0;l<r.length;l++){var u=r[l];t[i*e+u]>s&&(a=u,s=t[i*e+u])}a>0&&n.push(a)}for(var h=0;h<r.length;h++)n[r[h]]=r[h];return n},"assignClusters"),pDe=o(function(e,t,r){for(var n=dY(e,t,r),i=0;i<r.length;i++){for(var a=[],s=0;s<n.length;s++)n[s]===r[i]&&a.push(s);for(var l=-1,u=-1/0,h=0;h<a.length;h++){for(var d=0,p=0;p<a.length;p++)d+=t[a[p]*e+a[h]];d>u&&(l=h,u=d)}r[i]=a[l]}return n=dY(e,t,r),n},"assign"),pY=o(function(e){for(var t=this.cy(),r=this.nodes(),n=cDe(e),i={},a=0;a<r.length;a++)i[r[a].id()]=a;var s,l,u,h,d,p;s=r.length,l=s*s,u=new Array(l);for(var f=0;f<l;f++)u[f]=-1/0;for(var g=0;g<s;g++)for(var m=0;m<s;m++)g!==m&&(u[g*s+m]=uDe(n.distance,r[g],r[m],n.attributes));h=hDe(u,n.preference);for(var y=0;y<s;y++)u[y*s+y]=h;d=new Array(l);for(var b=0;b<l;b++)d[b]=0;p=new Array(l);for(var v=0;v<l;v++)p[v]=0;for(var x=new Array(s),w=new Array(s),E=new Array(s),A=0;A<s;A++)x[A]=0,w[A]=0,E[A]=0;for(var N=new Array(s*n.minIterations),L=0;L<N.length;L++)N[L]=0;var C;for(C=0;C<n.maxIterations;C++){for(var D=0;D<s;D++){for(var P=-1/0,O=-1/0,I=-1,q=0,S=0;S<s;S++)x[S]=d[D*s+S],q=p[D*s+S]+u[D*s+S],q>=P?(O=P,P=q,I=S):q>O&&(O=q);for(var B=0;B<s;B++)d[D*s+B]=(1-n.damping)*(u[D*s+B]-P)+n.damping*x[B];d[D*s+I]=(1-n.damping)*(u[D*s+I]-O)+n.damping*x[I]}for(var F=0;F<s;F++){for(var z=0,M=0;M<s;M++)x[M]=p[M*s+F],w[M]=Math.max(0,d[M*s+F]),z+=w[M];z-=w[F],w[F]=d[F*s+F],z+=w[F];for(var G=0;G<s;G++)p[G*s+F]=(1-n.damping)*Math.min(0,z-w[G])+n.damping*x[G];p[F*s+F]=(1-n.damping)*(z-w[F])+n.damping*x[F]}for(var Y=0,V=0;V<s;V++){var X=p[V*s+V]+d[V*s+V]>0?1:0;N[C%n.minIterations*s+V]=X,Y+=X}if(Y>0&&(C>=n.minIterations-1||C==n.maxIterations-1)){for(var re=0,de=0;de<s;de++){E[de]=0;for(var xe=0;xe<n.minIterations;xe++)E[de]+=N[xe*s+de];(E[de]===0||E[de]===n.minIterations)&&re++}if(re===s)break}}for(var he=dDe(s,d,p),be=pDe(s,u,he),Q={},ne=0;ne<he.length;ne++)Q[he[ne]]=[];for(var ee=0;ee<r.length;ee++){var pe=i[r[ee].id()],ie=be[pe];ie!=null&&Q[ie].push(r[ee])}for(var De=new Array(he.length),se=0;se<he.length;se++)De[se]=t.collection(Q[he[se]]);return De},"affinityPropagation"),gDe={affinityPropagation:pY,ap:pY},fDe=Fs({root:void 0,directed:!1}),mDe={hierholzer:o(function(e){if(!Zn(e)){var t=arguments;e={root:t[0],directed:t[1]}}var r=fDe(e),n=r.root,i=r.directed,a=this,s=!1,l,u,h;n&&(h=Ur(n)?this.filter(n)[0].id():n[0].id());var d={},p={};i?a.forEach(function(v){var x=v.id();if(v.isNode()){var w=v.indegree(!0),E=v.outdegree(!0),A=w-E,N=E-w;A==1?l?s=!0:l=x:N==1?u?s=!0:u=x:(N>1||A>1)&&(s=!0),d[x]=[],v.outgoers().forEach(function(L){L.isEdge()&&d[x].push(L.id())})}else p[x]=[void 0,v.target().id()]}):a.forEach(function(v){var x=v.id();if(v.isNode()){var w=v.degree(!0);w%2&&(l?u?s=!0:u=x:l=x),d[x]=[],v.connectedEdges().forEach(function(E){return d[x].push(E.id())})}else p[x]=[v.source().id(),v.target().id()]});var f={found:!1,trail:void 0};if(s)return f;if(u&&l)if(i){if(h&&u!=h)return f;h=u}else{if(h&&u!=h&&l!=h)return f;h||(h=u)}else h||(h=a[0].id());var g=o(function(v){for(var x=v,w=[v],E,A,N;d[x].length;)E=d[x].shift(),A=p[E][0],N=p[E][1],x!=N?(d[N]=d[N].filter(function(L){return L!=E}),x=N):!i&&x!=A&&(d[A]=d[A].filter(function(L){return L!=E}),x=A),w.unshift(E),w.unshift(x);return w},"walk"),m=[],y=[];for(y=g(h);y.length!=1;)d[y[0]].length==0?(m.unshift(a.getElementById(y.shift())),m.unshift(a.getElementById(y.shift()))):y=g(y.shift()).concat(y);m.unshift(a.getElementById(y.shift()));for(var b in d)if(d[b].length)return f;return f.found=!0,f.trail=this.spawn(m,!0),f},"hierholzer")},Tb=o(function(){var e=this,t={},r=0,n=0,i=[],a=[],s={},l=o(function(d,p){for(var f=a.length-1,g=[],m=e.spawn();a[f].x!=d||a[f].y!=p;)g.push(a.pop().edge),f--;g.push(a.pop().edge),g.forEach(function(y){var b=y.connectedNodes().intersection(e);m.merge(y),b.forEach(function(v){var x=v.id(),w=v.connectedEdges().intersection(e);m.merge(v),t[x].cutVertex?m.merge(w.filter(function(E){return E.isLoop()})):m.merge(w)})}),i.push(m)},"buildComponent"),u=o(function d(p,f,g){p===g&&(n+=1),t[f]={id:r,low:r++,cutVertex:!1};var m=e.getElementById(f).connectedEdges().intersection(e);if(m.size()===0)i.push(e.spawn(e.getElementById(f)));else{var y,b,v,x;m.forEach(function(w){y=w.source().id(),b=w.target().id(),v=y===f?b:y,v!==g&&(x=w.id(),s[x]||(s[x]=!0,a.push({x:f,y:v,edge:w})),v in t?t[f].low=Math.min(t[f].low,t[v].id):(d(p,v,f),t[f].low=Math.min(t[f].low,t[v].low),t[f].id<=t[v].low&&(t[f].cutVertex=!0,l(f,v))))})}},"biconnectedSearch");e.forEach(function(d){if(d.isNode()){var p=d.id();p in t||(n=0,u(p,p),t[p].cutVertex=n>1)}});var h=Object.keys(t).filter(function(d){return t[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(h),components:i}},"hopcroftTarjanBiconnected"),yDe={hopcroftTarjanBiconnected:Tb,htbc:Tb,htb:Tb,hopcroftTarjanBiconnectedComponents:Tb},Eb=o(function(){var e=this,t={},r=0,n=[],i=[],a=e.spawn(e),s=o(function l(u){i.push(u),t[u]={index:r,low:r++,explored:!1};var h=e.getElementById(u).connectedEdges().intersection(e);if(h.forEach(function(m){var y=m.target().id();y!==u&&(y in t||l(y),t[y].explored||(t[u].low=Math.min(t[u].low,t[y].low)))}),t[u].index===t[u].low){for(var d=e.spawn();;){var p=i.pop();if(d.merge(e.getElementById(p)),t[p].low=t[u].index,t[p].explored=!0,p===u)break}var f=d.edgesWith(d),g=d.merge(f);n.push(g),a=a.difference(g)}},"stronglyConnectedSearch");return e.forEach(function(l){if(l.isNode()){var u=l.id();u in t||s(u)}}),{cut:a,components:n}},"tarjanStronglyConnected"),vDe={tarjanStronglyConnected:Eb,tsc:Eb,tscc:Eb,tarjanStronglyConnectedComponents:Eb},gY={},[Z2,WMe,XMe,ZMe,JMe,tIe,iIe,LIe,Cg,_g,IE,GIe,tDe,oDe,gDe,mDe,yDe,vDe].forEach(function(e){nn(gY,e)}),fY=0,mY=1,yY=2,wh=o(function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=fY,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))},"api"),wh.prototype={fulfill:o(function(e){return vY(this,mY,"fulfillValue",e)},"fulfill"),reject:o(function(e){return vY(this,yY,"rejectReason",e)},"reject"),then:o(function(e,t){var r=this,n=new wh;return r.onFulfilled.push(wY(e,n,"fulfill")),r.onRejected.push(wY(t,n,"reject")),bY(r),n.proxy},"then")},vY=o(function(e,t,r,n){return e.state===fY&&(e.state=t,e[r]=n,bY(e)),e},"deliver"),bY=o(function(e){e.state===mY?xY(e,"onFulfilled",e.fulfillValue):e.state===yY&&xY(e,"onRejected",e.rejectReason)},"execute"),xY=o(function(e,t,r){if(e[t].length!==0){var n=e[t];e[t]=[];var i=o(function(){for(var a=0;a<n.length;a++)n[a](r)},"func");typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},"execute_handlers"),wY=o(function(e,t,r){return function(n){if(typeof e!="function")t[r].call(t,n);else{var i;try{i=e(n)}catch(a){t.reject(a);return}bDe(t,i)}}},"resolver"),bDe=o(function e(t,r){if(t===r||t.proxy===r){t.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(rs(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(a){t.reject(a);return}if(typeof n=="function"){var i=!1;try{n.call(r,function(a){i||(i=!0,a===r?t.reject(new TypeError("circular thenable chain")):e(t,a))},function(a){i||(i=!0,t.reject(a))})}catch(a){i||t.reject(a)}return}t.fulfill(r)},"resolve"),wh.all=function(e){return new wh(function(t,r){for(var n=new Array(e.length),i=0,a=o(function(l,u){n[l]=u,i++,i===e.length&&t(n)},"fulfill"),s=0;s<e.length;s++)(function(l){var u=e[l],h=u!=null&&u.then!=null;if(h)u.then(function(p){a(l,p)},function(p){r(p)});else{var d=u;a(l,d)}})(s)})},wh.resolve=function(e){return new wh(function(t,r){t(e)})},wh.reject=function(e){return new wh(function(t,r){r(e)})},Ag=typeof Promise<"u"?Promise:wh,OE=o(function(e,t,r){var n=vE(e),i=!n,a=this._private=nn({duration:1e3},t,r);if(a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&ia(a.complete)&&a.completes.push(a.complete),i){var s=e.position();a.startPosition=a.startPosition||{x:s.x,y:s.y},a.startStyle=a.startStyle||e.cy().style().getAnimationStartStyle(e,a.style)}if(n){var l=e.pan();a.startPan={x:l.x,y:l.y},a.startZoom=e.zoom()}this.length=1,this[0]=this},"Animation"),T1=OE.prototype,nn(T1,{instanceString:o(function(){return"animation"},"instanceString"),hook:o(function(){var e=this._private;if(!e.hooked){var t,r=e.target._private.animation;e.queue?t=r.queue:t=r.current,t.push(this),Nl(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},"hook"),play:o(function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},"play"),playing:o(function(){return this._private.playing},"playing"),apply:o(function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},"apply"),applying:o(function(){return this._private.applying},"applying"),pause:o(function(){var e=this._private;return e.playing=!1,e.started=!1,this},"pause"),stop:o(function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},"stop"),rewind:o(function(){return this.progress(0)},"rewind"),fastforward:o(function(){return this.progress(1)},"fastforward"),time:o(function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},"time"),progress:o(function(e){var t=this._private,r=t.playing;return e===void 0?t.progress:(r&&this.pause(),t.progress=e,t.started=!1,r&&this.play(),this)},"progress"),completed:o(function(){return this._private.progress===1},"completed"),reverse:o(function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=o(function(l,u){var h=e[l];h!=null&&(e[l]=e[u],e[u]=h)},"swap");if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var n=0;n<e.style.length;n++){var i=e.style[n],a=i.name,s=e.startStyle[a];e.startStyle[a]=i,e.style[n]=s}return t&&this.play(),this},"reverse"),promise:o(function(e){var t=this._private,r;switch(e){case"frame":r=t.frames;break;default:case"complete":case"completed":r=t.completes}return new Ag(function(n,i){r.push(function(){n()})})},"promise")}),T1.complete=T1.completed,T1.run=T1.play,T1.running=T1.playing,xDe={animated:o(function(){return o(function(){var e=this,t=e.length!==void 0,r=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return!1;var i=r[0];if(i)return i._private.animation.current.length>0},"animatedImpl")},"animated"),clearQueue:o(function(){return o(function(){var e=this,t=e.length!==void 0,r=t?e:[e],n=this._private.cy||this;if(!n.styleEnabled())return this;for(var i=0;i<r.length;i++){var a=r[i];a._private.animation.queue=[]}return this},"clearQueueImpl")},"clearQueue"),delay:o(function(){return o(function(e,t){var r=this._private.cy||this;return r.styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this},"delayImpl")},"delay"),delayAnimation:o(function(){return o(function(e,t){var r=this._private.cy||this;return r.styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this},"delayAnimationImpl")},"delayAnimation"),animation:o(function(){return o(function(e,t){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this,s=!n,l=!s;if(!a.styleEnabled())return this;var u=a.style();e=nn({},e,t);var h=Object.keys(e).length===0;if(h)return new OE(i[0],e);switch(e.duration===void 0&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200;break}if(l&&(e.style=u.getPropsList(e.style||e.css),e.css=void 0),l&&e.renderedPosition!=null){var d=e.renderedPosition,p=a.pan(),f=a.zoom();e.position=jG(d,f,p)}if(s&&e.panBy!=null){var g=e.panBy,m=a.pan();e.pan={x:m.x+g.x,y:m.y+g.y}}var y=e.center||e.centre;if(s&&y!=null){var b=a.getCenterPan(y.eles,e.zoom);b!=null&&(e.pan=b)}if(s&&e.fit!=null){var v=e.fit,x=a.getFitViewport(v.eles||v.boundingBox,v.padding);x!=null&&(e.pan=x.pan,e.zoom=x.zoom)}if(s&&Zn(e.zoom)){var w=a.getZoomedViewport(e.zoom);w!=null?(w.zoomed&&(e.zoom=w.zoom),w.panned&&(e.pan=w.pan)):e.zoom=null}return new OE(i[0],e)},"animationImpl")},"animation"),animate:o(function(){return o(function(e,t){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;t&&(e=nn({},e,t));for(var s=0;s<i.length;s++){var l=i[s],u=l.animated()&&(e.queue===void 0||e.queue),h=l.animation(e,u?{queue:!0}:void 0);h.play()}return this},"animateImpl")},"animate"),stop:o(function(){return o(function(e,t){var r=this,n=r.length!==void 0,i=n?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var s=0;s<i.length;s++){for(var l=i[s],u=l._private,h=u.animation.current,d=0;d<h.length;d++){var p=h[d],f=p._private;t&&(f.duration=0)}e&&(u.animation.queue=[]),t||(u.animation.current=[])}return a.notify("draw"),this},"stopImpl")},"stop")},wDe=Array.isArray,Cb=wDe,kDe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TDe=/^\w*$/,o($Le,"isKey"),EDe=$Le,CDe="[object AsyncFunction]",_De="[object Function]",SDe="[object GeneratorFunction]",ADe="[object Proxy]",o(zLe,"isFunction"),LDe=zLe,NDe=lb["__core-js_shared__"],PE=NDe,kY=function(){var e=/[^.]+$/.exec(PE&&PE.keys&&PE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),o(qLe,"isMasked"),MDe=qLe,IDe=Function.prototype,DDe=IDe.toString,o(GLe,"toSource"),RDe=GLe,ODe=/[\\^$.*+?()[\]{}|]/g,PDe=/^\[object .+?Constructor\]$/,BDe=Function.prototype,FDe=Object.prototype,$De=BDe.toString,zDe=FDe.hasOwnProperty,qDe=RegExp("^"+$De.call(zDe).replace(ODe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),o(YLe,"baseIsNative"),GDe=YLe,o(jLe,"getValue$1"),YDe=jLe,o(HLe,"getNative"),BE=HLe,jDe=BE(Object,"create"),ny=jDe,o(ULe,"hashClear"),HDe=ULe,o(VLe,"hashDelete"),UDe=VLe,VDe="__lodash_hash_undefined__",WDe=Object.prototype,XDe=WDe.hasOwnProperty,o(WLe,"hashGet"),KDe=WLe,ZDe=Object.prototype,QDe=ZDe.hasOwnProperty,o(XLe,"hashHas"),JDe=XLe,eRe="__lodash_hash_undefined__",o(KLe,"hashSet"),tRe=KLe,o(pg,"Hash"),pg.prototype.clear=HDe,pg.prototype.delete=UDe,pg.prototype.get=KDe,pg.prototype.has=JDe,pg.prototype.set=tRe,TY=pg,o(ZLe,"listCacheClear"),rRe=ZLe,o(QLe,"eq"),EY=QLe,o(JLe,"assocIndexOf"),_b=JLe,nRe=Array.prototype,iRe=nRe.splice,o(eNe,"listCacheDelete"),aRe=eNe,o(tNe,"listCacheGet"),sRe=tNe,o(rNe,"listCacheHas"),oRe=rNe,o(nNe,"listCacheSet"),lRe=nNe,o(gg,"ListCache"),gg.prototype.clear=rRe,gg.prototype.delete=aRe,gg.prototype.get=sRe,gg.prototype.has=oRe,gg.prototype.set=lRe,cRe=gg,uRe=BE(lb,"Map"),hRe=uRe,o(iNe,"mapCacheClear"),dRe=iNe,o(aNe,"isKeyable"),pRe=aNe,o(sNe,"getMapData"),Sb=sNe,o(oNe,"mapCacheDelete"),gRe=oNe,o(lNe,"mapCacheGet"),fRe=lNe,o(cNe,"mapCacheHas"),mRe=cNe,o(uNe,"mapCacheSet"),yRe=uNe,o(fg,"MapCache"),fg.prototype.clear=dRe,fg.prototype.delete=gRe,fg.prototype.get=fRe,fg.prototype.has=mRe,fg.prototype.set=yRe,CY=fg,vRe="Expected a function",o(uE,"memoize"),uE.Cache=CY,bRe=uE,xRe=500,o(hNe,"memoizeCapped"),wRe=hNe,kRe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,TRe=/\\(\\)?/g,ERe=wRe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(kRe,function(r,n,i,a){t.push(i?a.replace(TRe,"$1"):n||r)}),t}),_Y=ERe,o(dNe,"arrayMap"),SY=dNe,CRe=1/0,AY=bg?bg.prototype:void 0,LY=AY?AY.toString:void 0,o(Vq,"baseToString"),_Re=Vq,o(pNe,"toString$1"),NY=pNe,o(gNe,"castPath"),MY=gNe,SRe=1/0,o(fNe,"toKey"),FE=fNe,o(mNe,"baseGet"),ARe=mNe,o(yNe,"get"),LRe=yNe,NRe=function(){try{var e=BE(Object,"defineProperty");return e({},"",{}),e}catch{}}(),IY=NRe,o(vNe,"baseAssignValue"),MRe=vNe,IRe=Object.prototype,DRe=IRe.hasOwnProperty,o(bNe,"assignValue"),RRe=bNe,ORe=9007199254740991,PRe=/^(?:0|[1-9]\d*)$/,o(xNe,"isIndex"),BRe=xNe,o(wNe,"baseSet"),FRe=wNe,o(kNe,"set"),$Re=kNe,o(TNe,"copyArray"),zRe=TNe,o(ENe,"toPath"),qRe=ENe,GRe={data:o(function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:o(function(r){},"beforeGet"),beforeSet:o(function(r,n){},"beforeSet"),onSet:o(function(r){},"onSet"),canSet:o(function(r){return!0},"canSet")};return e=nn({},t,e),o(function(r,n){var i=e,a=this,s=a.length!==void 0,l=s?a:[a],u=s?a[0]:a;if(Ur(r)){var h=r.indexOf(".")!==-1,d=h&&qRe(r);if(i.allowGetting&&n===void 0){var p;return u&&(i.beforeGet(u),d&&u._private[i.field][r]===void 0?p=LRe(u._private[i.field],d):p=u._private[i.field][r]),p}else if(i.allowSetting&&n!==void 0){var f=!i.immutableKeys[r];if(f){var g=Yq({},r,n);i.beforeSet(a,g);for(var m=0,y=l.length;m<y;m++){var b=l[m];i.canSet(b)&&(d&&u._private[i.field][r]===void 0?$Re(b._private[i.field],d,n):b._private[i.field][r]=n)}i.updateStyle&&a.updateStyle(),i.onSet(a),i.settingTriggersEvent&&a[i.triggerFnName](i.settingEvent)}}}else if(i.allowSetting&&Zn(r)){var v=r,x,w,E=Object.keys(v);i.beforeSet(a,v);for(var A=0;A<E.length;A++){x=E[A],w=v[x];var N=!i.immutableKeys[x];if(N)for(var L=0;L<l.length;L++){var C=l[L];i.canSet(C)&&(C._private[i.field][x]=w)}}i.updateStyle&&a.updateStyle(),i.onSet(a),i.settingTriggersEvent&&a[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&ia(r)){var D=r;a.on(i.bindingEvent,D)}else if(i.allowGetting&&r===void 0){var P;return u&&(i.beforeGet(u),P=u._private[i.field]),P}return a},"dataImpl")},"data"),removeData:o(function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=nn({},t,e),o(function(r){var n=e,i=this,a=i.length!==void 0,s=a?i:[i];if(Ur(r)){for(var l=r.split(/\s+/),u=l.length,h=0;h<u;h++){var d=l[h];if(!I0(d)){var p=!n.immutableKeys[d];if(p)for(var f=0,g=s.length;f<g;f++)s[f]._private[n.field][d]=void 0}}n.triggerEvent&&i[n.triggerFnName](n.event)}else if(r===void 0){for(var m=0,y=s.length;m<y;m++)for(var b=s[m]._private[n.field],v=Object.keys(b),x=0;x<v.length;x++){var w=v[x],E=!n.immutableKeys[w];E&&(b[w]=void 0)}n.triggerEvent&&i[n.triggerFnName](n.event)}return i},"removeDataImpl")},"removeData")},YRe={eventAliasesOn:o(function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(r,n){var i=this,a=Array.prototype.slice.call(arguments,0);return new Ag(function(s,l){var u=o(function(p){i.off.apply(i,d),s(p)},"callback"),h=a.concat([u]),d=h.concat([]);i.on.apply(i,h)})}},"eventAliasesOn")},gi={},[xDe,GRe,YRe].forEach(function(e){nn(gi,e)}),jRe={animate:gi.animate(),animation:gi.animation(),animated:gi.animated(),clearQueue:gi.clearQueue(),delay:gi.delay(),delayAnimation:gi.delayAnimation(),stop:gi.stop()},Ab={classes:o(function(e){var t=this;if(e===void 0){var r=[];return t[0]._private.classes.forEach(function(g){return r.push(g)}),r}else Di(e)||(e=(e||"").match(/\S+/g)||[]);for(var n=[],i=new wg(e),a=0;a<t.length;a++){for(var s=t[a],l=s._private,u=l.classes,h=!1,d=0;d<e.length;d++){var p=e[d],f=u.has(p);if(!f){h=!0;break}}h||(h=u.size!==e.length),h&&(l.classes=i,n.push(s))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),t},"classes"),addClass:o(function(e){return this.toggleClass(e,!0)},"addClass"),hasClass:o(function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},"hasClass"),toggleClass:o(function(e,t){Di(e)||(e=e.match(/\S+/g)||[]);for(var r=this,n=t===void 0,i=[],a=0,s=r.length;a<s;a++)for(var l=r[a],u=l._private.classes,h=!1,d=0;d<e.length;d++){var p=e[d],f=u.has(p),g=!1;t||n&&!f?(u.add(p),g=!0):(!t||n&&f)&&(u.delete(p),g=!0),!h&&g&&(i.push(l),h=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},"toggleClass"),removeClass:o(function(e){return this.toggleClass(e,!1)},"removeClass"),flashClass:o(function(e,t){var r=this;if(t==null)t=250;else if(t===0)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},t),r},"flashClass")},Ab.className=Ab.classNames=Ab.classes,Qn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:is,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"},Qn.variable="(?:[\\w-.]|(?:\\\\"+Qn.metaChar+"))+",Qn.className="(?:[\\w-]|(?:\\\\"+Qn.metaChar+"))+",Qn.value=Qn.string+"|"+Qn.number,Qn.id=Qn.variable,function(){var e,t,r;for(e=Qn.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],Qn.comparatorOp+="|@"+t;for(e=Qn.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],!(t.indexOf("!")>=0)&&t!=="="&&(Qn.comparatorOp+="|\\!"+t)}(),Si=o(function(){return{checks:[]}},"newQuery"),wr={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},$E=[{selector:":selected",matches:o(function(e){return e.selected()},"matches")},{selector:":unselected",matches:o(function(e){return!e.selected()},"matches")},{selector:":selectable",matches:o(function(e){return e.selectable()},"matches")},{selector:":unselectable",matches:o(function(e){return!e.selectable()},"matches")},{selector:":locked",matches:o(function(e){return e.locked()},"matches")},{selector:":unlocked",matches:o(function(e){return!e.locked()},"matches")},{selector:":visible",matches:o(function(e){return e.visible()},"matches")},{selector:":hidden",matches:o(function(e){return!e.visible()},"matches")},{selector:":transparent",matches:o(function(e){return e.transparent()},"matches")},{selector:":grabbed",matches:o(function(e){return e.grabbed()},"matches")},{selector:":free",matches:o(function(e){return!e.grabbed()},"matches")},{selector:":removed",matches:o(function(e){return e.removed()},"matches")},{selector:":inside",matches:o(function(e){return!e.removed()},"matches")},{selector:":grabbable",matches:o(function(e){return e.grabbable()},"matches")},{selector:":ungrabbable",matches:o(function(e){return!e.grabbable()},"matches")},{selector:":animated",matches:o(function(e){return e.animated()},"matches")},{selector:":unanimated",matches:o(function(e){return!e.animated()},"matches")},{selector:":parent",matches:o(function(e){return e.isParent()},"matches")},{selector:":childless",matches:o(function(e){return e.isChildless()},"matches")},{selector:":child",matches:o(function(e){return e.isChild()},"matches")},{selector:":orphan",matches:o(function(e){return e.isOrphan()},"matches")},{selector:":nonorphan",matches:o(function(e){return e.isChild()},"matches")},{selector:":compound",matches:o(function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()},"matches")},{selector:":loop",matches:o(function(e){return e.isLoop()},"matches")},{selector:":simple",matches:o(function(e){return e.isSimple()},"matches")},{selector:":active",matches:o(function(e){return e.active()},"matches")},{selector:":inactive",matches:o(function(e){return!e.active()},"matches")},{selector:":backgrounding",matches:o(function(e){return e.backgrounding()},"matches")},{selector:":nonbackgrounding",matches:o(function(e){return!e.backgrounding()},"matches")}].sort(function(e,t){return JNe(e.selector,t.selector)}),HRe=function(){for(var e={},t,r=0;r<$E.length;r++)t=$E[r],e[t.selector]=t.matches;return e}(),URe=o(function(e,t){return HRe[e](t)},"stateSelectorMatches"),VRe="("+$E.map(function(e){return e.selector}).join("|")+")",Lg=o(function(e){return e.replace(new RegExp("\\\\("+Qn.metaChar+")","g"),function(t,r){return r})},"cleanMetaChars"),B0=o(function(e,t,r){e[e.length-1]=r},"replaceLastQuery"),zE=[{name:"group",query:!0,regex:"("+Qn.group+")",populate:o(function(e,t,r){var n=Oc(r,1),i=n[0];t.checks.push({type:wr.GROUP,value:i==="*"?i:i+"s"})},"populate")},{name:"state",query:!0,regex:VRe,populate:o(function(e,t,r){var n=Oc(r,1),i=n[0];t.checks.push({type:wr.STATE,value:i})},"populate")},{name:"id",query:!0,regex:"\\#("+Qn.id+")",populate:o(function(e,t,r){var n=Oc(r,1),i=n[0];t.checks.push({type:wr.ID,value:Lg(i)})},"populate")},{name:"className",query:!0,regex:"\\.("+Qn.className+")",populate:o(function(e,t,r){var n=Oc(r,1),i=n[0];t.checks.push({type:wr.CLASS,value:Lg(i)})},"populate")},{name:"dataExists",query:!0,regex:"\\[\\s*("+Qn.variable+")\\s*\\]",populate:o(function(e,t,r){var n=Oc(r,1),i=n[0];t.checks.push({type:wr.DATA_EXIST,field:Lg(i)})},"populate")},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Qn.variable+")\\s*("+Qn.comparatorOp+")\\s*("+Qn.value+")\\s*\\]",populate:o(function(e,t,r){var n=Oc(r,3),i=n[0],a=n[1],s=n[2],l=new RegExp("^"+Qn.string+"$").exec(s)!=null;l?s=s.substring(1,s.length-1):s=parseFloat(s),t.checks.push({type:wr.DATA_COMPARE,field:Lg(i),operator:a,value:s})},"populate")},{name:"dataBool",query:!0,regex:"\\[\\s*("+Qn.boolOp+")\\s*("+Qn.variable+")\\s*\\]",populate:o(function(e,t,r){var n=Oc(r,2),i=n[0],a=n[1];t.checks.push({type:wr.DATA_BOOL,field:Lg(a),operator:i})},"populate")},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Qn.meta+")\\s*("+Qn.comparatorOp+")\\s*("+Qn.number+")\\s*\\]\\]",populate:o(function(e,t,r){var n=Oc(r,3),i=n[0],a=n[1],s=n[2];t.checks.push({type:wr.META_COMPARE,field:Lg(i),operator:a,value:parseFloat(s)})},"populate")},{name:"nextQuery",separator:!0,regex:Qn.separator,populate:o(function(e,t){var r=e.currentSubject,n=e.edgeCount,i=e.compoundCount,a=e[e.length-1];r!=null&&(a.subject=r,e.currentSubject=null),a.edgeCount=n,a.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=Si();return s},"populate")},{name:"directedEdge",separator:!0,regex:Qn.directedEdge,populate:o(function(e,t){if(e.currentSubject==null){var r=Si(),n=t,i=Si();return r.checks.push({type:wr.DIRECTED_EDGE,source:n,target:i}),B0(e,t,r),e.edgeCount++,i}else{var a=Si(),s=t,l=Si();return a.checks.push({type:wr.NODE_SOURCE,source:s,target:l}),B0(e,t,a),e.edgeCount++,l}},"populate")},{name:"undirectedEdge",separator:!0,regex:Qn.undirectedEdge,populate:o(function(e,t){if(e.currentSubject==null){var r=Si(),n=t,i=Si();return r.checks.push({type:wr.UNDIRECTED_EDGE,nodes:[n,i]}),B0(e,t,r),e.edgeCount++,i}else{var a=Si(),s=t,l=Si();return a.checks.push({type:wr.NODE_NEIGHBOR,node:s,neighbor:l}),B0(e,t,a),l}},"populate")},{name:"child",separator:!0,regex:Qn.child,populate:o(function(e,t){if(e.currentSubject==null){var r=Si(),n=Si(),i=e[e.length-1];return r.checks.push({type:wr.CHILD,parent:i,child:n}),B0(e,t,r),e.compoundCount++,n}else if(e.currentSubject===t){var a=Si(),s=e[e.length-1],l=Si(),u=Si(),h=Si(),d=Si();return a.checks.push({type:wr.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=t.checks,t.checks=[{type:wr.TRUE}],d.checks.push({type:wr.TRUE}),l.checks.push({type:wr.PARENT,parent:d,child:h}),B0(e,s,a),e.currentSubject=u,e.compoundCount++,h}else{var p=Si(),f=Si(),g=[{type:wr.PARENT,parent:p,child:f}];return p.checks=t.checks,t.checks=g,e.compoundCount++,f}},"populate")},{name:"descendant",separator:!0,regex:Qn.descendant,populate:o(function(e,t){if(e.currentSubject==null){var r=Si(),n=Si(),i=e[e.length-1];return r.checks.push({type:wr.DESCENDANT,ancestor:i,descendant:n}),B0(e,t,r),e.compoundCount++,n}else if(e.currentSubject===t){var a=Si(),s=e[e.length-1],l=Si(),u=Si(),h=Si(),d=Si();return a.checks.push({type:wr.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=t.checks,t.checks=[{type:wr.TRUE}],d.checks.push({type:wr.TRUE}),l.checks.push({type:wr.ANCESTOR,ancestor:d,descendant:h}),B0(e,s,a),e.currentSubject=u,e.compoundCount++,h}else{var p=Si(),f=Si(),g=[{type:wr.ANCESTOR,ancestor:p,descendant:f}];return p.checks=t.checks,t.checks=g,e.compoundCount++,f}},"populate")},{name:"subject",modifier:!0,regex:Qn.subject,populate:o(function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return pi("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var r=e[e.length-1],n=r.checks[0],i=n==null?null:n.type;i===wr.DIRECTED_EDGE?n.type=wr.NODE_TARGET:i===wr.UNDIRECTED_EDGE&&(n.type=wr.NODE_NEIGHBOR,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)},"populate")}],zE.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)}),WRe=o(function(e){for(var t,r,n,i=0;i<zE.length;i++){var a=zE[i],s=a.name,l=e.match(a.regexObj);if(l!=null){r=l,t=a,n=s;var u=l[0];e=e.substring(u.length);break}}return{expr:t,match:r,name:n,remaining:e}},"consumeExpr"),XRe=o(function(e){var t=e.match(/^\s+/);if(t){var r=t[0];e=e.substring(r.length)}return e},"consumeWhitespace"),KRe=o(function(e){var t=this,r=t.inputText=e,n=t[0]=Si();for(t.length=1,r=XRe(r);;){var i=WRe(r);if(i.expr==null)return pi("The selector `"+e+"`is invalid"),!1;var a=i.match.slice(1),s=i.expr.populate(t,n,a);if(s===!1)return!1;if(s!=null&&(n=s),r=i.remaining,r.match(/^\s*$/))break}var l=t[t.length-1];t.currentSubject!=null&&(l.subject=t.currentSubject),l.edgeCount=t.edgeCount,l.compoundCount=t.compoundCount;for(var u=0;u<t.length;u++){var h=t[u];if(h.compoundCount>0&&h.edgeCount>0)return pi("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(h.edgeCount>1)return pi("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;h.edgeCount===1&&pi("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},"parse"),ZRe=o(function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=o(function(u){return u??""},"clean"),t=o(function(u){return Ur(u)?'"'+u+'"':e(u)},"cleanVal"),r=o(function(u){return" "+u+" "},"space"),n=o(function(u,h){var d=u.type,p=u.value;switch(d){case wr.GROUP:{var f=e(p);return f.substring(0,f.length-1)}case wr.DATA_COMPARE:{var g=u.field,m=u.operator;return"["+g+r(e(m))+t(p)+"]"}case wr.DATA_BOOL:{var y=u.operator,b=u.field;return"["+e(y)+b+"]"}case wr.DATA_EXIST:{var v=u.field;return"["+v+"]"}case wr.META_COMPARE:{var x=u.operator,w=u.field;return"[["+w+r(e(x))+t(p)+"]]"}case wr.STATE:return p;case wr.ID:return"#"+p;case wr.CLASS:return"."+p;case wr.PARENT:case wr.CHILD:return i(u.parent,h)+r(">")+i(u.child,h);case wr.ANCESTOR:case wr.DESCENDANT:return i(u.ancestor,h)+" "+i(u.descendant,h);case wr.COMPOUND_SPLIT:{var E=i(u.left,h),A=i(u.subject,h),N=i(u.right,h);return E+(E.length>0?" ":"")+A+N}case wr.TRUE:return""}},"checkToString"),i=o(function(u,h){return u.checks.reduce(function(d,p,f){return d+(h===u&&f===0?"$":"")+n(p,h)},"")},"queryToString"),a="",s=0;s<this.length;s++){var l=this[s];a+=i(l,l.subject),this.length>1&&s<this.length-1&&(a+=", ")}return this.toStringCache=a,a},"toString"),QRe={parse:KRe,toString:ZRe},DY=o(function(e,t,r){var n,i=Ur(e),a=hr(e),s=Ur(r),l,u,h=!1,d=!1,p=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),d=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),h=!0),(i||s||h)&&(l=!i&&!a?"":""+e,u=""+r),h&&(e=l=l.toLowerCase(),r=u=u.toLowerCase()),t){case"*=":n=l.indexOf(u)>=0;break;case"$=":n=l.indexOf(u,l.length-u.length)>=0;break;case"^=":n=l.indexOf(u)===0;break;case"=":n=e===r;break;case">":p=!0,n=e>r;break;case">=":p=!0,n=e>=r;break;case"<":p=!0,n=e<r;break;case"<=":p=!0,n=e<=r;break;default:n=!1;break}return d&&(e!=null||!p)&&(n=!n),n},"valCmp"),JRe=o(function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},"boolCmp"),eOe=o(function(e){return e!==void 0},"existCmp"),qE=o(function(e,t){return e.data(t)},"data"),tOe=o(function(e,t){return e[t]()},"meta"),ya=[],Hi=o(function(e,t){return e.checks.every(function(r){return ya[r.type](r,t)})},"matches"),ya[wr.GROUP]=function(e,t){var r=e.value;return r==="*"||r===t.group()},ya[wr.STATE]=function(e,t){var r=e.value;return URe(r,t)},ya[wr.ID]=function(e,t){var r=e.value;return t.id()===r},ya[wr.CLASS]=function(e,t){var r=e.value;return t.hasClass(r)},ya[wr.META_COMPARE]=function(e,t){var r=e.field,n=e.operator,i=e.value;return DY(tOe(t,r),n,i)},ya[wr.DATA_COMPARE]=function(e,t){var r=e.field,n=e.operator,i=e.value;return DY(qE(t,r),n,i)},ya[wr.DATA_BOOL]=function(e,t){var r=e.field,n=e.operator;return JRe(qE(t,r),n)},ya[wr.DATA_EXIST]=function(e,t){var r=e.field;return e.operator,eOe(qE(t,r))},ya[wr.UNDIRECTED_EDGE]=function(e,t){var r=e.nodes[0],n=e.nodes[1],i=t.source(),a=t.target();return Hi(r,i)&&Hi(n,a)||Hi(n,i)&&Hi(r,a)},ya[wr.NODE_NEIGHBOR]=function(e,t){return Hi(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&Hi(e.neighbor,r)})},ya[wr.DIRECTED_EDGE]=function(e,t){return Hi(e.source,t.source())&&Hi(e.target,t.target())},ya[wr.NODE_SOURCE]=function(e,t){return Hi(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&Hi(e.target,r)})},ya[wr.NODE_TARGET]=function(e,t){return Hi(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&Hi(e.source,r)})},ya[wr.CHILD]=function(e,t){return Hi(e.child,t)&&Hi(e.parent,t.parent())},ya[wr.PARENT]=function(e,t){return Hi(e.parent,t)&&t.children().some(function(r){return Hi(e.child,r)})},ya[wr.DESCENDANT]=function(e,t){return Hi(e.descendant,t)&&t.ancestors().some(function(r){return Hi(e.ancestor,r)})},ya[wr.ANCESTOR]=function(e,t){return Hi(e.ancestor,t)&&t.descendants().some(function(r){return Hi(e.descendant,r)})},ya[wr.COMPOUND_SPLIT]=function(e,t){return Hi(e.subject,t)&&Hi(e.left,t)&&Hi(e.right,t)},ya[wr.TRUE]=function(){return!0},ya[wr.COLLECTION]=function(e,t){var r=e.value;return r.has(t)},ya[wr.FILTER]=function(e,t){var r=e.value;return r(t)},rOe=o(function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===wr.ID)return e.getElementById(t[0].checks[0].value).collection();var r=o(function(n){for(var i=0;i<t.length;i++){var a=t[i];if(Hi(a,n))return!0}return!1},"selectorFunction");return t.text()==null&&(r=o(function(){return!0},"selectorFunction")),e.filter(r)},"filter"),nOe=o(function(e){for(var t=this,r=0;r<t.length;r++){var n=t[r];if(Hi(n,e))return!0}return!1},"matches"),iOe={matches:nOe,filter:rOe},F0=o(function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Ur(e)&&e.match(/^\s*$/)||(Nl(e)?this.addQuery({checks:[{type:wr.COLLECTION,value:e.collection()}]}):ia(e)?this.addQuery({checks:[{type:wr.FILTER,value:e}]}):Ur(e)?this.parse(e)||(this.invalid=!0):ma("A selector must be created from a string; found "))},"Selector"),$0=F0.prototype,[QRe,iOe].forEach(function(e){return nn($0,e)}),$0.text=function(){return this.inputText},$0.size=function(){return this.length},$0.eq=function(e){return this[e]},$0.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},$0.addQuery=function(e){this[this.length++]=e},$0.selector=$0.toString,z0={allAre:o(function(e){var t=new F0(e);return this.every(function(r){return t.matches(r)})},"allAre"),is:o(function(e){var t=new F0(e);return this.some(function(r){return t.matches(r)})},"is"),some:o(function(e,t){for(var r=0;r<this.length;r++){var n=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(n)return!0}return!1},"some"),every:o(function(e,t){for(var r=0;r<this.length;r++){var n=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(!n)return!1}return!0},"every"),same:o(function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,r=e.length;return t!==r?!1:t===1?this[0]===e[0]:this.every(function(n){return e.hasElementWithId(n.id())})},"same"),anySame:o(function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},"anySame"),allAreNeighbors:o(function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(r){return t.hasElementWithId(r.id())})},"allAreNeighbors"),contains:o(function(e){e=this.cy().collection(e);var t=this;return e.every(function(r){return t.hasElementWithId(r.id())})},"contains")},z0.allAreNeighbours=z0.allAreNeighbors,z0.has=z0.contains,z0.equal=z0.equals=z0.same,nc=o(function(e,t){return o(function(r,n,i,a){var s=r,l=this,u;if(s==null?u="":Nl(s)&&s.length===1&&(u=s.id()),l.length===1&&u){var h=l[0]._private,d=h.traversalCache=h.traversalCache||{},p=d[t]=d[t]||[],f=v1(u),g=p[f];return g||(p[f]=e.call(l,r,n,i,a))}else return e.call(l,r,n,i,a)},"traversalCache")},"cache"),Ng={parent:o(function(e){var t=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var n=0;n<this.length;n++){var i=this[n],a=i._private.parent;a&&t.push(a)}return this.spawn(t,!0).filter(e)},"parent"),parents:o(function(e){for(var t=[],r=this.parent();r.nonempty();){for(var n=0;n<r.length;n++){var i=r[n];t.push(i)}r=r.parent()}return this.spawn(t,!0).filter(e)},"parents"),commonAncestors:o(function(e){for(var t,r=0;r<this.length;r++){var n=this[r],i=n.parents();t=t||i,t=t.intersect(i)}return t.filter(e)},"commonAncestors"),orphans:o(function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},"orphans"),nonorphans:o(function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},"nonorphans"),children:nc(function(e){for(var t=[],r=0;r<this.length;r++)for(var n=this[r],i=n._private.children,a=0;a<i.length;a++)t.push(i[a]);return this.spawn(t,!0).filter(e)},"children"),siblings:o(function(e){return this.parent().children().not(this).filter(e)},"siblings"),isParent:o(function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},"isParent"),isChildless:o(function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},"isChildless"),isChild:o(function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},"isChild"),isOrphan:o(function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},"isOrphan"),descendants:o(function(e){var t=[];function r(n){for(var i=0;i<n.length;i++){var a=n[i];t.push(a),a.children().nonempty()&&r(a.children())}}return o(r,"add"),r(this.children()),this.spawn(t,!0).filter(e)},"descendants")},o(hE,"forEachCompound"),o(Wq,"addChildren"),Ng.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return hE(this,e,t,Wq)},o(Xq,"addParent"),Ng.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return hE(this,e,t,Xq)},o(CNe,"addParentAndChildren"),Ng.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return hE(this,e,t,CNe)},Ng.ancestors=Ng.parents,Lb=aOe={data:gi.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:gi.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:gi.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:gi.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:gi.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:gi.removeData({field:"rscratch",triggerEvent:!1}),id:o(function(){var e=this[0];if(e)return e._private.data.id},"id")},Lb.attr=Lb.data,Lb.removeAttr=Lb.removeData,sOe=aOe,Nb={},o(dE,"defineDegreeFunction"),nn(Nb,{degree:dE(function(e,t){return t.source().same(t.target())?2:1}),indegree:dE(function(e,t){return t.target().same(e)?1:0}),outdegree:dE(function(e,t){return t.source().same(e)?1:0})}),o(mg,"defineDegreeBoundsFunction"),nn(Nb,{minDegree:mg("degree",function(e,t){return e<t}),maxDegree:mg("degree",function(e,t){return e>t}),minIndegree:mg("indegree",function(e,t){return e<t}),maxIndegree:mg("indegree",function(e,t){return e>t}),minOutdegree:mg("outdegree",function(e,t){return e<t}),maxOutdegree:mg("outdegree",function(e,t){return e>t})}),nn(Nb,{totalDegree:o(function(e){for(var t=0,r=this.nodes(),n=0;n<r.length;n++)t+=r[n].degree(e);return t},"totalDegree")}),RY=o(function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];if(!i.locked()){var a=i._private.position,s={x:t.x!=null?t.x-a.x:0,y:t.y!=null?t.y-a.y:0};i.isParent()&&!(s.x===0&&s.y===0)&&i.children().shift(s,r),i.dirtyBoundingBoxCache()}}},"beforePositionSet"),OY={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:o(function(e){e.updateCompoundBounds()},"beforeGet"),beforeSet:o(function(e,t){RY(e,t,!1)},"beforeSet"),onSet:o(function(e){e.dirtyCompoundBoundsCache()},"onSet"),canSet:o(function(e){return!e.locked()},"canSet")},Eu=oOe={position:gi.data(OY),silentPosition:gi.data(nn({},OY,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:o(function(e,t){RY(e,t,!0)},"beforeSet"),onSet:o(function(e){e.dirtyCompoundBoundsCache()},"onSet")})),positions:o(function(e,t){if(Zn(e))t?this.silentPosition(e):this.position(e);else if(ia(e)){var r=e,n=this.cy();n.startBatch();for(var i=0;i<this.length;i++){var a=this[i],s=void 0;(s=r(a,i))&&(t?a.silentPosition(s):a.position(s))}n.endBatch()}return this},"positions"),silentPositions:o(function(e){return this.positions(e,!0)},"silentPositions"),shift:o(function(e,t,r){var n;if(Zn(e)?(n={x:hr(e.x)?e.x:0,y:hr(e.y)?e.y:0},r=t):Ur(e)&&hr(t)&&(n={x:0,y:0},n[e]=t),n!=null){var i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var s=this[a];if(!(i.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var l=s.position(),u={x:l.x+n.x,y:l.y+n.y};r?s.silentPosition(u):s.position(u)}}i.endBatch()}return this},"shift"),silentShift:o(function(e,t){return Zn(e)?this.shift(e,!0):Ur(e)&&hr(t)&&this.shift(e,t,!0),this},"silentShift"),renderedPosition:o(function(e,t){var r=this[0],n=this.cy(),i=n.zoom(),a=n.pan(),s=Zn(e)?e:void 0,l=s!==void 0||t!==void 0&&Ur(e);if(r&&r.isNode())if(l)for(var u=0;u<this.length;u++){var h=this[u];t!==void 0?h.position(e,(t-a[e])/i):s!==void 0&&h.position(jG(s,i,a))}else{var d=r.position();return s=gb(d,i,a),e===void 0?s:s[e]}else if(!l)return;return this},"renderedPosition"),relativePosition:o(function(e,t){var r=this[0],n=this.cy(),i=Zn(e)?e:void 0,a=i!==void 0||t!==void 0&&Ur(e),s=n.hasCompoundNodes();if(r&&r.isNode())if(a)for(var l=0;l<this.length;l++){var u=this[l],h=s?u.parent():null,d=h&&h.length>0,p=d;d&&(h=h[0]);var f=p?h.position():{x:0,y:0};t!==void 0?u.position(e,t+f[e]):i!==void 0&&u.position({x:i.x+f.x,y:i.y+f.y})}else{var g=r.position(),m=s?r.parent():null,y=m&&m.length>0,b=y;y&&(m=m[0]);var v=b?m.position():{x:0,y:0};return i={x:g.x-v.x,y:g.y-v.y},e===void 0?i:i[e]}else if(!a)return;return this},"relativePosition")},Eu.modelPosition=Eu.point=Eu.position,Eu.modelPositions=Eu.points=Eu.positions,Eu.renderedPoint=Eu.renderedPosition,Eu.relativePoint=Eu.relativePosition,lOe=oOe,iy=E1={},E1.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),i=r.pan(),a=t.x1*n+i.x,s=t.x2*n+i.x,l=t.y1*n+i.y,u=t.y2*n+i.y;return{x1:a,x2:s,y1:l,y2:u,w:s-a,h:u-l}},E1.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,e||r.emitAndNotify("bounds")}}),this)},E1.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(s){if(!s.isParent())return;var l=s._private,u=s.children(),h=s.pstyle("compound-sizing-wrt-labels").value==="include",d={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},p=u.boundingBox({includeLabels:h,includeOverlays:!1,useCache:!1}),f=l.position;(p.w===0||p.h===0)&&(p={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},p.x1=f.x-p.w/2,p.x2=f.x+p.w/2,p.y1=f.y-p.h/2,p.y2=f.y+p.h/2);function g(D,P,O){var I=0,q=0,S=P+O;return D>0&&S>0&&(I=P/S*D,q=O/S*D),{biasDiff:I,biasComplementDiff:q}}o(g,"computeBiasValues");function m(D,P,O,I){if(O.units==="%")switch(I){case"width":return D>0?O.pfValue*D:0;case"height":return P>0?O.pfValue*P:0;case"average":return D>0&&P>0?O.pfValue*(D+P)/2:0;case"min":return D>0&&P>0?D>P?O.pfValue*P:O.pfValue*D:0;case"max":return D>0&&P>0?D>P?O.pfValue*D:O.pfValue*P:0;default:return 0}else return O.units==="px"?O.pfValue:0}o(m,"computePaddingValues");var y=d.width.left.value;d.width.left.units==="px"&&d.width.val>0&&(y=y*100/d.width.val);var b=d.width.right.value;d.width.right.units==="px"&&d.width.val>0&&(b=b*100/d.width.val);var v=d.height.top.value;d.height.top.units==="px"&&d.height.val>0&&(v=v*100/d.height.val);var x=d.height.bottom.value;d.height.bottom.units==="px"&&d.height.val>0&&(x=x*100/d.height.val);var w=g(d.width.val-p.w,y,b),E=w.biasDiff,A=w.biasComplementDiff,N=g(d.height.val-p.h,v,x),L=N.biasDiff,C=N.biasComplementDiff;l.autoPadding=m(p.w,p.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),l.autoWidth=Math.max(p.w,d.width.val),f.x=(-E+p.x1+p.x2+A)/2,l.autoHeight=Math.max(p.h,d.height.val),f.y=(-L+p.y1+p.y2+C)/2}o(r,"update");for(var n=0;n<this.length;n++){var i=this[n],a=i._private;(!a.compoundBoundsClean||e)&&(r(i),t.batching()||(a.compoundBoundsClean=!0))}return this},ic=o(function(e){return e===1/0||e===-1/0?0:e},"noninf"),Bc=o(function(e,t,r,n,i){n-t===0||i-r===0||t==null||r==null||n==null||i==null||(e.x1=t<e.x1?t:e.x1,e.x2=n>e.x2?n:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},"updateBounds"),C1=o(function(e,t){return t==null?e:Bc(e,t.x1,t.y1,t.x2,t.y2)},"updateBoundsFromBox"),ay=o(function(e,t,r){return Pc(e,t,r)},"prefixedProperty"),Mb=o(function(e,t,r){if(!t.cy().headless()){var n=t._private,i=n.rstyle,a=i.arrowWidth/2,s=t.pstyle(r+"-arrow-shape").value,l,u;if(s!=="none"){r==="source"?(l=i.srcX,u=i.srcY):r==="target"?(l=i.tgtX,u=i.tgtY):(l=i.midX,u=i.midY);var h=n.arrowBounds=n.arrowBounds||{},d=h[r]=h[r]||{};d.x1=l-a,d.y1=u-a,d.x2=l+a,d.y2=u+a,d.w=d.x2-d.x1,d.h=d.y2-d.y1,mb(d,1),Bc(e,d.x1,d.y1,d.x2,d.y2)}}},"updateBoundsFromArrow"),GE=o(function(e,t,r){if(!t.cy().headless()){var n;r?n=r+"-":n="";var i=t._private,a=i.rstyle,s=t.pstyle(n+"label").strValue;if(s){var l=t.pstyle("text-halign"),u=t.pstyle("text-valign"),h=ay(a,"labelWidth",r),d=ay(a,"labelHeight",r),p=ay(a,"labelX",r),f=ay(a,"labelY",r),g=t.pstyle(n+"text-margin-x").pfValue,m=t.pstyle(n+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle(n+"text-rotation"),v=t.pstyle("text-outline-width").pfValue,x=t.pstyle("text-border-width").pfValue,w=x/2,E=t.pstyle("text-background-padding").pfValue,A=2,N=d,L=h,C=L/2,D=N/2,P,O,I,q;if(y)P=p-C,O=p+C,I=f-D,q=f+D;else{switch(l.value){case"left":P=p-L,O=p;break;case"center":P=p-C,O=p+C;break;case"right":P=p,O=p+L;break}switch(u.value){case"top":I=f-N,q=f;break;case"center":I=f-D,q=f+D;break;case"bottom":I=f,q=f+N;break}}P+=g-Math.max(v,w)-E-A,O+=g+Math.max(v,w)+E+A,I+=m-Math.max(v,w)-E-A,q+=m+Math.max(v,w)+E+A;var S=r||"main",B=i.labelBounds,F=B[S]=B[S]||{};F.x1=P,F.y1=I,F.x2=O,F.y2=q,F.w=O-P,F.h=q-I;var z=y&&b.strValue==="autorotate",M=b.pfValue!=null&&b.pfValue!==0;if(z||M){var G=z?ay(i.rstyle,"labelAngle",r):b.pfValue,Y=Math.cos(G),V=Math.sin(G),X=(P+O)/2,re=(I+q)/2;if(!y){switch(l.value){case"left":X=O;break;case"right":X=P;break}switch(u.value){case"top":re=q;break;case"bottom":re=I;break}}var de=o(function(pe,ie){return pe=pe-X,ie=ie-re,{x:pe*Y-ie*V+X,y:pe*V+ie*Y+re}},"rotate"),xe=de(P,I),he=de(P,q),be=de(O,I),Q=de(O,q);P=Math.min(xe.x,he.x,be.x,Q.x),O=Math.max(xe.x,he.x,be.x,Q.x),I=Math.min(xe.y,he.y,be.y,Q.y),q=Math.max(xe.y,he.y,be.y,Q.y)}var ne=S+"Rot",ee=B[ne]=B[ne]||{};ee.x1=P,ee.y1=I,ee.x2=O,ee.y2=q,ee.w=O-P,ee.h=q-I,Bc(e,P,I,O,q),Bc(i.labelBounds.all,P,I,O,q)}return e}},"updateBoundsFromLabel"),cOe=o(function(e,t){if(!t.cy().headless()){var r=t.pstyle("outline-opacity").value,n=t.pstyle("outline-width").value;if(r>0&&n>0){var i=t.pstyle("outline-offset").value,a=t.pstyle("shape").value,s=n+i,l=(e.w+s*2)/e.w,u=(e.h+s*2)/e.h,h=0,d=0;["diamond","pentagon","round-triangle"].includes(a)?(l=(e.w+s*2.4)/e.w,d=-s/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(a)?l=(e.w+s*2.4)/e.w:a==="star"?(l=(e.w+s*2.8)/e.w,u=(e.h+s*2.6)/e.h,d=-s/3.8):a==="triangle"?(l=(e.w+s*2.8)/e.w,u=(e.h+s*2.4)/e.h,d=-s/1.4):a==="vee"&&(l=(e.w+s*4.4)/e.w,u=(e.h+s*3.8)/e.h,d=-s*.5);var p=e.h*u-e.h,f=e.w*l-e.w;if(yb(e,[Math.ceil(p/2),Math.ceil(f/2)]),h!=0||d!==0){var g=fIe(e,h,d);UG(e,g)}}}},"updateBoundsFromOutline"),uOe=o(function(e,t){var r=e._private.cy,n=r.styleEnabled(),i=r.headless(),a=nl(),s=e._private,l=e.isNode(),u=e.isEdge(),h,d,p,f,g,m,y=s.rstyle,b=l&&n?e.pstyle("bounds-expansion").pfValue:[0],v=o(function(se){return se.pstyle("display").value!=="none"},"isDisplayed"),x=!n||v(e)&&(!u||v(e.source())&&v(e.target()));if(x){var w=0,E=0;n&&t.includeOverlays&&(w=e.pstyle("overlay-opacity").value,w!==0&&(E=e.pstyle("overlay-padding").value));var A=0,N=0;n&&t.includeUnderlays&&(A=e.pstyle("underlay-opacity").value,A!==0&&(N=e.pstyle("underlay-padding").value));var L=Math.max(E,N),C=0,D=0;if(n&&(C=e.pstyle("width").pfValue,D=C/2),l&&t.includeNodes){var P=e.position();g=P.x,m=P.y;var O=e.outerWidth(),I=O/2,q=e.outerHeight(),S=q/2;h=g-I,d=g+I,p=m-S,f=m+S,Bc(a,h,p,d,f),n&&t.includeOutlines&&cOe(a,e)}else if(u&&t.includeEdges)if(n&&!i){var B=e.pstyle("curve-style").strValue;if(h=Math.min(y.srcX,y.midX,y.tgtX),d=Math.max(y.srcX,y.midX,y.tgtX),p=Math.min(y.srcY,y.midY,y.tgtY),f=Math.max(y.srcY,y.midY,y.tgtY),h-=D,d+=D,p-=D,f+=D,Bc(a,h,p,d,f),B==="haystack"){var F=y.haystackPts;if(F&&F.length===2){if(h=F[0].x,p=F[0].y,d=F[1].x,f=F[1].y,h>d){var z=h;h=d,d=z}if(p>f){var M=p;p=f,f=M}Bc(a,h-D,p-D,d+D,f+D)}}else if(B==="bezier"||B==="unbundled-bezier"||B.endsWith("segments")||B.endsWith("taxi")){var G;switch(B){case"bezier":case"unbundled-bezier":G=y.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":G=y.linePts;break}if(G!=null)for(var Y=0;Y<G.length;Y++){var V=G[Y];h=V.x-D,d=V.x+D,p=V.y-D,f=V.y+D,Bc(a,h,p,d,f)}}}else{var X=e.source(),re=X.position(),de=e.target(),xe=de.position();if(h=re.x,d=xe.x,p=re.y,f=xe.y,h>d){var he=h;h=d,d=he}if(p>f){var be=p;p=f,f=be}h-=D,d+=D,p-=D,f+=D,Bc(a,h,p,d,f)}if(n&&t.includeEdges&&u&&(Mb(a,e,"mid-source"),Mb(a,e,"mid-target"),Mb(a,e,"source"),Mb(a,e,"target")),n){var Q=e.pstyle("ghost").value==="yes";if(Q){var ne=e.pstyle("ghost-offset-x").pfValue,ee=e.pstyle("ghost-offset-y").pfValue;Bc(a,a.x1+ne,a.y1+ee,a.x2+ne,a.y2+ee)}}var pe=s.bodyBounds=s.bodyBounds||{};VG(pe,a),yb(pe,b),mb(pe,1),n&&(h=a.x1,d=a.x2,p=a.y1,f=a.y2,Bc(a,h-L,p-L,d+L,f+L));var ie=s.overlayBounds=s.overlayBounds||{};VG(ie,a),yb(ie,b),mb(ie,1);var De=s.labelBounds=s.labelBounds||{};De.all!=null?gIe(De.all):De.all=nl(),n&&t.includeLabels&&(t.includeMainLabels&&GE(a,e,null),u&&(t.includeSourceLabels&&GE(a,e,"source"),t.includeTargetLabels&&GE(a,e,"target")))}return a.x1=ic(a.x1),a.y1=ic(a.y1),a.x2=ic(a.x2),a.y2=ic(a.y2),a.w=ic(a.x2-a.x1),a.h=ic(a.y2-a.y1),a.w>0&&a.h>0&&x&&(yb(a,b),mb(a,1)),a},"boundingBoxImpl"),PY=o(function(e){var t=0,r=o(function(i){return(i?1:0)<<t++},"tf"),n=0;return n+=r(e.incudeNodes),n+=r(e.includeEdges),n+=r(e.includeLabels),n+=r(e.includeMainLabels),n+=r(e.includeSourceLabels),n+=r(e.includeTargetLabels),n+=r(e.includeOverlays),n+=r(e.includeOutlines),n},"getKey"),BY=o(function(e){if(e.isEdge()){var t=e.source().position(),r=e.target().position(),n=o(function(i){return Math.round(i)},"r");return OMe([n(t.x),n(t.y),n(r.x),n(r.y)])}else return 0},"getBoundingBoxPosKey"),FY=o(function(e,t){var r=e._private,n,i=e.isEdge(),a=t==null?$Y:PY(t),s=a===$Y,l=BY(e),u=r.bbCachePosKey===l,h=t.useCache&&u,d=o(function(g){return g._private.bbCache==null||g._private.styleDirty},"isDirty"),p=!h||d(e)||i&&d(e.source())||d(e.target());if(p?(u||e.recalculateRenderedStyle(h),n=uOe(e,sy),r.bbCache=n,r.bbCachePosKey=l):n=r.bbCache,!s){var f=e.isNode();n=nl(),(t.includeNodes&&f||t.includeEdges&&!f)&&(t.includeOverlays?C1(n,r.overlayBounds):C1(n,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!i||t.includeSourceLabels&&t.includeTargetLabels)?C1(n,r.labelBounds.all):(t.includeMainLabels&&C1(n,r.labelBounds.mainRot),t.includeSourceLabels&&C1(n,r.labelBounds.sourceRot),t.includeTargetLabels&&C1(n,r.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},"cachedBoundingBoxImpl"),sy={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},$Y=PY(sy),zY=Fs(sy),E1.boundingBox=function(e){var t;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(e===void 0||e.useCache===void 0||e.useCache===!0))e===void 0?e=sy:e=zY(e),t=FY(this[0],e);else{t=nl(),e=e||sy;var r=zY(e),n=this,i=n.cy(),a=i.styleEnabled();if(a)for(var s=0;s<n.length;s++){var l=n[s],u=l._private,h=BY(l),d=u.bbCachePosKey===h,p=r.useCache&&d&&!u.styleDirty;l.recalculateRenderedStyle(p)}this.updateCompoundBounds(!e.useCache);for(var f=0;f<n.length;f++){var g=n[f];C1(t,FY(g,r))}}return t.x1=ic(t.x1),t.y1=ic(t.y1),t.x2=ic(t.x2),t.y2=ic(t.y2),t.w=ic(t.x2-t.x1),t.h=ic(t.y2-t.y1),t},E1.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},E1.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=t.filter(function(h){return h.isParent()}),t=t.not(i)),Zn(e)){var a=e;e=o(function(){return a},"fn")}var s=o(function(h,d){return h._private.bbAtOldPos=e(h,d)},"storeOldPos"),l=o(function(h){return h._private.bbAtOldPos},"getOldPos");r.startBatch(),t.forEach(s).silentPositions(e),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var u=pIe(this.boundingBox({useCache:!1}));return t.silentPositions(l),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),u},iy.boundingbox=iy.bb=iy.boundingBox,iy.renderedBoundingbox=iy.renderedBoundingBox,hOe=E1,Ib=Db={},qY=o(function(e){e.uppercaseName=EG(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=EG(e.outerName),Ib[e.name]=o(function(){var t=this[0],r=t._private,n=r.cy,i=n._private.styleEnabled;if(t)if(i){if(t.isParent())return t.updateCompoundBounds(),r[e.autoName]||0;var a=t.pstyle(e.name);switch(a.strValue){case"label":return t.recalculateRenderedStyle(),r.rstyle[e.labelName]||0;default:return a.pfValue}}else return 1},"dimImpl"),Ib["outer"+e.uppercaseName]=o(function(){var t=this[0],r=t._private,n=r.cy,i=n._private.styleEnabled;if(t)if(i){var a=t[e.name](),s=t.pstyle("border-width").pfValue,l=2*t.padding();return a+s+l}else return 1},"outerDimImpl"),Ib["rendered"+e.uppercaseName]=o(function(){var t=this[0];if(t){var r=t[e.name]();return r*this.cy().zoom()}},"renderedDimImpl"),Ib["rendered"+e.uppercaseOuterName]=o(function(){var t=this[0];if(t){var r=t[e.outerName]();return r*this.cy().zoom()}},"renderedOuterDimImpl")},"defineDimFns"),qY({name:"width"}),qY({name:"height"}),Db.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},Db.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},Db.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()},dOe=Db,pOe=o(function(e,t){if(e.isEdge())return t(e)},"ifEdge"),gOe=o(function(e,t){if(e.isEdge()){var r=e.cy();return gb(t(e),r.zoom(),r.pan())}},"ifEdgeRenderedPosition"),fOe=o(function(e,t){if(e.isEdge()){var r=e.cy(),n=r.pan(),i=r.zoom();return t(e).map(function(a){return gb(a,i,n)})}},"ifEdgeRenderedPositions"),mOe=o(function(e){return e.renderer().getControlPoints(e)},"controlPoints"),yOe=o(function(e){return e.renderer().getSegmentPoints(e)},"segmentPoints"),vOe=o(function(e){return e.renderer().getSourceEndpoint(e)},"sourceEndpoint"),bOe=o(function(e){return e.renderer().getTargetEndpoint(e)},"targetEndpoint"),xOe=o(function(e){return e.renderer().getEdgeMidpoint(e)},"midpoint"),GY={controlPoints:{get:mOe,mult:!0},segmentPoints:{get:yOe,mult:!0},sourceEndpoint:{get:vOe},targetEndpoint:{get:bOe},midpoint:{get:xOe}},wOe=o(function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},"renderedName"),kOe=Object.keys(GY).reduce(function(e,t){var r=GY[t],n=wOe(t);return e[t]=function(){return pOe(this,r.get)},r.mult?e[n]=function(){return fOe(this,r.get)}:e[n]=function(){return gOe(this,r.get)},e},{}),TOe=nn({},lOe,hOe,dOe,kOe),YY=o(function(e,t){this.recycle(e,t)},"Event"),o(z2,"returnFalse"),o(tb,"returnTrue"),YY.prototype={instanceString:o(function(){return"event"},"instanceString"),recycle:o(function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=z2,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?tb:z2):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,n=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:r.x*n+i.x,y:r.y*n+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},"recycle"),preventDefault:o(function(){this.isDefaultPrevented=tb;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},"preventDefault"),stopPropagation:o(function(){this.isPropagationStopped=tb;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},"stopPropagation"),stopImmediatePropagation:o(function(){this.isImmediatePropagationStopped=tb,this.stopPropagation()},"stopImmediatePropagation"),isDefaultPrevented:z2,isPropagationStopped:z2,isImmediatePropagationStopped:z2},jY=/^([^.]+)(\.(?:[^.]+))?$/,EOe=".*",HY={qualifierCompare:o(function(e,t){return e===t},"qualifierCompare"),eventMatches:o(function(){return!0},"eventMatches"),addEventFields:o(function(){},"addEventFields"),callbackContext:o(function(e){return e},"callbackContext"),beforeEmit:o(function(){},"beforeEmit"),afterEmit:o(function(){},"afterEmit"),bubble:o(function(){return!1},"bubble"),parent:o(function(){return null},"parent"),context:null},UY=Object.keys(HY),COe={},o(rb,"Emitter"),q0=rb.prototype,VY=o(function(e,t,r,n,i,a,s){ia(n)&&(i=n,n=null),s&&(a==null?a=s:a=nn({},a,s));for(var l=Di(r)?r:r.split(/\s+/),u=0;u<l.length;u++){var h=l[u];if(!I0(h)){var d=h.match(jY);if(d){var p=d[1],f=d[2]?d[2]:null,g=t(e,h,p,f,n,i,a);if(g===!1)break}}}},"forEachEvent"),WY=o(function(e,t){return e.addEventFields(e.context,t),new YY(t.type,t)},"makeEventObj"),_Oe=o(function(e,t,r){if(GNe(r)){t(e,r);return}else if(Zn(r)){t(e,WY(e,r));return}for(var n=Di(r)?r:r.split(/\s+/),i=0;i<n.length;i++){var a=n[i];if(!I0(a)){var s=a.match(jY);if(s){var l=s[1],u=s[2]?s[2]:null,h=WY(e,{type:l,namespace:u,target:e.context});t(e,h)}}}},"forEachEventObj"),q0.on=q0.addListener=function(e,t,r,n,i){return VY(this,function(a,s,l,u,h,d,p){ia(d)&&a.listeners.push({event:s,callback:d,type:l,namespace:u,qualifier:h,conf:p})},e,t,r,n,i),this},q0.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})},q0.removeListener=q0.off=function(e,t,r,n){var i=this;this.emitting!==0&&(this.listeners=zMe(this.listeners));for(var a=this.listeners,s=o(function(u){var h=a[u];VY(i,function(d,p,f,g,m,y){if((h.type===f||e==="*")&&(!g&&h.namespace!==".*"||h.namespace===g)&&(!m||d.qualifierCompare(h.qualifier,m))&&(!y||h.callback===y))return a.splice(u,1),!1},e,t,r,n)},"_loop"),l=a.length-1;l>=0;l--)s(l);return this},q0.removeAllListeners=function(){return this.removeListener("*")},q0.emit=q0.trigger=function(e,t,r){var n=this.listeners,i=n.length;return this.emitting++,Di(t)||(t=[t]),_Oe(this,function(a,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],i=n.length);for(var l=o(function(h){var d=n[h];if(d.type===s.type&&(!d.namespace||d.namespace===s.namespace||d.namespace===EOe)&&a.eventMatches(a.context,d,s)){var p=[s];t!=null&&GMe(p,t),a.beforeEmit(a.context,d,s),d.conf&&d.conf.one&&(a.listeners=a.listeners.filter(function(m){return m!==d}));var f=a.callbackContext(a.context,d,s),g=d.callback.apply(f,p);a.afterEmit(a.context,d,s),g===!1&&(s.stopPropagation(),s.preventDefault())}},"_loop2"),u=0;u<i;u++)l(u);a.bubble(a.context)&&!s.isPropagationStopped()&&a.parent(a.context).emit(s,t)},e),this.emitting--,this},SOe={qualifierCompare:o(function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},"qualifierCompare"),eventMatches:o(function(e,t,r){var n=t.qualifier;return n!=null?e!==r.target&&Y2(r.target)&&n.matches(r.target):!0},"eventMatches"),addEventFields:o(function(e,t){t.cy=e.cy(),t.target=e},"addEventFields"),callbackContext:o(function(e,t,r){return t.qualifier!=null?r.target:e},"callbackContext"),beforeEmit:o(function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},"beforeEmit"),bubble:o(function(){return!0},"bubble"),parent:o(function(e){return e.isChild()?e.parent():e.cy()},"parent")},Rb=o(function(e){return Ur(e)?new F0(e):e},"argSelector"),XY={createEmitter:o(function(){for(var e=0;e<this.length;e++){var t=this[e],r=t._private;r.emitter||(r.emitter=new rb(SOe,t))}return this},"createEmitter"),emitter:o(function(){return this._private.emitter},"emitter"),on:o(function(e,t,r){for(var n=Rb(t),i=0;i<this.length;i++){var a=this[i];a.emitter().on(e,n,r)}return this},"on"),removeListener:o(function(e,t,r){for(var n=Rb(t),i=0;i<this.length;i++){var a=this[i];a.emitter().removeListener(e,n,r)}return this},"removeListener"),removeAllListeners:o(function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},"removeAllListeners"),one:o(function(e,t,r){for(var n=Rb(t),i=0;i<this.length;i++){var a=this[i];a.emitter().one(e,n,r)}return this},"one"),once:o(function(e,t,r){for(var n=Rb(t),i=0;i<this.length;i++){var a=this[i];a.emitter().on(e,n,r,{once:!0,onceCollection:this})}},"once"),emit:o(function(e,t){for(var r=0;r<this.length;r++){var n=this[r];n.emitter().emit(e,t)}return this},"emit"),emitAndNotify:o(function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this},"emitAndNotify")},gi.eventAliasesOn(XY),KY={nodes:o(function(e){return this.filter(function(t){return t.isNode()}).filter(e)},"nodes"),edges:o(function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},"edges"),byGroup:o(function(){for(var e=this.spawn(),t=this.spawn(),r=0;r<this.length;r++){var n=this[r];n.isNode()?e.push(n):t.push(n)}return{nodes:e,edges:t}},"byGroup"),filter:o(function(e,t){if(e===void 0)return this;if(Ur(e)||Nl(e))return new F0(e).filter(this);if(ia(e)){for(var r=this.spawn(),n=this,i=0;i<n.length;i++){var a=n[i],s=t?e.apply(t,[a,i,n]):e(a,i,n);s&&r.push(a)}return r}return this.spawn()},"filter"),not:o(function(e){if(e){Ur(e)&&(e=this.filter(e));for(var t=this.spawn(),r=0;r<this.length;r++){var n=this[r],i=e.has(n);i||t.push(n)}return t}else return this},"not"),absoluteComplement:o(function(){var e=this.cy();return e.mutableElements().not(this)},"absoluteComplement"),intersect:o(function(e){if(Ur(e)){var t=e;return this.filter(t)}for(var r=this.spawn(),n=this,i=e,a=this.length<e.length,s=a?n:i,l=a?i:n,u=0;u<s.length;u++){var h=s[u];l.has(h)&&r.push(h)}return r},"intersect"),xor:o(function(e){var t=this._private.cy;Ur(e)&&(e=t.$(e));var r=this.spawn(),n=this,i=e,a=o(function(s,l){for(var u=0;u<s.length;u++){var h=s[u],d=h._private.data.id,p=l.hasElementWithId(d);p||r.push(h)}},"add");return a(n,i),a(i,n),r},"xor"),diff:o(function(e){var t=this._private.cy;Ur(e)&&(e=t.$(e));var r=this.spawn(),n=this.spawn(),i=this.spawn(),a=this,s=e,l=o(function(u,h,d){for(var p=0;p<u.length;p++){var f=u[p],g=f._private.data.id,m=h.hasElementWithId(g);m?i.merge(f):d.push(f)}},"add");return l(a,s,r),l(s,a,n),{left:r,right:n,both:i}},"diff"),add:o(function(e){var t=this._private.cy;if(!e)return this;if(Ur(e)){var r=e;e=t.mutableElements().filter(r)}for(var n=this.spawnSelf(),i=0;i<e.length;i++){var a=e[i],s=!this.has(a);s&&n.push(a)}return n},"add"),merge:o(function(e){var t=this._private,r=t.cy;if(!e)return this;if(e&&Ur(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=t.map,a=0;a<e.length;a++){var s=e[a],l=s._private.data.id,u=!i.has(l);if(u){var h=this.length++;this[h]=s,i.set(l,{ele:s,index:h})}}return this},"merge"),unmergeAt:o(function(e){var t=this[e],r=t.id(),n=this._private,i=n.map;this[e]=void 0,i.delete(r);var a=e===this.length-1;if(this.length>1&&!a){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[e]=l,i.set(u,{ele:l,index:e})}return this.length--,this},"unmergeAt"),unmergeOne:o(function(e){e=e[0];var t=this._private,r=e._private.data.id,n=t.map,i=n.get(r);if(!i)return this;var a=i.index;return this.unmergeAt(a),this},"unmergeOne"),unmerge:o(function(e){var t=this._private.cy;if(!e)return this;if(e&&Ur(e)){var r=e;e=t.mutableElements().filter(r)}for(var n=0;n<e.length;n++)this.unmergeOne(e[n]);return this},"unmerge"),unmergeBy:o(function(e){for(var t=this.length-1;t>=0;t--){var r=this[t];e(r)&&this.unmergeAt(t)}return this},"unmergeBy"),map:o(function(e,t){for(var r=[],n=this,i=0;i<n.length;i++){var a=n[i],s=t?e.apply(t,[a,i,n]):e(a,i,n);r.push(s)}return r},"map"),reduce:o(function(e,t){for(var r=t,n=this,i=0;i<n.length;i++)r=e(r,n[i],i,n);return r},"reduce"),max:o(function(e,t){for(var r=-1/0,n,i=this,a=0;a<i.length;a++){var s=i[a],l=t?e.apply(t,[s,a,i]):e(s,a,i);l>r&&(r=l,n=s)}return{value:r,ele:n}},"max"),min:o(function(e,t){for(var r=1/0,n,i=this,a=0;a<i.length;a++){var s=i[a],l=t?e.apply(t,[s,a,i]):e(s,a,i);l<r&&(r=l,n=s)}return{value:r,ele:n}},"min")},ni=KY,ni.u=ni["|"]=ni["+"]=ni.union=ni.or=ni.add,ni["\\"]=ni["!"]=ni["-"]=ni.difference=ni.relativeComplement=ni.subtract=ni.not,ni.n=ni["&"]=ni["."]=ni.and=ni.intersection=ni.intersect,ni["^"]=ni["(+)"]=ni["(-)"]=ni.symmetricDifference=ni.symdiff=ni.xor,ni.fnFilter=ni.filterFn=ni.stdFilter=ni.filter,ni.complement=ni.abscomp=ni.absoluteComplement,AOe={isNode:o(function(){return this.group()==="nodes"},"isNode"),isEdge:o(function(){return this.group()==="edges"},"isEdge"),isLoop:o(function(){return this.isEdge()&&this.source()[0]===this.target()[0]},"isLoop"),isSimple:o(function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},"isSimple"),group:o(function(){var e=this[0];if(e)return e._private.group},"group")},ZY=o(function(e,t){var r=e.cy(),n=r.hasCompoundNodes();function i(h){var d=h.pstyle("z-compound-depth");return d.value==="auto"?n?h.zDepth():0:d.value==="bottom"?-1:d.value==="top"?kE:0}o(i,"getDepth");var a=i(e)-i(t);if(a!==0)return a;function s(h){var d=h.pstyle("z-index-compare");return d.value==="auto"&&h.isNode()?1:0}o(s,"getEleDepth");var l=s(e)-s(t);if(l!==0)return l;var u=e.pstyle("z-index").value-t.pstyle("z-index").value;return u!==0?u:e.poolIndex()-t.poolIndex()},"zIndexSort"),Ob={forEach:o(function(e,t){if(ia(e))for(var r=this.length,n=0;n<r;n++){var i=this[n],a=t?e.apply(t,[i,n,this]):e(i,n,this);if(a===!1)break}return this},"forEach"),toArray:o(function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},"toArray"),slice:o(function(e,t){var r=[],n=this.length;t==null&&(t=n),e==null&&(e=0),e<0&&(e=n+e),t<0&&(t=n+t);for(var i=e;i>=0&&i<t&&i<n;i++)r.push(this[i]);return this.spawn(r)},"slice"),size:o(function(){return this.length},"size"),eq:o(function(e){return this[e]||this.spawn()},"eq"),first:o(function(){return this[0]||this.spawn()},"first"),last:o(function(){return this[this.length-1]||this.spawn()},"last"),empty:o(function(){return this.length===0},"empty"),nonempty:o(function(){return!this.empty()},"nonempty"),sort:o(function(e){if(!ia(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},"sort"),sortByZIndex:o(function(){return this.sort(ZY)},"sortByZIndex"),zDepth:o(function(){var e=this[0];if(e){var t=e._private,r=t.group;if(r==="nodes"){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:kE-1}else{var i=t.source,a=t.target,s=i.zDepth(),l=a.zDepth();return Math.max(s,l,0)}}},"zDepth")},Ob.each=Ob.forEach,LOe=o(function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":rs(Symbol))!=e&&rs(Symbol.iterator)!=e;t&&(Ob[Symbol.iterator]=function(){var r=this,n={value:void 0,done:!1},i=0,a=this.length;return Yq({next:o(function(){return i<a?n.value=r[i++]:(n.value=void 0,n.done=!0),n},"next")},Symbol.iterator,function(){return this})})},"defineSymbolIterator"),LOe(),NOe=Fs({nodeDimensionsIncludeLabels:!1}),Pb={layoutDimensions:o(function(e){e=NOe(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var r=this.boundingBox();t={w:r.w,h:r.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},"layoutDimensions"),layoutPositions:o(function(e,t,r){var n=this.nodes().filter(function(E){return!E.isParent()}),i=this.cy(),a=t.eles,s=o(function(E){return E.id()},"getMemoizeKey"),l=j2(r,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=o(function(E,A,N){var L={x:A.x1+A.w/2,y:A.y1+A.h/2},C={x:(N.x-L.x)*E,y:(N.y-L.y)*E};return{x:L.x+C.x,y:L.y+C.y}},"calculateSpacing"),h=t.spacingFactor&&t.spacingFactor!==1,d=o(function(){if(!h)return null;for(var E=nl(),A=0;A<n.length;A++){var N=n[A],L=l(N,A);mIe(E,L.x,L.y)}return E},"spacingBb"),p=d(),f=j2(function(E,A){var N=l(E,A);if(h){var L=Math.abs(t.spacingFactor);N=u(L,p,N)}return t.transform!=null&&(N=t.transform(E,N)),N},s);if(t.animate){for(var g=0;g<n.length;g++){var m=n[g],y=f(m,g),b=t.animateFilter==null||t.animateFilter(m,g);if(b){var v=m.animation({position:y,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(v)}else m.position(y)}if(t.fit){var x=i.animation({fit:{boundingBox:a.boundingBoxAt(f),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(x)}else if(t.zoom!==void 0&&t.pan!==void 0){var w=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(w)}e.animations.forEach(function(E){return E.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),Ag.all(e.animations.map(function(E){return E.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else n.positions(f),t.fit&&i.fit(t.eles,t.padding),t.zoom!=null&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},"layoutPositions"),layout:o(function(e){var t=this.cy();return t.makeLayout(nn({},e,{eles:this}))},"layout")},Pb.createLayout=Pb.makeLayout=Pb.layout,o(Kq,"styleCache"),o(nb,"cacheStyleFunction"),o(ib,"cachePrototypeStyleFunction"),$s={recalculateRenderedStyle:o(function(e){var t=this.cy(),r=t.renderer(),n=t.styleEnabled();return r&&n&&r.recalculateRenderedStyle(this,e),this},"recalculateRenderedStyle"),dirtyStyleCache:o(function(){var e=this.cy(),t=o(function(n){return n._private.styleCache=null},"dirty");if(e.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(t)}else this.forEach(function(n){t(n),n.connectedEdges().forEach(t)});return this},"dirtyStyleCache"),updateStyle:o(function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var r=t._private.batchStyleEles;return r.merge(this),this}var n=t.hasCompoundNodes(),i=this;e=!!(e||e===void 0),n&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var a=i;return e?a.emitAndNotify("style"):a.emit("style"),i.forEach(function(s){return s._private.styleDirty=!0}),this},"updateStyle"),cleanStyle:o(function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var r=this[t];r._private.styleDirty&&(r._private.styleDirty=!1,e.style().apply(r))}},"cleanStyle"),parsedStyle:o(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],n=r.cy();if(n.styleEnabled()&&r){this.cleanStyle();var i=r._private.style[e];return i??(t?n.style().getDefaultProperty(e):null)}},"parsedStyle"),numericStyle:o(function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var r=t.pstyle(e);return r.pfValue!==void 0?r.pfValue:r.value}},"numericStyle"),numericStyleUnits:o(function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},"numericStyleUnits"),renderedStyle:o(function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];if(r)return t.style().getRenderedStyle(r,e)},"renderedStyle"),style:o(function(e,t){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style();if(Zn(e)){var a=e;i.applyBypass(this,a,n),this.emitAndNotify("style")}else if(Ur(e))if(t===void 0){var s=this[0];return s?i.getStylePropertyValue(s,e):void 0}else i.applyBypass(this,e,t,n),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?i.getRawStyle(l):void 0}return this},"style"),removeStyle:o(function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=!1,n=t.style(),i=this;if(e===void 0)for(var a=0;a<i.length;a++){var s=i[a];n.removeAllBypasses(s,r)}else{e=e.split(/\s+/);for(var l=0;l<i.length;l++){var u=i[l];n.removeBypasses(u,e,r)}}return this.emitAndNotify("style"),this},"removeStyle"),show:o(function(){return this.css("display","element"),this},"show"),hide:o(function(){return this.css("display","none"),this},"hide"),effectiveOpacity:o(function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var n=r._private,i=r.pstyle("opacity").value;if(!t)return i;var a=n.data.parent?r.parents():null;if(a)for(var s=0;s<a.length;s++){var l=a[s],u=l.pstyle("opacity").value;i=u*i}return i}},"effectiveOpacity"),transparent:o(function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],r=t.cy().hasCompoundNodes();if(t)return r?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},"transparent"),backgrounding:o(function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding},"backgrounding")},o(pE,"checkCompound"),o(gE,"defineDerivedStateFunction"),Mg=nb("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)}),$s.takesUpSpace=ib("takesUpSpace",gE({ok:Mg})),MOe=nb("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&Mg(e)}),IOe=nb("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&Mg(e)}),$s.interactive=ib("interactive",gE({ok:MOe,parentOk:IOe,edgeOkViaNode:Mg})),$s.noninteractive=function(){var e=this[0];if(e)return!e.interactive()},DOe=nb("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&Mg(e)}),ROe=Mg,$s.visible=ib("visible",gE({ok:DOe,edgeOkViaNode:ROe})),$s.hidden=function(){var e=this[0];if(e)return!e.visible()},$s.isBundledBezier=ib("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1}),$s.bypass=$s.css=$s.style,$s.renderedCss=$s.renderedStyle,$s.removeBypass=$s.removeCss=$s.removeStyle,$s.pstyle=$s.parsedStyle,G0={},o(Zq,"defineSwitchFunction"),o(yg,"defineSwitchSet"),yg({field:"locked",overrideField:o(function(e){return e.cy().autolock()?!0:void 0},"overrideField"),on:"lock",off:"unlock"}),yg({field:"grabbable",overrideField:o(function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},"overrideField"),on:"grabify",off:"ungrabify"}),yg({field:"selected",ableField:"selectable",overrideAble:o(function(e){return e.cy().autounselectify()?!1:void 0},"overrideAble"),on:"select",off:"unselect"}),yg({field:"selectable",overrideField:o(function(e){return e.cy().autounselectify()?!1:void 0},"overrideField"),on:"selectify",off:"unselectify"}),G0.deselect=G0.unselect,G0.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},yg({field:"active",on:"activate",off:"unactivate"}),yg({field:"pannable",on:"panify",off:"unpanify"}),G0.inactive=function(){var e=this[0];if(e)return!e._private.active},so={},QY=o(function(e){return o(function(t){for(var r=this,n=[],i=0;i<r.length;i++){var a=r[i];if(a.isNode()){for(var s=!1,l=a.connectedEdges(),u=0;u<l.length;u++){var h=l[u],d=h.source(),p=h.target();if(e.noIncomingEdges&&p===a&&d!==a||e.noOutgoingEdges&&d===a&&p!==a){s=!0;break}}s||n.push(a)}}return this.spawn(n,!0).filter(t)},"dagExtremityImpl")},"defineDagExtremity"),JY=o(function(e){return function(t){for(var r=this,n=[],i=0;i<r.length;i++){var a=r[i];if(a.isNode())for(var s=a.connectedEdges(),l=0;l<s.length;l++){var u=s[l],h=u.source(),d=u.target();e.outgoing&&h===a?(n.push(u),n.push(d)):e.incoming&&d===a&&(n.push(u),n.push(h))}}return this.spawn(n,!0).filter(t)}},"defineDagOneHop"),ej=o(function(e){return function(t){for(var r=this,n=[],i={};;){var a=e.outgoing?r.outgoers():r.incomers();if(a.length===0)break;for(var s=!1,l=0;l<a.length;l++){var u=a[l],h=u.id();i[h]||(i[h]=!0,n.push(u),s=!0)}if(!s)break;r=a}return this.spawn(n,!0).filter(t)}},"defineDagAllHops"),so.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},nn(so,{roots:QY({noIncomingEdges:!0}),leaves:QY({noOutgoingEdges:!0}),outgoers:nc(JY({outgoing:!0}),"outgoers"),successors:ej({outgoing:!0}),incomers:nc(JY({incoming:!0}),"incomers"),predecessors:ej({incoming:!0})}),nn(so,{neighborhood:nc(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),s=0;s<a.length;s++){var l=a[s],u=l.source(),h=l.target(),d=i===u?h:u;d.length>0&&t.push(d[0]),t.push(l[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:o(function(e){return this.neighborhood().add(this).filter(e)},"closedNeighborhood"),openNeighborhood:o(function(e){return this.neighborhood(e)},"openNeighborhood")}),so.neighbourhood=so.neighborhood,so.closedNeighbourhood=so.closedNeighborhood,so.openNeighbourhood=so.openNeighborhood,nn(so,{source:nc(o(function(e){var t=this[0],r;return t&&(r=t._private.source||t.cy().collection()),r&&e?r.filter(e):r},"sourceImpl"),"source"),target:nc(o(function(e){var t=this[0],r;return t&&(r=t._private.target||t.cy().collection()),r&&e?r.filter(e):r},"targetImpl"),"target"),sources:Qq({attr:"source"}),targets:Qq({attr:"target"})}),o(Qq,"defineSourceFunction"),nn(so,{edgesWith:nc(Jq(),"edgesWith"),edgesTo:nc(Jq({thisIsSrc:!0}),"edgesTo")}),o(Jq,"defineEdgesWithFunction"),nn(so,{connectedEdges:nc(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var a=i._private.edges,s=0;s<a.length;s++){var l=a[s];t.push(l)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:nc(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:nc(eG(),"parallelEdges"),codirectedEdges:nc(eG({codirected:!0}),"codirectedEdges")}),o(eG,"defineParallelEdgesFunction"),nn(so,{components:o(function(e){var t=this,r=t.cy(),n=r.collection(),i=e==null?t.nodes():e.nodes(),a=[];e!=null&&i.empty()&&(i=e.sources());var s=o(function(u,h){n.merge(u),i.unmerge(u),h.merge(u)},"visitInComponent");if(i.empty())return t.spawn();var l=o(function(){var u=r.collection();a.push(u);var h=i[0];s(h,u),t.bfs({directed:!1,roots:h,visit:o(function(d){return s(d,u)},"visit")}),u.forEach(function(d){d.connectedEdges().forEach(function(p){t.has(p)&&u.has(p.source())&&u.has(p.target())&&u.merge(p)})})},"_loop");do l();while(i.length>0);return a},"components"),component:o(function(){var e=this[0];return e.cy().mutableElements().components(e)[0]},"component")}),so.componentsOf=so.components,zs=o(function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){ma("A collection must have a reference to the core");return}var i=new Tu,a=!1;if(!t)t=[];else if(t.length>0&&Zn(t[0])&&!Y2(t[0])){a=!0;for(var s=[],l=new wg,u=0,h=t.length;u<h;u++){var d=t[u];d.data==null&&(d.data={});var p=d.data;if(p.id==null)p.id=qG();else if(e.hasElementWithId(p.id)||l.has(p.id))continue;var f=new pb(e,d,!1);s.push(f),l.add(p.id)}t=s}this.length=0;for(var g=0,m=t.length;g<m;g++){var y=t[g][0];if(y!=null){var b=y._private.data.id;(!r||!i.has(b))&&(r&&i.set(b,{index:this.length,ele:y}),this[this.length]=y,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(v){this.lazyMap=v},rebuildMap:o(function(){for(var v=this.lazyMap=new Tu,x=this.eles,w=0;w<x.length;w++){var E=x[w];v.set(E.id(),{index:w,ele:E})}},"rebuildMap")},r&&(this._private.map=i),a&&!n&&this.restore()},"Collection"),Fi=pb.prototype=zs.prototype=Object.create(Array.prototype),Fi.instanceString=function(){return"collection"},Fi.spawn=function(e,t){return new zs(this.cy(),e,t)},Fi.spawnSelf=function(){return this.spawn(this)},Fi.cy=function(){return this._private.cy},Fi.renderer=function(){return this._private.cy.renderer()},Fi.element=function(){return this[0]},Fi.collection=function(){return wG(this)?this:new zs(this._private.cy,[this])},Fi.unique=function(){return new zs(this._private.cy,this,!0)},Fi.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},Fi.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new zs(t)},Fi.$id=Fi.getElementById,Fi.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this[0]._private.data.id;return t._private.map.get(r).index},Fi.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},Fi.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},Fi.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var n=t._private;if(Zn(e)){if(r.startBatch(),e.data){t.data(e.data);var i=n.data;if(t.isEdge()){var a=!1,s={},l=e.data.source,u=e.data.target;l!=null&&l!=i.source&&(s.source=""+l,a=!0),u!=null&&u!=i.target&&(s.target=""+u,a=!0),a&&(t=t.move(s))}else{var h="parent"in e.data,d=e.data.parent;h&&(d!=null||i.parent!=null)&&d!=i.parent&&(d===void 0&&(d=null),d!=null&&(d=""+d),t=t.move({parent:d}))}}e.position&&t.position(e.position);var p=o(function(m,y,b){var v=e[m];v!=null&&v!==n[m]&&(v?t[y]():t[b]())},"checkSwitch");return p("removed","remove","restore"),p("selected","select","unselect"),p("selectable","selectify","unselectify"),p("locked","lock","unlock"),p("grabbable","grabify","ungrabify"),p("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}else if(e===void 0){var f={data:ku(n.data),position:ku(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};f.classes="";var g=0;return n.classes.forEach(function(m){return f.classes+=g++===0?m:" "+m}),f}}},Fi.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e},Fi.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r],i=n.json(),a=new pb(e,i,!1);t.push(a)}return new zs(e,t)},Fi.copy=Fi.clone,Fi.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),i=n._private,a=[],s=[],l,u=0,h=r.length;u<h;u++){var d=r[u];t&&!d.removed()||(d.isNode()?a.push(d):s.push(d))}l=a.concat(s);var p,f=o(function(){l.splice(p,1),p--},"removeFromElements");for(p=0;p<l.length;p++){var g=l[p],m=g._private,y=m.data;if(g.clearTraversalCache(),!(!t&&!m.removed)){if(y.id===void 0)y.id=qG();else if(hr(y.id))y.id=""+y.id;else if(I0(y.id)||!Ur(y.id)){ma("Can not create element with invalid string ID `"+y.id+"`"),f();continue}else if(n.hasElementWithId(y.id)){ma("Can not create second element with ID `"+y.id+"`"),f();continue}}var b=y.id;if(g.isNode()){var v=m.position;v.x==null&&(v.x=0),v.y==null&&(v.y=0)}if(g.isEdge()){for(var x=g,w=["source","target"],E=w.length,A=!1,N=0;N<E;N++){var L=w[N],C=y[L];hr(C)&&(C=y[L]=""+y[L]),C==null||C===""?(ma("Can not create edge `"+b+"` with unspecified "+L),A=!0):n.hasElementWithId(C)||(ma("Can not create edge `"+b+"` with nonexistant "+L+" `"+C+"`"),A=!0)}if(A){f();continue}var D=n.getElementById(y.source),P=n.getElementById(y.target);D.same(P)?D._private.edges.push(x):(D._private.edges.push(x),P._private.edges.push(x)),x._private.source=D,x._private.target=P}m.map=new Tu,m.map.set(b,{ele:g,index:0}),m.removed=!1,t&&n.addToPool(g)}for(var O=0;O<a.length;O++){var I=a[O],q=I._private.data;hr(q.parent)&&(q.parent=""+q.parent);var S=q.parent,B=S!=null;if(B||I._private.parent){var F=I._private.parent?n.collection().merge(I._private.parent):n.getElementById(S);if(F.empty())q.parent=void 0;else if(F[0].removed())pi("Node added with missing parent, reference to parent removed"),q.parent=void 0,I._private.parent=null;else{for(var z=!1,M=F;!M.empty();){if(I.same(M)){z=!0,q.parent=void 0;break}M=M.parent()}z||(F[0]._private.children.push(I),I._private.parent=F[0],i.hasCompoundNodes=!0)}}}if(l.length>0){for(var G=l.length===r.length?r:new zs(n,l),Y=0;Y<G.length;Y++){var V=G[Y];V.isNode()||(V.parallelEdges().clearTraversalCache(),V.source().clearTraversalCache(),V.target().clearTraversalCache())}var X;i.hasCompoundNodes?X=n.collection().merge(G).merge(G.connectedNodes()).merge(G.parent()):X=G,X.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?G.emitAndNotify("add"):t&&G.emit("add")}return r},Fi.removed=function(){var e=this[0];return e&&e._private.removed},Fi.inside=function(){var e=this[0];return e&&!e._private.removed},Fi.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],i={},a=r._private.cy;function s(S){for(var B=S._private.edges,F=0;F<B.length;F++)u(B[F])}o(s,"addConnectedEdges");function l(S){for(var B=S._private.children,F=0;F<B.length;F++)u(B[F])}o(l,"addChildren");function u(S){var B=i[S.id()];t&&S.removed()||B||(i[S.id()]=!0,S.isNode()?(n.push(S),s(S),l(S)):n.unshift(S))}o(u,"add");for(var h=0,d=r.length;h<d;h++){var p=r[h];u(p)}function f(S,B){var F=S._private.edges;R0(F,B),S.clearTraversalCache()}o(f,"removeEdgeRef");function g(S){S.clearTraversalCache()}o(g,"removeParallelRef");var m=[];m.ids={};function y(S,B){B=B[0],S=S[0];var F=S._private.children,z=S.id();R0(F,B),B._private.parent=null,m.ids[z]||(m.ids[z]=!0,m.push(S))}o(y,"removeChildRef"),r.dirtyCompoundBoundsCache(),t&&a.removeFromPool(n);for(var b=0;b<n.length;b++){var v=n[b];if(v.isEdge()){var x=v.source()[0],w=v.target()[0];f(x,v),f(w,v);for(var E=v.parallelEdges(),A=0;A<E.length;A++){var N=E[A];g(N),N.isBundledBezier()&&N.dirtyBoundingBoxCache()}}else{var L=v.parent();L.length!==0&&y(L,v)}t&&(v._private.removed=!0)}var C=a._private.elements;a._private.hasCompoundNodes=!1;for(var D=0;D<C.length;D++){var P=C[D];if(P.isParent()){a._private.hasCompoundNodes=!0;break}}var O=new zs(this.cy(),n);O.size()>0&&(e?O.emitAndNotify("remove"):t&&O.emit("remove"));for(var I=0;I<m.length;I++){var q=m[I];(!t||!q.removed())&&q.updateStyle()}return O},Fi.move=function(e){var t=this._private.cy,r=this,n=!1,i=!1,a=o(function(g){return g==null?g:""+g},"toString");if(e.source!==void 0||e.target!==void 0){var s=a(e.source),l=a(e.target),u=s!=null&&t.hasElementWithId(s),h=l!=null&&t.hasElementWithId(l);(u||h)&&(t.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var g=0;g<r.length;g++){var m=r[g],y=m._private.data;m.isEdge()&&(u&&(y.source=s),h&&(y.target=l))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var d=a(e.parent),p=d===null||t.hasElementWithId(d);if(p){var f=d===null?void 0:d;t.batch(function(){var g=r.remove(n,i);g.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var y=r[m],b=y._private.data;y.isNode()&&(b.parent=f)}g.restore(n,i)}),r.emitAndNotify("move")}}return this},[gY,jRe,Ab,z0,Ng,sOe,Nb,TOe,XY,KY,AOe,Ob,Pb,$s,G0,so].forEach(function(e){nn(Fi,e)}),OOe={add:o(function(e){var t,r=this;if(Nl(e)){var n=e;if(n._private.cy===r)t=n.restore();else{for(var i=[],a=0;a<n.length;a++){var s=n[a];i.push(s.json())}t=new zs(r,i)}}else if(Di(e)){var l=e;t=new zs(r,l)}else if(Zn(e)&&(Di(e.nodes)||Di(e.edges))){for(var u=e,h=[],d=["nodes","edges"],p=0,f=d.length;p<f;p++){var g=d[p],m=u[g];if(Di(m))for(var y=0,b=m.length;y<b;y++){var v=nn({group:g},m[y]);h.push(v)}}t=new zs(r,h)}else{var x=e;t=new pb(r,x).collection()}return t},"add"),remove:o(function(e){if(!Nl(e)&&Ur(e)){var t=e;e=this.$(t)}return e.remove()},"remove")},o(_Ne,"generateCubicBezier"),POe=function(){function e(n){return-n.tension*n.x-n.friction*n.v}o(e,"springAccelerationForState");function t(n,i,a){var s={x:n.x+a.dx*i,v:n.v+a.dv*i,tension:n.tension,friction:n.friction};return{dx:s.v,dv:e(s)}}o(t,"springEvaluateStateWithDerivative");function r(n,i){var a={dx:n.v,dv:e(n)},s=t(n,i*.5,a),l=t(n,i*.5,s),u=t(n,i,l),h=1/6*(a.dx+2*(s.dx+l.dx)+u.dx),d=1/6*(a.dv+2*(s.dv+l.dv)+u.dv);return n.x=n.x+h*i,n.v=n.v+d*i,n}return o(r,"springIntegrateState"),o(function n(i,a,s){var l={x:-1,v:0,tension:null,friction:null},u=[0],h=0,d=1/1e4,p=16/1e3,f,g,m;for(i=parseFloat(i)||500,a=parseFloat(a)||20,s=s||null,l.tension=i,l.friction=a,f=s!==null,f?(h=n(i,a),g=h/s*p):g=p;m=r(m||l,g),u.push(1+m.x),h+=16,Math.abs(m.x)>d&&Math.abs(m.v)>d;);return f?function(y){return u[y*(u.length-1)|0]}:h},"springRK4Factory")}(),$i=o(function(e,t,r,n){var i=_Ne(e,t,r,n);return function(a,s,l){return a+(s-a)*i(l)}},"cubicBezier"),Bb={linear:o(function(e,t,r){return e+(t-e)*r},"linear"),ease:$i(.25,.1,.25,1),"ease-in":$i(.42,0,1,1),"ease-out":$i(0,0,.58,1),"ease-in-out":$i(.42,0,.58,1),"ease-in-sine":$i(.47,0,.745,.715),"ease-out-sine":$i(.39,.575,.565,1),"ease-in-out-sine":$i(.445,.05,.55,.95),"ease-in-quad":$i(.55,.085,.68,.53),"ease-out-quad":$i(.25,.46,.45,.94),"ease-in-out-quad":$i(.455,.03,.515,.955),"ease-in-cubic":$i(.55,.055,.675,.19),"ease-out-cubic":$i(.215,.61,.355,1),"ease-in-out-cubic":$i(.645,.045,.355,1),"ease-in-quart":$i(.895,.03,.685,.22),"ease-out-quart":$i(.165,.84,.44,1),"ease-in-out-quart":$i(.77,0,.175,1),"ease-in-quint":$i(.755,.05,.855,.06),"ease-out-quint":$i(.23,1,.32,1),"ease-in-out-quint":$i(.86,0,.07,1),"ease-in-expo":$i(.95,.05,.795,.035),"ease-out-expo":$i(.19,1,.22,1),"ease-in-out-expo":$i(1,0,0,1),"ease-in-circ":$i(.6,.04,.98,.335),"ease-out-circ":$i(.075,.82,.165,1),"ease-in-out-circ":$i(.785,.135,.15,.86),spring:o(function(e,t,r){if(r===0)return Bb.linear;var n=POe(e,t,r);return function(i,a,s){return i+(a-i)*n(s)}},"spring"),"cubic-bezier":$i},o(tG,"getEasedValue"),o(rG,"getValue"),o(vg,"ease"),o(SNe,"step$1"),o(q2,"valid"),o(ANe,"startAnimation"),o(nG,"stepAll"),BOe={animate:gi.animate(),animation:gi.animation(),animated:gi.animated(),clearQueue:gi.clearQueue(),delay:gi.delay(),delayAnimation:gi.delayAnimation(),stop:gi.stop(),addToAnimationPool:o(function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},"addToAnimationPool"),stopAnimationLoop:o(function(){this._private.animationsRunning=!1},"stopAnimationLoop"),startAnimationLoop:o(function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&ub(o(function(n){nG(n,e),t()},"animationStep"))}o(t,"headlessStep");var r=e.renderer();r&&r.beforeRender?r.beforeRender(o(function(n,i){nG(i,e)},"rendererAnimationStep"),r.beforeRenderPriorities.animations):t()},"startAnimationLoop")},FOe={qualifierCompare:o(function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},"qualifierCompare"),eventMatches:o(function(e,t,r){var n=t.qualifier;return n!=null?e!==r.target&&Y2(r.target)&&n.matches(r.target):!0},"eventMatches"),addEventFields:o(function(e,t){t.cy=e,t.target=e},"addEventFields"),callbackContext:o(function(e,t,r){return t.qualifier!=null?r.target:e},"callbackContext")},Fb=o(function(e){return Ur(e)?new F0(e):e},"argSelector"),tj={createEmitter:o(function(){var e=this._private;return e.emitter||(e.emitter=new rb(FOe,this)),this},"createEmitter"),emitter:o(function(){return this._private.emitter},"emitter"),on:o(function(e,t,r){return this.emitter().on(e,Fb(t),r),this},"on"),removeListener:o(function(e,t,r){return this.emitter().removeListener(e,Fb(t),r),this},"removeListener"),removeAllListeners:o(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),one:o(function(e,t,r){return this.emitter().one(e,Fb(t),r),this},"one"),once:o(function(e,t,r){return this.emitter().one(e,Fb(t),r),this},"once"),emit:o(function(e,t){return this.emitter().emit(e,t),this},"emit"),emitAndNotify:o(function(e,t){return this.emit(e),this.notify(e,t),this},"emitAndNotify")},gi.eventAliasesOn(tj),YE={png:o(function(e){var t=this._private.renderer;return e=e||{},t.png(e)},"png"),jpg:o(function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)},"jpg")},YE.jpeg=YE.jpg,$b={layout:o(function(e){var t=this;if(e==null){ma("Layout options must be specified to make a layout");return}if(e.name==null){ma("A `name` must be specified to make a layout");return}var r=e.name,n=t.extension("layout",r);if(n==null){ma("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;Ur(e.eles)?i=t.$(e.eles):i=e.eles!=null?e.eles:t.$();var a=new n(nn({},e,{cy:t,eles:i}));return a},"layout")},$b.createLayout=$b.makeLayout=$b.layout,$Oe={notify:o(function(e,t){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var n=r.batchNotifications[e]=r.batchNotifications[e]||this.collection();t!=null&&n.merge(t);return}if(r.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,t)}},"notify"),notifications:o(function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},"notifications"),noNotifications:o(function(e){this.notifications(!1),e(),this.notifications(!0)},"noNotifications"),batching:o(function(){return this._private.batchCount>0},"batching"),startBatch:o(function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},"startBatch"),endBatch:o(function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(r){var n=e.batchNotifications[r];n.empty()?t.notify(r):t.notify(r,n)})}return this},"endBatch"),batch:o(function(e){return this.startBatch(),e(),this.endBatch(),this},"batch"),batchData:o(function(e){var t=this;return this.batch(function(){for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n],a=e[i],s=t.getElementById(i);s.data(a)}})},"batchData")},zOe=Fs({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),jE={renderTo:o(function(e,t,r,n){var i=this._private.renderer;return i.renderTo(e,t,r,n),this},"renderTo"),renderer:o(function(){return this._private.renderer},"renderer"),forceRender:o(function(){return this.notify("draw"),this},"forceRender"),resize:o(function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},"resize"),initRenderer:o(function(e){var t=this,r=t.extension("renderer",e.name);if(r==null){ma("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&pi("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=zOe(e);n.cy=t,t._private.renderer=new r(n),this.notify("init")},"initRenderer"),destroyRenderer:o(function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(r){var n=r._private;n.rscratch={},n.rstyle={},n.animation.current=[],n.animation.queue=[]})},"destroyRenderer"),onRender:o(function(e){return this.on("render",e)},"onRender"),offRender:o(function(e){return this.off("render",e)},"offRender")},jE.invalidateDimensions=jE.resize,zb={collection:o(function(e,t){return Ur(e)?this.$(e):Nl(e)?e.collection():Di(e)?(t||(t={}),new zs(this,e,t.unique,t.removed)):new zs(this)},"collection"),nodes:o(function(e){var t=this.$(function(r){return r.isNode()});return e?t.filter(e):t},"nodes"),edges:o(function(e){var t=this.$(function(r){return r.isEdge()});return e?t.filter(e):t},"edges"),$:o(function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},"$"),mutableElements:o(function(){return this._private.elements},"mutableElements")},zb.elements=zb.filter=zb.$,oo={},oy="t",qOe="f",oo.apply=function(e){for(var t=this,r=t._private,n=r.cy,i=n.collection(),a=0;a<e.length;a++){var s=e[a],l=t.getContextMeta(s);if(!l.empty){var u=t.getContextStyle(l),h=t.applyContextStyle(l,u,s);s._private.appliedInitStyle?t.updateTransitions(s,h.diffProps):s._private.appliedInitStyle=!0;var d=t.updateStyleHints(s);d&&i.push(s)}}return i},oo.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,a=n[i];if(a)return a;for(var s=[],l={},u=0;u<r.length;u++){var h=r[u],d=e[u]===oy,p=t[u]===oy,f=d!==p,g=h.mappedProperties.length>0;if(f||p&&g){var m=void 0;f&&g||f?m=h.properties:g&&(m=h.mappedProperties);for(var y=0;y<m.length;y++){for(var b=m[y],v=b.name,x=!1,w=u+1;w<r.length;w++){var E=r[w],A=t[w]===oy;if(A&&(x=E.properties[b.name]!=null,x))break}!l[v]&&!x&&(l[v]=!0,s.push(v))}}}return n[i]=s,s},oo.getContextMeta=function(e){for(var t=this,r="",n,i=e._private.styleCxtKey||"",a=0;a<t.length;a++){var s=t[a],l=s.selector&&s.selector.matches(e);l?r+=oy:r+=qOe}return n=t.getPropertiesDiff(i,r),e._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}},oo.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var i={_private:{key:t}},a=0;a<r.length;a++){var s=r[a],l=t[a]===oy;if(l)for(var u=0;u<s.properties.length;u++){var h=s.properties[u];i[h.name]=h}}return n[t]=i,i},oo.applyContextStyle=function(e,t,r){for(var n=this,i=e.diffPropNames,a={},s=n.types,l=0;l<i.length;l++){var u=i[l],h=t[u],d=r.pstyle(u);if(!h)if(d)d.bypass?h={name:u,deleteBypassed:!0}:h={name:u,delete:!0};else continue;if(d!==h){if(h.mapped===s.fn&&d!=null&&d.mapping!=null&&d.mapping.value===h.value){var p=d.mapping,f=p.fnValue=h.value(r);if(f===p.prevFnValue)continue}var g=a[u]={prev:d};n.applyParsedProperty(r,h),g.next=r.pstyle(u),g.next&&g.next.bypass&&(g.next=g.next.bypassed)}}return{diffProps:a}},oo.updateStyleHints=function(e){var t=e._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=o(function(ee,pe,ie){return r.getPropertiesHash(ee,pe,ie)},"propHash"),s=t.styleKey;if(e.removed())return!1;var l=t.group==="nodes",u=e._private.style;n=Object.keys(u);for(var h=0;h<i.length;h++){var d=i[h];t.styleKeys[d]=[xg,W2]}for(var p=o(function(ee,pe){return t.styleKeys[pe][0]=X2(ee,t.styleKeys[pe][0])},"updateGrKey1"),f=o(function(ee,pe){return t.styleKeys[pe][1]=K2(ee,t.styleKeys[pe][1])},"updateGrKey2"),g=o(function(ee,pe){p(ee,pe),f(ee,pe)},"updateGrKey"),m=o(function(ee,pe){for(var ie=0;ie<ee.length;ie++){var De=ee.charCodeAt(ie);p(De,pe),f(De,pe)}},"updateGrKeyWStr"),y=2e9,b=o(function(ee){return-128<ee&&ee<128&&Math.floor(ee)!==ee?y-(ee*1024|0):ee},"cleanNum"),v=0;v<n.length;v++){var x=n[v],w=u[x];if(w!=null){var E=this.properties[x],A=E.type,N=E.groupKey,L=void 0;E.hashOverride!=null?L=E.hashOverride(e,w):w.pfValue!=null&&(L=w.pfValue);var C=E.enums==null?w.value:null,D=L!=null,P=C!=null,O=D||P,I=w.units;if(A.number&&O&&!A.multiple){var q=D?L:C;g(b(q),N),!D&&I!=null&&m(I,N)}else m(w.strValue,N)}}for(var S=[xg,W2],B=0;B<i.length;B++){var F=i[B],z=t.styleKeys[F];S[0]=X2(z[0],S[0]),S[1]=K2(z[1],S[1])}t.styleKey=RMe(S[0],S[1]);var M=t.styleKeys;t.labelDimsKey=D0(M.labelDimensions);var G=a(e,["label"],M.labelDimensions);if(t.labelKey=D0(G),t.labelStyleKey=D0(hb(M.commonLabel,G)),!l){var Y=a(e,["source-label"],M.labelDimensions);t.sourceLabelKey=D0(Y),t.sourceLabelStyleKey=D0(hb(M.commonLabel,Y));var V=a(e,["target-label"],M.labelDimensions);t.targetLabelKey=D0(V),t.targetLabelStyleKey=D0(hb(M.commonLabel,V))}if(l){var X=t.styleKeys,re=X.nodeBody,de=X.nodeBorder,xe=X.nodeOutline,he=X.backgroundImage,be=X.compound,Q=X.pie,ne=[re,de,xe,he,be,Q].filter(function(ee){return ee!=null}).reduce(hb,[xg,W2]);t.nodeKey=D0(ne),t.hasPie=Q!=null&&Q[0]!==xg&&Q[1]!==W2}return s!==t.styleKey},oo.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},oo.applyParsedProperty=function(e,t){var r=this,n=t,i=e._private.style,a,s=r.types,l=r.properties[n.name].type,u=n.bypass,h=i[n.name],d=h&&h.bypass,p=e._private,f="mapping",g=o(function(X){return X==null?null:X.pfValue!=null?X.pfValue:X.value},"getVal"),m=o(function(){var X=g(h),re=g(n);r.checkTriggers(e,n.name,X,re)},"checkTriggers");if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(n=t=this.parse(t.name,"bezier",u)),n.delete)return i[n.name]=void 0,m(),!0;if(n.deleteBypassed)return h?h.bypass?(h.bypassed=void 0,m(),!0):!1:(m(),!0);if(n.deleteBypass)return h?h.bypass?(i[n.name]=h.bypassed,m(),!0):!1:(m(),!0);var y=o(function(){pi("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")},"printMappingErr");switch(n.mapped){case s.mapData:{for(var b=n.field.split("."),v=p.data,x=0;x<b.length&&v;x++){var w=b[x];v=v[w]}if(v==null)return y(),!1;var E;if(hr(v)){var A=n.fieldMax-n.fieldMin;A===0?E=0:E=(v-n.fieldMin)/A}else return pi("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+v+"` for `"+e.id()+"` is non-numeric)"),!1;if(E<0?E=0:E>1&&(E=1),l.color){var N=n.valueMin[0],L=n.valueMax[0],C=n.valueMin[1],D=n.valueMax[1],P=n.valueMin[2],O=n.valueMax[2],I=n.valueMin[3]==null?1:n.valueMin[3],q=n.valueMax[3]==null?1:n.valueMax[3],S=[Math.round(N+(L-N)*E),Math.round(C+(D-C)*E),Math.round(P+(O-P)*E),Math.round(I+(q-I)*E)];a={bypass:n.bypass,name:n.name,value:S,strValue:"rgb("+S[0]+", "+S[1]+", "+S[2]+")"}}else if(l.number){var B=n.valueMin+(n.valueMax-n.valueMin)*E;a=this.parse(n.name,B,n.bypass,f)}else return!1;if(!a)return y(),!1;a.mapping=n,n=a;break}case s.data:{for(var F=n.field.split("."),z=p.data,M=0;M<F.length&&z;M++){var G=F[M];z=z[G]}if(z!=null&&(a=this.parse(n.name,z,n.bypass,f)),!a)return y(),!1;a.mapping=n,n=a;break}case s.fn:{var Y=n.value,V=n.fnValue!=null?n.fnValue:Y(e);if(n.prevFnValue=V,V==null)return pi("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+e.id()+"` is null)"),!1;if(a=this.parse(n.name,V,n.bypass,f),!a)return pi("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+e.id()+"` is invalid)"),!1;a.mapping=ku(n),n=a;break}case void 0:break;default:return!1}return u?(d?n.bypassed=h.bypassed:n.bypassed=h,i[n.name]=n):d?h.bypassed=n:i[n.name]=n,m(),!0},oo.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!t)n._private.style={};else for(var i=n._private.style,a=Object.keys(i),s=0;s<a.length;s++){var l=a[s],u=i[l];u!=null&&(u.bypass?u.bypassed=null:i[l]=null)}}},oo.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()},oo.updateTransitions=function(e,t){var r=this,n=e._private,i=e.pstyle("transition-property").value,a=e.pstyle("transition-duration").pfValue,s=e.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var l={},u=!1,h=0;h<i.length;h++){var d=i[h],p=e.pstyle(d),f=t[d];if(f){var g=f.prev,m=g,y=f.next!=null?f.next:p,b=!1,v=void 0,x=1e-6;m&&(hr(m.pfValue)&&hr(y.pfValue)?(b=y.pfValue-m.pfValue,v=m.pfValue+x*b):hr(m.value)&&hr(y.value)?(b=y.value-m.value,v=m.value+x*b):Di(m.value)&&Di(y.value)&&(b=m.value[0]!==y.value[0]||m.value[1]!==y.value[1]||m.value[2]!==y.value[2],v=m.strValue),b&&(l[d]=y.strValue,this.applyBypass(e,d,v),u=!0))}}if(!u)return;n.transitioning=!0,new Ag(function(w){s>0?e.delayAnimation(s).play().promise().then(w):w()}).then(function(){return e.animation({style:l,duration:a,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1)},oo.checkTrigger=function(e,t,r,n,i,a){var s=this.properties[t],l=i(s);l!=null&&l(r,n)&&a(s)},oo.checkZOrderTrigger=function(e,t,r,n){var i=this;this.checkTrigger(e,t,r,n,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",e)})},oo.checkBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(i){return i.triggersBounds},function(i){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&t==="curve-style"&&(r==="bezier"||n==="bezier")&&e.parallelEdges().forEach(function(a){a.isBundledBezier()&&a.dirtyBoundingBoxCache()}),i.triggersBoundsOfConnectedEdges&&t==="display"&&(r==="none"||n==="none")&&e.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})},oo.checkTriggers=function(e,t,r,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,n),this.checkBoundsTrigger(e,t,r,n)},ly={},ly.applyBypass=function(e,t,r,n){var i=this,a=[],s=!0;if(t==="*"||t==="**"){if(r!==void 0)for(var l=0;l<i.properties.length;l++){var u=i.properties[l],h=u.name,d=this.parse(h,r,!0);d&&a.push(d)}}else if(Ur(t)){var p=this.parse(t,r,!0);p&&a.push(p)}else if(Zn(t)){var f=t;n=r;for(var g=Object.keys(f),m=0;m<g.length;m++){var y=g[m],b=f[y];if(b===void 0&&(b=f[ob(y)]),b!==void 0){var v=this.parse(y,b,!0);v&&a.push(v)}}}else return!1;if(a.length===0)return!1;for(var x=!1,w=0;w<e.length;w++){for(var E=e[w],A={},N=void 0,L=0;L<a.length;L++){var C=a[L];if(n){var D=E.pstyle(C.name);N=A[C.name]={prev:D}}x=this.applyParsedProperty(E,ku(C))||x,n&&(N.next=E.pstyle(C.name))}x&&this.updateStyleHints(E),n&&this.updateTransitions(E,A,s)}return x},ly.overrideBypass=function(e,t,r){t=bE(t);for(var n=0;n<e.length;n++){var i=e[n],a=i._private.style[t],s=this.properties[t].type,l=s.color,u=s.mutiple,h=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,t,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),l?a.strValue="rgb("+r.join(",")+")":u?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(i)),this.checkTriggers(i,t,h,r)}},ly.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)},ly.removeBypasses=function(e,t,r){for(var n=!0,i=0;i<e.length;i++){for(var a=e[i],s={},l=0;l<t.length;l++){var u=t[l],h=this.properties[u],d=a.pstyle(h.name);if(!(!d||!d.bypass)){var p="",f=this.parse(u,p,!0),g=s[h.name]={prev:d};this.applyParsedProperty(a,f),g.next=a.pstyle(h.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,s,n)}},HE={},HE.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1},HE.containerCss=function(e){var t=this._private.cy,r=t.container(),n=t.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)},Cu={},Cu.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},Cu.getRawStyle=function(e,t){var r=this;if(e=e[0],e){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],s=r.getStylePropertyValue(e,a.name,t);s!=null&&(n[a.name]=s,n[ob(a.name)]=s)}return n}},Cu.getIndexedStyle=function(e,t,r,n){var i=e.pstyle(t)[r][n];return i??e.cy().style().getDefaultProperty(t)[r][0]},Cu.getStylePropertyValue=function(e,t,r){var n=this;if(e=e[0],e){var i=n.properties[t];i.alias&&(i=i.pointsTo);var a=i.type,s=e.pstyle(i.name);if(s){var l=s.value,u=s.units,h=s.strValue;if(r&&a.number&&l!=null&&hr(l)){var d=e.cy().zoom(),p=o(function(y){return y*d},"getRenderedValue"),f=o(function(y,b){return p(y)+b},"getValueStringWithUnits"),g=Di(l),m=g?u.every(function(y){return y!=null}):u!=null;return m?g?l.map(function(y,b){return f(y,u[b])}).join(" "):f(l,u):g?l.map(function(y){return Ur(y)?y:""+p(y)}).join(" "):""+p(l)}else if(h!=null)return h}return null}},Cu.getAnimationStartStyle=function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],a=i.name,s=e.pstyle(a);s!==void 0&&(Zn(s)?s=this.parse(a,s.strValue):s=this.parse(a,s)),s&&(r[a]=s)}return r},Cu.getPropsList=function(e){var t=this,r=[],n=e,i=t.properties;if(n)for(var a=Object.keys(n),s=0;s<a.length;s++){var l=a[s],u=n[l],h=i[l]||i[bE(l)],d=this.parse(h.name,u);d&&r.push(d)}return r},Cu.getNonDefaultPropertiesHash=function(e,t,r){var n=r.slice(),i,a,s,l,u,h;for(u=0;u<t.length;u++)if(i=t[u],a=e.pstyle(i,!1),a!=null)if(a.pfValue!=null)n[0]=X2(l,n[0]),n[1]=K2(l,n[1]);else for(s=a.strValue,h=0;h<s.length;h++)l=s.charCodeAt(h),n[0]=X2(l,n[0]),n[1]=K2(l,n[1]);return n},Cu.getPropertiesHash=Cu.getNonDefaultPropertiesHash,qb={},qb.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],i=n.selector,a=n.style||n.css,s=Object.keys(a);t.selector(i);for(var l=0;l<s.length;l++){var u=s[l],h=a[u];t.css(u,h)}}return t},qb.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},qb.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,i=r.properties,a={},s=0;s<i.length;s++){var l=i[s];a[l.name]=l.strValue}e.push({selector:n?n.toString():"core",style:a})}return e},UE={},UE.appendFromString=function(e){var t=this,r=this,n=""+e,i,a,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function l(){n.length>i.length?n=n.substr(i.length):n=""}o(l,"removeSelAndBlockFromRemaining");function u(){a.length>s.length?a=a.substr(s.length):a=""}for(o(u,"removePropAndValFromRem");;){var h=n.match(/^\s*$/);if(h)break;var d=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){pi("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=d[0];var p=d[1];if(p!=="core"){var f=new F0(p);if(f.invalid){pi("Skipping parsing of block: Invalid selector found in string stylesheet: "+p),l();continue}}var g=d[2],m=!1;a=g;for(var y=[];;){var b=a.match(/^\s*$/);if(b)break;var v=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!v){pi("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+g),m=!0;break}s=v[0];var x=v[1],w=v[2],E=t.properties[x];if(!E){pi("Skipping property: Invalid property name in: "+s),u();continue}var A=r.parse(x,w);if(!A){pi("Skipping property: Invalid property definition in: "+s),u();continue}y.push({name:x,val:w}),u()}if(m){l();break}r.selector(p);for(var N=0;N<y.length;N++){var L=y[N];r.css(L.name,L.val)}l()}return r},UE.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t},qs={},function(){var e=is,t=WNe,r=KNe,n=ZNe,i=QNe,a=o(function(Q){return"^"+Q+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},"data"),s=o(function(Q){var ne=e+"|\\w+|"+t+"|"+r+"|"+n+"|"+i;return"^"+Q+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+ne+")\\s*\\,\\s*("+ne+")\\)$"},"mapData"),l=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];qs.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:l,singleRegexMatchValue:!0},urls:{regexes:l,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:o(function(Q,ne){switch(Q.length){case 2:return ne[0]!=="deg"&&ne[0]!=="rad"&&ne[1]!=="deg"&&ne[1]!=="rad";case 1:return Ur(Q[0])||ne[0]==="deg"||ne[0]==="rad";default:return!1}},"validate")},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:o(function(Q){var ne=Q.length;return ne===1||ne===2||ne===4},"validate")}};var u={zeroNonZero:o(function(Q,ne){return(Q==null||ne==null)&&Q!==ne||Q==0&&ne!=0?!0:Q!=0&&ne==0},"zeroNonZero"),any:o(function(Q,ne){return Q!=ne},"any"),emptyNonEmpty:o(function(Q,ne){var ee=I0(Q),pe=I0(ne);return ee&&!pe||!ee&&pe},"emptyNonEmpty")},h=qs.types,d=[{name:"label",type:h.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any}],p=[{name:"source-label",type:h.text,triggersBounds:u.any},{name:"source-text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:h.size,triggersBounds:u.any}],f=[{name:"target-label",type:h.text,triggersBounds:u.any},{name:"target-text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:h.size,triggersBounds:u.any}],g=[{name:"font-family",type:h.fontFamily,triggersBounds:u.any},{name:"font-style",type:h.fontStyle,triggersBounds:u.any},{name:"font-weight",type:h.fontWeight,triggersBounds:u.any},{name:"font-size",type:h.size,triggersBounds:u.any},{name:"text-transform",type:h.textTransform,triggersBounds:u.any},{name:"text-wrap",type:h.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:h.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:h.size,triggersBounds:u.any},{name:"text-outline-width",type:h.size,triggersBounds:u.any},{name:"line-height",type:h.positiveNumber,triggersBounds:u.any}],m=[{name:"text-valign",type:h.valign,triggersBounds:u.any},{name:"text-halign",type:h.halign,triggersBounds:u.any},{name:"color",type:h.color},{name:"text-outline-color",type:h.color},{name:"text-outline-opacity",type:h.zeroOneNumber},{name:"text-background-color",type:h.color},{name:"text-background-opacity",type:h.zeroOneNumber},{name:"text-background-padding",type:h.size,triggersBounds:u.any},{name:"text-border-opacity",type:h.zeroOneNumber},{name:"text-border-color",type:h.color},{name:"text-border-width",type:h.size,triggersBounds:u.any},{name:"text-border-style",type:h.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:h.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:h.justification}],y=[{name:"events",type:h.bool,triggersZOrder:u.any},{name:"text-events",type:h.bool,triggersZOrder:u.any}],b=[{name:"display",type:h.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:h.visibility,triggersZOrder:u.any},{name:"opacity",type:h.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:h.zeroOneNumber},{name:"min-zoomed-font-size",type:h.size},{name:"z-compound-depth",type:h.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:h.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:h.number,triggersZOrder:u.any}],v=[{name:"overlay-padding",type:h.size,triggersBounds:u.any},{name:"overlay-color",type:h.color},{name:"overlay-opacity",type:h.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:h.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:h.cornerRadius}],x=[{name:"underlay-padding",type:h.size,triggersBounds:u.any},{name:"underlay-color",type:h.color},{name:"underlay-opacity",type:h.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:h.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:h.cornerRadius}],w=[{name:"transition-property",type:h.propList},{name:"transition-duration",type:h.time},{name:"transition-delay",type:h.time},{name:"transition-timing-function",type:h.easing}],E=o(function(Q,ne){return ne.value==="label"?-Q.poolIndex():ne.pfValue},"nodeSizeHashOverride"),A=[{name:"height",type:h.nodeSize,triggersBounds:u.any,hashOverride:E},{name:"width",type:h.nodeSize,triggersBounds:u.any,hashOverride:E},{name:"shape",type:h.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:h.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:h.cornerRadius},{name:"background-color",type:h.color},{name:"background-fill",type:h.fill},{name:"background-opacity",type:h.zeroOneNumber},{name:"background-blacken",type:h.nOneOneNumber},{name:"background-gradient-stop-colors",type:h.colors},{name:"background-gradient-stop-positions",type:h.percentages},{name:"background-gradient-direction",type:h.gradientDirection},{name:"padding",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:h.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:h.boundsExpansion,triggersBounds:u.any}],N=[{name:"border-color",type:h.color},{name:"border-opacity",type:h.zeroOneNumber},{name:"border-width",type:h.size,triggersBounds:u.any},{name:"border-style",type:h.borderStyle},{name:"border-cap",type:h.lineCap},{name:"border-join",type:h.lineJoin},{name:"border-dash-pattern",type:h.numbers},{name:"border-dash-offset",type:h.number},{name:"border-position",type:h.linePosition}],L=[{name:"outline-color",type:h.color},{name:"outline-opacity",type:h.zeroOneNumber},{name:"outline-width",type:h.size,triggersBounds:u.any},{name:"outline-style",type:h.borderStyle},{name:"outline-offset",type:h.size,triggersBounds:u.any}],C=[{name:"background-image",type:h.urls},{name:"background-image-crossorigin",type:h.bgCrossOrigin},{name:"background-image-opacity",type:h.zeroOneNumbers},{name:"background-image-containment",type:h.bgContainment},{name:"background-image-smoothing",type:h.bools},{name:"background-position-x",type:h.bgPos},{name:"background-position-y",type:h.bgPos},{name:"background-width-relative-to",type:h.bgRelativeTo},{name:"background-height-relative-to",type:h.bgRelativeTo},{name:"background-repeat",type:h.bgRepeat},{name:"background-fit",type:h.bgFit},{name:"background-clip",type:h.bgClip},{name:"background-width",type:h.bgWH},{name:"background-height",type:h.bgWH},{name:"background-offset-x",type:h.bgPos},{name:"background-offset-y",type:h.bgPos}],D=[{name:"position",type:h.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:h.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:h.size,triggersBounds:u.any},{name:"min-width-bias-left",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:h.size,triggersBounds:u.any},{name:"min-height-bias-top",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:h.sizeMaybePercent,triggersBounds:u.any}],P=[{name:"line-style",type:h.lineStyle},{name:"line-color",type:h.color},{name:"line-fill",type:h.fill},{name:"line-cap",type:h.lineCap},{name:"line-opacity",type:h.zeroOneNumber},{name:"line-dash-pattern",type:h.numbers},{name:"line-dash-offset",type:h.number},{name:"line-outline-width",type:h.size},{name:"line-outline-color",type:h.color},{name:"line-gradient-stop-colors",type:h.colors},{name:"line-gradient-stop-positions",type:h.percentages},{name:"curve-style",type:h.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:h.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:h.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:h.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:h.size,triggersBounds:u.any},{name:"control-point-distances",type:h.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:h.numbers,triggersBounds:u.any},{name:"segment-distances",type:h.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:h.numbers,triggersBounds:u.any},{name:"segment-radii",type:h.numbers,triggersBounds:u.any},{name:"radius-type",type:h.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:h.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:h.size,triggersBounds:u.any},{name:"taxi-direction",type:h.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:h.number,triggersBounds:u.any},{name:"edge-distances",type:h.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:h.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:h.angle,triggersBounds:u.any},{name:"loop-sweep",type:h.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:h.size,triggersBounds:u.any},{name:"target-distance-from-node",type:h.size,triggersBounds:u.any}],O=[{name:"ghost",type:h.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:h.zeroOneNumber}],I=[{name:"selection-box-color",type:h.color},{name:"selection-box-opacity",type:h.zeroOneNumber},{name:"selection-box-border-color",type:h.color},{name:"selection-box-border-width",type:h.size},{name:"active-bg-color",type:h.color},{name:"active-bg-opacity",type:h.zeroOneNumber},{name:"active-bg-size",type:h.size},{name:"outside-texture-bg-color",type:h.color},{name:"outside-texture-bg-opacity",type:h.zeroOneNumber}],q=[];qs.pieBackgroundN=16,q.push({name:"pie-size",type:h.sizeMaybePercent});for(var S=1;S<=qs.pieBackgroundN;S++)q.push({name:"pie-"+S+"-background-color",type:h.color}),q.push({name:"pie-"+S+"-background-size",type:h.percent}),q.push({name:"pie-"+S+"-background-opacity",type:h.zeroOneNumber});var B=[],F=qs.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:h.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:h.color},{name:"arrow-fill",type:h.arrowFill},{name:"arrow-width",type:h.arrowWidth}].forEach(function(Q){F.forEach(function(ne){var ee=ne+"-"+Q.name,pe=Q.type,ie=Q.triggersBounds;B.push({name:ee,type:pe,triggersBounds:ie})})},{});var z=qs.properties=[].concat(y,w,b,v,x,O,m,g,d,p,f,A,N,L,C,q,D,P,B,I),M=qs.propertyGroups={behavior:y,transition:w,visibility:b,overlay:v,underlay:x,ghost:O,commonLabel:m,labelDimensions:g,mainLabel:d,sourceLabel:p,targetLabel:f,nodeBody:A,nodeBorder:N,nodeOutline:L,backgroundImage:C,pie:q,compound:D,edgeLine:P,edgeArrow:B,core:I},G=qs.propertyGroupNames={},Y=qs.propertyGroupKeys=Object.keys(M);Y.forEach(function(Q){G[Q]=M[Q].map(function(ne){return ne.name}),M[Q].forEach(function(ne){return ne.groupKey=Q})});var V=qs.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];qs.propertyNames=z.map(function(Q){return Q.name});for(var X=0;X<z.length;X++){var re=z[X];z[re.name]=re}for(var de=0;de<V.length;de++){var xe=V[de],he=z[xe.pointsTo],be={name:xe.name,alias:!0,pointsTo:he};z.push(be),z[xe.name]=be}}(),qs.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},qs.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=nn({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,h){for(var d=1;d<=qs.pieBackgroundN;d++){var p=h.name.replace("{{i}}",d),f=h.value;u[p]=f}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,h){return qs.arrowPrefixes.forEach(function(d){var p=d+"-"+h.name,f=h.value;u[p]=f}),u},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,s=t[a],l=this.parse(a,s);r[a]=l}}return e.defaultProperties=r,e.defaultProperties},qs.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length},Gb={},Gb.parse=function(e,t,r,n){var i=this;if(ia(t))return i.parseImplWarn(e,t,r,n);var a=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",l=""+t,u=PG(e,l,s,a),h=i.propCache=i.propCache||[],d;return(d=h[u])||(d=h[u]=i.parseImplWarn(e,t,r,n)),(r||n==="mapping")&&(d=ku(d),d&&(d.value=ku(d.value))),d},Gb.parseImplWarn=function(e,t,r,n){var i=this.parseImpl(e,t,r,n);return!i&&t!=null&&pi("The style property `".concat(e,": ").concat(t,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&t==="label"&&pi("The style value of `label` is deprecated for `"+i.name+"`"),i},Gb.parseImpl=function(e,t,r,n){var i=this;e=bE(e);var a=i.properties[e],s=t,l=i.types;if(!a||t===void 0)return null;a.alias&&(a=a.pointsTo,e=a.name);var u=Ur(t);u&&(t=t.trim());var h=a.type;if(!h)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(ia(t))return{name:e,value:t,strValue:"fn",mapped:l.fn,bypass:r};var d,p;if(!(!u||n||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(d=new RegExp(l.data.regex).exec(t))){if(r)return!1;var f=l.data;return{name:e,value:d,strValue:""+t,mapped:f,field:d[1],bypass:r}}else if(t.length>=10&&t[0]==="m"&&(p=new RegExp(l.mapData.regex).exec(t))){if(r||h.multiple)return!1;var g=l.mapData;if(!(h.color||h.number))return!1;var m=this.parse(e,p[4]);if(!m||m.mapped)return!1;var y=this.parse(e,p[5]);if(!y||y.mapped)return!1;if(m.pfValue===y.pfValue||m.strValue===y.strValue)return pi("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+m.strValue+"`"),this.parse(e,m.strValue);if(h.color){var b=m.value,v=y.value,x=b[0]===v[0]&&b[1]===v[1]&&b[2]===v[2]&&(b[3]===v[3]||(b[3]==null||b[3]===1)&&(v[3]==null||v[3]===1));if(x)return!1}return{name:e,value:p,strValue:""+t,mapped:g,field:p[1],fieldMin:parseFloat(p[2]),fieldMax:parseFloat(p[3]),valueMin:m.value,valueMax:y.value,bypass:r}}}if(h.multiple&&n!=="multiple"){var w;if(u?w=t.split(/\s+/):Di(t)?w=t:w=[t],h.evenMultiple&&w.length%2!==0)return null;for(var E=[],A=[],N=[],L="",C=!1,D=0;D<w.length;D++){var P=i.parse(e,w[D],r,"multiple");C=C||Ur(P.value),E.push(P.value),N.push(P.pfValue!=null?P.pfValue:P.value),A.push(P.units),L+=(D>0?" ":"")+P.strValue}return h.validate&&!h.validate(E,A)?null:h.singleEnum&&C?E.length===1&&Ur(E[0])?{name:e,value:E[0],strValue:E[0],bypass:r}:null:{name:e,value:E,pfValue:N,strValue:L,bypass:r,units:A}}var O=o(function(){for(var Q=0;Q<h.enums.length;Q++){var ne=h.enums[Q];if(ne===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null},"checkEnums");if(h.number){var I,q="px";if(h.units&&(I=h.units),h.implicitUnits&&(q=h.implicitUnits),!h.unitless)if(u){var S="px|em"+(h.allowPercent?"|\\%":"");I&&(S=I);var B=t.match("^("+is+")("+S+")?$");B&&(t=B[1],I=B[2]||q)}else(!I||h.implicitUnits)&&(I=q);if(t=parseFloat(t),isNaN(t)&&h.enums===void 0)return null;if(isNaN(t)&&h.enums!==void 0)return t=s,O();if(h.integer&&!qNe(t)||h.min!==void 0&&(t<h.min||h.strictMin&&t===h.min)||h.max!==void 0&&(t>h.max||h.strictMax&&t===h.max))return null;var F={name:e,value:t,strValue:""+t+(I||""),units:I,bypass:r};return h.unitless||I!=="px"&&I!=="em"?F.pfValue=t:F.pfValue=I==="px"||!I?t:this.getEmSizeInPixels()*t,(I==="ms"||I==="s")&&(F.pfValue=I==="ms"?t:1e3*t),(I==="deg"||I==="rad")&&(F.pfValue=I==="rad"?t:uIe(t)),I==="%"&&(F.pfValue=t/100),F}else if(h.propList){var z=[],M=""+t;if(M!=="none"){for(var G=M.split(/\s*,\s*|\s+/),Y=0;Y<G.length;Y++){var V=G[Y].trim();i.properties[V]?z.push(V):pi("`"+V+"` is not a valid property name")}if(z.length===0)return null}return{name:e,value:z,strValue:z.length===0?"none":z.join(" "),bypass:r}}else if(h.color){var X=iMe(t);return X?{name:e,value:X,pfValue:X,strValue:"rgb("+X[0]+","+X[1]+","+X[2]+")",bypass:r}:null}else if(h.regex||h.regexes){if(h.enums){var re=O();if(re)return re}for(var de=h.regexes?h.regexes:[h.regex],xe=0;xe<de.length;xe++){var he=new RegExp(de[xe]),be=he.exec(t);if(be)return{name:e,value:h.singleRegexMatchValue?be[1]:be,strValue:""+t,bypass:r}}return null}else return h.string?{name:e,value:""+t,strValue:""+t,bypass:r}:h.enums?O():null},lo=o(function e(t){if(!(this instanceof e))return new e(t);if(!vE(t)){ma("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},"Style"),co=lo.prototype,co.instanceString=function(){return"style"},co.clear=function(){for(var e=this._private,t=e.cy,r=t.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(r,!0),r.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this},co.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},co.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},co.selector=function(e){var t=e==="core"?null:new F0(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this},co.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],n=0;n<e.properties.length;n++){var i=e.properties[n],a=r[i.name];a===void 0&&(a=r[ob(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else t.length===2&&this.cssRule(t[0],t[1]);return this},co.style=co.css,co.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var i=!this[n].selector;i&&(this._private.coreStyle[r.name]=r)}return this},co.append=function(e){return kG(e)?e.appendToStyle(this):Di(e)?this.appendFromJson(e):Ur(e)&&this.appendFromString(e),this},lo.fromJson=function(e,t){var r=new lo(e);return r.fromJson(t),r},lo.fromString=function(e,t){return new lo(e).fromString(t)},[oo,ly,HE,Cu,qb,UE,qs,Gb].forEach(function(e){nn(co,e)}),lo.types=co.types,lo.properties=co.properties,lo.propertyGroups=co.propertyGroups,lo.propertyGroupNames=co.propertyGroupNames,lo.propertyGroupKeys=co.propertyGroupKeys,GOe={style:o(function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},"style"),setStyle:o(function(e){var t=this._private;return kG(e)?t.style=e.generateStyle(this):Di(e)?t.style=lo.fromJson(this,e):Ur(e)?t.style=lo.fromString(this,e):t.style=lo(this),t.style},"setStyle"),updateStyle:o(function(){this.mutableElements().updateStyle()},"updateStyle")},YOe="single",_1={autolock:o(function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},"autolock"),autoungrabify:o(function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},"autoungrabify"),autounselectify:o(function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},"autounselectify"),selectionType:o(function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=YOe),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},"selectionType"),panningEnabled:o(function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},"panningEnabled"),userPanningEnabled:o(function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},"userPanningEnabled"),zoomingEnabled:o(function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},"zoomingEnabled"),userZoomingEnabled:o(function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},"userZoomingEnabled"),boxSelectionEnabled:o(function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},"boxSelectionEnabled"),pan:o(function(){var e=arguments,t=this._private.pan,r,n,i,a,s;switch(e.length){case 0:return t;case 1:if(Ur(e[0]))return r=e[0],t[r];if(Zn(e[0])){if(!this._private.panningEnabled)return this;i=e[0],a=i.x,s=i.y,hr(a)&&(t.x=a),hr(s)&&(t.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=e[0],n=e[1],(r==="x"||r==="y")&&hr(n)&&(t[r]=n),this.emit("pan viewport");break}return this.notify("viewport"),this},"pan"),panBy:o(function(e,t){var r=arguments,n=this._private.pan,i,a,s,l,u;if(!this._private.panningEnabled)return this;switch(r.length){case 1:Zn(e)&&(s=r[0],l=s.x,u=s.y,hr(l)&&(n.x+=l),hr(u)&&(n.y+=u),this.emit("pan viewport"));break;case 2:i=e,a=t,(i==="x"||i==="y")&&hr(a)&&(n[i]+=a),this.emit("pan viewport");break}return this.notify("viewport"),this},"panBy"),fit:o(function(e,t){var r=this.getFitViewport(e,t);if(r){var n=this._private;n.zoom=r.zoom,n.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},"fit"),getFitViewport:o(function(e,t){if(hr(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(Ur(e)){var n=e;e=this.$(n)}else if(jNe(e)){var i=e;r={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else Nl(e)||(e=this.mutableElements());if(!(Nl(e)&&e.empty())){r=r||e.boundingBox();var a=this.width(),s=this.height(),l;if(t=hr(t)?t:0,!isNaN(a)&&!isNaN(s)&&a>0&&s>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){l=Math.min((a-2*t)/r.w,(s-2*t)/r.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(a-l*(r.x1+r.x2))/2,y:(s-l*(r.y1+r.y2))/2};return{zoom:l,pan:u}}}}},"getFitViewport"),zoomRange:o(function(e,t){var r=this._private;if(t==null){var n=e;e=n.min,t=n.max}return hr(e)&&hr(t)&&e<=t?(r.minZoom=e,r.maxZoom=t):hr(e)&&t===void 0&&e<=r.maxZoom?r.minZoom=e:hr(t)&&e===void 0&&t>=r.minZoom&&(r.maxZoom=t),this},"zoomRange"),minZoom:o(function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},"minZoom"),maxZoom:o(function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},"maxZoom"),getZoomedViewport:o(function(e){var t=this._private,r=t.pan,n=t.zoom,i,a,s=!1;if(t.zoomingEnabled||(s=!0),hr(e)?a=e:Zn(e)&&(a=e.level,e.position!=null?i=gb(e.position,n,r):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!t.panningEnabled&&(s=!0)),a=a>t.maxZoom?t.maxZoom:a,a=a<t.minZoom?t.minZoom:a,s||!hr(a)||a===n||i!=null&&(!hr(i.x)||!hr(i.y)))return null;if(i!=null){var l=r,u=n,h=a,d={x:-h/u*(i.x-l.x)+i.x,y:-h/u*(i.y-l.y)+i.y};return{zoomed:!0,panned:!0,zoom:h,pan:d}}else return{zoomed:!0,panned:!1,zoom:a,pan:r}},"getZoomedViewport"),zoom:o(function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),r=this._private;return t==null||!t.zoomed?this:(r.zoom=t.zoom,t.panned&&(r.pan.x=t.pan.x,r.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},"zoom"),viewport:o(function(e){var t=this._private,r=!0,n=!0,i=[],a=!1,s=!1;if(!e)return this;if(hr(e.zoom)||(r=!1),Zn(e.pan)||(n=!1),!r&&!n)return this;if(r){var l=e.zoom;l<t.minZoom||l>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=l,i.push("zoom"))}if(n&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var u=e.pan;hr(u.x)&&(t.pan.x=u.x,s=!1),hr(u.y)&&(t.pan.y=u.y,s=!1),s||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},"viewport"),center:o(function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},"center"),getCenterPan:o(function(e,t){if(this._private.panningEnabled){if(Ur(e)){var r=e;e=this.mutableElements().filter(r)}else Nl(e)||(e=this.mutableElements());if(e.length!==0){var n=e.boundingBox(),i=this.width(),a=this.height();t=t===void 0?this._private.zoom:t;var s={x:(i-t*(n.x1+n.x2))/2,y:(a-t*(n.y1+n.y2))/2};return s}}},"getCenterPan"),reset:o(function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},"reset"),invalidateSize:o(function(){this._private.sizeCache=null},"invalidateSize"),size:o(function(){var e=this._private,t=e.container,r=this;return e.sizeCache=e.sizeCache||(t?function(){var n=r.window().getComputedStyle(t),i=o(function(a){return parseFloat(n.getPropertyValue(a))},"val");return{width:t.clientWidth-i("padding-left")-i("padding-right"),height:t.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},"size"),width:o(function(){return this.size().width},"width"),height:o(function(){return this.size().height},"height"),extent:o(function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),n={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},"extent"),renderedExtent:o(function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},"renderedExtent"),multiClickDebounceTime:o(function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this},"multiClickDebounceTime")},_1.centre=_1.center,_1.autolockNodes=_1.autolock,_1.autoungrabifyNodes=_1.autoungrabify,cy={data:gi.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:gi.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:gi.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:gi.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})},cy.attr=cy.data,cy.removeAttr=cy.removeData,uy=o(function(e){var t=this;e=nn({},e);var r=e.container;r&&!sb(r)&&sb(r[0])&&(r=r[0]);var n=r?r._cyreg:null;n=n||{},n&&n.cy&&(n.cy.destroy(),n={});var i=n.readies=n.readies||[];r&&(r._cyreg=n),n.cy=t;var a=ns!==void 0&&r!==void 0&&!e.headless,s=e;s.layout=nn({name:a?"grid":"null"},s.layout),s.renderer=nn({name:a?"canvas":"null"},s.renderer);var l=o(function(f,g,m){return g!==void 0?g:m!==void 0?m:f},"defVal"),u=this._private={container:r,ready:!1,options:s,elements:new zs(this),listeners:[],aniEles:new zs(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?a:s.styleEnabled,zoom:hr(s.zoom)?s.zoom:1,pan:{x:Zn(s.pan)&&hr(s.pan.x)?s.pan.x:0,y:Zn(s.pan)&&hr(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var h=o(function(f,g){var m=f.some(HNe);if(m)return Ag.all(f).then(g);g(f)},"loadExtData");u.styleEnabled&&t.setStyle([]);var d=nn({},s,s.renderer);t.initRenderer(d);var p=o(function(f,g,m){t.notifications(!1);var y=t.mutableElements();y.length>0&&y.remove(),f!=null&&(Zn(f)||Di(f))&&t.add(f),t.one("layoutready",function(v){t.notifications(!0),t.emit(v),t.one("load",g),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",m),t.emit("done")});var b=nn({},t._private.options.layout);b.eles=t.elements(),t.layout(b).run()},"setElesAndLayout");h([s.style,s.elements],function(f){var g=f[0],m=f[1];u.styleEnabled&&t.style().append(g),p(m,function(){t.startAnimationLoop(),u.ready=!0,ia(s.ready)&&t.on("ready",s.ready);for(var y=0;y<i.length;y++){var b=i[y];t.on("ready",b)}n&&(n.readies=[]),t.emit("ready")},s.done)})},"Core"),Yb=uy.prototype,nn(Yb,{instanceString:o(function(){return"core"},"instanceString"),isReady:o(function(){return this._private.ready},"isReady"),destroyed:o(function(){return this._private.destroyed},"destroyed"),ready:o(function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},"ready"),destroy:o(function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},"destroy"),hasElementWithId:o(function(e){return this._private.elements.hasElementWithId(e)},"hasElementWithId"),getElementById:o(function(e){return this._private.elements.getElementById(e)},"getElementById"),hasCompoundNodes:o(function(){return this._private.hasCompoundNodes},"hasCompoundNodes"),headless:o(function(){return this._private.renderer.isHeadless()},"headless"),styleEnabled:o(function(){return this._private.styleEnabled},"styleEnabled"),addToPool:o(function(e){return this._private.elements.merge(e),this},"addToPool"),removeFromPool:o(function(e){return this._private.elements.unmerge(e),this},"removeFromPool"),container:o(function(){return this._private.container||null},"container"),window:o(function(){var e=this._private.container;if(e==null)return ns;var t=this._private.container.ownerDocument;return t===void 0||t==null?ns:t.defaultView||ns},"window"),mount:o(function(e){if(e!=null){var t=this,r=t._private,n=r.options;return!sb(e)&&sb(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),r.container=e,r.styleEnabled=!0,t.invalidateSize(),t.initRenderer(nn({},n,n.renderer,{name:n.renderer.name==="null"?"canvas":n.renderer.name})),t.startAnimationLoop(),t.style(n.style),t.emit("mount"),t}},"mount"),unmount:o(function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},"unmount"),options:o(function(){return ku(this._private.options)},"options"),json:o(function(e){var t=this,r=t._private,n=t.mutableElements(),i=o(function(x){return t.getElementById(x.id())},"getFreshRef");if(Zn(e)){if(t.startBatch(),e.elements){var a={},s=o(function(x,w){for(var E=[],A=[],N=0;N<x.length;N++){var L=x[N];if(!L.data.id){pi("cy.json() cannot handle elements without an ID attribute");continue}var C=""+L.data.id,D=t.getElementById(C);a[C]=!0,D.length!==0?A.push({ele:D,json:L}):(w&&(L.group=w),E.push(L))}t.add(E);for(var P=0;P<A.length;P++){var O=A[P],I=O.ele,q=O.json;I.json(q)}},"updateEles");if(Di(e.elements))s(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var h=l[u],d=e.elements[h];Di(d)&&s(d,h)}var p=t.collection();n.filter(function(x){return!a[x.id()]}).forEach(function(x){x.isParent()?p.merge(x):x.remove()}),p.forEach(function(x){return x.children().move({parent:null})}),p.forEach(function(x){return i(x).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==r.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==r.pan.x||e.pan.y!==r.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var f=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],g=0;g<f.length;g++){var m=f[g];e[m]!=null&&t[m](e[m])}return t.endBatch(),this}else{var y=!!e,b={};y?b.elements=this.elements().map(function(x){return x.json()}):(b.elements={},n.forEach(function(x){var w=x.group();b.elements[w]||(b.elements[w]=[]),b.elements[w].push(x.json())})),this._private.styleEnabled&&(b.style=t.style().json()),b.data=ku(t.data());var v=r.options;return b.zoomingEnabled=r.zoomingEnabled,b.userZoomingEnabled=r.userZoomingEnabled,b.zoom=r.zoom,b.minZoom=r.minZoom,b.maxZoom=r.maxZoom,b.panningEnabled=r.panningEnabled,b.userPanningEnabled=r.userPanningEnabled,b.pan=ku(r.pan),b.boxSelectionEnabled=r.boxSelectionEnabled,b.renderer=ku(v.renderer),b.hideEdgesOnViewport=v.hideEdgesOnViewport,b.textureOnViewport=v.textureOnViewport,b.wheelSensitivity=v.wheelSensitivity,b.motionBlur=v.motionBlur,b.multiClickDebounceTime=v.multiClickDebounceTime,b}},"json")}),Yb.$id=Yb.getElementById,[OOe,BOe,tj,YE,$b,$Oe,jE,zb,GOe,_1,cy].forEach(function(e){nn(Yb,e)}),jOe={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(e,t){return t},"transform")},HOe={maximal:!1,acyclic:!1},Ig=o(function(e){return e.scratch("breadthfirst")},"getInfo"),rj=o(function(e,t){return e.scratch("breadthfirst",t)},"setInfo"),o(iG,"BreadthFirstLayout"),iG.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=n.nodes().filter(function(se){return!se.isParent()}),a=n,s=t.directed,l=t.acyclic||t.maximal||t.maximalAdjustments>0,u=nl(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),h;if(Nl(t.roots))h=t.roots;else if(Di(t.roots)){for(var d=[],p=0;p<t.roots.length;p++){var f=t.roots[p],g=r.getElementById(f);d.push(g)}h=r.collection(d)}else if(Ur(t.roots))h=r.$(t.roots);else if(s)h=i.roots();else{var m=n.components();h=r.collection();for(var y=o(function(se){var je=m[se],ge=je.maxDegree(!1),rt=je.filter(function(Qe){return Qe.degree(!1)===ge});h=h.add(rt)},"_loop"),b=0;b<m.length;b++)y(b)}var v=[],x={},w=o(function(se,je){v[je]==null&&(v[je]=[]);var ge=v[je].length;v[je].push(se),rj(se,{index:ge,depth:je})},"addToDepth"),E=o(function(se,je){var ge=Ig(se),rt=ge.depth,Qe=ge.index;v[rt][Qe]=null,w(se,je)},"changeDepth");a.bfs({roots:h,directed:t.directed,visit:o(function(se,je,ge,rt,Qe){var tt=se[0],mt=tt.id();w(tt,Qe),x[mt]=!0},"visit")});for(var A=[],N=0;N<i.length;N++){var L=i[N];x[L.id()]||A.push(L)}var C=o(function(se){for(var je=v[se],ge=0;ge<je.length;ge++){var rt=je[ge];if(rt==null){je.splice(ge,1),ge--;continue}rj(rt,{depth:se,index:ge})}},"assignDepthsAt"),D=o(function(){for(var se=0;se<v.length;se++)C(se)},"assignDepths"),P=o(function(se,je){for(var ge=Ig(se),rt=se.incomers().filter(function(te){return te.isNode()&&n.has(te)}),Qe=-1,tt=se.id(),mt=0;mt<rt.length;mt++){var yt=rt[mt],Nt=Ig(yt);Qe=Math.max(Qe,Nt.depth)}if(ge.depth<=Qe){if(!t.acyclic&&je[tt])return null;var kt=Qe+1;return E(se,kt),je[tt]=kt,!0}return!1},"adjustMaximally");if(s&&l){var O=[],I={},q=o(function(se){return O.push(se)},"enqueue"),S=o(function(){return O.shift()},"dequeue");for(i.forEach(function(se){return O.push(se)});O.length>0;){var B=S(),F=P(B,I);if(F)B.outgoers().filter(function(se){return se.isNode()&&n.has(se)}).forEach(q);else if(F===null){pi("Detected double maximal shift for node `"+B.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}D();var z=0;if(t.avoidOverlap)for(var M=0;M<i.length;M++){var G=i[M],Y=G.layoutDimensions(t),V=Y.w,X=Y.h;z=Math.max(z,V,X)}var re={},de=o(function(se){if(re[se.id()])return re[se.id()];for(var je=Ig(se).depth,ge=se.neighborhood(),rt=0,Qe=0,tt=0;tt<ge.length;tt++){var mt=ge[tt];if(!(mt.isEdge()||mt.isParent()||!i.has(mt))){var yt=Ig(mt);if(yt!=null){var Nt=yt.index,kt=yt.depth;if(!(Nt==null||kt==null)){var te=v[kt].length;kt<je&&(rt+=Nt/te,Qe++)}}}}return Qe=Math.max(1,Qe),rt=rt/Qe,Qe===0&&(rt=0),re[se.id()]=rt,rt},"getWeightedPercent"),xe=o(function(se,je){var ge=de(se),rt=de(je),Qe=ge-rt;return Qe===0?CG(se.id(),je.id()):Qe},"sortFn");t.depthSort!==void 0&&(xe=t.depthSort);for(var he=0;he<v.length;he++)v[he].sort(xe),C(he);for(var be=[],Q=0;Q<A.length;Q++)be.push(A[Q]);v.unshift(be),D();for(var ne=0,ee=0;ee<v.length;ee++)ne=Math.max(v[ee].length,ne);var pe={x:u.x1+u.w/2,y:u.x1+u.h/2},ie=v.reduce(function(se,je){return Math.max(se,je.length)},0),De=o(function(se){var je=Ig(se),ge=je.depth,rt=je.index,Qe=v[ge].length,tt=Math.max(u.w/((t.grid?ie:Qe)+1),z),mt=Math.max(u.h/(v.length+1),z),yt=Math.min(u.w/2/v.length,u.h/2/v.length);if(yt=Math.max(yt,z),t.circle){var Nt=yt*ge+yt-(v.length>0&&v[0].length<=3?yt/2:0),kt=2*Math.PI/v[ge].length*rt;return ge===0&&v[0].length===1&&(Nt=1),{x:pe.x+Nt*Math.cos(kt),y:pe.y+Nt*Math.sin(kt)}}else{var te={x:pe.x+(rt+1-(Qe+1)/2)*tt,y:(ge+1)*mt};return te}},"getPosition");return n.nodes().layoutPositions(this,t,De),this},UOe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(e,t){return t},"transform")},o(aG,"CircleLayout"),aG.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,a=n.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var s=nl(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=t.sweep===void 0?2*Math.PI-2*Math.PI/a.length:t.sweep,h=u/Math.max(1,a.length-1),d,p=0,f=0;f<a.length;f++){var g=a[f],m=g.layoutDimensions(t),y=m.w,b=m.h;p=Math.max(p,y,b)}if(hr(t.radius)?d=t.radius:a.length<=1?d=0:d=Math.min(s.h,s.w)/2-p,a.length>1&&t.avoidOverlap){p*=1.75;var v=Math.cos(h)-Math.cos(0),x=Math.sin(h)-Math.sin(0),w=Math.sqrt(p*p/(v*v+x*x));d=Math.max(w,d)}var E=o(function(A,N){var L=t.startAngle+N*h*(i?1:-1),C=d*Math.cos(L),D=d*Math.sin(L),P={x:l.x+C,y:l.y+D};return P},"getPos");return n.nodes().layoutPositions(this,t,E),this},VOe={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:o(function(e){return e.degree()},"concentric"),levelWidth:o(function(e){return e.maxDegree()/4},"levelWidth"),animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(e,t){return t},"transform")},o(sG,"ConcentricLayout"),sG.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,n=e.cy,i=t.eles,a=i.nodes().not(":parent"),s=nl(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=[],h=0,d=0;d<a.length;d++){var p=a[d],f=void 0;f=t.concentric(p),u.push({value:f,node:p}),p._private.scratch.concentric=f}a.updateStyle();for(var g=0;g<a.length;g++){var m=a[g],y=m.layoutDimensions(t);h=Math.max(h,y.w,y.h)}u.sort(function(se,je){return je.value-se.value});for(var b=t.levelWidth(a),v=[[]],x=v[0],w=0;w<u.length;w++){var E=u[w];if(x.length>0){var A=Math.abs(x[0].value-E.value);A>=b&&(x=[],v.push(x))}x.push(E)}var N=h+t.minNodeSpacing;if(!t.avoidOverlap){var L=v.length>0&&v[0].length>1,C=Math.min(s.w,s.h)/2-N,D=C/(v.length+L?1:0);N=Math.min(N,D)}for(var P=0,O=0;O<v.length;O++){var I=v[O],q=t.sweep===void 0?2*Math.PI-2*Math.PI/I.length:t.sweep,S=I.dTheta=q/Math.max(1,I.length-1);if(I.length>1&&t.avoidOverlap){var B=Math.cos(S)-Math.cos(0),F=Math.sin(S)-Math.sin(0),z=Math.sqrt(N*N/(B*B+F*F));P=Math.max(z,P)}I.r=P,P+=N}if(t.equidistant){for(var M=0,G=0,Y=0;Y<v.length;Y++){var V=v[Y],X=V.r-G;M=Math.max(M,X)}G=0;for(var re=0;re<v.length;re++){var de=v[re];re===0&&(G=de.r),de.r=G,G+=M}}for(var xe={},he=0;he<v.length;he++)for(var be=v[he],Q=be.dTheta,ne=be.r,ee=0;ee<be.length;ee++){var pe=be[ee],ie=t.startAngle+(r?1:-1)*Q*ee,De={x:l.x+ne*Math.cos(ie),y:l.y+ne*Math.sin(ie)};xe[pe.node.id()]=De}return i.nodes().layoutPositions(this,t,function(se){var je=se.id();return xe[je]}),this},WOe={ready:o(function(){},"ready"),stop:o(function(){},"stop"),animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:o(function(e,t){return!0},"animateFilter"),animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:o(function(e){return 2048},"nodeRepulsion"),nodeOverlap:4,idealEdgeLength:o(function(e){return 32},"idealEdgeLength"),edgeElasticity:o(function(e){return 32},"edgeElasticity"),nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1},o(ab,"CoseLayout"),ab.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,(e.animate===!0||e.animate===!1)&&r.emit({type:"layoutstart",layout:r}),e.debug===!0?nj=!0:nj=!1;var n=XOe(t,r,e);nj&&wet(n),e.randomize&&QOe(n);var i=bh(),a=o(function(){JOe(n,t,e),e.fit===!0&&t.fit(e.padding)},"refresh"),s=o(function(p){return!(r.stopped||p>=e.numIter||(ePe(n,e),n.temperature=n.temperature*e.coolingFactor,n.temperature<e.minTemp))},"mainLoop"),l=o(function(){if(e.animate===!0||e.animate===!1)a(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var p=e.eles.nodes(),f=ij(n,e,p);p.layoutPositions(r,e,f)}},"done"),u=0,h=!0;if(e.animate===!0){var d=o(function p(){for(var f=0;h&&f<e.refresh;)h=s(u),u++,f++;if(!h)sj(n,e),l();else{var g=bh();g-i>=e.animationThreshold&&a(),ub(p)}},"frame");d()}else{for(;h;)h=s(u),u++;sj(n,e),l()}return this},ab.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},ab.prototype.destroy=function(){return this.thread&&this.thread.stop(),this},XOe=o(function(e,t,r){for(var n=r.eles.edges(),i=r.eles.nodes(),a=nl(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:r.initialTemp,clientWidth:a.w,clientHeight:a.h,boundingBox:a},l=r.eles.components(),u={},h=0;h<l.length;h++)for(var d=l[h],p=0;p<d.length;p++){var f=d[p];u[f.id()]=h}for(var h=0;h<s.nodeSize;h++){var g=i[h],m=g.layoutDimensions(r),y={};y.isLocked=g.locked(),y.id=g.data("id"),y.parentId=g.data("parent"),y.cmptId=u[g.id()],y.children=[],y.positionX=g.position("x"),y.positionY=g.position("y"),y.offsetX=0,y.offsetY=0,y.height=m.w,y.width=m.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(g.style("padding")),y.padRight=parseFloat(g.style("padding")),y.padTop=parseFloat(g.style("padding")),y.padBottom=parseFloat(g.style("padding")),y.nodeRepulsion=ia(r.nodeRepulsion)?r.nodeRepulsion(g):r.nodeRepulsion,s.layoutNodes.push(y),s.idToIndex[y.id]=h}for(var b=[],v=0,x=-1,w=[],h=0;h<s.nodeSize;h++){var g=s.layoutNodes[h],E=g.parentId;E!=null?s.layoutNodes[s.idToIndex[E]].children.push(g.id):(b[++x]=g.id,w.push(g.id))}for(s.graphSet.push(w);v<=x;){var A=b[v++],N=s.idToIndex[A],f=s.layoutNodes[N],L=f.children;if(L.length>0){s.graphSet.push(L);for(var h=0;h<L.length;h++)b[++x]=L[h]}}for(var h=0;h<s.graphSet.length;h++)for(var C=s.graphSet[h],p=0;p<C.length;p++){var D=s.idToIndex[C[p]];s.indexToGraph[D]=h}for(var h=0;h<s.edgeSize;h++){var P=n[h],O={};O.id=P.data("id"),O.sourceId=P.data("source"),O.targetId=P.data("target");var I=ia(r.idealEdgeLength)?r.idealEdgeLength(P):r.idealEdgeLength,q=ia(r.edgeElasticity)?r.edgeElasticity(P):r.edgeElasticity,S=s.idToIndex[O.sourceId],B=s.idToIndex[O.targetId],F=s.indexToGraph[S],z=s.indexToGraph[B];if(F!=z){for(var M=KOe(O.sourceId,O.targetId,s),G=s.graphSet[M],Y=0,y=s.layoutNodes[S];G.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],Y++;for(y=s.layoutNodes[B];G.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],Y++;I*=Y*r.nestingFactor}O.idealLength=I,O.elasticity=q,s.layoutEdges.push(O)}return s},"createLayoutInfo"),KOe=o(function(e,t,r){var n=ZOe(e,t,0,r);return 2>n.count?0:n.graph},"findLCA"),ZOe=o(function e(t,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(t)&&-1<a.indexOf(r))return{count:2,graph:n};for(var s=0,l=0;l<a.length;l++){var u=a[l],h=i.idToIndex[u],d=i.layoutNodes[h].children;if(d.length!==0){var p=i.indexToGraph[i.idToIndex[d[0]]],f=e(t,r,p,i);if(f.count!==0)if(f.count===1){if(s++,s===2)break}else return f}}return{count:s,graph:n}},"findLCA_aux"),QOe=o(function(e,t){for(var r=e.clientWidth,n=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];a.children.length===0&&!a.isLocked&&(a.positionX=Math.random()*r,a.positionY=Math.random()*n)}},"randomizePositions"),ij=o(function(e,t,r){var n=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(r.forEach(function(a){var s=e.layoutNodes[e.idToIndex[a.data("id")]];i.x1=Math.min(i.x1,s.positionX),i.x2=Math.max(i.x2,s.positionX),i.y1=Math.min(i.y1,s.positionY),i.y2=Math.max(i.y2,s.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(a,s){var l=e.layoutNodes[e.idToIndex[a.data("id")]];if(t.boundingBox){var u=(l.positionX-i.x1)/i.w,h=(l.positionY-i.y1)/i.h;return{x:n.x1+u*n.w,y:n.y1+h*n.h}}else return{x:l.positionX,y:l.positionY}}},"getScaleInBoundsFn"),JOe=o(function(e,t,r){var n=r.layout,i=r.eles.nodes(),a=ij(e,r,i);i.positions(a),e.ready!==!0&&(e.ready=!0,n.one("layoutready",r.ready),n.emit({type:"layoutready",layout:this}))},"refreshPositions"),ePe=o(function(e,t,r){tPe(e,t),iPe(e),aPe(e,t),sPe(e),oPe(e)},"step"),tPe=o(function(e,t){for(var r=0;r<e.graphSet.length;r++)for(var n=e.graphSet[r],i=n.length,a=0;a<i;a++)for(var s=e.layoutNodes[e.idToIndex[n[a]]],l=a+1;l<i;l++){var u=e.layoutNodes[e.idToIndex[n[l]]];rPe(s,u,e,t)}},"calculateNodeForces"),aj=o(function(e){return-e+2*e*Math.random()},"randomDistance"),rPe=o(function(e,t,r,n){var i=e.cmptId,a=t.cmptId;if(!(i!==a&&!r.isCompound)){var s=t.positionX-e.positionX,l=t.positionY-e.positionY,u=1;s===0&&l===0&&(s=aj(u),l=aj(u));var h=nPe(e,t,s,l);if(h>0)var b=n.nodeOverlap*h,y=Math.sqrt(s*s+l*l),v=b*s/y,x=b*l/y;else var d=jb(e,s,l),p=jb(t,-1*s,-1*l),f=p.x-d.x,g=p.y-d.y,m=f*f+g*g,y=Math.sqrt(m),b=(e.nodeRepulsion+t.nodeRepulsion)/m,v=b*f/y,x=b*g/y;e.isLocked||(e.offsetX-=v,e.offsetY-=x),t.isLocked||(t.offsetX+=v,t.offsetY+=x)}},"nodeRepulsion"),nPe=o(function(e,t,r,n){if(r>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(n>0)var a=e.maxY-t.minY;else var a=t.maxY-e.minY;return i>=0&&a>=0?Math.sqrt(i*i+a*a):0},"nodesOverlap"),jb=o(function(e,t,r){var n=e.positionX,i=e.positionY,a=e.height||1,s=e.width||1,l=r/t,u=a/s,h={};return t===0&&0<r||t===0&&0>r?(h.x=n,h.y=i+a/2,h):0<t&&-1*u<=l&&l<=u?(h.x=n+s/2,h.y=i+s*r/2/t,h):0>t&&-1*u<=l&&l<=u?(h.x=n-s/2,h.y=i-s*r/2/t,h):0<r&&(l<=-1*u||l>=u)?(h.x=n+a*t/2/r,h.y=i+a/2,h):(0>r&&(l<=-1*u||l>=u)&&(h.x=n-a*t/2/r,h.y=i-a/2),h)},"findClippingPoint"),iPe=o(function(e,t){for(var r=0;r<e.edgeSize;r++){var n=e.layoutEdges[r],i=e.idToIndex[n.sourceId],a=e.layoutNodes[i],s=e.idToIndex[n.targetId],l=e.layoutNodes[s],u=l.positionX-a.positionX,h=l.positionY-a.positionY;if(!(u===0&&h===0)){var d=jb(a,u,h),p=jb(l,-1*u,-1*h),f=p.x-d.x,g=p.y-d.y,m=Math.sqrt(f*f+g*g),y=Math.pow(n.idealLength-m,2)/n.elasticity;if(m!==0)var b=y*f/m,v=y*g/m;else var b=0,v=0;a.isLocked||(a.offsetX+=b,a.offsetY+=v),l.isLocked||(l.offsetX-=b,l.offsetY-=v)}}},"calculateEdgeForces"),aPe=o(function(e,t){if(t.gravity!==0)for(var r=1,n=0;n<e.graphSet.length;n++){var i=e.graphSet[n],a=i.length;if(n===0)var u=e.clientHeight/2,h=e.clientWidth/2;else var s=e.layoutNodes[e.idToIndex[i[0]]],l=e.layoutNodes[e.idToIndex[s.parentId]],u=l.positionX,h=l.positionY;for(var d=0;d<a;d++){var p=e.layoutNodes[e.idToIndex[i[d]]];if(!p.isLocked){var f=u-p.positionX,g=h-p.positionY,m=Math.sqrt(f*f+g*g);if(m>r){var y=t.gravity*f/m,b=t.gravity*g/m;p.offsetX+=y,p.offsetY+=b}}}}},"calculateGravityForces"),sPe=o(function(e,t){var r=[],n=0,i=-1;for(r.push.apply(r,e.graphSet[0]),i+=e.graphSet[0].length;n<=i;){var a=r[n++],s=e.idToIndex[a],l=e.layoutNodes[s],u=l.children;if(0<u.length&&!l.isLocked){for(var h=l.offsetX,d=l.offsetY,p=0;p<u.length;p++){var f=e.layoutNodes[e.idToIndex[u[p]]];f.offsetX+=h,f.offsetY+=d,r[++i]=u[p]}l.offsetX=0,l.offsetY=0}}},"propagateForces"),oPe=o(function(e,t){for(var r=0;r<e.nodeSize;r++){var n=e.layoutNodes[r];0<n.children.length&&(n.maxX=void 0,n.minX=void 0,n.maxY=void 0,n.minY=void 0)}for(var r=0;r<e.nodeSize;r++){var n=e.layoutNodes[r];if(!(0<n.children.length||n.isLocked)){var i=lPe(n.offsetX,n.offsetY,e.temperature);n.positionX+=i.x,n.positionY+=i.y,n.offsetX=0,n.offsetY=0,n.minX=n.positionX-n.width,n.maxX=n.positionX+n.width,n.minY=n.positionY-n.height,n.maxY=n.positionY+n.height,cPe(n,e)}}for(var r=0;r<e.nodeSize;r++){var n=e.layoutNodes[r];0<n.children.length&&!n.isLocked&&(n.positionX=(n.maxX+n.minX)/2,n.positionY=(n.maxY+n.minY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY)}},"updatePositions"),lPe=o(function(e,t,r){var n=Math.sqrt(e*e+t*t);if(n>r)var i={x:r*e/n,y:r*t/n};else var i={x:e,y:t};return i},"limitForce"),cPe=o(function e(t,r){var n=t.parentId;if(n!=null){var i=r.layoutNodes[r.idToIndex[n]],a=!1;if((i.maxX==null||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,a=!0),(i.minX==null||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,a=!0),(i.maxY==null||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,a=!0),(i.minY==null||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,a=!0),a)return e(i,r)}},"updateAncestryBoundaries"),sj=o(function(e,t){for(var r=e.layoutNodes,n=[],i=0;i<r.length;i++){var a=r[i],s=a.cmptId,l=n[s]=n[s]||[];l.push(a)}for(var u=0,i=0;i<n.length;i++){var h=n[i];if(h){h.x1=1/0,h.x2=-1/0,h.y1=1/0,h.y2=-1/0;for(var d=0;d<h.length;d++){var p=h[d];h.x1=Math.min(h.x1,p.positionX-p.width/2),h.x2=Math.max(h.x2,p.positionX+p.width/2),h.y1=Math.min(h.y1,p.positionY-p.height/2),h.y2=Math.max(h.y2,p.positionY+p.height/2)}h.w=h.x2-h.x1,h.h=h.y2-h.y1,u+=h.w*h.h}}n.sort(function(v,x){return x.w*x.h-v.w*v.h});for(var f=0,g=0,m=0,y=0,b=Math.sqrt(u)*e.clientWidth/e.clientHeight,i=0;i<n.length;i++){var h=n[i];if(h){for(var d=0;d<h.length;d++){var p=h[d];p.isLocked||(p.positionX+=f-h.x1,p.positionY+=g-h.y1)}f+=h.w+t.componentSpacing,m+=h.w+t.componentSpacing,y=Math.max(y,h.h),m>b&&(g+=y+t.componentSpacing,f=0,m=0,y=0)}}},"separateComponents"),uPe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:o(function(e){},"position"),sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(e,t){return t},"transform")},o(oG,"GridLayout"),oG.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var a=nl(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)n.nodes().layoutPositions(this,t,function(re){return{x:a.x1,y:a.y1}});else{var s=i.size(),l=Math.sqrt(s*a.h/a.w),u=Math.round(l),h=Math.round(a.w/a.h*l),d=o(function(re){if(re==null)return Math.min(u,h);var de=Math.min(u,h);de==u?u=re:h=re},"small"),p=o(function(re){if(re==null)return Math.max(u,h);var de=Math.max(u,h);de==u?u=re:h=re},"large"),f=t.rows,g=t.cols!=null?t.cols:t.columns;if(f!=null&&g!=null)u=f,h=g;else if(f!=null&&g==null)u=f,h=Math.ceil(s/u);else if(f==null&&g!=null)h=g,u=Math.ceil(s/h);else if(h*u>s){var m=d(),y=p();(m-1)*y>=s?d(m-1):(y-1)*m>=s&&p(y-1)}else for(;h*u<s;){var b=d(),v=p();(v+1)*b>=s?p(v+1):d(b+1)}var x=a.w/h,w=a.h/u;if(t.condense&&(x=0,w=0),t.avoidOverlap)for(var E=0;E<i.length;E++){var A=i[E],N=A._private.position;(N.x==null||N.y==null)&&(N.x=0,N.y=0);var L=A.layoutDimensions(t),C=t.avoidOverlapPadding,D=L.w+C,P=L.h+C;x=Math.max(x,D),w=Math.max(w,P)}for(var O={},I=o(function(re,de){return!!O["c-"+re+"-"+de]},"used"),q=o(function(re,de){O["c-"+re+"-"+de]=!0},"use"),S=0,B=0,F=o(function(){B++,B>=h&&(B=0,S++)},"moveToNextCell"),z={},M=0;M<i.length;M++){var G=i[M],Y=t.position(G);if(Y&&(Y.row!==void 0||Y.col!==void 0)){var V={row:Y.row,col:Y.col};if(V.col===void 0)for(V.col=0;I(V.row,V.col);)V.col++;else if(V.row===void 0)for(V.row=0;I(V.row,V.col);)V.row++;z[G.id()]=V,q(V.row,V.col)}}var X=o(function(re,de){var xe,he;if(re.locked()||re.isParent())return!1;var be=z[re.id()];if(be)xe=be.col*x+x/2+a.x1,he=be.row*w+w/2+a.y1;else{for(;I(S,B);)F();xe=B*x+x/2+a.x1,he=S*w+w/2+a.y1,q(S,B),F()}return{x:xe,y:he}},"getPos");i.layoutPositions(this,t,X)}return this},hPe={ready:o(function(){},"ready"),stop:o(function(){},"stop")},o(fE,"NullLayout"),fE.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this},fE.prototype.stop=function(){return this},dPe={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(e,t){return t},"transform")},o(lG,"PresetLayout"),lG.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),n=ia(e.positions);function i(a){if(e.positions==null)return aIe(a.position());if(n)return e.positions(a);var s=e.positions[a._private.data.id];return s??null}return o(i,"getPosition"),r.layoutPositions(this,e,function(a,s){var l=i(a);return a.locked()||l==null?!1:l}),this},pPe={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:o(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:o(function(e,t){return t},"transform")},o(cG,"RandomLayout"),cG.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=nl(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),i=o(function(a,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}},"getPos");return r.nodes().layoutPositions(this,e,i),this},gPe=[{name:"breadthfirst",impl:iG},{name:"circle",impl:aG},{name:"concentric",impl:sG},{name:"cose",impl:ab},{name:"grid",impl:oG},{name:"null",impl:fE},{name:"preset",impl:lG},{name:"random",impl:cG}],o(uG,"NullRenderer"),oj=o(function(){},"noop"),lj=o(function(){throw new Error("A headless instance can not render images")},"throwImgErr"),uG.prototype={recalculateRenderedStyle:oj,notify:o(function(){this.notifications++},"notify"),init:oj,isHeadless:o(function(){return!0},"isHeadless"),png:lj,jpg:lj},VE={},VE.arrowShapeWidth=.3,VE.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=o(function(u,h,d,p,f,g,m){var y=f.x-d/2-m,b=f.x+d/2+m,v=f.y-d/2-m,x=f.y+d/2+m,w=y<=u&&u<=b&&v<=h&&h<=x;return w},"bbCollide"),n=o(function(u,h,d,p,f){var g=u*Math.cos(p)-h*Math.sin(p),m=u*Math.sin(p)+h*Math.cos(p),y=g*d,b=m*d,v=y+f.x,x=b+f.y;return{x:v,y:x}},"transform"),i=o(function(u,h,d,p){for(var f=[],g=0;g<u.length;g+=2){var m=u[g],y=u[g+1];f.push(n(m,y,h,d,p))}return f},"transformPoints"),a=o(function(u){for(var h=[],d=0;d<u.length;d++){var p=u[d];h.push(p.x,p.y)}return h},"pointsToArr"),s=o(function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},"standardGap"),l=o(function(u,h){Ur(h)&&(h=e[h]),e[u]=nn({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:o(function(d,p,f,g,m,y){var b=a(i(this.points,f+2*y,g,m)),v=il(d,p,b);return v},"collide"),roughCollide:r,draw:o(function(d,p,f,g){var m=i(this.points,p,f,g);t.arrowShapeImpl("polygon")(d,m)},"draw"),spacing:o(function(d){return 0},"spacing"),gap:s},h)},"defineArrowShape");l("none",{collide:db,roughCollide:db,draw:TE,spacing:$G,gap:$G}),l("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),l("arrow","triangle"),l("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:o(function(u,h,d,p,f){var g=i(this.points,h,d,p),m=this.controlPoint,y=n(m[0],m[1],h,d,p);t.arrowShapeImpl(this.name)(u,g,y)},"draw"),gap:o(function(u){return s(u)*.8},"gap")}),l("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:o(function(u,h,d,p,f,g,m){var y=a(i(this.points,d+2*m,p,f)),b=a(i(this.pointsTee,d+2*m,p,f)),v=il(u,h,y)||il(u,h,b);return v},"collide"),draw:o(function(u,h,d,p,f){var g=i(this.points,h,d,p),m=i(this.pointsTee,h,d,p);t.arrowShapeImpl(this.name)(u,g,m)},"draw")}),l("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:o(function(u,h,d,p,f,g,m){var y=f,b=Math.pow(y.x-u,2)+Math.pow(y.y-h,2)<=Math.pow((d+2*m)*this.radius,2),v=a(i(this.points,d+2*m,p,f));return il(u,h,v)||b},"collide"),draw:o(function(u,h,d,p,f){var g=i(this.pointsTr,h,d,p);t.arrowShapeImpl(this.name)(u,g,p.x,p.y,this.radius*h)},"draw"),spacing:o(function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius},"spacing")}),l("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:o(function(u,h){var d=this.baseCrossLinePts.slice(),p=h/u,f=3,g=5;return d[f]=d[f]-p,d[g]=d[g]-p,d},"crossLinePts"),collide:o(function(u,h,d,p,f,g,m){var y=a(i(this.points,d+2*m,p,f)),b=a(i(this.crossLinePts(d,g),d+2*m,p,f)),v=il(u,h,y)||il(u,h,b);return v},"collide"),draw:o(function(u,h,d,p,f){var g=i(this.points,h,d,p),m=i(this.crossLinePts(h,f),h,d,p);t.arrowShapeImpl(this.name)(u,g,m)},"draw")}),l("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:o(function(u){return s(u)*.525},"gap")}),l("circle",{radius:.15,collide:o(function(u,h,d,p,f,g,m){var y=f,b=Math.pow(y.x-u,2)+Math.pow(y.y-h,2)<=Math.pow((d+2*m)*this.radius,2);return b},"collide"),draw:o(function(u,h,d,p,f){t.arrowShapeImpl(this.name)(u,p.x,p.y,this.radius*h)},"draw"),spacing:o(function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius},"spacing")}),l("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:o(function(u){return 1},"spacing"),gap:o(function(u){return 1},"gap")}),l("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),l("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:o(function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value},"gap")}),l("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:o(function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value},"gap")})},S1={},S1.projectIntoViewport=function(e,t){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],s=n[4],l=r.pan(),u=r.zoom(),h=((e-i)/s-l.x)/u,d=((t-a)/s-l.y)/u;return[h,d]},S1.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),n=o(function(b){return parseFloat(r.getPropertyValue(b))},"styleValue"),i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},a={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=e.clientWidth,l=e.clientHeight,u=i.left+i.right,h=i.top+i.bottom,d=a.left+a.right,p=t.width/(s+d),f=s-u,g=l-h,m=t.left+i.left+a.left,y=t.top+i.top+a.top;return this.containerBB=[m,y,f,g,p]},S1.invalidateContainerClientCoordsCache=function(){this.containerBB=null},S1.findNearestElement=function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]},S1.findNearestElements=function(e,t,r,n){var i=this,a=this,s=a.getCachedZSortedEles(),l=[],u=a.cy.zoom(),h=a.cy.hasCompoundNodes(),d=(n?24:8)/u,p=(n?8:2)/u,f=(n?8:2)/u,g=1/0,m,y;r&&(s=s.interactive);function b(L,C){if(L.isNode()){if(y)return;y=L,l.push(L)}if(L.isEdge()&&(C==null||C<g))if(m){if(m.pstyle("z-compound-depth").value===L.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===L.pstyle("z-compound-depth").value){for(var D=0;D<l.length;D++)if(l[D].isEdge()){l[D]=L,m=L,g=C??g;break}}}else l.push(L),m=L,g=C??g}o(b,"addEle");function v(L){var C=L.outerWidth()+2*p,D=L.outerHeight()+2*p,P=C/2,O=D/2,I=L.position(),q=L.pstyle("corner-radius").value==="auto"?"auto":L.pstyle("corner-radius").pfValue,S=L._private.rscratch;if(I.x-P<=e&&e<=I.x+P&&I.y-O<=t&&t<=I.y+O){var B=a.nodeShapes[i.getNodeShape(L)];if(B.checkPoint(e,t,0,C,D,I.x,I.y,q,S))return b(L,0),!0}}o(v,"checkNode");function x(L){var C=L._private,D=C.rscratch,P=L.pstyle("width").pfValue,O=L.pstyle("arrow-scale").value,I=P/2+d,q=I*I,S=I*2,B=C.source,F=C.target,z;if(D.edgeType==="segments"||D.edgeType==="straight"||D.edgeType==="haystack"){for(var M=D.allpts,G=0;G+3<M.length;G+=2)if(vIe(e,t,M[G],M[G+1],M[G+2],M[G+3],S)&&q>(z=TIe(e,t,M[G],M[G+1],M[G+2],M[G+3])))return b(L,z),!0}else if(D.edgeType==="bezier"||D.edgeType==="multibezier"||D.edgeType==="self"||D.edgeType==="compound"){for(var M=D.allpts,G=0;G+5<D.allpts.length;G+=4)if(bIe(e,t,M[G],M[G+1],M[G+2],M[G+3],M[G+4],M[G+5],S)&&q>(z=kIe(e,t,M[G],M[G+1],M[G+2],M[G+3],M[G+4],M[G+5])))return b(L,z),!0}for(var B=B||C.source,F=F||C.target,Y=i.getArrowWidth(P,O),V=[{name:"source",x:D.arrowStartX,y:D.arrowStartY,angle:D.srcArrowAngle},{name:"target",x:D.arrowEndX,y:D.arrowEndY,angle:D.tgtArrowAngle},{name:"mid-source",x:D.midX,y:D.midY,angle:D.midsrcArrowAngle},{name:"mid-target",x:D.midX,y:D.midY,angle:D.midtgtArrowAngle}],G=0;G<V.length;G++){var X=V[G],re=a.arrowShapes[L.pstyle(X.name+"-arrow-shape").value],de=L.pstyle("width").pfValue;if(re.roughCollide(e,t,Y,X.angle,{x:X.x,y:X.y},de,d)&&re.collide(e,t,Y,X.angle,{x:X.x,y:X.y},de,d))return b(L),!0}h&&l.length>0&&(v(B),v(F))}o(x,"checkEdge");function w(L,C,D){return Pc(L,C,D)}o(w,"preprop");function E(L,C){var D=L._private,P=f,O;C?O=C+"-":O="",L.boundingBox();var I=D.labelBounds[C||"main"],q=L.pstyle(O+"label").value,S=L.pstyle("text-events").strValue==="yes";if(!(!S||!q)){var B=w(D.rscratch,"labelX",C),F=w(D.rscratch,"labelY",C),z=w(D.rscratch,"labelAngle",C),M=L.pstyle(O+"text-margin-x").pfValue,G=L.pstyle(O+"text-margin-y").pfValue,Y=I.x1-P-M,V=I.x2+P-M,X=I.y1-P-G,re=I.y2+P-G;if(z){var de=Math.cos(z),xe=Math.sin(z),he=o(function(ie,De){return ie=ie-B,De=De-F,{x:ie*de-De*xe+B,y:ie*xe+De*de+F}},"rotate"),be=he(Y,X),Q=he(Y,re),ne=he(V,X),ee=he(V,re),pe=[be.x+M,be.y+G,ne.x+M,ne.y+G,ee.x+M,ee.y+G,Q.x+M,Q.y+G];if(il(e,t,pe))return b(L),!0}else if(Eg(I,e,t))return b(L),!0}}o(E,"checkLabel");for(var A=s.length-1;A>=0;A--){var N=s[A];N.isNode()?v(N)||E(N):x(N)||E(N)||E(N,"source")||E(N,"target")}return l},S1.getAllInBox=function(e,t,r,n){var i=this.getCachedZSortedEles().interactive,a=[],s=Math.min(e,r),l=Math.max(e,r),u=Math.min(t,n),h=Math.max(t,n);e=s,r=l,t=u,n=h;for(var d=nl({x1:e,y1:t,x2:r,y2:n}),p=0;p<i.length;p++){var f=i[p];if(f.isNode()){var g=f,m=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});SE(d,m)&&!WG(m,d)&&a.push(g)}else{var y=f,b=y._private,v=b.rscratch;if(v.startX!=null&&v.startY!=null&&!Eg(d,v.startX,v.startY)||v.endX!=null&&v.endY!=null&&!Eg(d,v.endX,v.endY))continue;if(v.edgeType==="bezier"||v.edgeType==="multibezier"||v.edgeType==="self"||v.edgeType==="compound"||v.edgeType==="segments"||v.edgeType==="haystack"){for(var x=b.rstyle.bezierPts||b.rstyle.linePts||b.rstyle.haystackPts,w=!0,E=0;E<x.length;E++)if(!yIe(d,x[E])){w=!1;break}w&&a.push(y)}else(v.edgeType==="haystack"||v.edgeType==="straight")&&a.push(y)}}return a},Hb={},Hb.calculateArrowAngles=function(e){var t=e._private.rscratch,r=t.edgeType==="haystack",n=t.edgeType==="bezier",i=t.edgeType==="multibezier",a=t.edgeType==="segments",s=t.edgeType==="compound",l=t.edgeType==="self",u,h,d,p,f,g,v,x;if(r?(d=t.haystackPts[0],p=t.haystackPts[1],f=t.haystackPts[2],g=t.haystackPts[3]):(d=t.arrowStartX,p=t.arrowStartY,f=t.arrowEndX,g=t.arrowEndY),v=t.midX,x=t.midY,a)u=d-t.segpts[0],h=p-t.segpts[1];else if(i||s||l||n){var m=t.allpts,y=ws(m[0],m[2],m[4],.1),b=ws(m[1],m[3],m[5],.1);u=d-y,h=p-b}else u=d-v,h=p-x;t.srcArrowAngle=fb(u,h);var v=t.midX,x=t.midY;if(r&&(v=(d+f)/2,x=(p+g)/2),u=f-d,h=g-p,a){var m=t.allpts;if(m.length/2%2===0){var w=m.length/2,E=w-2;u=m[w]-m[E],h=m[w+1]-m[E+1]}else if(t.isRound)u=t.midVector[1],h=-t.midVector[0];else{var w=m.length/2-1,E=w-2;u=m[w]-m[E],h=m[w+1]-m[E+1]}}else if(i||s||l){var m=t.allpts,A=t.ctrlpts,N,L,C,D;if(A.length/2%2===0){var P=m.length/2-1,O=P+2,I=O+2;N=ws(m[P],m[O],m[I],0),L=ws(m[P+1],m[O+1],m[I+1],0),C=ws(m[P],m[O],m[I],1e-4),D=ws(m[P+1],m[O+1],m[I+1],1e-4)}else{var O=m.length/2-1,P=O-2,I=O+2;N=ws(m[P],m[O],m[I],.4999),L=ws(m[P+1],m[O+1],m[I+1],.4999),C=ws(m[P],m[O],m[I],.5),D=ws(m[P+1],m[O+1],m[I+1],.5)}u=C-N,h=D-L}if(t.midtgtArrowAngle=fb(u,h),t.midDispX=u,t.midDispY=h,u*=-1,h*=-1,a){var m=t.allpts;if(m.length/2%2!==0&&!t.isRound){var w=m.length/2-1,q=w+2;u=-(m[q]-m[w]),h=-(m[q+1]-m[w+1])}}if(t.midsrcArrowAngle=fb(u,h),a)u=f-t.segpts[t.segpts.length-2],h=g-t.segpts[t.segpts.length-1];else if(i||s||l||n){var m=t.allpts,S=m.length,y=ws(m[S-6],m[S-4],m[S-2],.9),b=ws(m[S-5],m[S-3],m[S-1],.9);u=f-y,h=g-b}else u=f-v,h=g-x;t.tgtArrowAngle=fb(u,h)},Hb.getArrowWidth=Hb.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(e*13.37,.9),29)*t,r[e+", "+t]=n,n)},_u={},ac={},pj=o(function(e,t,r){r.x=t.x-e.x,r.y=t.y-e.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},"asVec"),xPe=o(function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},"invertVec"),wPe=o(function(e,t,r,n,i){if(e!==bPe?pj(t,e,_u):xPe(ac,_u),pj(t,r,ac),fPe=_u.nx*ac.ny-_u.ny*ac.nx,mPe=_u.nx*ac.nx-_u.ny*-ac.ny,Y0=Math.asin(Math.max(-1,Math.min(1,fPe))),Math.abs(Y0)<1e-6){cj=t.x,uj=t.y,Og=hy=0;return}Dg=1,WE=!1,mPe<0?Y0<0?Y0=Math.PI+Y0:(Y0=Math.PI-Y0,Dg=-1,WE=!0):Y0>0&&(Dg=-1,WE=!0),t.radius!==void 0?hy=t.radius:hy=n,Rg=Y0/2,XE=Math.min(_u.len/2,ac.len/2),i?(kh=Math.abs(Math.cos(Rg)*hy/Math.sin(Rg)),kh>XE?(kh=XE,Og=Math.abs(kh*Math.sin(Rg)/Math.cos(Rg))):Og=hy):(kh=Math.min(XE,hy),Og=Math.abs(kh*Math.sin(Rg)/Math.cos(Rg))),hj=t.x+ac.nx*kh,dj=t.y+ac.ny*kh,cj=hj-ac.ny*Og*Dg,uj=dj+ac.nx*Og*Dg,yPe=t.x+_u.nx*kh,vPe=t.y+_u.ny*kh,bPe=t},"calcCornerArc"),o(hG,"drawPreparedRoundCorner"),o(mE,"getRoundCorner"),uo={},uo.findMidptPtsEtc=function(e,t){var r=t.posPts,n=t.intersectionPts,i=t.vectorNormInverse,a,s=e.pstyle("source-endpoint"),l=e.pstyle("target-endpoint"),u=s.units!=null&&l.units!=null,h=o(function(E,A,N,L){var C=L-A,D=N-E,P=Math.sqrt(D*D+C*C);return{x:-C/P,y:D/P}},"recalcVectorNormInverse"),d=e.pstyle("edge-distances").value;switch(d){case"node-position":a=r;break;case"intersection":a=n;break;case"endpoints":{if(u){var p=this.manualEndptToPx(e.source()[0],s),f=Oc(p,2),g=f[0],m=f[1],y=this.manualEndptToPx(e.target()[0],l),b=Oc(y,2),v=b[0],x=b[1],w={x1:g,y1:m,x2:v,y2:x};i=h(g,m,v,x),a=w}else pi("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=n;break}}return{midptPts:a,vectorNormInverse:i}},uo.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r._private,i=n.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var s=n.source,l=n.target,u=s.position(),h=l.position(),d=s.width(),p=l.width(),f=s.height(),g=l.height(),m=r.pstyle("haystack-radius").value,y=m/2;i.haystackPts=i.allpts=[i.source.x*d*y+u.x,i.source.y*f*y+u.y,i.target.x*p*y+h.x,i.target.y*g*y+h.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}},uo.findSegmentsPoints=function(e,t){var r=e._private.rscratch,n=e.pstyle("segment-weights"),i=e.pstyle("segment-distances"),a=e.pstyle("segment-radii"),s=e.pstyle("radius-type"),l=Math.min(n.pfValue.length,i.pfValue.length),u=a.pfValue[a.pfValue.length-1],h=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var d=0;d<l;d++){var p=n.pfValue[d],f=i.pfValue[d],g=1-p,m=p,y=this.findMidptPtsEtc(e,t),b=y.midptPts,v=y.vectorNormInverse,x={x:b.x1*g+b.x2*m,y:b.y1*g+b.y2*m};r.segpts.push(x.x+v.x*f,x.y+v.y*f),r.radii.push(a.pfValue[d]!==void 0?a.pfValue[d]:u),r.isArcRadius.push((s.pfValue[d]!==void 0?s.pfValue[d]:h)==="arc-radius")}},uo.findLoopPoints=function(e,t,r,n){var i=e._private.rscratch,a=t.dirCounts,s=t.srcPos,l=e.pstyle("control-point-distances"),u=l?l.pfValue[0]:void 0,h=e.pstyle("loop-direction").pfValue,d=e.pstyle("loop-sweep").pfValue,p=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var f=r,g=p;n&&(f=0,g=u);var m=h-Math.PI/2,y=m-d/2,b=m+d/2,v=h+"_"+d;f=a[v]===void 0?a[v]=0:++a[v],i.ctrlpts=[s.x+Math.cos(y)*1.4*g*(f/3+1),s.y+Math.sin(y)*1.4*g*(f/3+1),s.x+Math.cos(b)*1.4*g*(f/3+1),s.y+Math.sin(b)*1.4*g*(f/3+1)]},uo.findCompoundLoopPoints=function(e,t,r,n){var i=e._private.rscratch;i.edgeType="compound";var a=t.srcPos,s=t.tgtPos,l=t.srcW,u=t.srcH,h=t.tgtW,d=t.tgtH,p=e.pstyle("control-point-step-size").pfValue,f=e.pstyle("control-point-distances"),g=f?f.pfValue[0]:void 0,m=r,y=p;n&&(m=0,y=g);var b=50,v={x:a.x-l/2,y:a.y-u/2},x={x:s.x-h/2,y:s.y-d/2},w={x:Math.min(v.x,x.x),y:Math.min(v.y,x.y)},E=.5,A=Math.max(E,Math.log(l*.01)),N=Math.max(E,Math.log(h*.01));i.ctrlpts=[w.x,w.y-(1+Math.pow(b,1.12)/100)*y*(m/3+1)*A,w.x-(1+Math.pow(b,1.12)/100)*y*(m/3+1)*N,w.y]},uo.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},uo.findBezierPoints=function(e,t,r,n,i){var a=e._private.rscratch,s=e.pstyle("control-point-step-size").pfValue,l=e.pstyle("control-point-distances"),u=e.pstyle("control-point-weights"),h=l&&u?Math.min(l.value.length,u.value.length):1,d=l?l.pfValue[0]:void 0,p=u.value[0],f=n;a.edgeType=f?"multibezier":"bezier",a.ctrlpts=[];for(var g=0;g<h;g++){var m=(.5-t.eles.length/2+r)*s*(i?-1:1),y=void 0,b=HG(m);f&&(d=l?l.pfValue[g]:s,p=u.value[g]),n?y=d:y=d!==void 0?b*d:void 0;var v=y!==void 0?y:m,x=1-p,w=p,E=this.findMidptPtsEtc(e,t),A=E.midptPts,N=E.vectorNormInverse,L={x:A.x1*x+A.x2*w,y:A.y1*x+A.y2*w};a.ctrlpts.push(L.x+N.x*v,L.y+N.y*v)}},uo.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",s="rightward",l="downward",u="upward",h="auto",d=t.posPts,p=t.srcW,f=t.srcH,g=t.tgtW,m=t.tgtH,y=e.pstyle("edge-distances").value,b=y!=="node-position",v=e.pstyle("taxi-direction").value,x=v,w=e.pstyle("taxi-turn"),E=w.units==="%",A=w.pfValue,N=A<0,L=e.pstyle("taxi-turn-min-distance").pfValue,C=b?(p+g)/2:0,D=b?(f+m)/2:0,P=d.x2-d.x1,O=d.y2-d.y1,I=o(function(fe,Le){return fe>0?Math.max(fe-Le,0):Math.min(fe+Le,0)},"subDWH"),q=I(P,C),S=I(O,D),B=!1;x===h?v=Math.abs(q)>Math.abs(S)?i:n:x===u||x===l?(v=n,B=!0):(x===a||x===s)&&(v=i,B=!0);var F=v===n,z=F?S:q,M=F?O:P,G=HG(M),Y=!1;!(B&&(E||N))&&(x===l&&M<0||x===u&&M>0||x===a&&M>0||x===s&&M<0)&&(G*=-1,z=G*Math.abs(z),Y=!0);var V;if(E){var X=A<0?1+A:A;V=X*z}else{var re=A<0?z:0;V=re+A*G}var de=o(function(fe){return Math.abs(fe)<L||Math.abs(fe)>=Math.abs(z)},"getIsTooClose"),xe=de(V),he=de(Math.abs(z)-Math.abs(V)),be=xe||he;if(be&&!Y)if(F){var Q=Math.abs(M)<=f/2,ne=Math.abs(P)<=g/2;if(Q){var ee=(d.x1+d.x2)/2,pe=d.y1,ie=d.y2;r.segpts=[ee,pe,ee,ie]}else if(ne){var De=(d.y1+d.y2)/2,se=d.x1,je=d.x2;r.segpts=[se,De,je,De]}else r.segpts=[d.x1,d.y2]}else{var ge=Math.abs(M)<=p/2,rt=Math.abs(O)<=m/2;if(ge){var Qe=(d.y1+d.y2)/2,tt=d.x1,mt=d.x2;r.segpts=[tt,Qe,mt,Qe]}else if(rt){var yt=(d.x1+d.x2)/2,Nt=d.y1,kt=d.y2;r.segpts=[yt,Nt,yt,kt]}else r.segpts=[d.x2,d.y1]}else if(F){var te=d.y1+V+(b?f/2*G:0),Ne=d.x1,Ce=d.x2;r.segpts=[Ne,te,Ce,te]}else{var Fe=d.x1+V+(b?p/2*G:0),oe=d.y1,st=d.y2;r.segpts=[Fe,oe,Fe,st]}if(r.isRound){var ae=e.pstyle("taxi-radius").value,ht=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(ae),r.isArcRadius=new Array(r.segpts.length/2).fill(ht)}},uo.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var n=t.srcPos,i=t.tgtPos,a=t.srcW,s=t.srcH,l=t.tgtW,u=t.tgtH,h=t.srcShape,d=t.tgtShape,p=t.srcCornerRadius,f=t.tgtCornerRadius,g=t.srcRs,m=t.tgtRs,y=!hr(r.startX)||!hr(r.startY),b=!hr(r.arrowStartX)||!hr(r.arrowStartY),v=!hr(r.endX)||!hr(r.endY),x=!hr(r.arrowEndX)||!hr(r.arrowEndY),w=3,E=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,A=w*E,N=b1({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),L=N<A,C=b1({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),D=C<A,P=!1;if(y||b||L){P=!0;var O={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},I=Math.sqrt(O.x*O.x+O.y*O.y),q={x:O.x/I,y:O.y/I},S=Math.max(a,s),B={x:r.ctrlpts[0]+q.x*2*S,y:r.ctrlpts[1]+q.y*2*S},F=h.intersectLine(n.x,n.y,a,s,B.x,B.y,0,p,g);L?(r.ctrlpts[0]=r.ctrlpts[0]+q.x*(A-N),r.ctrlpts[1]=r.ctrlpts[1]+q.y*(A-N)):(r.ctrlpts[0]=F[0]+q.x*A,r.ctrlpts[1]=F[1]+q.y*A)}if(v||x||D){P=!0;var z={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},M=Math.sqrt(z.x*z.x+z.y*z.y),G={x:z.x/M,y:z.y/M},Y=Math.max(a,s),V={x:r.ctrlpts[0]+G.x*2*Y,y:r.ctrlpts[1]+G.y*2*Y},X=d.intersectLine(i.x,i.y,l,u,V.x,V.y,0,f,m);D?(r.ctrlpts[0]=r.ctrlpts[0]+G.x*(A-C),r.ctrlpts[1]=r.ctrlpts[1]+G.y*(A-C)):(r.ctrlpts[0]=X[0]+G.x*A,r.ctrlpts[1]=X[1]+G.y*A)}P&&this.findEndpoints(e)}},uo.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);t.allpts.push(t.endX,t.endY);var n,i;t.ctrlpts.length/2%2===0?(n=t.allpts.length/2-1,t.midX=t.allpts[n],t.midY=t.allpts[n+1]):(n=t.allpts.length/2-3,i=.5,t.midX=ws(t.allpts[n],t.allpts[n+2],t.allpts[n+4],i),t.midY=ws(t.allpts[n+1],t.allpts[n+3],t.allpts[n+5],i))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var a=2;a+3<t.allpts.length;a+=2){var s=t.radii[a/2-1],l=t.isArcRadius[a/2-1];t.roundCorners.push(mE({x:t.allpts[a-2],y:t.allpts[a-1]},{x:t.allpts[a],y:t.allpts[a+1],radius:s},{x:t.allpts[a+2],y:t.allpts[a+3]},s,l))}}if(t.segpts.length%4===0){var u=t.segpts.length/2,h=u-2;t.midX=(t.segpts[h]+t.segpts[u])/2,t.midY=(t.segpts[h+1]+t.segpts[u+1])/2}else{var d=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[d],t.midY=t.segpts[d+1];else{var p={x:t.segpts[d],y:t.segpts[d+1]},f=t.roundCorners[d/2],g=[p.x-f.cx,p.y-f.cy],m=f.radius/Math.sqrt(Math.pow(g[0],2)+Math.pow(g[1],2));g=g.map(function(y){return y*m}),t.midX=f.cx+g[0],t.midY=f.cy+g[1],t.midVector=g}}}},uo.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||hr(t.startX)&&hr(t.startY)&&hr(t.endX)&&hr(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,pi("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},uo.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var r=this,n=r.cy,i=n.hasCompoundNodes(),a={map:new Tu,get:o(function(N){var L=this.map.get(N[0]);return L!=null?L.get(N[1]):null},"get"),set:o(function(N,L){var C=this.map.get(N[0]);C==null&&(C=new Tu,this.map.set(N[0],C)),C.set(N[1],L)},"set")},s=[],l=[],u=0;u<e.length;u++){var h=e[u],d=h._private,p=h.pstyle("curve-style").value;if(!(h.removed()||!h.takesUpSpace())){if(p==="haystack"){l.push(h);continue}var f=p==="unbundled-bezier"||p.endsWith("segments")||p==="straight"||p==="straight-triangle"||p.endsWith("taxi"),g=p==="unbundled-bezier"||p==="bezier",m=d.source,y=d.target,b=m.poolIndex(),v=y.poolIndex(),x=[b,v].sort(),w=a.get(x);w==null&&(w={eles:[]},a.set(x,w),s.push(x)),w.eles.push(h),f&&(w.hasUnbundled=!0),g&&(w.hasBezier=!0)}}for(var E=o(function(N){var L=s[N],C=a.get(L),D=void 0;if(!C.hasUnbundled){var P=C.eles[0].parallelEdges().filter(function(Ce){return Ce.isBundledBezier()});EE(C.eles),P.forEach(function(Ce){return C.eles.push(Ce)}),C.eles.sort(function(Ce,Fe){return Ce.poolIndex()-Fe.poolIndex()})}var O=C.eles[0],I=O.source(),q=O.target();if(I.poolIndex()>q.poolIndex()){var S=I;I=q,q=S}var B=C.srcPos=I.position(),F=C.tgtPos=q.position(),z=C.srcW=I.outerWidth(),M=C.srcH=I.outerHeight(),G=C.tgtW=q.outerWidth(),Y=C.tgtH=q.outerHeight(),V=C.srcShape=r.nodeShapes[t.getNodeShape(I)],X=C.tgtShape=r.nodeShapes[t.getNodeShape(q)],re=C.srcCornerRadius=I.pstyle("corner-radius").value==="auto"?"auto":I.pstyle("corner-radius").pfValue,de=C.tgtCornerRadius=q.pstyle("corner-radius").value==="auto"?"auto":q.pstyle("corner-radius").pfValue,xe=C.tgtRs=q._private.rscratch,he=C.srcRs=I._private.rscratch;C.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var be=0;be<C.eles.length;be++){var Q=C.eles[be],ne=Q[0]._private.rscratch,ee=Q.pstyle("curve-style").value,pe=ee==="unbundled-bezier"||ee.endsWith("segments")||ee.endsWith("taxi"),ie=!I.same(Q.source());if(!C.calculatedIntersection&&I!==q&&(C.hasBezier||C.hasUnbundled)){C.calculatedIntersection=!0;var De=V.intersectLine(B.x,B.y,z,M,F.x,F.y,0,re,he),se=C.srcIntn=De,je=X.intersectLine(F.x,F.y,G,Y,B.x,B.y,0,de,xe),ge=C.tgtIntn=je,rt=C.intersectionPts={x1:De[0],x2:je[0],y1:De[1],y2:je[1]},Qe=C.posPts={x1:B.x,x2:F.x,y1:B.y,y2:F.y},tt=je[1]-De[1],mt=je[0]-De[0],yt=Math.sqrt(mt*mt+tt*tt),Nt=C.vector={x:mt,y:tt},kt=C.vectorNorm={x:Nt.x/yt,y:Nt.y/yt},te={x:-kt.y,y:kt.x};C.nodesOverlap=!hr(yt)||X.checkPoint(De[0],De[1],0,G,Y,F.x,F.y,de,xe)||V.checkPoint(je[0],je[1],0,z,M,B.x,B.y,re,he),C.vectorNormInverse=te,D={nodesOverlap:C.nodesOverlap,dirCounts:C.dirCounts,calculatedIntersection:!0,hasBezier:C.hasBezier,hasUnbundled:C.hasUnbundled,eles:C.eles,srcPos:F,tgtPos:B,srcW:G,srcH:Y,tgtW:z,tgtH:M,srcIntn:ge,tgtIntn:se,srcShape:X,tgtShape:V,posPts:{x1:Qe.x2,y1:Qe.y2,x2:Qe.x1,y2:Qe.y1},intersectionPts:{x1:rt.x2,y1:rt.y2,x2:rt.x1,y2:rt.y1},vector:{x:-Nt.x,y:-Nt.y},vectorNorm:{x:-kt.x,y:-kt.y},vectorNormInverse:{x:-te.x,y:-te.y}}}var Ne=ie?D:C;ne.nodesOverlap=Ne.nodesOverlap,ne.srcIntn=Ne.srcIntn,ne.tgtIntn=Ne.tgtIntn,ne.isRound=ee.startsWith("round"),i&&(I.isParent()||I.isChild()||q.isParent()||q.isChild())&&(I.parents().anySame(q)||q.parents().anySame(I)||I.same(q)&&I.isParent())?t.findCompoundLoopPoints(Q,Ne,be,pe):I===q?t.findLoopPoints(Q,Ne,be,pe):ee.endsWith("segments")?t.findSegmentsPoints(Q,Ne):ee.endsWith("taxi")?t.findTaxiPoints(Q,Ne):ee==="straight"||!pe&&C.eles.length%2===1&&be===Math.floor(C.eles.length/2)?t.findStraightEdgePoints(Q):t.findBezierPoints(Q,Ne,be,pe,ie),t.findEndpoints(Q),t.tryToCorrectInvalidPoints(Q,Ne),t.checkForInvalidEdgeWarning(Q),t.storeAllpts(Q),t.storeEdgeProjections(Q),t.calculateArrowAngles(Q),t.recalculateEdgeLabelProjections(Q),t.calculateLabelAngles(Q)}},"_loop"),A=0;A<s.length;A++)E(A);this.findHaystackPoints(l)}},o(dG,"getPts"),uo.getSegmentPoints=function(e){var t=e[0]._private.rscratch,r=t.edgeType;if(r==="segments")return this.recalculateRenderedStyle(e),dG(t.segpts)},uo.getControlPoints=function(e){var t=e[0]._private.rscratch,r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(e),dG(t.ctrlpts)},uo.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}},dy={},dy.manualEndptToPx=function(e,t){var r=this,n=e.position(),i=e.outerWidth(),a=e.outerHeight(),s=e._private.rscratch;if(t.value.length===2){var l=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(l[0]=l[0]*i),t.units[1]==="%"&&(l[1]=l[1]*a),l[0]+=n.x,l[1]+=n.y,l}else{var u=t.pfValue[0];u=-Math.PI/2+u;var h=2*Math.max(i,a),d=[n.x+Math.cos(u)*h,n.y+Math.sin(u)*h];return r.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,i,a,d[0],d[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,s)}},dy.findEndpoints=function(e){var t=this,r,n=e.source()[0],i=e.target()[0],a=n.position(),s=i.position(),l=e.pstyle("target-arrow-shape").value,u=e.pstyle("source-arrow-shape").value,h=e.pstyle("target-distance-from-node").pfValue,d=e.pstyle("source-distance-from-node").pfValue,p=n._private.rscratch,f=i._private.rscratch,g=e.pstyle("curve-style").value,m=e._private.rscratch,y=m.edgeType,b=g==="taxi",v=y==="self"||y==="compound",x=y==="bezier"||y==="multibezier"||v,w=y!=="bezier",E=y==="straight"||y==="segments",A=y==="segments",N=x||w||E,L=v||b,C=e.pstyle("source-endpoint"),D=L?"outside-to-node":C.value,P=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,O=e.pstyle("target-endpoint"),I=L?"outside-to-node":O.value,q=i.pstyle("corner-radius").value==="auto"?"auto":i.pstyle("corner-radius").pfValue;m.srcManEndpt=C,m.tgtManEndpt=O;var S,B,F,z;if(x){var M=[m.ctrlpts[0],m.ctrlpts[1]],G=w?[m.ctrlpts[m.ctrlpts.length-2],m.ctrlpts[m.ctrlpts.length-1]]:M;S=G,B=M}else if(E){var Y=A?m.segpts.slice(0,2):[s.x,s.y],V=A?m.segpts.slice(m.segpts.length-2):[a.x,a.y];S=V,B=Y}if(I==="inside-to-node")r=[s.x,s.y];else if(O.units)r=this.manualEndptToPx(i,O);else if(I==="outside-to-line")r=m.tgtIntn;else if(I==="outside-to-node"||I==="outside-to-node-or-label"?F=S:(I==="outside-to-line"||I==="outside-to-line-or-label")&&(F=[a.x,a.y]),r=t.nodeShapes[this.getNodeShape(i)].intersectLine(s.x,s.y,i.outerWidth(),i.outerHeight(),F[0],F[1],0,q,f),I==="outside-to-node-or-label"||I==="outside-to-line-or-label"){var X=i._private.rscratch,re=X.labelWidth,de=X.labelHeight,xe=X.labelX,he=X.labelY,be=re/2,Q=de/2,ne=i.pstyle("text-valign").value;ne==="top"?he-=Q:ne==="bottom"&&(he+=Q);var ee=i.pstyle("text-halign").value;ee==="left"?xe-=be:ee==="right"&&(xe+=be);var pe=ty(F[0],F[1],[xe-be,he-Q,xe+be,he-Q,xe+be,he+Q,xe-be,he+Q],s.x,s.y);if(pe.length>0){var ie=a,De=x1(ie,kg(r)),se=x1(ie,kg(pe)),je=De;if(se<De&&(r=pe,je=se),pe.length>2){var ge=x1(ie,{x:pe[2],y:pe[3]});ge<je&&(r=[pe[2],pe[3]])}}}var rt=xb(r,S,t.arrowShapes[l].spacing(e)+h),Qe=xb(r,S,t.arrowShapes[l].gap(e)+h);if(m.endX=Qe[0],m.endY=Qe[1],m.arrowEndX=rt[0],m.arrowEndY=rt[1],D==="inside-to-node")r=[a.x,a.y];else if(C.units)r=this.manualEndptToPx(n,C);else if(D==="outside-to-line")r=m.srcIntn;else if(D==="outside-to-node"||D==="outside-to-node-or-label"?z=B:(D==="outside-to-line"||D==="outside-to-line-or-label")&&(z=[s.x,s.y]),r=t.nodeShapes[this.getNodeShape(n)].intersectLine(a.x,a.y,n.outerWidth(),n.outerHeight(),z[0],z[1],0,P,p),D==="outside-to-node-or-label"||D==="outside-to-line-or-label"){var tt=n._private.rscratch,mt=tt.labelWidth,yt=tt.labelHeight,Nt=tt.labelX,kt=tt.labelY,te=mt/2,Ne=yt/2,Ce=n.pstyle("text-valign").value;Ce==="top"?kt-=Ne:Ce==="bottom"&&(kt+=Ne);var Fe=n.pstyle("text-halign").value;Fe==="left"?Nt-=te:Fe==="right"&&(Nt+=te);var oe=ty(z[0],z[1],[Nt-te,kt-Ne,Nt+te,kt-Ne,Nt+te,kt+Ne,Nt-te,kt+Ne],a.x,a.y);if(oe.length>0){var st=s,ae=x1(st,kg(r)),ht=x1(st,kg(oe)),fe=ae;if(ht<ae&&(r=[oe[0],oe[1]],fe=ht),oe.length>2){var Le=x1(st,{x:oe[2],y:oe[3]});Le<fe&&(r=[oe[2],oe[3]])}}}var Ue=xb(r,B,t.arrowShapes[u].spacing(e)+d),Ke=xb(r,B,t.arrowShapes[u].gap(e)+d);m.startX=Ke[0],m.startY=Ke[1],m.arrowStartX=Ue[0],m.arrowStartY=Ue[1],N&&(!hr(m.startX)||!hr(m.startY)||!hr(m.endX)||!hr(m.endY)?m.badLine=!0:m.badLine=!1)},dy.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},dy.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}},KE={},o(LNe,"pushBezierPts"),KE.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,n=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){t.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)LNe(this,e,r.allpts.slice(i,i+6))}else if(n==="segments")for(var a=t.rstyle.linePts=[],i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]});else if(n==="haystack"){var s=r.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},KE.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},Su={},Su.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!I0(t)){var r,n,i=e._private,a=e.width(),s=e.height(),l=e.padding(),u=e.position(),h=e.pstyle("text-halign").strValue,d=e.pstyle("text-valign").strValue,p=i.rscratch,f=i.rstyle;switch(h){case"left":r=u.x-a/2-l;break;case"right":r=u.x+a/2+l;break;default:r=u.x}switch(d){case"top":n=u.y-s/2-l;break;case"bottom":n=u.y+s/2+l;break;default:n=u.y}p.labelX=r,p.labelY=n,f.labelX=r,f.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}},gj=o(function(e,t){var r=Math.atan(t/e);return e===0&&r<0&&(r=r*-1),r},"lineAngleFromDelta"),fj=o(function(e,t){var r=t.x-e.x,n=t.y-e.y;return gj(r,n)},"lineAngle"),kPe=o(function(e,t,r,n){var i=J2(0,n-.001,1),a=J2(0,n+.001,1),s=Tg(e,t,r,i),l=Tg(e,t,r,a);return fj(s,l)},"bezierAngle"),Su.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,i=this,a={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:n.midX,y:n.midY};var s=o(function(d,p,f){O0(r.rscratch,d,p,f),O0(r.rstyle,d,p,f)},"setRs");s("labelX",null,t.x),s("labelY",null,t.y);var l=gj(n.midDispX,n.midDispY);s("labelAutoAngle",null,l);var u=o(function d(){if(d.cache)return d.cache;for(var p=[],f=0;f+5<n.allpts.length;f+=4){var g={x:n.allpts[f],y:n.allpts[f+1]},m={x:n.allpts[f+2],y:n.allpts[f+3]},y={x:n.allpts[f+4],y:n.allpts[f+5]};p.push({p0:g,p1:m,p2:y,startDist:0,length:0,segments:[]})}var b=r.rstyle.bezierPts,v=i.bezierProjPcts.length;function x(L,C,D,P,O){var I=b1(C,D),q=L.segments[L.segments.length-1],S={p0:C,p1:D,t0:P,t1:O,startDist:q?q.startDist+q.length:0,length:I};L.segments.push(S),L.length+=I}o(x,"addSegment");for(var w=0;w<p.length;w++){var E=p[w],A=p[w-1];A&&(E.startDist=A.startDist+A.length),x(E,E.p0,b[w*v],0,i.bezierProjPcts[0]);for(var N=0;N<v-1;N++)x(E,b[w*v+N],b[w*v+N+1],i.bezierProjPcts[N],i.bezierProjPcts[N+1]);x(E,b[w*v+v-1],E.p2,i.bezierProjPcts[v-1],1)}return d.cache=p},"createControlPointInfo"),h=o(function(d){var p,f=d==="source";if(a[d]){var g=e.pstyle(d+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=u(),y,b=0,v=0,x=0;x<m.length;x++){for(var w=m[f?x:m.length-1-x],E=0;E<w.segments.length;E++){var A=w.segments[f?E:w.segments.length-1-E],N=x===m.length-1&&E===w.segments.length-1;if(b=v,v+=A.length,v>=g||N){y={cp:w,segment:A};break}}if(y)break}var L=y.cp,C=y.segment,D=(g-b)/C.length,P=C.t1-C.t0,O=f?C.t0+P*D:C.t1-P*D;O=J2(0,O,1),t=Tg(L.p0,L.p1,L.p2,O),p=kPe(L.p0,L.p1,L.p2,O);break}case"straight":case"segments":case"haystack":{for(var I=0,q,S,B,F,z=n.allpts.length,M=0;M+3<z&&(f?(B={x:n.allpts[M],y:n.allpts[M+1]},F={x:n.allpts[M+2],y:n.allpts[M+3]}):(B={x:n.allpts[z-2-M],y:n.allpts[z-1-M]},F={x:n.allpts[z-4-M],y:n.allpts[z-3-M]}),q=b1(B,F),S=I,I+=q,!(I>=g));M+=2);var G=g-S,Y=G/q;Y=J2(0,Y,1),t=dIe(B,F,Y),p=fj(B,F);break}}s("labelX",d,t.x),s("labelY",d,t.y),s("labelAutoAngle",d,p)}},"calculateEndProjection");h("source"),h("target"),this.applyLabelDimensions(e)}},Su.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},Su.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,n),a=e.pstyle("line-height").pfValue,s=e.pstyle("text-wrap").strValue,l=Pc(r.rscratch,"labelWrapCachedLines",t)||[],u=s!=="wrap"?1:Math.max(l.length,1),h=i.height/u,d=h*a,p=i.width,f=i.height+(u-1)*(a-1)*h;O0(r.rstyle,"labelWidth",t,p),O0(r.rscratch,"labelWidth",t,p),O0(r.rstyle,"labelHeight",t,f),O0(r.rscratch,"labelHeight",t,f),O0(r.rscratch,"labelLineHeight",t,d)},Su.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",i=e.pstyle(n+"label").strValue,a=e.pstyle("text-transform").value,s=o(function(X,re){return re?(O0(r.rscratch,X,t,re),re):Pc(r.rscratch,X,t)},"rscratch");if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var l=e.pstyle("text-wrap").value;if(l==="wrap"){var u=s("labelKey");if(u!=null&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var h="\u200B",d=i.split(`
`),p=e.pstyle("text-max-width").pfValue,f=e.pstyle("text-overflow-wrap").value,g=f==="anywhere",m=[],y=/[\s\u200b]+|$/g,b=0;b<d.length;b++){var v=d[b],x=this.calculateLabelDimensions(e,v),w=x.width;if(g){var E=v.split("").join(h);v=E}if(w>p){var A=v.matchAll(y),N="",L=0,C=Uq(A),D;try{for(C.s();!(D=C.n()).done;){var P=D.value,O=P[0],I=v.substring(L,P.index);L=P.index+O.length;var q=N.length===0?I:N+I+O,S=this.calculateLabelDimensions(e,q),B=S.width;B<=p?N+=I+O:(N&&m.push(N),N=I+O)}}catch(X){C.e(X)}finally{C.f()}N.match(/^[\s\u200b]+$/)||m.push(N)}else m.push(v)}s("labelWrapCachedLines",m),i=s("labelWrapCachedText",m.join(`
`)),s("labelWrapKey",u)}else if(l==="ellipsis"){var F=e.pstyle("text-max-width").pfValue,z="",M="\u2026",G=!1;if(this.calculateLabelDimensions(e,i).width<F)return i;for(var Y=0;Y<i.length;Y++){var V=this.calculateLabelDimensions(e,z+i[Y]+M).width;if(V>F)break;z+=i[Y],Y===i.length-1&&(G=!0)}return G||(z+=M),z}return i},Su.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t},Su.calculateLabelDimensions=function(e,t){var r=this,n=r.cy.window(),i=n.document,a=v1(t,e._private.labelDimsKey),s=r.labelDimCache||(r.labelDimCache=[]),l=s[a];if(l!=null)return l;var u=0,h=e.pstyle("font-style").strValue,d=e.pstyle("font-size").pfValue,p=e.pstyle("font-family").strValue,f=e.pstyle("font-weight").strValue,g=this.labelCalcCanvas,m=this.labelCalcCanvasContext;if(!g){g=this.labelCalcCanvas=i.createElement("canvas"),m=this.labelCalcCanvasContext=g.getContext("2d");var y=g.style;y.position="absolute",y.left="-9999px",y.top="-9999px",y.zIndex="-1",y.visibility="hidden",y.pointerEvents="none"}m.font="".concat(h," ").concat(f," ").concat(d,"px ").concat(p);for(var b=0,v=0,x=t.split(`
`),w=0;w<x.length;w++){var E=x[w],A=m.measureText(E),N=Math.ceil(A.width),L=d;b=Math.max(N,b),v+=L}return b+=u,v+=u,s[a]={width:b,height:v}},Su.calculateLabelAngle=function(e,t){var r=e._private,n=r.rscratch,i=e.isEdge(),a=t?t+"-":"",s=e.pstyle(a+"text-rotation"),l=s.strValue;return l==="none"?0:i&&l==="autorotate"?n.labelAutoAngle:l==="autorotate"?0:s.pfValue},Su.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),n=e._private,i=n.rscratch;i.labelAngle=t.calculateLabelAngle(e),r&&(i.sourceLabelAngle=t.calculateLabelAngle(e,"source"),i.targetLabelAngle=t.calculateLabelAngle(e,"target"))},mj={},yj=28,vj=!1,mj.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(r==="cutrectangle"&&(e.width()<yj||e.height()<yj))return vj||(pi("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),vj=!0),"rectangle";if(e.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(n).name}return r},Ub={},Ub.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,n=o(function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(a),s)for(var l=0;l<a.length;l++){var u=a[l],h=u._private,d=h.rstyle;d.clean=!1,d.cleanConnected=!1}},"enqueue");r.binder(e).on("bounds.* dirty.*",o(function(a){var s=a.target;n(s)},"onDirtyBounds")).on("style.* background.*",o(function(a){var s=a.target;n(s,!1)},"onDirtyStyle"));var i=o(function(a){if(a){var s=r.onUpdateEleCalcsFns;t.cleanStyle();for(var l=0;l<t.length;l++){var u=t[l],h=u._private.rstyle;u.isNode()&&!h.cleanConnected&&(n(u.connectedEdges()),h.cleanConnected=!0)}if(s)for(var d=0;d<s.length;d++){var p=s[d];p(a,t)}r.recalculateRenderedStyle(t),t=e.collection()}},"updateEleCalcs");r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)},Ub.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)},Ub.recalculateRenderedStyle=function(e,t){var r=o(function(w){return w._private.rstyle.cleanConnected},"isCleanConnected"),n=[],i=[];if(!this.destroyed){t===void 0&&(t=!0);for(var a=0;a<e.length;a++){var s=e[a],l=s._private,u=l.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(u.clean=!1),!(t&&u.clean||s.removed())&&s.pstyle("display").value!=="none"&&(l.group==="nodes"?i.push(s):n.push(s),u.clean=!0)}for(var h=0;h<i.length;h++){var d=i[h],p=d._private,f=p.rstyle,g=d.position();this.recalculateNodeLabelProjection(d),f.nodeX=g.x,f.nodeY=g.y,f.nodeW=d.pstyle("width").pfValue,f.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var m=0;m<n.length;m++){var y=n[m],b=y._private,v=b.rstyle,x=b.rscratch;v.srcX=x.arrowStartX,v.srcY=x.arrowStartY,v.tgtX=x.arrowEndX,v.tgtY=x.arrowEndY,v.midX=x.midX,v.midY=x.midY,v.labelAngle=x.labelAngle,v.sourceLabelAngle=x.sourceLabelAngle,v.targetLabelAngle=x.targetLabelAngle}}},Vb={},Vb.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=e[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?t.push(n):i.inDragLayer?e.drag.push(n):e.nondrag.push(n)}for(var r=0;r<t.length;r++){var n=t[r];e.drag.push(n)}}},Vb.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null},Vb.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(ZY),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t},bj={},[S1,Hb,uo,dy,KE,Su,mj,Ub,Vb].forEach(function(e){nn(bj,e)}),xj={},xj.getCachedImage=function(e,t,r){var n=this,i=n.imageCache=n.imageCache||{},a=i[e];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=i[e]=i[e]||{};var s=a.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var l="data:",u=e.substring(0,l.length).toLowerCase()===l;return u||(t=t==="null"?null:t,s.crossOrigin=t),s.src=e,s},Pg={},Pg.registerBinding=function(e,t,r,n){var i=Array.prototype.slice.apply(arguments,[1]),a=this.binder(e);return a.on.apply(a,i)},Pg.binder=function(e){var t=this,r=t.cy.window(),n=e===r||e===r.document||e===r.document.body||YNe(e);if(t.supportsPassiveEvents==null){var i=!1;try{var a=Object.defineProperty({},"passive",{get:o(function(){return i=!0,!0},"get")});r.addEventListener("test",null,a)}catch{}t.supportsPassiveEvents=i}var s=o(function(l,u,h){var d=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(d[2]={capture:h??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:d}),(e.addEventListener||e.on).apply(e,d),this},"on");return{on:s,addEventListener:s,addListener:s,bind:s}},Pg.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},Pg.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},Pg.load=function(){var e=this,t=e.cy.window(),r=o(function(te){return te.selected()},"isSelected"),n=o(function(te,Ne,Ce,Fe){te==null&&(te=e.cy);for(var oe=0;oe<Ne.length;oe++){var st=Ne[oe];te.emit({originalEvent:Ce,type:st,position:Fe})}},"triggerEvents"),i=o(function(te){return te.shiftKey||te.metaKey||te.ctrlKey},"isMultSelKeyDown"),a=o(function(te,Ne){var Ce=!0;if(e.cy.hasCompoundNodes()&&te&&te.pannable())for(var Fe=0;Ne&&Fe<Ne.length;Fe++){var te=Ne[Fe];if(te.isNode()&&te.isParent()&&!te.pannable()){Ce=!1;break}}else Ce=!0;return Ce},"allowPanningPassthrough"),s=o(function(te){te[0]._private.grabbed=!0},"setGrabbed"),l=o(function(te){te[0]._private.grabbed=!1},"setFreed"),u=o(function(te){te[0]._private.rscratch.inDragLayer=!0},"setInDragLayer"),h=o(function(te){te[0]._private.rscratch.inDragLayer=!1},"setOutDragLayer"),d=o(function(te){te[0]._private.rscratch.isGrabTarget=!0},"setGrabTarget"),p=o(function(te){te[0]._private.rscratch.isGrabTarget=!1},"removeGrabTarget"),f=o(function(te,Ne){var Ce=Ne.addToList,Fe=Ce.has(te);!Fe&&te.grabbable()&&!te.locked()&&(Ce.merge(te),s(te))},"addToDragList"),g=o(function(te,Ne){if(te.cy().hasCompoundNodes()&&!(Ne.inDragLayer==null&&Ne.addToList==null)){var Ce=te.descendants();Ne.inDragLayer&&(Ce.forEach(u),Ce.connectedEdges().forEach(u)),Ne.addToList&&f(Ce,Ne)}},"addDescendantsToDrag"),m=o(function(te,Ne){Ne=Ne||{};var Ce=te.cy().hasCompoundNodes();Ne.inDragLayer&&(te.forEach(u),te.neighborhood().stdFilter(function(Fe){return!Ce||Fe.isEdge()}).forEach(u)),Ne.addToList&&te.forEach(function(Fe){f(Fe,Ne)}),g(te,Ne),v(te,{inDragLayer:Ne.inDragLayer}),e.updateCachedGrabbedEles()},"addNodesToDrag"),y=m,b=o(function(te){te&&(e.getCachedZSortedEles().forEach(function(Ne){l(Ne),h(Ne),p(Ne)}),e.updateCachedGrabbedEles())},"freeDraggedElements"),v=o(function(te,Ne){if(!(Ne.inDragLayer==null&&Ne.addToList==null)&&te.cy().hasCompoundNodes()){var Ce=te.ancestors().orphans();if(!Ce.same(te)){var Fe=Ce.descendants().spawnSelf().merge(Ce).unmerge(te).unmerge(te.descendants()),oe=Fe.connectedEdges();Ne.inDragLayer&&(oe.forEach(u),Fe.forEach(u)),Ne.addToList&&Fe.forEach(function(st){f(st,Ne)})}}},"updateAncestorsInDragLayer"),x=o(function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},"blurActiveDomElement"),w=typeof MutationObserver<"u",E=typeof ResizeObserver<"u";w?(e.removeObserver=new MutationObserver(function(te){for(var Ne=0;Ne<te.length;Ne++){var Ce=te[Ne],Fe=Ce.removedNodes;if(Fe)for(var oe=0;oe<Fe.length;oe++){var st=Fe[oe];if(st===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(te){e.destroy()});var A=cb(function(){e.cy.resize()},100);w&&(e.styleObserver=new MutationObserver(A),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",A),E&&(e.resizeObserver=new ResizeObserver(A),e.resizeObserver.observe(e.container));var N=o(function(te,Ne){for(;te!=null;)Ne(te),te=te.parentNode},"forEachUp"),L=o(function(){e.invalidateContainerClientCoordsCache()},"invalidateCoords");N(e.container,function(te){e.registerBinding(te,"transitionend",L),e.registerBinding(te,"animationend",L),e.registerBinding(te,"scroll",L)}),e.registerBinding(e.container,"contextmenu",function(te){te.preventDefault()});var C=o(function(){return e.selection[4]!==0},"inBoxSelection"),D=o(function(te){for(var Ne=e.findContainerClientCoords(),Ce=Ne[0],Fe=Ne[1],oe=Ne[2],st=Ne[3],ae=te.touches?te.touches:[te],ht=!1,fe=0;fe<ae.length;fe++){var Le=ae[fe];if(Ce<=Le.clientX&&Le.clientX<=Ce+oe&&Fe<=Le.clientY&&Le.clientY<=Fe+st){ht=!0;break}}if(!ht)return!1;for(var Ue=e.container,Ke=te.target,it=Ke.parentNode,qe=!1;it;){if(it===Ue){qe=!0;break}it=it.parentNode}return!!qe},"eventInContainer");e.registerBinding(e.container,"mousedown",o(function(te){if(D(te)&&!(e.hoverData.which===1&&te.which!==1)){te.preventDefault(),x(),e.hoverData.capture=!0,e.hoverData.which=te.which;var Ne=e.cy,Ce=[te.clientX,te.clientY],Fe=e.projectIntoViewport(Ce[0],Ce[1]),oe=e.selection,st=e.findNearestElements(Fe[0],Fe[1],!0,!1),ae=st[0],ht=e.dragData.possibleDragElements;e.hoverData.mdownPos=Fe,e.hoverData.mdownGPos=Ce;var fe=o(function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var qe=e.hoverData.down;qe?qe.emit({originalEvent:te,type:"taphold",position:{x:Fe[0],y:Fe[1]}}):Ne.emit({originalEvent:te,type:"taphold",position:{x:Fe[0],y:Fe[1]}})}},e.tapholdDuration)},"checkForTaphold");if(te.which==3){e.hoverData.cxtStarted=!0;var Le={originalEvent:te,type:"cxttapstart",position:{x:Fe[0],y:Fe[1]}};ae?(ae.activate(),ae.emit(Le),e.hoverData.down=ae):Ne.emit(Le),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(te.which==1){ae&&ae.activate();{if(ae!=null&&e.nodeIsGrabbable(ae)){var Ue=o(function(qe){return{originalEvent:te,type:qe,position:{x:Fe[0],y:Fe[1]}}},"makeEvent"),Ke=o(function(qe){qe.emit(Ue("grab"))},"triggerGrab");if(d(ae),!ae.selected())ht=e.dragData.possibleDragElements=Ne.collection(),y(ae,{addToList:ht}),ae.emit(Ue("grabon")).emit(Ue("grab"));else{ht=e.dragData.possibleDragElements=Ne.collection();var it=Ne.$(function(qe){return qe.isNode()&&qe.selected()&&e.nodeIsGrabbable(qe)});m(it,{addToList:ht}),ae.emit(Ue("grabon")),it.forEach(Ke)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=ae,e.hoverData.downs=st,e.hoverData.downTime=new Date().getTime()}n(ae,["mousedown","tapstart","vmousedown"],te,{x:Fe[0],y:Fe[1]}),ae==null?(oe[4]=1,e.data.bgActivePosistion={x:Fe[0],y:Fe[1]},e.redrawHint("select",!0),e.redraw()):ae.pannable()&&(oe[4]=1),fe()}oe[0]=oe[2]=Fe[0],oe[1]=oe[3]=Fe[1]}},"mousedownHandler"),!1),e.registerBinding(t,"mousemove",o(function(te){var Ne=e.hoverData.capture;if(!(!Ne&&!D(te))){var Ce=!1,Fe=e.cy,oe=Fe.zoom(),st=[te.clientX,te.clientY],ae=e.projectIntoViewport(st[0],st[1]),ht=e.hoverData.mdownPos,fe=e.hoverData.mdownGPos,Le=e.selection,Ue=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(Ue=e.findNearestElement(ae[0],ae[1],!0,!1));var Ke=e.hoverData.last,it=e.hoverData.down,qe=[ae[0]-Le[2],ae[1]-Le[3]],xt=e.dragData.possibleDragElements,at;if(fe){var jt=st[0]-fe[0],mr=jt*jt,cr=st[1]-fe[1],Zt=cr*cr,vr=mr+Zt;e.hoverData.isOverThresholdDrag=at=vr>=e.desktopTapThreshold2}var Gt=i(te);at&&(e.hoverData.tapholdCancelled=!0);var Tt=o(function(){var Tr=e.hoverData.dragDelta=e.hoverData.dragDelta||[];Tr.length===0?(Tr.push(qe[0]),Tr.push(qe[1])):(Tr[0]+=qe[0],Tr[1]+=qe[1])},"updateDragDelta");Ce=!0,n(Ue,["mousemove","vmousemove","tapdrag"],te,{x:ae[0],y:ae[1]});var wt=o(function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||Fe.emit({originalEvent:te,type:"boxstart",position:{x:ae[0],y:ae[1]}}),Le[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()},"goIntoBoxMode");if(e.hoverData.which===3){if(at){var pr={originalEvent:te,type:"cxtdrag",position:{x:ae[0],y:ae[1]}};it?it.emit(pr):Fe.emit(pr),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||Ue!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:te,type:"cxtdragout",position:{x:ae[0],y:ae[1]}}),e.hoverData.cxtOver=Ue,Ue&&Ue.emit({originalEvent:te,type:"cxtdragover",position:{x:ae[0],y:ae[1]}}))}}else if(e.hoverData.dragging){if(Ce=!0,Fe.panningEnabled()&&Fe.userPanningEnabled()){var Mt;if(e.hoverData.justStartedPan){var Rr=e.hoverData.mdownPos;Mt={x:(ae[0]-Rr[0])*oe,y:(ae[1]-Rr[1])*oe},e.hoverData.justStartedPan=!1}else Mt={x:qe[0]*oe,y:qe[1]*oe};Fe.panBy(Mt),Fe.emit("dragpan"),e.hoverData.dragged=!0}ae=e.projectIntoViewport(te.clientX,te.clientY)}else if(Le[4]==1&&(it==null||it.pannable())){if(at){if(!e.hoverData.dragging&&Fe.boxSelectionEnabled()&&(Gt||!Fe.panningEnabled()||!Fe.userPanningEnabled()))wt();else if(!e.hoverData.selecting&&Fe.panningEnabled()&&Fe.userPanningEnabled()){var Cr=a(it,e.hoverData.downs);Cr&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,Le[4]=0,e.data.bgActivePosistion=kg(ht),e.redrawHint("select",!0),e.redraw())}it&&it.pannable()&&it.active()&&it.unactivate()}}else{if(it&&it.pannable()&&it.active()&&it.unactivate(),(!it||!it.grabbed())&&Ue!=Ke&&(Ke&&n(Ke,["mouseout","tapdragout"],te,{x:ae[0],y:ae[1]}),Ue&&n(Ue,["mouseover","tapdragover"],te,{x:ae[0],y:ae[1]}),e.hoverData.last=Ue),it)if(at){if(Fe.boxSelectionEnabled()&&Gt)it&&it.grabbed()&&(b(xt),it.emit("freeon"),xt.emit("free"),e.dragData.didDrag&&(it.emit("dragfreeon"),xt.emit("dragfree"))),wt();else if(it&&it.grabbed()&&e.nodeIsDraggable(it)){var Kt=!e.dragData.didDrag;Kt&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||m(xt,{inDragLayer:!0});var Xt={x:0,y:0};if(hr(qe[0])&&hr(qe[1])&&(Xt.x+=qe[0],Xt.y+=qe[1],Kt)){var Ft=e.hoverData.dragDelta;Ft&&hr(Ft[0])&&hr(Ft[1])&&(Xt.x+=Ft[0],Xt.y+=Ft[1])}e.hoverData.draggingEles=!0,xt.silentShift(Xt).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else Tt();Ce=!0}if(Le[2]=ae[0],Le[3]=ae[1],Ce)return te.stopPropagation&&te.stopPropagation(),te.preventDefault&&te.preventDefault(),!1}},"mousemoveHandler"),!1);var P,O,I;e.registerBinding(t,"mouseup",o(function(te){if(!(e.hoverData.which===1&&te.which!==1&&e.hoverData.capture)){var Ne=e.hoverData.capture;if(Ne){e.hoverData.capture=!1;var Ce=e.cy,Fe=e.projectIntoViewport(te.clientX,te.clientY),oe=e.selection,st=e.findNearestElement(Fe[0],Fe[1],!0,!1),ae=e.dragData.possibleDragElements,ht=e.hoverData.down,fe=i(te);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,ht&&ht.unactivate(),e.hoverData.which===3){var Le={originalEvent:te,type:"cxttapend",position:{x:Fe[0],y:Fe[1]}};if(ht?ht.emit(Le):Ce.emit(Le),!e.hoverData.cxtDragged){var Ue={originalEvent:te,type:"cxttap",position:{x:Fe[0],y:Fe[1]}};ht?ht.emit(Ue):Ce.emit(Ue)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(n(st,["mouseup","tapend","vmouseup"],te,{x:Fe[0],y:Fe[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(n(ht,["click","tap","vclick"],te,{x:Fe[0],y:Fe[1]}),O=!1,te.timeStamp-I<=Ce.multiClickDebounceTime()?(P&&clearTimeout(P),O=!0,I=null,n(ht,["dblclick","dbltap","vdblclick"],te,{x:Fe[0],y:Fe[1]})):(P=setTimeout(function(){O||n(ht,["oneclick","onetap","voneclick"],te,{x:Fe[0],y:Fe[1]})},Ce.multiClickDebounceTime()),I=te.timeStamp)),ht==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!i(te)&&(Ce.$(r).unselect(["tapunselect"]),ae.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=ae=Ce.collection()),st==ht&&!e.dragData.didDrag&&!e.hoverData.selecting&&st!=null&&st._private.selectable&&(e.hoverData.dragging||(Ce.selectionType()==="additive"||fe?st.selected()?st.unselect(["tapunselect"]):st.select(["tapselect"]):fe||(Ce.$(r).unmerge(st).unselect(["tapunselect"]),st.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var Ke=Ce.collection(e.getAllInBox(oe[0],oe[1],oe[2],oe[3]));e.redrawHint("select",!0),Ke.length>0&&e.redrawHint("eles",!0),Ce.emit({type:"boxend",originalEvent:te,position:{x:Fe[0],y:Fe[1]}});var it=o(function(xt){return xt.selectable()&&!xt.selected()},"eleWouldBeSelected");Ce.selectionType()==="additive"||fe||Ce.$(r).unmerge(Ke).unselect(),Ke.emit("box").stdFilter(it).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!oe[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var qe=ht&&ht.grabbed();b(ae),qe&&(ht.emit("freeon"),ae.emit("free"),e.dragData.didDrag&&(ht.emit("dragfreeon"),ae.emit("dragfree")))}}oe[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},"mouseupHandler"),!1);var q=o(function(te){if(!e.scrollingPage){var Ne=e.cy,Ce=Ne.zoom(),Fe=Ne.pan(),oe=e.projectIntoViewport(te.clientX,te.clientY),st=[oe[0]*Ce+Fe.x,oe[1]*Ce+Fe.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||C()){te.preventDefault();return}if(Ne.panningEnabled()&&Ne.userPanningEnabled()&&Ne.zoomingEnabled()&&Ne.userZoomingEnabled()){te.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var ae;te.deltaY!=null?ae=te.deltaY/-250:te.wheelDeltaY!=null?ae=te.wheelDeltaY/1e3:ae=te.wheelDelta/1e3,ae=ae*e.wheelSensitivity;var ht=te.deltaMode===1;ht&&(ae*=33);var fe=Ne.zoom()*Math.pow(10,ae);te.type==="gesturechange"&&(fe=e.gestureStartZoom*te.scale),Ne.zoom({level:fe,renderedPosition:{x:st[0],y:st[1]}}),Ne.emit(te.type==="gesturechange"?"pinchzoom":"scrollzoom")}}},"wheelHandler");e.registerBinding(e.container,"wheel",q,!0),e.registerBinding(t,"scroll",o(function(te){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},"scrollHandler"),!0),e.registerBinding(e.container,"gesturestart",o(function(te){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||te.preventDefault()},"gestureStartHandler"),!0),e.registerBinding(e.container,"gesturechange",function(te){e.hasTouchStarted||q(te)},!0),e.registerBinding(e.container,"mouseout",o(function(te){var Ne=e.projectIntoViewport(te.clientX,te.clientY);e.cy.emit({originalEvent:te,type:"mouseout",position:{x:Ne[0],y:Ne[1]}})},"mouseOutHandler"),!1),e.registerBinding(e.container,"mouseover",o(function(te){var Ne=e.projectIntoViewport(te.clientX,te.clientY);e.cy.emit({originalEvent:te,type:"mouseover",position:{x:Ne[0],y:Ne[1]}})},"mouseOverHandler"),!1);var S,B,F,z,M,G,Y,V,X,re,de,xe,he,be=o(function(te,Ne,Ce,Fe){return Math.sqrt((Ce-te)*(Ce-te)+(Fe-Ne)*(Fe-Ne))},"distance"),Q=o(function(te,Ne,Ce,Fe){return(Ce-te)*(Ce-te)+(Fe-Ne)*(Fe-Ne)},"distanceSq"),ne;e.registerBinding(e.container,"touchstart",ne=o(function(te){if(e.hasTouchStarted=!0,!!D(te)){x(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var Ne=e.cy,Ce=e.touchData.now,Fe=e.touchData.earlier;if(te.touches[0]){var oe=e.projectIntoViewport(te.touches[0].clientX,te.touches[0].clientY);Ce[0]=oe[0],Ce[1]=oe[1]}if(te.touches[1]){var oe=e.projectIntoViewport(te.touches[1].clientX,te.touches[1].clientY);Ce[2]=oe[0],Ce[3]=oe[1]}if(te.touches[2]){var oe=e.projectIntoViewport(te.touches[2].clientX,te.touches[2].clientY);Ce[4]=oe[0],Ce[5]=oe[1]}if(te.touches[1]){e.touchData.singleTouchMoved=!0,b(e.dragData.touchDragEles);var st=e.findContainerClientCoords();X=st[0],re=st[1],de=st[2],xe=st[3],S=te.touches[0].clientX-X,B=te.touches[0].clientY-re,F=te.touches[1].clientX-X,z=te.touches[1].clientY-re,he=0<=S&&S<=de&&0<=F&&F<=de&&0<=B&&B<=xe&&0<=z&&z<=xe;var ae=Ne.pan(),ht=Ne.zoom();M=be(S,B,F,z),G=Q(S,B,F,z),Y=[(S+F)/2,(B+z)/2],V=[(Y[0]-ae.x)/ht,(Y[1]-ae.y)/ht];var fe=200,Le=fe*fe;if(G<Le&&!te.touches[2]){var Ue=e.findNearestElement(Ce[0],Ce[1],!0,!0),Ke=e.findNearestElement(Ce[2],Ce[3],!0,!0);Ue&&Ue.isNode()?(Ue.activate().emit({originalEvent:te,type:"cxttapstart",position:{x:Ce[0],y:Ce[1]}}),e.touchData.start=Ue):Ke&&Ke.isNode()?(Ke.activate().emit({originalEvent:te,type:"cxttapstart",position:{x:Ce[0],y:Ce[1]}}),e.touchData.start=Ke):Ne.emit({originalEvent:te,type:"cxttapstart",position:{x:Ce[0],y:Ce[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(te.touches[2])Ne.boxSelectionEnabled()&&te.preventDefault();else if(!te.touches[1]&&te.touches[0]){var it=e.findNearestElements(Ce[0],Ce[1],!0,!0),qe=it[0];if(qe!=null&&(qe.activate(),e.touchData.start=qe,e.touchData.starts=it,e.nodeIsGrabbable(qe))){var xt=e.dragData.touchDragEles=Ne.collection(),at=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),qe.selected()?(at=Ne.$(function(vr){return vr.selected()&&e.nodeIsGrabbable(vr)}),m(at,{addToList:xt})):y(qe,{addToList:xt}),d(qe);var jt=o(function(vr){return{originalEvent:te,type:vr,position:{x:Ce[0],y:Ce[1]}}},"makeEvent");qe.emit(jt("grabon")),at?at.forEach(function(vr){vr.emit(jt("grab"))}):qe.emit(jt("grab"))}n(qe,["touchstart","tapstart","vmousedown"],te,{x:Ce[0],y:Ce[1]}),qe==null&&(e.data.bgActivePosistion={x:oe[0],y:oe[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&n(e.touchData.start,["taphold"],te,{x:Ce[0],y:Ce[1]})},e.tapholdDuration)}if(te.touches.length>=1){for(var mr=e.touchData.startPosition=[null,null,null,null,null,null],cr=0;cr<Ce.length;cr++)mr[cr]=Fe[cr]=Ce[cr];var Zt=te.touches[0];e.touchData.startGPosition=[Zt.clientX,Zt.clientY]}}},"touchstartHandler"),!1);var ee;e.registerBinding(t,"touchmove",ee=o(function(te){var Ne=e.touchData.capture;if(!(!Ne&&!D(te))){var Ce=e.selection,Fe=e.cy,oe=e.touchData.now,st=e.touchData.earlier,ae=Fe.zoom();if(te.touches[0]){var ht=e.projectIntoViewport(te.touches[0].clientX,te.touches[0].clientY);oe[0]=ht[0],oe[1]=ht[1]}if(te.touches[1]){var ht=e.projectIntoViewport(te.touches[1].clientX,te.touches[1].clientY);oe[2]=ht[0],oe[3]=ht[1]}if(te.touches[2]){var ht=e.projectIntoViewport(te.touches[2].clientX,te.touches[2].clientY);oe[4]=ht[0],oe[5]=ht[1]}var fe=e.touchData.startGPosition,Le;if(Ne&&te.touches[0]&&fe){for(var Ue=[],Ke=0;Ke<oe.length;Ke++)Ue[Ke]=oe[Ke]-st[Ke];var it=te.touches[0].clientX-fe[0],qe=it*it,xt=te.touches[0].clientY-fe[1],at=xt*xt,jt=qe+at;Le=jt>=e.touchTapThreshold2}if(Ne&&e.touchData.cxt){te.preventDefault();var mr=te.touches[0].clientX-X,cr=te.touches[0].clientY-re,Zt=te.touches[1].clientX-X,vr=te.touches[1].clientY-re,Gt=Q(mr,cr,Zt,vr),Tt=Gt/G,wt=150,pr=wt*wt,Mt=1.5,Rr=Mt*Mt;if(Tt>=Rr||Gt>=pr){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Cr={originalEvent:te,type:"cxttapend",position:{x:oe[0],y:oe[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(Cr),e.touchData.start=null):Fe.emit(Cr)}}if(Ne&&e.touchData.cxt){var Cr={originalEvent:te,type:"cxtdrag",position:{x:oe[0],y:oe[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(Cr):Fe.emit(Cr),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var Kt=e.findNearestElement(oe[0],oe[1],!0,!0);(!e.touchData.cxtOver||Kt!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:te,type:"cxtdragout",position:{x:oe[0],y:oe[1]}}),e.touchData.cxtOver=Kt,Kt&&Kt.emit({originalEvent:te,type:"cxtdragover",position:{x:oe[0],y:oe[1]}}))}else if(Ne&&te.touches[2]&&Fe.boxSelectionEnabled())te.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||Fe.emit({originalEvent:te,type:"boxstart",position:{x:oe[0],y:oe[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,Ce[4]=1,!Ce||Ce.length===0||Ce[0]===void 0?(Ce[0]=(oe[0]+oe[2]+oe[4])/3,Ce[1]=(oe[1]+oe[3]+oe[5])/3,Ce[2]=(oe[0]+oe[2]+oe[4])/3+1,Ce[3]=(oe[1]+oe[3]+oe[5])/3+1):(Ce[2]=(oe[0]+oe[2]+oe[4])/3,Ce[3]=(oe[1]+oe[3]+oe[5])/3),e.redrawHint("select",!0),e.redraw();else if(Ne&&te.touches[1]&&!e.touchData.didSelect&&Fe.zoomingEnabled()&&Fe.panningEnabled()&&Fe.userZoomingEnabled()&&Fe.userPanningEnabled()){te.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Xt=e.dragData.touchDragEles;if(Xt){e.redrawHint("drag",!0);for(var Ft=0;Ft<Xt.length;Ft++){var Tr=Xt[Ft]._private;Tr.grabbed=!1,Tr.rscratch.inDragLayer=!1}}var ir=e.touchData.start,mr=te.touches[0].clientX-X,cr=te.touches[0].clientY-re,Zt=te.touches[1].clientX-X,vr=te.touches[1].clientY-re,oi=be(mr,cr,Zt,vr),xn=oi/M;if(he){var On=mr-S,Qi=cr-B,fi=Zt-F,aa=vr-z,zi=(On+fi)/2,sa=(Qi+aa)/2,Be=Fe.zoom(),rr=Be*xn,tr=Fe.pan(),qn=V[0]*Be+tr.x,jn=V[1]*Be+tr.y,Ai={x:-rr/Be*(qn-tr.x-zi)+qn,y:-rr/Be*(jn-tr.y-sa)+jn};if(ir&&ir.active()){var Xt=e.dragData.touchDragEles;b(Xt),e.redrawHint("drag",!0),e.redrawHint("eles",!0),ir.unactivate().emit("freeon"),Xt.emit("free"),e.dragData.didDrag&&(ir.emit("dragfreeon"),Xt.emit("dragfree"))}Fe.viewport({zoom:rr,pan:Ai,cancelOnFailedZoom:!0}),Fe.emit("pinchzoom"),M=oi,S=mr,B=cr,F=Zt,z=vr,e.pinching=!0}if(te.touches[0]){var ht=e.projectIntoViewport(te.touches[0].clientX,te.touches[0].clientY);oe[0]=ht[0],oe[1]=ht[1]}if(te.touches[1]){var ht=e.projectIntoViewport(te.touches[1].clientX,te.touches[1].clientY);oe[2]=ht[0],oe[3]=ht[1]}if(te.touches[2]){var ht=e.projectIntoViewport(te.touches[2].clientX,te.touches[2].clientY);oe[4]=ht[0],oe[5]=ht[1]}}else if(te.touches[0]&&!e.touchData.didSelect){var qi=e.touchData.start,ba=e.touchData.last,Kt;if(!e.hoverData.draggingEles&&!e.swipePanning&&(Kt=e.findNearestElement(oe[0],oe[1],!0,!0)),Ne&&qi!=null&&te.preventDefault(),Ne&&qi!=null&&e.nodeIsDraggable(qi))if(Le){var Xt=e.dragData.touchDragEles,Ri=!e.dragData.didDrag;Ri&&m(Xt,{inDragLayer:!0}),e.dragData.didDrag=!0;var Qt={x:0,y:0};if(hr(Ue[0])&&hr(Ue[1])&&(Qt.x+=Ue[0],Qt.y+=Ue[1],Ri)){e.redrawHint("eles",!0);var kr=e.touchData.dragDelta;kr&&hr(kr[0])&&hr(kr[1])&&(Qt.x+=kr[0],Qt.y+=kr[1])}e.hoverData.draggingEles=!0,Xt.silentShift(Qt).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==st[0]&&e.touchData.startPosition[1]==st[1]&&e.redrawHint("eles",!0),e.redraw()}else{var kr=e.touchData.dragDelta=e.touchData.dragDelta||[];kr.length===0?(kr.push(Ue[0]),kr.push(Ue[1])):(kr[0]+=Ue[0],kr[1]+=Ue[1])}if(n(qi||Kt,["touchmove","tapdrag","vmousemove"],te,{x:oe[0],y:oe[1]}),(!qi||!qi.grabbed())&&Kt!=ba&&(ba&&ba.emit({originalEvent:te,type:"tapdragout",position:{x:oe[0],y:oe[1]}}),Kt&&Kt.emit({originalEvent:te,type:"tapdragover",position:{x:oe[0],y:oe[1]}})),e.touchData.last=Kt,Ne)for(var Ft=0;Ft<oe.length;Ft++)oe[Ft]&&e.touchData.startPosition[Ft]&&Le&&(e.touchData.singleTouchMoved=!0);if(Ne&&(qi==null||qi.pannable())&&Fe.panningEnabled()&&Fe.userPanningEnabled()){var Vt=a(qi,e.touchData.starts);Vt&&(te.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=kg(e.touchData.startPosition)),e.swipePanning?(Fe.panBy({x:Ue[0]*ae,y:Ue[1]*ae}),Fe.emit("dragpan")):Le&&(e.swipePanning=!0,Fe.panBy({x:it*ae,y:xt*ae}),Fe.emit("dragpan"),qi&&(qi.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var ht=e.projectIntoViewport(te.touches[0].clientX,te.touches[0].clientY);oe[0]=ht[0],oe[1]=ht[1]}}for(var Ke=0;Ke<oe.length;Ke++)st[Ke]=oe[Ke];Ne&&te.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},"touchmoveHandler"),!1);var pe;e.registerBinding(t,"touchcancel",pe=o(function(te){var Ne=e.touchData.start;e.touchData.capture=!1,Ne&&Ne.unactivate()},"touchcancelHandler"));var ie,De,se,je;if(e.registerBinding(t,"touchend",ie=o(function(te){var Ne=e.touchData.start,Ce=e.touchData.capture;if(Ce)te.touches.length===0&&(e.touchData.capture=!1),te.preventDefault();else return;var Fe=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var oe=e.cy,st=oe.zoom(),ae=e.touchData.now,ht=e.touchData.earlier;if(te.touches[0]){var fe=e.projectIntoViewport(te.touches[0].clientX,te.touches[0].clientY);ae[0]=fe[0],ae[1]=fe[1]}if(te.touches[1]){var fe=e.projectIntoViewport(te.touches[1].clientX,te.touches[1].clientY);ae[2]=fe[0],ae[3]=fe[1]}if(te.touches[2]){var fe=e.projectIntoViewport(te.touches[2].clientX,te.touches[2].clientY);ae[4]=fe[0],ae[5]=fe[1]}Ne&&Ne.unactivate();var Le;if(e.touchData.cxt){if(Le={originalEvent:te,type:"cxttapend",position:{x:ae[0],y:ae[1]}},Ne?Ne.emit(Le):oe.emit(Le),!e.touchData.cxtDragged){var Ue={originalEvent:te,type:"cxttap",position:{x:ae[0],y:ae[1]}};Ne?Ne.emit(Ue):oe.emit(Ue)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!te.touches[2]&&oe.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var Ke=oe.collection(e.getAllInBox(Fe[0],Fe[1],Fe[2],Fe[3]));Fe[0]=void 0,Fe[1]=void 0,Fe[2]=void 0,Fe[3]=void 0,Fe[4]=0,e.redrawHint("select",!0),oe.emit({type:"boxend",originalEvent:te,position:{x:ae[0],y:ae[1]}});var it=o(function(wt){return wt.selectable()&&!wt.selected()},"eleWouldBeSelected");Ke.emit("box").stdFilter(it).select().emit("boxselect"),Ke.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(Ne?.unactivate(),te.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!te.touches[1]&&!te.touches[0]&&!te.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var qe=e.dragData.touchDragEles;if(Ne!=null){var xt=Ne._private.grabbed;b(qe),e.redrawHint("drag",!0),e.redrawHint("eles",!0),xt&&(Ne.emit("freeon"),qe.emit("free"),e.dragData.didDrag&&(Ne.emit("dragfreeon"),qe.emit("dragfree"))),n(Ne,["touchend","tapend","vmouseup","tapdragout"],te,{x:ae[0],y:ae[1]}),Ne.unactivate(),e.touchData.start=null}else{var at=e.findNearestElement(ae[0],ae[1],!0,!0);n(at,["touchend","tapend","vmouseup","tapdragout"],te,{x:ae[0],y:ae[1]})}var jt=e.touchData.startPosition[0]-ae[0],mr=jt*jt,cr=e.touchData.startPosition[1]-ae[1],Zt=cr*cr,vr=mr+Zt,Gt=vr*st*st;e.touchData.singleTouchMoved||(Ne||oe.$(":selected").unselect(["tapunselect"]),n(Ne,["tap","vclick"],te,{x:ae[0],y:ae[1]}),De=!1,te.timeStamp-je<=oe.multiClickDebounceTime()?(se&&clearTimeout(se),De=!0,je=null,n(Ne,["dbltap","vdblclick"],te,{x:ae[0],y:ae[1]})):(se=setTimeout(function(){De||n(Ne,["onetap","voneclick"],te,{x:ae[0],y:ae[1]})},oe.multiClickDebounceTime()),je=te.timeStamp)),Ne!=null&&!e.dragData.didDrag&&Ne._private.selectable&&Gt<e.touchTapThreshold2&&!e.pinching&&(oe.selectionType()==="single"?(oe.$(r).unmerge(Ne).unselect(["tapunselect"]),Ne.select(["tapselect"])):Ne.selected()?Ne.unselect(["tapunselect"]):Ne.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var Tt=0;Tt<ae.length;Tt++)ht[Tt]=ae[Tt];e.dragData.didDrag=!1,te.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),te.touches.length<2&&(te.touches.length===1&&(e.touchData.startGPosition=[te.touches[0].clientX,te.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},"touchendHandler"),!1),typeof TouchEvent>"u"){var ge=[],rt=o(function(te){return{clientX:te.clientX,clientY:te.clientY,force:1,identifier:te.pointerId,pageX:te.pageX,pageY:te.pageY,radiusX:te.width/2,radiusY:te.height/2,screenX:te.screenX,screenY:te.screenY,target:te.target}},"makeTouch"),Qe=o(function(te){return{event:te,touch:rt(te)}},"makePointer"),tt=o(function(te){ge.push(Qe(te))},"addPointer"),mt=o(function(te){for(var Ne=0;Ne<ge.length;Ne++){var Ce=ge[Ne];if(Ce.event.pointerId===te.pointerId){ge.splice(Ne,1);return}}},"removePointer"),yt=o(function(te){var Ne=ge.filter(function(Ce){return Ce.event.pointerId===te.pointerId})[0];Ne.event=te,Ne.touch=rt(te)},"updatePointer"),Nt=o(function(te){te.touches=ge.map(function(Ne){return Ne.touch})},"addTouchesToEvent"),kt=o(function(te){return te.pointerType==="mouse"||te.pointerType===4},"pointerIsMouse");e.registerBinding(e.container,"pointerdown",function(te){kt(te)||(te.preventDefault(),tt(te),Nt(te),ne(te))}),e.registerBinding(e.container,"pointerup",function(te){kt(te)||(mt(te),Nt(te),ie(te))}),e.registerBinding(e.container,"pointercancel",function(te){kt(te)||(mt(te),Nt(te),pe(te))}),e.registerBinding(e.container,"pointermove",function(te){kt(te)||(te.preventDefault(),yt(te),Nt(te),ee(te))})}},Th={},Th.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:o(function(r,n,i,a,s,l){this.renderer.nodeShapeImpl("polygon",r,n,i,a,s,this.points)},"draw"),intersectLine:o(function(r,n,i,a,s,l,u,h){return ty(s,l,this.points,r,n,i/2,a/2,u)},"intersectLine"),checkPoint:o(function(r,n,i,a,s,l,u,h){return xh(r,n,this.points,l,u,a,s,[0,-1],i)},"checkPoint")}},Th.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:o(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},"draw"),intersectLine:o(function(e,t,r,n,i,a,s,l){return CIe(i,a,e,t,r/2+s,n/2+s)},"intersectLine"),checkPoint:o(function(e,t,r,n,i,a,s,l){return w1(e,t,n,i,a,s,r)},"checkPoint")}},Th.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:o(function(r,n,i,a,s,l,u){if(l[u]!==void 0&&l[u+"-cx"]===r&&l[u+"-cy"]===n)return l[u];l[u]=new Array(t.length/2),l[u+"-cx"]=r,l[u+"-cy"]=n;var h=i/2,d=a/2;s=s==="auto"?ZG(i,a):s;for(var p=new Array(t.length/2),f=0;f<t.length/2;f++)p[f]={x:r+h*t[f*2],y:n+d*t[f*2+1]};var g,m,y,b,v=p.length;for(m=p[v-1],g=0;g<v;g++)y=p[g%v],b=p[(g+1)%v],l[u][g]=mE(m,y,b,s),m=y,y=b;return l[u]},"getOrCreateCorners"),draw:o(function(r,n,i,a,s,l,u){this.renderer.nodeShapeImpl("round-polygon",r,n,i,a,s,this.points,this.getOrCreateCorners(n,i,a,s,l,u,"drawCorners"))},"draw"),intersectLine:o(function(r,n,i,a,s,l,u,h,d){return _Ie(s,l,this.points,r,n,i,a,u,this.getOrCreateCorners(r,n,i,a,h,d,"corners"))},"intersectLine"),checkPoint:o(function(r,n,i,a,s,l,u,h,d){return EIe(r,n,this.points,l,u,a,s,this.getOrCreateCorners(l,u,a,s,h,d,"corners"))},"checkPoint")}},Th.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Io(4,0),draw:o(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,this.points,a)},"draw"),intersectLine:o(function(e,t,r,n,i,a,s,l){return XG(i,a,e,t,r,n,s,l)},"intersectLine"),checkPoint:o(function(e,t,r,n,i,a,s,l){var u=n/2,h=i/2;l=l==="auto"?k1(n,i):l,l=Math.min(u,h,l);var d=l*2;return!!(xh(e,t,this.points,a,s,n,i-d,[0,-1],r)||xh(e,t,this.points,a,s,n-d,i,[0,-1],r)||w1(e,t,d,d,a-u+l,s-h+l,r)||w1(e,t,d,d,a+u-l,s-h+l,r)||w1(e,t,d,d,a+u-l,s+h-l,r)||w1(e,t,d,d,a-u+l,s+h-l,r))},"checkPoint")}},Th.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:NE(),points:Io(4,0),draw:o(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,null,a)},"draw"),generateCutTrianglePts:o(function(e,t,r,n,i){var a=i==="auto"?this.cornerLength:i,s=t/2,l=e/2,u=r-l,h=r+l,d=n-s,p=n+s;return{topLeft:[u,d+a,u+a,d,u+a,d+a],topRight:[h-a,d,h,d+a,h-a,d+a],bottomRight:[h,p-a,h-a,p,h-a,p-a],bottomLeft:[u+a,p,u,p-a,u+a,p-a]}},"generateCutTrianglePts"),intersectLine:o(function(e,t,r,n,i,a,s,l){var u=this.generateCutTrianglePts(r+2*s,n+2*s,e,t,l),h=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return ty(i,a,h,e,t)},"intersectLine"),checkPoint:o(function(e,t,r,n,i,a,s,l){var u=l==="auto"?this.cornerLength:l;if(xh(e,t,this.points,a,s,n,i-2*u,[0,-1],r)||xh(e,t,this.points,a,s,n-2*u,i,[0,-1],r))return!0;var h=this.generateCutTrianglePts(n,i,a,s);return il(e,t,h.topLeft)||il(e,t,h.topRight)||il(e,t,h.bottomRight)||il(e,t,h.bottomLeft)},"checkPoint")}},Th.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Io(4,0),draw:o(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},"draw"),intersectLine:o(function(e,t,r,n,i,a,s,l){var u=.15,h=.5,d=.85,p=this.generateBarrelBezierPts(r+2*s,n+2*s,e,t),f=o(function(m){var y=Tg({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},u),b=Tg({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},h),v=Tg({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},d);return[m[0],m[1],y.x,y.y,b.x,b.y,v.x,v.y,m[4],m[5]]},"approximateBarrelCurvePts"),g=[].concat(f(p.topLeft),f(p.topRight),f(p.bottomRight),f(p.bottomLeft));return ty(i,a,g,e,t)},"intersectLine"),generateBarrelBezierPts:o(function(e,t,r,n){var i=t/2,a=e/2,s=r-a,l=r+a,u=n-i,h=n+i,d=ME(e,t),p=d.heightOffset,f=d.widthOffset,g=d.ctrlPtOffsetPct*e,m={topLeft:[s,u+p,s+g,u,s+f,u],topRight:[l-f,u,l-g,u,l,u+p],bottomRight:[l,h-p,l-g,h,l-f,h],bottomLeft:[s+f,h,s+g,h,s,h-p]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},"generateBarrelBezierPts"),checkPoint:o(function(e,t,r,n,i,a,s,l){var u=ME(n,i),h=u.heightOffset,d=u.widthOffset;if(xh(e,t,this.points,a,s,n,i-2*h,[0,-1],r)||xh(e,t,this.points,a,s,n-2*d,i,[0,-1],r))return!0;for(var p=this.generateBarrelBezierPts(n,i,a,s),f=o(function(N,L,C){var D=C[4],P=C[2],O=C[0],I=C[5],q=C[1],S=Math.min(D,O),B=Math.max(D,O),F=Math.min(I,q),z=Math.max(I,q);if(S<=N&&N<=B&&F<=L&&L<=z){var M=SIe(D,P,O),G=xIe(M[0],M[1],M[2],N),Y=G.filter(function(V){return 0<=V&&V<=1});if(Y.length>0)return Y[0]}return null},"getCurveT"),g=Object.keys(p),m=0;m<g.length;m++){var y=g[m],b=p[y],v=f(e,t,b);if(v!=null){var x=b[5],w=b[3],E=b[1],A=ws(x,w,E,v);if(b.isTop&&A<=t||b.isBottom&&t<=A)return!0}}return!1},"checkPoint")}},Th.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Io(4,0),draw:o(function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,this.points,a)},"draw"),intersectLine:o(function(e,t,r,n,i,a,s,l){var u=e-(r/2+s),h=t-(n/2+s),d=h,p=e+(r/2+s),f=P0(i,a,e,t,u,h,p,d,!1);return f.length>0?f:XG(i,a,e,t,r,n,s,l)},"intersectLine"),checkPoint:o(function(e,t,r,n,i,a,s,l){l=l==="auto"?k1(n,i):l;var u=2*l;if(xh(e,t,this.points,a,s,n,i-u,[0,-1],r)||xh(e,t,this.points,a,s,n-u,i,[0,-1],r))return!0;var h=n/2+2*r,d=i/2+2*r,p=[a-h,s-d,a-h,s,a+h,s,a+h,s-d];return!!(il(e,t,p)||w1(e,t,u,u,a+n/2-l,s+i/2-l,r)||w1(e,t,u,u,a-n/2+l,s+i/2-l,r))},"checkPoint")}},Th.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",Io(3,0)),this.generateRoundPolygon("round-triangle",Io(3,0)),this.generatePolygon("rectangle",Io(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",Io(5,0)),this.generateRoundPolygon("round-pentagon",Io(5,0)),this.generatePolygon("hexagon",Io(6,0)),this.generateRoundPolygon("round-hexagon",Io(6,0)),this.generatePolygon("heptagon",Io(7,0)),this.generateRoundPolygon("round-heptagon",Io(7,0)),this.generatePolygon("octagon",Io(8,0)),this.generateRoundPolygon("round-octagon",Io(8,0));var n=new Array(20);{var i=LE(5,0),a=LE(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var l=0;l<a.length/2;l++)a[l*2]*=s,a[l*2+1]*=s;for(var l=0;l<20/4;l++)n[l*4]=i[l*2],n[l*4+1]=i[l*2+1],n[l*4+2]=a[l*2],n[l*4+3]=a[l*2+1]}n=KG(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}e.makePolygon=function(h){var d=h.join("$"),p="polygon-"+d,f;return(f=this[p])?f:t.generatePolygon(p,h)}},py={},py.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},py.redraw=function(e){e=e||GG();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},py.beforeRender=function(e,t){if(!this.destroyed){t==null&&ma("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(n,i){return i.priority-n.priority})}},wj=o(function(e,t,r){for(var n=e.beforeRenderCallbacks,i=0;i<n.length;i++)n[i].fn(t,r)},"beforeRenderCallbacks"),py.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=o(function n(i){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){wj(e,!0,i);var a=bh();e.render(e.renderOptions);var s=e.lastDrawTime=bh();e.averageRedrawTime===void 0&&(e.averageRedrawTime=s-a),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var l=s-a;e.redrawTotalTime+=l,e.lastRedrawTime=l,e.averageRedrawTime=e.averageRedrawTime/2+l/2,e.requestedFrame=!1}else wj(e,!1,i);e.skipFrame=!1,ub(n)}},"renderFn");ub(r)}},TPe=o(function(e){this.init(e)},"BaseRenderer"),kj=TPe,Bg=kj.prototype,Bg.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Bg.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),n=t.cy.window();if(n){var i=n.document,a=i.head,s="__________cytoscape_stylesheet",l="__________cytoscape_container",u=i.getElementById(s)!=null;if(r.className.indexOf(l)<0&&(r.className=(r.className||"")+" "+l),!u){var h=i.createElement("style");h.id=s,h.textContent="."+l+" { position: relative; }",a.insertBefore(h,a.children[0])}var d=n.getComputedStyle(r),p=d.getPropertyValue("position");p==="static"&&pi("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=hr(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},Bg.notify=function(e,t){var r=this,n=r.cy;if(!this.destroyed){if(e==="init"){r.load();return}if(e==="destroy"){r.destroy();return}(e==="add"||e==="remove"||e==="move"&&n.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),(e==="load"||e==="resize"||e==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Bg.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}},Bg.isHeadless=function(){return!1},[VE,bj,xj,Pg,Th,py].forEach(function(e){nn(Bg,e)}),ZE=1e3/60,Tj={setupDequeueing:o(function(e){return o(function(){var t=this,r=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var n=cb(function(){r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},e.deqRedrawThreshold),i=o(function(s,l){var u=bh(),h=r.averageRedrawTime,d=r.lastRedrawTime,p=[],f=r.cy.extent(),g=r.getPixelRatio();for(s||r.flushRenderedStyleQueue();;){var m=bh(),y=m-u,b=m-l;if(d<ZE){var v=ZE-(s?h:0);if(b>=e.deqFastCost*v)break}else if(s){if(y>=e.deqCost*d||y>=e.deqAvgCost*h)break}else if(b>=e.deqNoDrawCost*ZE)break;var x=e.deq(t,g,f);if(x.length>0)for(var w=0;w<x.length;w++)p.push(x[w]);else break}p.length>0&&(e.onDeqd(t,p),!s&&e.shouldRedraw(t,p,g,f)&&n())},"dequeue"),a=e.priority||TE;r.beforeRender(i,a(t))}},"setupDequeueingImpl")},"setupDequeueing")},EPe=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:db;lE(this,e),this.idsByKey=new Tu,this.keyForId=new Tu,this.cachesByLvl=new Tu,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return o(e,"ElementTextureCacheLookup"),cE(e,[{key:"getIdsFor",value:o(function(t){t==null&&ma("Can not get id list for null key");var r=this.idsByKey,n=this.idsByKey.get(t);return n||(n=new wg,r.set(t,n)),n},"getIdsFor")},{key:"addIdForKey",value:o(function(t,r){t!=null&&this.getIdsFor(t).add(r)},"addIdForKey")},{key:"deleteIdForKey",value:o(function(t,r){t!=null&&this.getIdsFor(t).delete(r)},"deleteIdForKey")},{key:"getNumberOfIdsForKey",value:o(function(t){return t==null?0:this.getIdsFor(t).size},"getNumberOfIdsForKey")},{key:"updateKeyMappingFor",value:o(function(t){var r=t.id(),n=this.keyForId.get(r),i=this.getKey(t);this.deleteIdForKey(n,r),this.addIdForKey(i,r),this.keyForId.set(r,i)},"updateKeyMappingFor")},{key:"deleteKeyMappingFor",value:o(function(t){var r=t.id(),n=this.keyForId.get(r);this.deleteIdForKey(n,r),this.keyForId.delete(r)},"deleteKeyMappingFor")},{key:"keyHasChangedFor",value:o(function(t){var r=t.id(),n=this.keyForId.get(r),i=this.getKey(t);return n!==i},"keyHasChangedFor")},{key:"isInvalid",value:o(function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)},"isInvalid")},{key:"getCachesAt",value:o(function(t){var r=this.cachesByLvl,n=this.lvls,i=r.get(t);return i||(i=new Tu,r.set(t,i),n.push(t)),i},"getCachesAt")},{key:"getCache",value:o(function(t,r){return this.getCachesAt(r).get(t)},"getCache")},{key:"get",value:o(function(t,r){var n=this.getKey(t),i=this.getCache(n,r);return i!=null&&this.updateKeyMappingFor(t),i},"get")},{key:"getForCachedKey",value:o(function(t,r){var n=this.keyForId.get(t.id()),i=this.getCache(n,r);return i},"getForCachedKey")},{key:"hasCache",value:o(function(t,r){return this.getCachesAt(r).has(t)},"hasCache")},{key:"has",value:o(function(t,r){var n=this.getKey(t);return this.hasCache(n,r)},"has")},{key:"setCache",value:o(function(t,r,n){n.key=t,this.getCachesAt(r).set(t,n)},"setCache")},{key:"set",value:o(function(t,r,n){var i=this.getKey(t);this.setCache(i,r,n),this.updateKeyMappingFor(t)},"set")},{key:"deleteCache",value:o(function(t,r){this.getCachesAt(r).delete(t)},"deleteCache")},{key:"delete",value:o(function(t,r){var n=this.getKey(t);this.deleteCache(n,r)},"_delete")},{key:"invalidateKey",value:o(function(t){var r=this;this.lvls.forEach(function(n){return r.deleteCache(t,n)})},"invalidateKey")},{key:"invalidate",value:o(function(t){var r=t.id(),n=this.keyForId.get(r);this.deleteKeyMappingFor(t);var i=this.doesEleInvalidateKey(t);return i&&this.invalidateKey(n),i||this.getNumberOfIdsForKey(n)===0},"invalidate")}]),e}(),Ej=25,Wb=50,Xb=-4,QE=3,CPe=7.99,_Pe=8,SPe=1024,APe=1024,LPe=1024,NPe=.2,MPe=.8,IPe=10,DPe=.15,RPe=.1,OPe=.9,PPe=.9,BPe=100,FPe=1,Fg={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},$Pe=Fs({getKey:null,doesEleInvalidateKey:db,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:FG,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),gy=o(function(e,t){var r=this;r.renderer=e,r.onDequeues=[];var n=$Pe(t);nn(r,n),r.lookup=new EPe(n.getKey,n.doesEleInvalidateKey),r.setupDequeueing()},"ElementTextureCache"),as=gy.prototype,as.reasons=Fg,as.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},as.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},n=r[e]=r[e]||[];return n},as.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new Q2(function(r,n){return n.reqs-r.reqs});return t},as.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t},as.getElement=function(e,t,r,n,i){var a=this,s=this.renderer,l=s.cy.zoom(),u=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!a.allowEdgeTxrCaching&&e.isEdge()||!a.allowParentTxrCaching&&e.isParent())return null;if(n==null&&(n=Math.ceil(_E(l*r))),n<Xb)n=Xb;else if(l>=CPe||n>QE)return null;var h=Math.pow(2,n),d=t.h*h,p=t.w*h,f=s.eleTextBiggerThanMin(e,h);if(!this.isVisible(e,f))return null;var g=u.get(e,n);if(g&&g.invalidated&&(g.invalidated=!1,g.texture.invalidatedWidth-=g.width),g)return g;var m;if(d<=Ej?m=Ej:d<=Wb?m=Wb:m=Math.ceil(d/Wb)*Wb,d>LPe||p>APe)return null;var y=a.getTextureQueue(m),b=y[y.length-2],v=o(function(){return a.recycleTexture(m,p)||a.addTexture(m,p)},"addNewTxr");b||(b=y[y.length-1]),b||(b=v()),b.width-b.usedWidth<p&&(b=v());for(var x=o(function(B){return B&&B.scaledLabelShown===f},"scalableFrom"),w=i&&i===Fg.dequeue,E=i&&i===Fg.highQuality,A=i&&i===Fg.downscale,N,L=n+1;L<=QE;L++){var C=u.get(e,L);if(C){N=C;break}}var D=N&&N.level===n+1?N:null,P=o(function(){b.context.drawImage(D.texture.canvas,D.x,0,D.width,D.height,b.usedWidth,0,p,d)},"downscale");if(b.context.setTransform(1,0,0,1,0,0),b.context.clearRect(b.usedWidth,0,p,m),x(D))P();else if(x(N))if(E){for(var O=N.level;O>n;O--)D=a.getElement(e,t,r,O,Fg.downscale);P()}else return a.queueElement(e,N.level-1),N;else{var I;if(!w&&!E&&!A)for(var q=n-1;q>=Xb;q--){var S=u.get(e,q);if(S){I=S;break}}if(x(I))return a.queueElement(e,n),I;b.context.translate(b.usedWidth,0),b.context.scale(h,h),this.drawElement(b.context,e,t,f,!1),b.context.scale(1/h,1/h),b.context.translate(-b.usedWidth,0)}return g={x:b.usedWidth,texture:b,level:n,scale:h,width:p,height:d,scaledLabelShown:f},b.usedWidth+=Math.ceil(p+_Pe),b.eleCaches.push(g),u.set(e,n,g),a.checkTextureFullness(b),g},as.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},as.invalidateElement=function(e){var t=this,r=t.lookup,n=[],i=r.isInvalid(e);if(i){for(var a=Xb;a<=QE;a++){var s=r.getForCachedKey(e,a);s&&n.push(s)}var l=r.invalidate(e);if(l)for(var u=0;u<n.length;u++){var h=n[u],d=h.texture;d.invalidatedWidth+=h.width,h.invalidated=!0,t.checkTextureUtility(d)}t.removeFromQueue(e)}},as.checkTextureUtility=function(e){e.invalidatedWidth>=NPe*e.width&&this.retireTexture(e)},as.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>MPe&&e.fullnessChecks>=IPe?R0(r,e):e.fullnessChecks++},as.retireTexture=function(e){var t=this,r=e.height,n=t.getTextureQueue(r),i=this.lookup;R0(n,e),e.retired=!0;for(var a=e.eleCaches,s=0;s<a.length;s++){var l=a[s];i.deleteCache(l.key,l.level)}EE(a);var u=t.getRetiredTextureQueue(r);u.push(e)},as.addTexture=function(e,t){var r=this,n=r.getTextureQueue(e),i={};return n.push(i),i.eleCaches=[],i.height=e,i.width=Math.max(SPe,t),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=r.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i},as.recycleTexture=function(e,t){for(var r=this,n=r.getTextureQueue(e),i=r.getRetiredTextureQueue(e),a=0;a<i.length;a++){var s=i[a];if(s.width>=t)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,EE(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),R0(i,s),n.push(s),s}},as.queueElement=function(e,t){var r=this,n=r.getElementQueue(),i=r.getElementKeyToQueue(),a=this.getKey(e),s=i[a];if(s)s.level=Math.max(s.level,t),s.eles.merge(e),s.reqs++,n.updateItem(s);else{var l={eles:e.spawn().merge(e),level:t,reqs:1,key:a};n.push(l),i[a]=l}},as.dequeue=function(e){for(var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),i=[],a=t.lookup,s=0;s<FPe&&r.size()>0;s++){var l=r.pop(),u=l.key,h=l.eles[0],d=a.hasCache(h,l.level);if(n[u]=null,!d){i.push(l);var p=t.getBoundingBox(h);t.getElement(h,p,e,l.level,Fg.dequeue)}}return i},as.removeFromQueue=function(e){var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),i=this.getKey(e),a=n[i];a!=null&&(a.eles.length===1?(a.reqs=kE,r.updateItem(a),r.pop(),n[i]=null):a.eles.unmerge(e))},as.onDequeue=function(e){this.onDequeues.push(e)},as.offDequeue=function(e){R0(this.onDequeues,e)},as.setupDequeueing=Tj.setupDequeueing({deqRedrawThreshold:BPe,deqCost:DPe,deqAvgCost:RPe,deqNoDrawCost:OPe,deqFastCost:PPe,deq:o(function(e,t,r){return e.dequeue(t,r)},"deq"),onDeqd:o(function(e,t){for(var r=0;r<e.onDequeues.length;r++){var n=e.onDequeues[r];n(t)}},"onDeqd"),shouldRedraw:o(function(e,t,r,n){for(var i=0;i<t.length;i++)for(var a=t[i].eles,s=0;s<a.length;s++){var l=a[s].boundingBox();if(SE(l,n))return!0}return!1},"shouldRedraw"),priority:o(function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq},"priority")}),zPe=1,fy=-4,Kb=2,qPe=3.99,GPe=50,YPe=50,jPe=.15,HPe=.1,UPe=.9,VPe=.9,WPe=1,Cj=250,XPe=4e3*4e3,KPe=!0,_j=o(function(e){var t=this,r=t.renderer=e,n=r.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=bh()-2*Cj,t.skipping=!1,t.eleTxrDeqs=n.collection(),t.scheduleElementRefinement=cb(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},YPe),r.beforeRender(function(a,s){s-t.lastInvalidationTime<=Cj?t.skipping=!0:t.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var i=o(function(a,s){return s.reqs-a.reqs},"qSort");t.layersQueue=new Q2(i),t.setupDequeueing()},"LayeredTextureCache"),Gs=_j.prototype,Sj=0,ZPe=Math.pow(2,53)-1,Gs.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),i=Math.ceil(e.h*r),a=this.renderer.makeOffscreenCanvas(n,i),s={id:Sj=++Sj%ZPe,bb:e,level:t,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},l=s.context,u=-s.bb.x1,h=-s.bb.y1;return l.scale(r,r),l.translate(u,h),s},Gs.getLayers=function(e,t,r){var n=this,i=n.renderer,a=i.cy,s=a.zoom(),l=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(_E(s*t)),r<fy)r=fy;else if(s>=qPe||r>Kb)return null}n.validateLayersElesOrdering(r,e);var u=n.layersByLevel,h=Math.pow(2,r),d=u[r]=u[r]||[],p,f=n.levelIsComplete(r,e),g,m=o(function(){var D=o(function(q){if(n.validateLayersElesOrdering(q,e),n.levelIsComplete(q,e))return g=u[q],!0},"canUseAsTmpLvl"),P=o(function(q){if(!g)for(var S=r+q;fy<=S&&S<=Kb&&!D(S);S+=q);},"checkLvls");P(1),P(-1);for(var O=d.length-1;O>=0;O--){var I=d[O];I.invalid&&R0(d,I)}},"checkTempLevels");if(!f)m();else return d;var y=o(function(){if(!p){p=nl();for(var D=0;D<e.length;D++)UG(p,e[D].boundingBox())}return p},"getBb"),b=o(function(D){D=D||{};var P=D.after;y();var O=p.w*h*(p.h*h);if(O>XPe)return null;var I=n.makeLayer(p,r);if(P!=null){var q=d.indexOf(P)+1;d.splice(q,0,I)}else(D.insert===void 0||D.insert)&&d.unshift(I);return I},"makeLayer");if(n.skipping&&!l)return null;for(var v=null,x=e.length/zPe,w=!l,E=0;E<e.length;E++){var A=e[E],N=A._private.rscratch,L=N.imgLayerCaches=N.imgLayerCaches||{},C=L[r];if(C){v=C;continue}if((!v||v.eles.length>=x||!WG(v.bb,A.boundingBox()))&&(v=b({insert:!0,after:v}),!v))return null;g||w?n.queueLayer(v,A):n.drawEleInLayer(v,A,r,t),v.eles.push(A),L[r]=v}return g||(w?null:d)},Gs.getEleLevelForLayerLevel=function(e,t){return e},Gs.drawEleInLayer=function(e,t,r,n){var i=this,a=this.renderer,s=e.context,l=t.boundingBox();l.w===0||l.h===0||!t.visible()||(r=i.getEleLevelForLayerLevel(r,n),a.setImgSmoothing(s,!1),a.drawCachedElement(s,t,null,null,r,KPe),a.setImgSmoothing(s,!0))},Gs.levelIsComplete=function(e,t){var r=this,n=r.layersByLevel[e];if(!n||n.length===0)return!1;for(var i=0,a=0;a<n.length;a++){var s=n[a];if(s.reqs>0||s.invalid)return!1;i+=s.eles.length}return i===t.length},Gs.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,s=0;s<t.length;s++)if(i.eles[0]===t[s]){a=s;break}if(a<0){this.invalidateLayer(i);continue}for(var l=a,s=0;s<i.eles.length;s++)if(i.eles[s]!==t[l+s]){this.invalidateLayer(i);break}}},Gs.updateElementsInLayers=function(e,t){for(var r=this,n=Y2(e[0]),i=0;i<e.length;i++)for(var a=n?null:e[i],s=n?e[i]:e[i].ele,l=s._private.rscratch,u=l.imgLayerCaches=l.imgLayerCaches||{},h=fy;h<=Kb;h++){var d=u[h];d&&(a&&r.getEleLevelForLayerLevel(d.level)!==a.level||t(d,s,a))}},Gs.haveLayers=function(){for(var e=this,t=!1,r=fy;r<=Kb;r++){var n=e.layersByLevel[r];if(n&&n.length>0){t=!0;break}}return t},Gs.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=bh(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,o(function(r,n,i){t.invalidateLayer(r)},"invalAssocLayers")))},Gs.invalidateLayer=function(e){if(this.lastInvalidationTime=bh(),!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];R0(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}},Gs.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,o(function(r,n,i){var a=r.replacement;if(a||(a=r.replacement=t.makeLayer(r.bb,r.level),a.replaces=r,a.eles=r.eles),!a.reqs)for(var s=0;s<a.eles.length;s++)t.queueLayer(a,a.eles[s])},"refineEachEle"))},Gs.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},Gs.queueLayer=function(e,t){var r=this,n=r.layersQueue,i=e.elesQueue,a=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(a[t.id()])return;i.push(t),a[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},Gs.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],i=0;i<WPe&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var s=a.elesQueue.shift();s&&(t.drawEleInLayer(a,s,a.level,e),i++),n.length===0&&n.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}return n},Gs.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],n=e.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=e;for(var a=0;a<e.eles.length;a++){var s=e.eles[a]._private,l=s.imgLayerCaches=s.imgLayerCaches||{};l&&(l[e.level]=e)}t.requestRedraw()}},Gs.requestRedraw=cb(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),Gs.setupDequeueing=Tj.setupDequeueing({deqRedrawThreshold:GPe,deqCost:jPe,deqAvgCost:HPe,deqNoDrawCost:UPe,deqFastCost:VPe,deq:o(function(e,t){return e.dequeue(t)},"deq"),onDeqd:TE,shouldRedraw:FG,priority:o(function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq},"priority")}),Aj={},o(NNe,"polygon"),o(MNe,"triangleBackcurve"),o(pG,"triangleTee"),o(INe,"circleTriangle"),o(DNe,"circle"),Aj.arrowShapeImpl=function(e){return(QPe||(QPe={polygon:NNe,"triangle-backcurve":MNe,"triangle-tee":pG,"circle-triangle":INe,"triangle-cross":pG,circle:DNe}))[e]},Au={},Au.drawElement=function(e,t,r,n,i,a){var s=this;t.isNode()?s.drawNode(e,t,r,n,i,a):s.drawEdge(e,t,r,n,i,a)},Au.drawElementOverlay=function(e,t){var r=this;t.isNode()?r.drawNodeOverlay(e,t):r.drawEdgeOverlay(e,t)},Au.drawElementUnderlay=function(e,t){var r=this;t.isNode()?r.drawNodeUnderlay(e,t):r.drawEdgeUnderlay(e,t)},Au.drawCachedElementPortion=function(e,t,r,n,i,a,s,l){var u=this,h=r.getBoundingBox(t);if(!(h.w===0||h.h===0)){var d=r.getElement(t,h,n,i,a);if(d!=null){var p=l(u,t);if(p===0)return;var f=s(u,t),g=h.x1,m=h.y1,y=h.w,b=h.h,v,x,w,E,A;if(f!==0){var N=r.getRotationPoint(t);w=N.x,E=N.y,e.translate(w,E),e.rotate(f),A=u.getImgSmoothing(e),A||u.setImgSmoothing(e,!0);var L=r.getRotationOffset(t);v=L.x,x=L.y}else v=g,x=m;var C;p!==1&&(C=e.globalAlpha,e.globalAlpha=C*p),e.drawImage(d.texture.canvas,d.x,0,d.width,d.height,v,x,y,b),p!==1&&(e.globalAlpha=C),f!==0&&(e.rotate(-f),e.translate(-w,-E),A||u.setImgSmoothing(e,!1))}else r.drawElement(e,t)}},JPe=o(function(){return 0},"getZeroRotation"),eBe=o(function(e,t){return e.getTextAngle(t,null)},"getLabelRotation"),tBe=o(function(e,t){return e.getTextAngle(t,"source")},"getSourceLabelRotation"),rBe=o(function(e,t){return e.getTextAngle(t,"target")},"getTargetLabelRotation"),nBe=o(function(e,t){return t.effectiveOpacity()},"getOpacity"),JE=o(function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()},"getTextOpacity"),Au.drawCachedElement=function(e,t,r,n,i,a){var s=this,l=s.data,u=l.eleTxrCache,h=l.lblTxrCache,d=l.slbTxrCache,p=l.tlbTxrCache,f=t.boundingBox(),g=a===!0?u.reasons.highQuality:null;if(!(f.w===0||f.h===0||!t.visible())&&(!n||SE(f,n))){var m=t.isEdge(),y=t.element()._private.rscratch.badLine;s.drawElementUnderlay(e,t),s.drawCachedElementPortion(e,t,u,r,i,g,JPe,nBe),(!m||!y)&&s.drawCachedElementPortion(e,t,h,r,i,g,eBe,JE),m&&!y&&(s.drawCachedElementPortion(e,t,d,r,i,g,tBe,JE),s.drawCachedElementPortion(e,t,p,r,i,g,rBe,JE)),s.drawElementOverlay(e,t)}},Au.drawElements=function(e,t){for(var r=this,n=0;n<t.length;n++){var i=t[n];r.drawElement(e,i)}},Au.drawCachedElements=function(e,t,r,n){for(var i=this,a=0;a<t.length;a++){var s=t[a];i.drawCachedElement(e,s,r,n)}},Au.drawCachedNodes=function(e,t,r,n){for(var i=this,a=0;a<t.length;a++){var s=t[a];s.isNode()&&i.drawCachedElement(e,s,r,n)}},Au.drawLayeredElements=function(e,t,r,n){var i=this,a=i.data.lyrTxrCache.getLayers(t,r);if(a)for(var s=0;s<a.length;s++){var l=a[s],u=l.bb;u.w===0||u.h===0||e.drawImage(l.canvas,u.x1,u.y1,u.w,u.h)}else i.drawCachedElements(e,t,r,n)},Eh={},Eh.drawEdge=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,l=t._private.rscratch;if(!(a&&!t.visible())&&!(l.badLine||l.allpts==null||isNaN(l.allpts[0]))){var u;r&&(u=r,e.translate(-u.x1,-u.y1));var h=a?t.pstyle("opacity").value:1,d=a?t.pstyle("line-opacity").value:1,p=t.pstyle("curve-style").value,f=t.pstyle("line-style").value,g=t.pstyle("width").pfValue,m=t.pstyle("line-cap").value,y=t.pstyle("line-outline-width").value,b=t.pstyle("line-outline-color").value,v=h*d,x=h*d,w=o(function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;p==="straight-triangle"?(s.eleStrokeStyle(e,t,S),s.drawEdgeTrianglePath(t,e,l.allpts)):(e.lineWidth=g,e.lineCap=m,s.eleStrokeStyle(e,t,S),s.drawEdgePath(t,e,l.allpts,f),e.lineCap="butt")},"drawLine"),E=o(function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v;if(e.lineWidth=g+y,e.lineCap=m,y>0)s.colorStrokeStyle(e,b[0],b[1],b[2],S);else{e.lineCap="butt";return}p==="straight-triangle"?s.drawEdgeTrianglePath(t,e,l.allpts):(s.drawEdgePath(t,e,l.allpts,f),e.lineCap="butt")},"drawLineOutline"),A=o(function(){i&&s.drawEdgeOverlay(e,t)},"drawOverlay"),N=o(function(){i&&s.drawEdgeUnderlay(e,t)},"drawUnderlay"),L=o(function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;s.drawArrowheads(e,t,S)},"drawArrows"),C=o(function(){s.drawElementText(e,t,null,n)},"drawText");e.lineJoin="round";var D=t.pstyle("ghost").value==="yes";if(D){var P=t.pstyle("ghost-offset-x").pfValue,O=t.pstyle("ghost-offset-y").pfValue,I=t.pstyle("ghost-opacity").value,q=v*I;e.translate(P,O),w(q),L(q),e.translate(-P,-O)}else E();N(),w(),L(),A(),C(),r&&e.translate(u.x1,u.y1)}},Lj=o(function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r){if(r.visible()){var n=r.pstyle("".concat(e,"-opacity")).value;if(n!==0){var i=this,a=i.usePaths(),s=r._private.rscratch,l=r.pstyle("".concat(e,"-padding")).pfValue,u=2*l,h=r.pstyle("".concat(e,"-color")).value;t.lineWidth=u,s.edgeType==="self"&&!a?t.lineCap="butt":t.lineCap="round",i.colorStrokeStyle(t,h[0],h[1],h[2],n),i.drawEdgePath(r,t,s.allpts,"solid")}}}},"drawEdgeOverlayUnderlay"),Eh.drawEdgeOverlay=Lj("overlay"),Eh.drawEdgeUnderlay=Lj("underlay"),Eh.drawEdgePath=function(e,t,r,n){var i=e._private.rscratch,a=t,s,l=!1,u=this.usePaths(),h=e.pstyle("line-dash-pattern").pfValue,d=e.pstyle("line-dash-offset").pfValue;if(u){var p=r.join("$"),f=i.pathCacheKey&&i.pathCacheKey===p;f?(s=t=i.pathCache,l=!0):(s=t=new Path2D,i.pathCacheKey=p,i.pathCache=s)}if(a.setLineDash)switch(n){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(h),a.lineDashOffset=d;break;case"solid":a.setLineDash([]);break}if(!l&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var g=2;g+3<r.length;g+=4)t.quadraticCurveTo(r[g],r[g+1],r[g+2],r[g+3]);break;case"straight":case"haystack":for(var m=2;m+1<r.length;m+=2)t.lineTo(r[m],r[m+1]);break;case"segments":if(i.isRound){var y=Uq(i.roundCorners),b;try{for(y.s();!(b=y.n()).done;){var v=b.value;hG(t,v)}}catch(w){y.e(w)}finally{y.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var x=2;x+1<r.length;x+=2)t.lineTo(r[x],r[x+1]);break}t=a,u?t.stroke(s):t.stroke(),t.setLineDash&&t.setLineDash([])},Eh.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var n=e.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),l=[a[1]/s,-a[0]/s],u=[l[0]*n/2,l[1]*n/2];t.beginPath(),t.moveTo(r[i]-u[0],r[i+1]-u[1]),t.lineTo(r[i]+u[0],r[i+1]+u[1]),t.lineTo(r[i+2],r[i+3]),t.closePath(),t.fill()}},Eh.drawArrowheads=function(e,t,r){var n=t._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)},Eh.drawArrowhead=function(e,t,r,n,i,a,s){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(a)||a==null)){var l=this,u=t.pstyle(r+"-arrow-shape").value;if(u!=="none"){var h=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",d=t.pstyle(r+"-arrow-fill").value,p=t.pstyle("width").pfValue,f=t.pstyle(r+"-arrow-width"),g=f.value==="match-line"?p:f.pfValue;f.units==="%"&&(g*=p);var m=t.pstyle("opacity").value;s===void 0&&(s=m);var y=e.globalCompositeOperation;(s!==1||d==="hollow")&&(e.globalCompositeOperation="destination-out",l.colorFillStyle(e,255,255,255,1),l.colorStrokeStyle(e,255,255,255,1),l.drawArrowShape(t,e,h,p,u,g,n,i,a),e.globalCompositeOperation=y);var b=t.pstyle(r+"-arrow-color").value;l.colorFillStyle(e,b[0],b[1],b[2],s),l.colorStrokeStyle(e,b[0],b[1],b[2],s),l.drawArrowShape(t,e,d,p,u,g,n,i,a)}}},Eh.drawArrowShape=function(e,t,r,n,i,a,s,l,u){var h=this,d=this.usePaths()&&i!=="triangle-cross",p=!1,f,g=t,m={x:s,y:l},y=e.pstyle("arrow-scale").value,b=this.getArrowWidth(n,y),v=h.arrowShapes[i];if(d){var x=h.arrowPathCache=h.arrowPathCache||[],w=v1(i),E=x[w];E!=null?(f=t=E,p=!0):(f=t=new Path2D,x[w]=f)}p||(t.beginPath&&t.beginPath(),d?v.draw(t,1,0,{x:0,y:0},1):v.draw(t,b,u,m,n),t.closePath&&t.closePath()),t=g,d&&(t.translate(s,l),t.rotate(u),t.scale(b,b)),(r==="filled"||r==="both")&&(d?t.fill(f):t.fill()),(r==="hollow"||r==="both")&&(t.lineWidth=a/(d?b:1),t.lineJoin="miter",d?t.stroke(f):t.stroke()),d&&(t.scale(1/b,1/b),t.rotate(-u),t.translate(-s,-l))},eC={},eC.safeDrawImage=function(e,t,r,n,i,a,s,l,u,h){if(!(i<=0||a<=0||u<=0||h<=0))try{e.drawImage(t,r,n,i,a,s,l,u,h)}catch(d){pi(d)}},eC.drawInscribedImage=function(e,t,r,n,i){var a=this,s=r.position(),l=s.x,u=s.y,h=r.cy().style(),d=h.getIndexedStyle.bind(h),p=d(r,"background-fit","value",n),f=d(r,"background-repeat","value",n),g=r.width(),m=r.height(),y=r.padding()*2,b=g+(d(r,"background-width-relative-to","value",n)==="inner"?0:y),v=m+(d(r,"background-height-relative-to","value",n)==="inner"?0:y),x=r._private.rscratch,w=d(r,"background-clip","value",n),E=w==="node",A=d(r,"background-image-opacity","value",n)*i,N=d(r,"background-image-smoothing","value",n),L=r.pstyle("corner-radius").value;L!=="auto"&&(L=r.pstyle("corner-radius").pfValue);var C=t.width||t.cachedW,D=t.height||t.cachedH;(C==null||D==null)&&(document.body.appendChild(t),C=t.cachedW=t.width||t.offsetWidth,D=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var P=C,O=D;if(d(r,"background-width","value",n)!=="auto"&&(d(r,"background-width","units",n)==="%"?P=d(r,"background-width","pfValue",n)*b:P=d(r,"background-width","pfValue",n)),d(r,"background-height","value",n)!=="auto"&&(d(r,"background-height","units",n)==="%"?O=d(r,"background-height","pfValue",n)*v:O=d(r,"background-height","pfValue",n)),!(P===0||O===0)){if(p==="contain"){var I=Math.min(b/P,v/O);P*=I,O*=I}else if(p==="cover"){var I=Math.max(b/P,v/O);P*=I,O*=I}var q=l-b/2,S=d(r,"background-position-x","units",n),B=d(r,"background-position-x","pfValue",n);S==="%"?q+=(b-P)*B:q+=B;var F=d(r,"background-offset-x","units",n),z=d(r,"background-offset-x","pfValue",n);F==="%"?q+=(b-P)*z:q+=z;var M=u-v/2,G=d(r,"background-position-y","units",n),Y=d(r,"background-position-y","pfValue",n);G==="%"?M+=(v-O)*Y:M+=Y;var V=d(r,"background-offset-y","units",n),X=d(r,"background-offset-y","pfValue",n);V==="%"?M+=(v-O)*X:M+=X,x.pathCache&&(q-=l,M-=u,l=0,u=0);var re=e.globalAlpha;e.globalAlpha=A;var de=a.getImgSmoothing(e),xe=!1;if(N==="no"&&de?(a.setImgSmoothing(e,!1),xe=!0):N==="yes"&&!de&&(a.setImgSmoothing(e,!0),xe=!0),f==="no-repeat")E&&(e.save(),x.pathCache?e.clip(x.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(e,l,u,b,v,L,x),e.clip())),a.safeDrawImage(e,t,0,0,C,D,q,M,P,O),E&&e.restore();else{var he=e.createPattern(t,f);e.fillStyle=he,a.nodeShapes[a.getNodeShape(r)].draw(e,l,u,b,v,L,x),e.translate(q,M),e.fill(),e.translate(-q,-M)}e.globalAlpha=re,xe&&a.setImgSmoothing(e,de)}},A1={},A1.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(_E(r*n));t=Math.pow(2,i)}var a=e.pstyle("font-size").pfValue*t,s=e.pstyle("min-zoomed-font-size").pfValue;return!(a<s)},A1.drawElementText=function(e,t,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(a&&!s.eleTextBiggerThanMin(t))return}else if(n===!1)return;if(t.isNode()){var l=t.pstyle("label");if(!l||!l.value)return;var u=s.getLabelJustification(t);e.textAlign=u,e.textBaseline="bottom"}else{var h=t.element()._private.rscratch.badLine,d=t.pstyle("label"),p=t.pstyle("source-label"),f=t.pstyle("target-label");if(h||(!d||!d.value)&&(!p||!p.value)&&(!f||!f.value))return;e.textAlign="center",e.textBaseline="bottom"}var g=!r,m;r&&(m=r,e.translate(-m.x1,-m.y1)),i==null?(s.drawText(e,t,null,g,a),t.isEdge()&&(s.drawText(e,t,"source",g,a),s.drawText(e,t,"target",g,a))):s.drawText(e,t,i,g,a),r&&e.translate(m.x1,m.y1)},A1.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t},A1.setupTextStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,s=t.pstyle("font-weight").strValue,l=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,u=t.pstyle("text-outline-opacity").value*l,h=t.pstyle("color").value,d=t.pstyle("text-outline-color").value;e.font=n+" "+s+" "+i+" "+a,e.lineJoin="round",this.colorFillStyle(e,h[0],h[1],h[2],l),this.colorStrokeStyle(e,d[0],d[1],d[2],u)},o(yE,"roundRect"),A1.getTextAngle=function(e,t){var r,n=e._private,i=n.rscratch,a=t?t+"-":"",s=e.pstyle(a+"text-rotation"),l=Pc(i,"labelAngle",t);return s.strValue==="autorotate"?r=e.isEdge()?l:0:s.strValue==="none"?r=0:r=s.pfValue,r},A1.drawText=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=t._private,s=a.rscratch,l=i?t.effectiveOpacity():1;if(!(i&&(l===0||t.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=Pc(s,"labelX",r),h=Pc(s,"labelY",r),d,p,f=this.getLabelText(t,r);if(f!=null&&f!==""&&!isNaN(u)&&!isNaN(h)){this.setupTextStyle(e,t,i);var g=r?r+"-":"",m=Pc(s,"labelWidth",r),y=Pc(s,"labelHeight",r),b=t.pstyle(g+"text-margin-x").pfValue,v=t.pstyle(g+"text-margin-y").pfValue,x=t.isEdge(),w=t.pstyle("text-halign").value,E=t.pstyle("text-valign").value;x&&(w="center",E="center"),u+=b,h+=v;var A;switch(n?A=this.getTextAngle(t,r):A=0,A!==0&&(d=u,p=h,e.translate(d,p),e.rotate(A),u=0,h=0),E){case"top":break;case"center":h+=y/2;break;case"bottom":h+=y;break}var N=t.pstyle("text-background-opacity").value,L=t.pstyle("text-border-opacity").value,C=t.pstyle("text-border-width").pfValue,D=t.pstyle("text-background-padding").pfValue,P=t.pstyle("text-background-shape").strValue,O=P.indexOf("round")===0,I=2;if(N>0||C>0&&L>0){var q=u-D;switch(w){case"left":q-=m;break;case"center":q-=m/2;break}var S=h-y-D,B=m+2*D,F=y+2*D;if(N>0){var z=e.fillStyle,M=t.pstyle("text-background-color").value;e.fillStyle="rgba("+M[0]+","+M[1]+","+M[2]+","+N*l+")",O?yE(e,q,S,B,F,I):e.fillRect(q,S,B,F),e.fillStyle=z}if(C>0&&L>0){var G=e.strokeStyle,Y=e.lineWidth,V=t.pstyle("text-border-color").value,X=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+V[0]+","+V[1]+","+V[2]+","+L*l+")",e.lineWidth=C,e.setLineDash)switch(X){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=C/4,e.setLineDash([]);break;case"solid":e.setLineDash([]);break}if(O?yE(e,q,S,B,F,I,"stroke"):e.strokeRect(q,S,B,F),X==="double"){var re=C/2;O?yE(e,q+re,S+re,B-re*2,F-re*2,I,"stroke"):e.strokeRect(q+re,S+re,B-re*2,F-re*2)}e.setLineDash&&e.setLineDash([]),e.lineWidth=Y,e.strokeStyle=G}}var de=2*t.pstyle("text-outline-width").pfValue;if(de>0&&(e.lineWidth=de),t.pstyle("text-wrap").value==="wrap"){var xe=Pc(s,"labelWrapCachedLines",r),he=Pc(s,"labelLineHeight",r),be=m/2,Q=this.getLabelJustification(t);switch(Q==="auto"||(w==="left"?Q==="left"?u+=-m:Q==="center"&&(u+=-be):w==="center"?Q==="left"?u+=-be:Q==="right"&&(u+=be):w==="right"&&(Q==="center"?u+=be:Q==="right"&&(u+=m))),E){case"top":h-=(xe.length-1)*he;break;case"center":case"bottom":h-=(xe.length-1)*he;break}for(var ne=0;ne<xe.length;ne++)de>0&&e.strokeText(xe[ne],u,h),e.fillText(xe[ne],u,h),h+=he}else de>0&&e.strokeText(f,u,h),e.fillText(f,u,h);A!==0&&(e.rotate(-A),e.translate(-d,-p))}}},$g={},$g.drawNode=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,l,u,h=t._private,d=h.rscratch,p=t.position();if(!(!hr(p.x)||!hr(p.y))&&!(a&&!t.visible())){var f=a?t.effectiveOpacity():1,g=s.usePaths(),m,y=!1,b=t.padding();l=t.width()+2*b,u=t.height()+2*b;var v;r&&(v=r,e.translate(-v.x1,-v.y1));for(var x=t.pstyle("background-image"),w=x.value,E=new Array(w.length),A=new Array(w.length),N=0,L=0;L<w.length;L++){var C=w[L],D=E[L]=C!=null&&C!=="none";if(D){var P=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",L);N++,A[L]=s.getCachedImage(C,P,function(){h.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var O=t.pstyle("background-blacken").value,I=t.pstyle("border-width").pfValue,q=t.pstyle("background-opacity").value*f,S=t.pstyle("border-color").value,B=t.pstyle("border-style").value,F=t.pstyle("border-join").value,z=t.pstyle("border-cap").value,M=t.pstyle("border-position").value,G=t.pstyle("border-dash-pattern").pfValue,Y=t.pstyle("border-dash-offset").pfValue,V=t.pstyle("border-opacity").value*f,X=t.pstyle("outline-width").pfValue,re=t.pstyle("outline-color").value,de=t.pstyle("outline-style").value,xe=t.pstyle("outline-opacity").value*f,he=t.pstyle("outline-offset").value,be=t.pstyle("corner-radius").value;be!=="auto"&&(be=t.pstyle("corner-radius").pfValue);var Q=o(function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q;s.eleFillStyle(e,t,st)},"setupShapeColor"),ne=o(function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V;s.colorStrokeStyle(e,S[0],S[1],S[2],st)},"setupBorderColor"),ee=o(function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xe;s.colorStrokeStyle(e,re[0],re[1],re[2],st)},"setupOutlineColor"),pe=o(function(st,ae,ht,fe){var Le=s.nodePathCache=s.nodePathCache||[],Ue=PG(ht==="polygon"?ht+","+fe.join(","):ht,""+ae,""+st,""+be),Ke=Le[Ue],it,qe=!1;return Ke!=null?(it=Ke,qe=!0,d.pathCache=it):(it=new Path2D,Le[Ue]=d.pathCache=it),{path:it,cacheHit:qe}},"getPath"),ie=t.pstyle("shape").strValue,De=t.pstyle("shape-polygon-points").pfValue;if(g){e.translate(p.x,p.y);var se=pe(l,u,ie,De);m=se.path,y=se.cacheHit}var je=o(function(){if(!y){var st=p;g&&(st={x:0,y:0}),s.nodeShapes[s.getNodeShape(t)].draw(m||e,st.x,st.y,l,u,be,d)}g?e.fill(m):e.fill()},"drawShape"),ge=o(function(){for(var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ht=h.backgrounding,fe=0,Le=0;Le<A.length;Le++){var Ue=t.cy().style().getIndexedStyle(t,"background-image-containment","value",Le);if(ae&&Ue==="over"||!ae&&Ue==="inside"){fe++;continue}E[Le]&&A[Le].complete&&!A[Le].error&&(fe++,s.drawInscribedImage(e,A[Le],t,Le,st))}h.backgrounding=fe!==N,ht!==h.backgrounding&&t.updateStyle(!1)},"drawImages"),rt=o(function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f;s.hasPie(t)&&(s.drawPie(e,t,ae),st&&(g||s.nodeShapes[s.getNodeShape(t)].draw(e,p.x,p.y,l,u,be,d)))},"drawPie"),Qe=o(function(){var st=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f,ae=(O>0?O:-O)*st,ht=O>0?0:255;O!==0&&(s.colorFillStyle(e,ht,ht,ht,ae),g?e.fill(m):e.fill())},"darken"),tt=o(function(){if(I>0){if(e.lineWidth=I,e.lineCap=z,e.lineJoin=F,e.setLineDash)switch(B){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(G),e.lineDashOffset=Y;break;case"solid":case"double":e.setLineDash([]);break}if(M!=="center"){if(e.save(),e.lineWidth*=2,M==="inside")g?e.clip(m):e.clip();else{var st=new Path2D;st.rect(-l/2-I,-u/2-I,l+2*I,u+2*I),st.addPath(m),e.clip(st,"evenodd")}g?e.stroke(m):e.stroke(),e.restore()}else g?e.stroke(m):e.stroke();if(B==="double"){e.lineWidth=I/3;var ae=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(m):e.stroke(),e.globalCompositeOperation=ae}e.setLineDash&&e.setLineDash([])}},"drawBorder"),mt=o(function(){if(X>0){if(e.lineWidth=X,e.lineCap="butt",e.setLineDash)switch(de){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var st=p;g&&(st={x:0,y:0});var ae=s.getNodeShape(t),ht=I;M==="inside"&&(ht=0),M==="outside"&&(ht*=2);var fe=(l+ht+(X+he))/l,Le=(u+ht+(X+he))/u,Ue=l*fe,Ke=u*Le,it=s.nodeShapes[ae].points,qe;if(g){var xt=pe(Ue,Ke,ae,it);qe=xt.path}if(ae==="ellipse")s.drawEllipsePath(qe||e,st.x,st.y,Ue,Ke);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ae)){var at=0,jt=0,mr=0;ae==="round-diamond"?at=(ht+he+X)*1.4:ae==="round-heptagon"?(at=(ht+he+X)*1.075,mr=-(ht/2+he+X)/35):ae==="round-hexagon"?at=(ht+he+X)*1.12:ae==="round-pentagon"?(at=(ht+he+X)*1.13,mr=-(ht/2+he+X)/15):ae==="round-tag"?(at=(ht+he+X)*1.12,jt=(ht/2+X+he)*.07):ae==="round-triangle"&&(at=(ht+he+X)*(Math.PI/2),mr=-(ht+he/2+X)/Math.PI),at!==0&&(fe=(l+at)/l,Ue=l*fe,["round-hexagon","round-tag"].includes(ae)||(Le=(u+at)/u,Ke=u*Le)),be=be==="auto"?ZG(Ue,Ke):be;for(var cr=Ue/2,Zt=Ke/2,vr=be+(ht+X+he)/2,Gt=new Array(it.length/2),Tt=new Array(it.length/2),wt=0;wt<it.length/2;wt++)Gt[wt]={x:st.x+jt+cr*it[wt*2],y:st.y+mr+Zt*it[wt*2+1]};var pr,Mt,Rr,Cr,Kt=Gt.length;for(Mt=Gt[Kt-1],pr=0;pr<Kt;pr++)Rr=Gt[pr%Kt],Cr=Gt[(pr+1)%Kt],Tt[pr]=mE(Mt,Rr,Cr,vr),Mt=Rr,Rr=Cr;s.drawRoundPolygonPath(qe||e,st.x+jt,st.y+mr,l*fe,u*Le,it,Tt)}else if(["roundrectangle","round-rectangle"].includes(ae))be=be==="auto"?k1(Ue,Ke):be,s.drawRoundRectanglePath(qe||e,st.x,st.y,Ue,Ke,be+(ht+X+he)/2);else if(["cutrectangle","cut-rectangle"].includes(ae))be=be==="auto"?NE():be,s.drawCutRectanglePath(qe||e,st.x,st.y,Ue,Ke,null,be+(ht+X+he)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ae))be=be==="auto"?k1(Ue,Ke):be,s.drawBottomRoundRectanglePath(qe||e,st.x,st.y,Ue,Ke,be+(ht+X+he)/2);else if(ae==="barrel")s.drawBarrelPath(qe||e,st.x,st.y,Ue,Ke);else if(ae.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ae)){var Xt=(ht+X+he)/l;it=vb(bb(it,Xt)),s.drawPolygonPath(qe||e,st.x,st.y,l,u,it)}else{var Ft=(ht+X+he)/l;it=vb(bb(it,-Ft)),s.drawPolygonPath(qe||e,st.x,st.y,l,u,it)}if(g?e.stroke(qe):e.stroke(),de==="double"){e.lineWidth=ht/3;var Tr=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(qe):e.stroke(),e.globalCompositeOperation=Tr}e.setLineDash&&e.setLineDash([])}},"drawOutline"),yt=o(function(){i&&s.drawNodeOverlay(e,t,p,l,u)},"drawOverlay"),Nt=o(function(){i&&s.drawNodeUnderlay(e,t,p,l,u)},"drawUnderlay"),kt=o(function(){s.drawElementText(e,t,null,n)},"drawText"),te=t.pstyle("ghost").value==="yes";if(te){var Ne=t.pstyle("ghost-offset-x").pfValue,Ce=t.pstyle("ghost-offset-y").pfValue,Fe=t.pstyle("ghost-opacity").value,oe=Fe*f;e.translate(Ne,Ce),ee(),mt(),Q(Fe*q),je(),ge(oe,!0),ne(Fe*V),tt(),rt(O!==0||I!==0),ge(oe,!1),Qe(oe),e.translate(-Ne,-Ce)}g&&e.translate(-p.x,-p.y),Nt(),g&&e.translate(p.x,p.y),ee(),mt(),Q(),je(),ge(f,!0),ne(),tt(),rt(O!==0||I!==0),ge(f,!1),Qe(),g&&e.translate(-p.x,-p.y),kt(),yt(),r&&e.translate(v.x1,v.y1)}},Nj=o(function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r,n,i,a){var s=this;if(r.visible()){var l=r.pstyle("".concat(e,"-padding")).pfValue,u=r.pstyle("".concat(e,"-opacity")).value,h=r.pstyle("".concat(e,"-color")).value,d=r.pstyle("".concat(e,"-shape")).value,p=r.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(n=n||r.position(),i==null||a==null){var f=r.padding();i=r.width()+2*f,a=r.height()+2*f}s.colorFillStyle(t,h[0],h[1],h[2],u),s.nodeShapes[d].draw(t,n.x,n.y,i+l*2,a+l*2,p),t.fill()}}}},"drawNodeOverlayUnderlay"),$g.drawNodeOverlay=Nj("overlay"),$g.drawNodeUnderlay=Nj("underlay"),$g.hasPie=function(e){return e=e[0],e._private.hasPie},$g.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var i=t.cy().style(),a=t.pstyle("pie-size"),s=n.x,l=n.y,u=t.width(),h=t.height(),d=Math.min(u,h)/2,p=0,f=this.usePaths();f&&(s=0,l=0),a.units==="%"?d=d*a.pfValue:a.pfValue!==void 0&&(d=a.pfValue/2);for(var g=1;g<=i.pieBackgroundN;g++){var m=t.pstyle("pie-"+g+"-background-size").value,y=t.pstyle("pie-"+g+"-background-color").value,b=t.pstyle("pie-"+g+"-background-opacity").value*r,v=m/100;v+p>1&&(v=1-p);var x=1.5*Math.PI+2*Math.PI*p,w=2*Math.PI*v,E=x+w;m===0||p>=1||p+v>1||(e.beginPath(),e.moveTo(s,l),e.arc(s,l,d,x,E),e.closePath(),this.colorFillStyle(e,y[0],y[1],y[2],b),e.fill(),p+=v)}},Ml={},iBe=100,Ml.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r},Ml.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],r=!0,n,i=0;i<t.length;i++)if(n=t[i],n.context===e){r=!1;break}return r&&(n={context:e},t.push(n)),n},Ml.createGradientStyleFor=function(e,t,r,n,i){var a,s=this.usePaths(),l=r.pstyle(t+"-gradient-stop-colors").value,u=r.pstyle(t+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var h=r.sourceEndpoint(),d=r.targetEndpoint(),p=r.midpoint(),f=b1(h,p),g=b1(d,p);a=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(f,g))}else{var m=s?{x:0,y:0}:r.position(),y=r.paddedWidth(),b=r.paddedHeight();a=e.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(y,b))}else if(r.isEdge()){var v=r.sourceEndpoint(),x=r.targetEndpoint();a=e.createLinearGradient(v.x,v.y,x.x,x.y)}else{var w=s?{x:0,y:0}:r.position(),E=r.paddedWidth(),A=r.paddedHeight(),N=E/2,L=A/2,C=r.pstyle("background-gradient-direction").value;switch(C){case"to-bottom":a=e.createLinearGradient(w.x,w.y-L,w.x,w.y+L);break;case"to-top":a=e.createLinearGradient(w.x,w.y+L,w.x,w.y-L);break;case"to-left":a=e.createLinearGradient(w.x+N,w.y,w.x-N,w.y);break;case"to-right":a=e.createLinearGradient(w.x-N,w.y,w.x+N,w.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(w.x-N,w.y-L,w.x+N,w.y+L);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(w.x-N,w.y+L,w.x+N,w.y-L);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(w.x+N,w.y-L,w.x-N,w.y+L);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(w.x+N,w.y+L,w.x-N,w.y-L);break}}if(!a)return null;for(var D=u.length===l.length,P=l.length,O=0;O<P;O++)a.addColorStop(D?u[O]:O/(P-1),"rgba("+l[O][0]+","+l[O][1]+","+l[O][2]+","+i+")");return a},Ml.gradientFillStyle=function(e,t,r,n){var i=this.createGradientStyleFor(e,"background",t,r,n);if(!i)return null;e.fillStyle=i},Ml.colorFillStyle=function(e,t,r,n,i){e.fillStyle="rgba("+t+","+r+","+n+","+i+")"},Ml.eleFillStyle=function(e,t,r){var n=t.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(e,t,n,r);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],r)}},Ml.gradientStrokeStyle=function(e,t,r,n){var i=this.createGradientStyleFor(e,"line",t,r,n);if(!i)return null;e.strokeStyle=i},Ml.colorStrokeStyle=function(e,t,r,n,i){e.strokeStyle="rgba("+t+","+r+","+n+","+i+")"},Ml.eleStrokeStyle=function(e,t,r){var n=t.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(e,t,n,r);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],r)}},Ml.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),i=n[2],a=n[3],s=t.getPixelRatio(),l=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(s=l);var u=i*s,h=a*s,d;if(!(u===t.canvasWidth&&h===t.canvasHeight)){t.fontCaches=null;var p=r.canvasContainer;p.style.width=i+"px",p.style.height=a+"px";for(var f=0;f<t.CANVAS_LAYERS;f++)d=r.canvases[f],d.width=u,d.height=h,d.style.width=i+"px",d.style.height=a+"px";for(var f=0;f<t.BUFFER_COUNT;f++)d=r.bufferCanvases[f],d.width=u,d.height=h,d.style.width=i+"px",d.style.height=a+"px";t.textureMult=1,s<=1&&(d=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,d.width=u*t.textureMult,d.height=h*t.textureMult),t.canvasWidth=u,t.canvasHeight=h}},Ml.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})},Ml.render=function(e){e=e||GG();var t=e.forcedContext,r=e.drawAllLayers,n=e.drawOnlyNodeLayer,i=e.forcedZoom,a=e.forcedPan,s=this,l=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,u=s.cy,h=s.data,d=h.canvasNeedsRedraw,p=s.textureOnViewport&&!t&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),f=e.motionBlur!==void 0?e.motionBlur:s.motionBlur,g=s.motionBlurPxRatio,m=u.hasCompoundNodes(),y=s.hoverData.draggingEles,b=!!(s.hoverData.selecting||s.touchData.selecting);f=f&&!t&&s.motionBlurEnabled&&!b;var v=f;t||(s.prevPxRatio!==l&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=l),!t&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),f&&(s.mbFrames==null&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(v=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!p&&(d[s.NODE]=!0,d[s.SELECT_BOX]=!0);var x=u.style(),w=u.zoom(),E=i!==void 0?i:w,A=u.pan(),N={x:A.x,y:A.y},L={zoom:w,pan:{x:A.x,y:A.y}},C=s.prevViewport,D=C===void 0||L.zoom!==C.zoom||L.pan.x!==C.pan.x||L.pan.y!==C.pan.y;!D&&!(y&&!m)&&(s.motionBlurPxRatio=1),a&&(N=a),E*=l,N.x*=l,N.y*=l;var P=s.getCachedZSortedEles();function O(se,je,ge,rt,Qe){var tt=se.globalCompositeOperation;se.globalCompositeOperation="destination-out",s.colorFillStyle(se,255,255,255,s.motionBlurTransparency),se.fillRect(je,ge,rt,Qe),se.globalCompositeOperation=tt}o(O,"mbclear");function I(se,je){var ge,rt,Qe,tt;!s.clearingMotionBlur&&(se===h.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]||se===h.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG])?(ge={x:A.x*g,y:A.y*g},rt=w*g,Qe=s.canvasWidth*g,tt=s.canvasHeight*g):(ge=N,rt=E,Qe=s.canvasWidth,tt=s.canvasHeight),se.setTransform(1,0,0,1,0,0),je==="motionBlur"?O(se,0,0,Qe,tt):!t&&(je===void 0||je)&&se.clearRect(0,0,Qe,tt),r||(se.translate(ge.x,ge.y),se.scale(rt,rt)),a&&se.translate(a.x,a.y),i&&se.scale(i,i)}if(o(I,"setContextTransform"),p||(s.textureDrawLastFrame=!1),p){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=u.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var q=s.data.bufferContexts[s.TEXTURE_BUFFER];q.setTransform(1,0,0,1,0,0),q.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:q,drawOnlyNodeLayer:!0,forcedPxRatio:l*s.textureMult});var L=s.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:s.canvasWidth,height:s.canvasHeight};L.mpan={x:(0-L.pan.x)/L.zoom,y:(0-L.pan.y)/L.zoom}}d[s.DRAG]=!1,d[s.NODE]=!1;var S=h.contexts[s.NODE],B=s.textureCache.texture,L=s.textureCache.viewport;S.setTransform(1,0,0,1,0,0),f?O(S,0,0,L.width,L.height):S.clearRect(0,0,L.width,L.height);var F=x.core("outside-texture-bg-color").value,z=x.core("outside-texture-bg-opacity").value;s.colorFillStyle(S,F[0],F[1],F[2],z),S.fillRect(0,0,L.width,L.height);var w=u.zoom();I(S,!1),S.clearRect(L.mpan.x,L.mpan.y,L.width/L.zoom/l,L.height/L.zoom/l),S.drawImage(B,L.mpan.x,L.mpan.y,L.width/L.zoom/l,L.height/L.zoom/l)}else s.textureOnViewport&&!t&&(s.textureCache=null);var M=u.extent(),G=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles||s.cy.animated(),Y=s.hideEdgesOnViewport&&G,V=[];if(V[s.NODE]=!d[s.NODE]&&f&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,V[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),V[s.DRAG]=!d[s.DRAG]&&f&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,V[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),d[s.NODE]||r||n||V[s.NODE]){var X=f&&!V[s.NODE]&&g!==1,S=t||(X?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:h.contexts[s.NODE]),re=f&&!X?"motionBlur":void 0;I(S,re),Y?s.drawCachedNodes(S,P.nondrag,l,M):s.drawLayeredElements(S,P.nondrag,l,M),s.debug&&s.drawDebugPoints(S,P.nondrag),!r&&!f&&(d[s.NODE]=!1)}if(!n&&(d[s.DRAG]||r||V[s.DRAG])){var X=f&&!V[s.DRAG]&&g!==1,S=t||(X?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:h.contexts[s.DRAG]);I(S,f&&!X?"motionBlur":void 0),Y?s.drawCachedNodes(S,P.drag,l,M):s.drawCachedElements(S,P.drag,l,M),s.debug&&s.drawDebugPoints(S,P.drag),!r&&!f&&(d[s.DRAG]=!1)}if(s.showFps||!n&&d[s.SELECT_BOX]&&!r){var S=t||h.contexts[s.SELECT_BOX];if(I(S),s.selection[4]==1&&(s.hoverData.selecting||s.touchData.selecting)){var w=s.cy.zoom(),de=x.core("selection-box-border-width").value/w;S.lineWidth=de,S.fillStyle="rgba("+x.core("selection-box-color").value[0]+","+x.core("selection-box-color").value[1]+","+x.core("selection-box-color").value[2]+","+x.core("selection-box-opacity").value+")",S.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),de>0&&(S.strokeStyle="rgba("+x.core("selection-box-border-color").value[0]+","+x.core("selection-box-border-color").value[1]+","+x.core("selection-box-border-color").value[2]+","+x.core("selection-box-opacity").value+")",S.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(h.bgActivePosistion&&!s.hoverData.selecting){var w=s.cy.zoom(),xe=h.bgActivePosistion;S.fillStyle="rgba("+x.core("active-bg-color").value[0]+","+x.core("active-bg-color").value[1]+","+x.core("active-bg-color").value[2]+","+x.core("active-bg-opacity").value+")",S.beginPath(),S.arc(xe.x,xe.y,x.core("active-bg-size").pfValue/w,0,2*Math.PI),S.fill()}var he=s.lastRedrawTime;if(s.showFps&&he){he=Math.round(he);var be=Math.round(1e3/he);S.setTransform(1,0,0,1,0,0),S.fillStyle="rgba(255, 0, 0, 0.75)",S.strokeStyle="rgba(255, 0, 0, 0.75)",S.lineWidth=1,S.fillText("1 frame = "+he+" ms = "+be+" fps",0,20);var Q=60;S.strokeRect(0,30,250,20),S.fillRect(0,30,250*Math.min(be/Q,1),20)}r||(d[s.SELECT_BOX]=!1)}if(f&&g!==1){var ne=h.contexts[s.NODE],ee=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],pe=h.contexts[s.DRAG],ie=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],De=o(function(se,je,ge){se.setTransform(1,0,0,1,0,0),ge||!v?se.clearRect(0,0,s.canvasWidth,s.canvasHeight):O(se,0,0,s.canvasWidth,s.canvasHeight);var rt=g;se.drawImage(je,0,0,s.canvasWidth*rt,s.canvasHeight*rt,0,0,s.canvasWidth,s.canvasHeight)},"drawMotionBlur");(d[s.NODE]||V[s.NODE])&&(De(ne,ee,V[s.NODE]),d[s.NODE]=!1),(d[s.DRAG]||V[s.DRAG])&&(De(pe,ie,V[s.DRAG]),d[s.DRAG]=!1)}s.prevViewport=L,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),f&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!p,s.mbFrames=0,d[s.NODE]=!0,d[s.DRAG]=!0,s.redraw()},iBe)),t||u.emit("render")},j0={},j0.drawPolygonPath=function(e,t,r,n,i,a){var s=n/2,l=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+s*a[0],r+l*a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(t+s*a[u*2],r+l*a[u*2+1]);e.closePath()},j0.drawRoundPolygonPath=function(e,t,r,n,i,a,s){s.forEach(function(l){return hG(e,l)}),e.closePath()},j0.drawRoundRectanglePath=function(e,t,r,n,i,a){var s=n/2,l=i/2,u=a==="auto"?k1(n,i):Math.min(a,l,s);e.beginPath&&e.beginPath(),e.moveTo(t,r-l),e.arcTo(t+s,r-l,t+s,r,u),e.arcTo(t+s,r+l,t,r+l,u),e.arcTo(t-s,r+l,t-s,r,u),e.arcTo(t-s,r-l,t,r-l,u),e.lineTo(t,r-l),e.closePath()},j0.drawBottomRoundRectanglePath=function(e,t,r,n,i,a){var s=n/2,l=i/2,u=a==="auto"?k1(n,i):a;e.beginPath&&e.beginPath(),e.moveTo(t,r-l),e.lineTo(t+s,r-l),e.lineTo(t+s,r),e.arcTo(t+s,r+l,t,r+l,u),e.arcTo(t-s,r+l,t-s,r,u),e.lineTo(t-s,r-l),e.lineTo(t,r-l),e.closePath()},j0.drawCutRectanglePath=function(e,t,r,n,i,a,s){var l=n/2,u=i/2,h=s==="auto"?NE():s;e.beginPath&&e.beginPath(),e.moveTo(t-l+h,r-u),e.lineTo(t+l-h,r-u),e.lineTo(t+l,r-u+h),e.lineTo(t+l,r+u-h),e.lineTo(t+l-h,r+u),e.lineTo(t-l+h,r+u),e.lineTo(t-l,r+u-h),e.lineTo(t-l,r-u+h),e.closePath()},j0.drawBarrelPath=function(e,t,r,n,i){var a=n/2,s=i/2,l=t-a,u=t+a,h=r-s,d=r+s,p=ME(n,i),f=p.widthOffset,g=p.heightOffset,m=p.ctrlPtOffsetPct*f;e.beginPath&&e.beginPath(),e.moveTo(l,h+g),e.lineTo(l,d-g),e.quadraticCurveTo(l+m,d,l+f,d),e.lineTo(u-f,d),e.quadraticCurveTo(u-m,d,u,d-g),e.lineTo(u,h+g),e.quadraticCurveTo(u-m,h,u-f,h),e.lineTo(l+f,h),e.quadraticCurveTo(l+m,h,l,h+g),e.closePath()},Mj=Math.sin(0),Ij=Math.cos(0),tC={},rC={},Dj=Math.PI/40,zg=0*Math.PI;zg<2*Math.PI;zg+=Dj)tC[zg]=Math.sin(zg),rC[zg]=Math.cos(zg);j0.drawEllipsePath=function(e,t,r,n,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,i/2,0,0,2*Math.PI);else for(var a,s,l=n/2,u=i/2,h=0*Math.PI;h<2*Math.PI;h+=Dj)a=t-l*tC[h]*Mj+l*rC[h]*Ij,s=r+u*rC[h]*Mj+u*tC[h]*Ij,h===0?e.moveTo(a,s):e.lineTo(a,s);e.closePath()},my={},my.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]},my.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),a=e.full?Math.ceil(n.w):i[2],s=e.full?Math.ceil(n.h):i[3],l=hr(e.maxWidth)||hr(e.maxHeight),u=this.getPixelRatio(),h=1;if(e.scale!==void 0)a*=e.scale,s*=e.scale,h=e.scale;else if(l){var d=1/0,p=1/0;hr(e.maxWidth)&&(d=h*e.maxWidth/a),hr(e.maxHeight)&&(p=h*e.maxHeight/s),h=Math.min(d,p),a*=h,s*=h}l||(a*=u,s*=u,h*=u);var f=document.createElement("canvas");f.width=a,f.height=s,f.style.width=a+"px",f.style.height=s+"px";var g=f.getContext("2d");if(a>0&&s>0){g.clearRect(0,0,a,s),g.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(e.full)g.translate(-n.x1*h,-n.y1*h),g.scale(h,h),this.drawElements(g,m),g.scale(1/h,1/h),g.translate(n.x1*h,n.y1*h);else{var y=t.pan(),b={x:y.x*h,y:y.y*h};h*=t.zoom(),g.translate(b.x,b.y),g.scale(h,h),this.drawElements(g,m),g.scale(1/h,1/h),g.translate(-b.x,-b.y)}e.bg&&(g.globalCompositeOperation="destination-over",g.fillStyle=e.bg,g.rect(0,0,a,s),g.fill())}return f},o(RNe,"b64ToBlob"),o(gG,"b64UriToB64"),o(fG,"output"),my.png=function(e){return fG(e,this.bufferCanvasImage(e),"image/png")},my.jpg=function(e){return fG(e,this.bufferCanvasImage(e),"image/jpeg")},Rj={},Rj.nodeShapeImpl=function(e,t,r,n,i,a,s,l){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,i,a);case"polygon":return this.drawPolygonPath(t,r,n,i,a,s);case"round-polygon":return this.drawRoundPolygonPath(t,r,n,i,a,s,l);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,n,i,a,l);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,n,i,a,s,l);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,n,i,a,l);case"barrel":return this.drawBarrelPath(t,r,n,i,a)}},aBe=mG,ii=mG.prototype,ii.CANVAS_LAYERS=3,ii.SELECT_BOX=0,ii.DRAG=1,ii.NODE=2,ii.BUFFER_COUNT=3,ii.TEXTURE_BUFFER=0,ii.MOTIONBLUR_BUFFER_NODE=1,ii.MOTIONBLUR_BUFFER_DRAG=2,o(mG,"CanvasRenderer"),ii.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[ii.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[ii.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[ii.SELECT_BOX]=t;break}},sBe=typeof Path2D<"u",ii.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e},ii.usePaths=function(){return sBe&&this.pathsEnabled},ii.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},ii.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},ii.makeOffscreenCanvas=function(e,t){var r;if((typeof OffscreenCanvas>"u"?"undefined":rs(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(e,t);else{var n=this.cy.window(),i=n.document;r=i.createElement("canvas"),r.width=e,r.height=t}return r},[Aj,Au,Eh,eC,A1,$g,Ml,j0,my,Rj].forEach(function(e){nn(ii,e)}),oBe=[{name:"null",impl:uG},{name:"base",impl:kj},{name:"canvas",impl:aBe}],lBe=[{type:"layout",extensions:gPe},{type:"renderer",extensions:oBe}],Oj={},Pj={},o(yG,"setExtension"),o(vG,"getExtension"),o(ONe,"setModule"),o(PNe,"getModule"),nC=o(function(){if(arguments.length===2)return vG.apply(null,arguments);if(arguments.length===3)return yG.apply(null,arguments);if(arguments.length===4)return PNe.apply(null,arguments);if(arguments.length===5)return ONe.apply(null,arguments);ma("Invalid extension access syntax")},"extension"),uy.prototype.extension=nC,lBe.forEach(function(e){e.extensions.forEach(function(t){yG(e.type,t.name,t.impl)})}),Bj=o(function e(){if(!(this instanceof e))return new e;this.length=0},"Stylesheet"),L1=Bj.prototype,L1.instanceString=function(){return"stylesheet"},L1.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this},L1.css=function(e,t){var r=this.length-1;if(Ur(e))this[r].properties.push({name:e,value:t});else if(Zn(e))for(var n=e,i=Object.keys(n),a=0;a<i.length;a++){var s=i[a],l=n[s];if(l!=null){var u=lo.properties[s]||lo.properties[ob(s)];if(u!=null){var h=u.name,d=l;this[r].properties.push({name:h,value:d})}}}return this},L1.style=L1.css,L1.generateStyle=function(e){var t=new lo(e);return this.appendToStyle(t)},L1.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,i=r.properties;e.selector(n);for(var a=0;a<i.length;a++){var s=i[a];e.css(s.name,s.value)}}return e},cBe="3.30.2",Lu=o(function(e){if(e===void 0&&(e={}),Zn(e))return new uy(e);if(Ur(e))return nC.apply(nC,arguments)},"cytoscape"),Lu.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Lu),e.apply(null,t),this},Lu.warnings=function(e){return zG(e)},Lu.version=cBe,Lu.stylesheet=Lu.Stylesheet=Bj}),hBe=St((e,t)=>{"use strict";o(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n():typeof define=="function"&&define.amd?define([],n):typeof e=="object"?e.layoutBase=n():r.layoutBase=n()},"webpackUniversalModuleDefinition")(e,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return o(i,"__webpack_require__"),i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,l){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:l})},i.n=function(a){var s=a&&a.__esModule?o(function(){return a.default},"getDefault"):o(function(){return a},"getModuleExports");return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=26)}([function(r,n,i){"use strict";function a(){}o(a,"LayoutConstants"),a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){"use strict";var a=i(2),s=i(8),l=i(9);function u(d,p,f){a.call(this,f),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=f,this.bendpoints=[],this.source=d,this.target=p}o(u,"LEdge"),u.prototype=Object.create(a.prototype);for(var h in a)u[h]=a[h];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(d,p){for(var f=this.getOtherEnd(d),g=p.getGraphManager().getRoot();;){if(f.getOwner()==p)return f;if(f.getOwner()==g)break;f=f.getOwner().getParent()}return null},u.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,i){"use strict";function a(s){this.vGraphObject=s}o(a,"LGraphObject"),r.exports=a},function(r,n,i){"use strict";var a=i(2),s=i(10),l=i(13),u=i(0),h=i(16),d=i(4);function p(g,m,y,b){y==null&&b==null&&(b=m),a.call(this,b),g.graphManager!=null&&(g=g.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=b,this.edges=[],this.graphManager=g,y!=null&&m!=null?this.rect=new l(m.x,m.y,y.width,y.height):this.rect=new l}o(p,"LNode"),p.prototype=Object.create(a.prototype);for(var f in a)p[f]=a[f];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(g){this.rect.width=g},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(g){this.rect.height=g},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(g,m){this.rect.x=g.x,this.rect.y=g.y,this.rect.width=m.width,this.rect.height=m.height},p.prototype.setCenter=function(g,m){this.rect.x=g-this.rect.width/2,this.rect.y=m-this.rect.height/2},p.prototype.setLocation=function(g,m){this.rect.x=g,this.rect.y=m},p.prototype.moveBy=function(g,m){this.rect.x+=g,this.rect.y+=m},p.prototype.getEdgeListToNode=function(g){var m=[],y,b=this;return b.edges.forEach(function(v){if(v.target==g){if(v.source!=b)throw"Incorrect edge source!";m.push(v)}}),m},p.prototype.getEdgesBetween=function(g){var m=[],y,b=this;return b.edges.forEach(function(v){if(!(v.source==b||v.target==b))throw"Incorrect edge source and/or target";(v.target==g||v.source==g)&&m.push(v)}),m},p.prototype.getNeighborsList=function(){var g=new Set,m=this;return m.edges.forEach(function(y){if(y.source==m)g.add(y.target);else{if(y.target!=m)throw"Incorrect incidency!";g.add(y.source)}}),g},p.prototype.withChildren=function(){var g=new Set,m,y;if(g.add(this),this.child!=null)for(var b=this.child.getNodes(),v=0;v<b.length;v++)m=b[v],y=m.withChildren(),y.forEach(function(x){g.add(x)});return g},p.prototype.getNoOfChildren=function(){var g=0,m;if(this.child==null)g=1;else for(var y=this.child.getNodes(),b=0;b<y.length;b++)m=y[b],g+=m.getNoOfChildren();return g==0&&(g=1),g},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var g,m,y=-u.INITIAL_WORLD_BOUNDARY,b=u.INITIAL_WORLD_BOUNDARY;g=u.WORLD_CENTER_X+h.nextDouble()*(b-y)+y;var v=-u.INITIAL_WORLD_BOUNDARY,x=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+h.nextDouble()*(x-v)+v,this.rect.x=g,this.rect.y=m},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var g=this.getChild();if(g.updateBounds(!0),this.rect.x=g.getLeft(),this.rect.y=g.getTop(),this.setWidth(g.getRight()-g.getLeft()),this.setHeight(g.getBottom()-g.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=g.getRight()-g.getLeft(),y=g.getBottom()-g.getTop();this.labelWidth>m&&(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)),this.labelHeight>y&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-y)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-y),this.setHeight(this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(g){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var y=this.rect.y;y>u.WORLD_BOUNDARY?y=u.WORLD_BOUNDARY:y<-u.WORLD_BOUNDARY&&(y=-u.WORLD_BOUNDARY);var b=new d(m,y),v=g.inverseTransformPoint(b);this.setLocation(v.x,v.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=p},function(r,n,i){"use strict";function a(s,l){s==null&&l==null?(this.x=0,this.y=0):(this.x=s,this.y=l)}o(a,"PointD"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){"use strict";var a=i(2),s=i(10),l=i(0),u=i(6),h=i(3),d=i(1),p=i(13),f=i(12),g=i(11);function m(b,v,x){a.call(this,x),this.estimatedSize=s.MIN_VALUE,this.margin=l.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=b,v!=null&&v instanceof u?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}o(m,"LGraph"),m.prototype=Object.create(a.prototype);for(var y in a)m[y]=a[y];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(b,v,x){if(v==null&&x==null){var w=b;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(w)>-1)throw"Node already in graph!";return w.owner=this,this.getNodes().push(w),w}else{var E=b;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(x)>-1))throw"Source or target not in graph!";if(!(v.owner==x.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=x.owner?null:(E.source=v,E.target=x,E.isInterGraph=!1,this.getEdges().push(E),v.edges.push(E),x!=v&&x.edges.push(E),E)}},m.prototype.remove=function(b){var v=b;if(b instanceof h){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var x=v.edges.slice(),w,E=x.length,A=0;A<E;A++)w=x[A],w.isInterGraph?this.graphManager.remove(w):w.source.owner.remove(w);var N=this.nodes.indexOf(v);if(N==-1)throw"Node not in owner node list!";this.nodes.splice(N,1)}else if(b instanceof d){var w=b;if(w==null)throw"Edge is null!";if(!(w.source!=null&&w.target!=null))throw"Source and/or target is null!";if(!(w.source.owner!=null&&w.target.owner!=null&&w.source.owner==this&&w.target.owner==this))throw"Source and/or target owner is invalid!";var L=w.source.edges.indexOf(w),C=w.target.edges.indexOf(w);if(!(L>-1&&C>-1))throw"Source and/or target doesn't know this edge!";w.source.edges.splice(L,1),w.target!=w.source&&w.target.edges.splice(C,1);var N=w.source.owner.getEdges().indexOf(w);if(N==-1)throw"Not in owner's edge list!";w.source.owner.getEdges().splice(N,1)}},m.prototype.updateLeftTop=function(){for(var b=s.MAX_VALUE,v=s.MAX_VALUE,x,w,E,A=this.getNodes(),N=A.length,L=0;L<N;L++){var C=A[L];x=C.getTop(),w=C.getLeft(),b>x&&(b=x),v>w&&(v=w)}return b==s.MAX_VALUE?null:(A[0].getParent().paddingLeft!=null?E=A[0].getParent().paddingLeft:E=this.margin,this.left=v-E,this.top=b-E,new f(this.left,this.top))},m.prototype.updateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,E=-s.MAX_VALUE,A,N,L,C,D,P=this.nodes,O=P.length,I=0;I<O;I++){var q=P[I];b&&q.child!=null&&q.updateBounds(),A=q.getLeft(),N=q.getRight(),L=q.getTop(),C=q.getBottom(),v>A&&(v=A),x<N&&(x=N),w>L&&(w=L),E<C&&(E=C)}var S=new p(v,w,x-v,E-w);v==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),P[0].getParent().paddingLeft!=null?D=P[0].getParent().paddingLeft:D=this.margin,this.left=S.x-D,this.right=S.x+S.width+D,this.top=S.y-D,this.bottom=S.y+S.height+D},m.calculateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,E=-s.MAX_VALUE,A,N,L,C,D=b.length,P=0;P<D;P++){var O=b[P];A=O.getLeft(),N=O.getRight(),L=O.getTop(),C=O.getBottom(),v>A&&(v=A),x<N&&(x=N),w>L&&(w=L),E<C&&(E=C)}var I=new p(v,w,x-v,E-w);return I},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var b=0,v=this.nodes,x=v.length,w=0;w<x;w++){var E=v[w];b+=E.calcEstimatedSize()}return b==0?this.estimatedSize=l.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=b/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var b=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new g,x=new Set,w=this.nodes[0],E,A,N=w.withChildren();for(N.forEach(function(I){v.push(I),x.add(I)});v.length!==0;){w=v.shift(),E=w.getEdges();for(var L=E.length,C=0;C<L;C++){var D=E[C];if(A=D.getOtherEndInGraph(w,this),A!=null&&!x.has(A)){var P=A.withChildren();P.forEach(function(I){v.push(I),x.add(I)})}}}if(this.isConnected=!1,x.size>=this.nodes.length){var O=0;x.forEach(function(I){I.owner==b&&O++}),O==this.nodes.length&&(this.isConnected=!0)}},r.exports=m},function(r,n,i){"use strict";var a,s=i(1);function l(u){a=i(5),this.layout=u,this.graphs=[],this.edges=[]}o(l,"LGraphManager"),l.prototype.addRoot=function(){var u=this.layout.newGraph(),h=this.layout.newNode(null),d=this.add(u,h);return this.setRootGraph(d),this.rootGraph},l.prototype.add=function(u,h,d,p,f){if(d==null&&p==null&&f==null){if(u==null)throw"Graph is null!";if(h==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(h.child!=null)throw"Already has a child!";return u.parent=h,h.child=u,u}else{f=d,p=h,d=u;var g=p.getOwner(),m=f.getOwner();if(!(g!=null&&g.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(g==m)return d.isInterGraph=!1,g.add(d,p,f);if(d.isInterGraph=!0,d.source=p,d.target=f,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),!(d.source!=null&&d.target!=null))throw"Edge source and/or target is null!";if(!(d.source.edges.indexOf(d)==-1&&d.target.edges.indexOf(d)==-1))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d}},l.prototype.remove=function(u){if(u instanceof a){var h=u;if(h.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(h==this.rootGraph||h.parent!=null&&h.parent.graphManager==this))throw"Invalid parent node!";var d=[];d=d.concat(h.getEdges());for(var p,f=d.length,g=0;g<f;g++)p=d[g],h.remove(p);var m=[];m=m.concat(h.getNodes());var y;f=m.length;for(var g=0;g<f;g++)y=m[g],h.remove(y);h==this.rootGraph&&this.setRootGraph(null);var b=this.graphs.indexOf(h);this.graphs.splice(b,1),h.parent=null}else if(u instanceof s){if(p=u,p==null)throw"Edge is null!";if(!p.isInterGraph)throw"Not an inter-graph edge!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.edges.indexOf(p)!=-1&&p.target.edges.indexOf(p)!=-1))throw"Source and/or target doesn't know this edge!";var b=p.source.edges.indexOf(p);if(p.source.edges.splice(b,1),b=p.target.edges.indexOf(p),p.target.edges.splice(b,1),!(p.source.owner!=null&&p.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(p.source.owner.getGraphManager().edges.indexOf(p)==-1)throw"Not in owner graph manager's edge list!";var b=p.source.owner.getGraphManager().edges.indexOf(p);p.source.owner.getGraphManager().edges.splice(b,1)}},l.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},l.prototype.getGraphs=function(){return this.graphs},l.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<d;p++)u=u.concat(h[p].getNodes());this.allNodes=u}return this.allNodes},l.prototype.resetAllNodes=function(){this.allNodes=null},l.prototype.resetAllEdges=function(){this.allEdges=null},l.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},l.prototype.getAllEdges=function(){if(this.allEdges==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<h.length;p++)u=u.concat(h[p].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},l.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},l.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},l.prototype.getRoot=function(){return this.rootGraph},l.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},l.prototype.getLayout=function(){return this.layout},l.prototype.isOneAncestorOfOther=function(u,h){if(!(u!=null&&h!=null))throw"assert failed";if(u==h)return!0;var d=u.getOwner(),p;do{if(p=d.getParent(),p==null)break;if(p==h)return!0;if(d=p.getOwner(),d==null)break}while(!0);d=h.getOwner();do{if(p=d.getParent(),p==null)break;if(p==u)return!0;if(d=p.getOwner(),d==null)break}while(!0);return!1},l.prototype.calcLowestCommonAncestors=function(){for(var u,h,d,p,f,g=this.getAllEdges(),m=g.length,y=0;y<m;y++){if(u=g[y],h=u.source,d=u.target,u.lca=null,u.sourceInLca=h,u.targetInLca=d,h==d){u.lca=h.getOwner();continue}for(p=h.getOwner();u.lca==null;){for(u.targetInLca=d,f=d.getOwner();u.lca==null;){if(f==p){u.lca=f;break}if(f==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=f.getParent(),f=u.targetInLca.getOwner()}if(p==this.rootGraph)break;u.lca==null&&(u.sourceInLca=p.getParent(),p=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},l.prototype.calcLowestCommonAncestor=function(u,h){if(u==h)return u.getOwner();var d=u.getOwner();do{if(d==null)break;var p=h.getOwner();do{if(p==null)break;if(p==d)return p;p=p.getParent().getOwner()}while(!0);d=d.getParent().getOwner()}while(!0);return d},l.prototype.calcInclusionTreeDepths=function(u,h){u==null&&h==null&&(u=this.rootGraph,h=1);for(var d,p=u.getNodes(),f=p.length,g=0;g<f;g++)d=p[g],d.inclusionTreeDepth=h,d.child!=null&&this.calcInclusionTreeDepths(d.child,h+1)},l.prototype.includesInvalidEdge=function(){for(var u,h=this.edges.length,d=0;d<h;d++)if(u=this.edges[d],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},r.exports=l},function(r,n,i){"use strict";var a=i(0);function s(){}o(s,"FDLayoutConstants");for(var l in a)s[l]=a[l];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){"use strict";var a=i(12);function s(){}o(s,"IGeometry"),s.calcSeparationAmount=function(l,u,h,d){if(!l.intersects(u))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(l,u,p),h[0]=Math.min(l.getRight(),u.getRight())-Math.max(l.x,u.x),h[1]=Math.min(l.getBottom(),u.getBottom())-Math.max(l.y,u.y),l.getX()<=u.getX()&&l.getRight()>=u.getRight()?h[0]+=Math.min(u.getX()-l.getX(),l.getRight()-u.getRight()):u.getX()<=l.getX()&&u.getRight()>=l.getRight()&&(h[0]+=Math.min(l.getX()-u.getX(),u.getRight()-l.getRight())),l.getY()<=u.getY()&&l.getBottom()>=u.getBottom()?h[1]+=Math.min(u.getY()-l.getY(),l.getBottom()-u.getBottom()):u.getY()<=l.getY()&&u.getBottom()>=l.getBottom()&&(h[1]+=Math.min(l.getY()-u.getY(),u.getBottom()-l.getBottom()));var f=Math.abs((u.getCenterY()-l.getCenterY())/(u.getCenterX()-l.getCenterX()));u.getCenterY()===l.getCenterY()&&u.getCenterX()===l.getCenterX()&&(f=1);var g=f*h[0],m=h[1]/f;h[0]<m?m=h[0]:g=h[1],h[0]=-1*p[0]*(m/2+d),h[1]=-1*p[1]*(g/2+d)},s.decideDirectionsForOverlappingNodes=function(l,u,h){l.getCenterX()<u.getCenterX()?h[0]=-1:h[0]=1,l.getCenterY()<u.getCenterY()?h[1]=-1:h[1]=1},s.getIntersection2=function(l,u,h){var d=l.getCenterX(),p=l.getCenterY(),f=u.getCenterX(),g=u.getCenterY();if(l.intersects(u))return h[0]=d,h[1]=p,h[2]=f,h[3]=g,!0;var m=l.getX(),y=l.getY(),b=l.getRight(),v=l.getX(),x=l.getBottom(),w=l.getRight(),E=l.getWidthHalf(),A=l.getHeightHalf(),N=u.getX(),L=u.getY(),C=u.getRight(),D=u.getX(),P=u.getBottom(),O=u.getRight(),I=u.getWidthHalf(),q=u.getHeightHalf(),S=!1,B=!1;if(d===f){if(p>g)return h[0]=d,h[1]=y,h[2]=f,h[3]=P,!1;if(p<g)return h[0]=d,h[1]=x,h[2]=f,h[3]=L,!1}else if(p===g){if(d>f)return h[0]=m,h[1]=p,h[2]=C,h[3]=g,!1;if(d<f)return h[0]=b,h[1]=p,h[2]=N,h[3]=g,!1}else{var F=l.height/l.width,z=u.height/u.width,M=(g-p)/(f-d),G=void 0,Y=void 0,V=void 0,X=void 0,re=void 0,de=void 0;if(-F===M?d>f?(h[0]=v,h[1]=x,S=!0):(h[0]=b,h[1]=y,S=!0):F===M&&(d>f?(h[0]=m,h[1]=y,S=!0):(h[0]=w,h[1]=x,S=!0)),-z===M?f>d?(h[2]=D,h[3]=P,B=!0):(h[2]=C,h[3]=L,B=!0):z===M&&(f>d?(h[2]=N,h[3]=L,B=!0):(h[2]=O,h[3]=P,B=!0)),S&&B)return!1;if(d>f?p>g?(G=this.getCardinalDirection(F,M,4),Y=this.getCardinalDirection(z,M,2)):(G=this.getCardinalDirection(-F,M,3),Y=this.getCardinalDirection(-z,M,1)):p>g?(G=this.getCardinalDirection(-F,M,1),Y=this.getCardinalDirection(-z,M,3)):(G=this.getCardinalDirection(F,M,2),Y=this.getCardinalDirection(z,M,4)),!S)switch(G){case 1:X=y,V=d+-A/M,h[0]=V,h[1]=X;break;case 2:V=w,X=p+E*M,h[0]=V,h[1]=X;break;case 3:X=x,V=d+A/M,h[0]=V,h[1]=X;break;case 4:V=v,X=p+-E*M,h[0]=V,h[1]=X;break}if(!B)switch(Y){case 1:de=L,re=f+-q/M,h[2]=re,h[3]=de;break;case 2:re=O,de=g+I*M,h[2]=re,h[3]=de;break;case 3:de=P,re=f+q/M,h[2]=re,h[3]=de;break;case 4:re=D,de=g+-I*M,h[2]=re,h[3]=de;break}}return!1},s.getCardinalDirection=function(l,u,h){return l>u?h:1+h%4},s.getIntersection=function(l,u,h,d){if(d==null)return this.getIntersection2(l,u,h);var p=l.x,f=l.y,g=u.x,m=u.y,y=h.x,b=h.y,v=d.x,x=d.y,w=void 0,E=void 0,A=void 0,N=void 0,L=void 0,C=void 0,D=void 0,P=void 0,O=void 0;return A=m-f,L=p-g,D=g*f-p*m,N=x-b,C=y-v,P=v*b-y*x,O=A*C-N*L,O===0?null:(w=(L*P-C*D)/O,E=(N*D-A*P)/O,new a(w,E))},s.angleOfVector=function(l,u,h,d){var p=void 0;return l!==h?(p=Math.atan((d-u)/(h-l)),h<l?p+=Math.PI:d<u&&(p+=this.TWO_PI)):d<u?p=this.ONE_AND_HALF_PI:p=this.HALF_PI,p},s.doIntersect=function(l,u,h,d){var p=l.x,f=l.y,g=u.x,m=u.y,y=h.x,b=h.y,v=d.x,x=d.y,w=(g-p)*(x-b)-(v-y)*(m-f);if(w===0)return!1;var E=((x-b)*(v-p)+(y-v)*(x-f))/w,A=((f-m)*(v-p)+(g-p)*(x-f))/w;return 0<E&&E<1&&0<A&&A<1},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){"use strict";function a(){}o(a,"IMath"),a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){"use strict";function a(){}o(a,"Integer"),a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){"use strict";var a=function(){function p(f,g){for(var m=0;m<g.length;m++){var y=g[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return o(p,"defineProperties"),function(f,g,m){return g&&p(f.prototype,g),m&&p(f,m),f}}();function s(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var l=o(function(p){return{value:p,next:null,prev:null}},"nodeFrom"),u=o(function(p,f,g,m){return p!==null?p.next=f:m.head=f,g!==null?g.prev=f:m.tail=f,f.prev=p,f.next=g,m.length++,f},"add"),h=o(function(p,f){var g=p.prev,m=p.next;return g!==null?g.next=m:f.head=m,m!==null?m.prev=g:f.tail=g,p.prev=p.next=null,f.length--,p},"_remove"),d=function(){function p(f){var g=this;s(this,p),this.length=0,this.head=null,this.tail=null,f?.forEach(function(m){return g.push(m)})}return o(p,"LinkedList"),a(p,[{key:"size",value:o(function(){return this.length},"size")},{key:"insertBefore",value:o(function(f,g){return u(g.prev,l(f),g,this)},"insertBefore")},{key:"insertAfter",value:o(function(f,g){return u(g,l(f),g.next,this)},"insertAfter")},{key:"insertNodeBefore",value:o(function(f,g){return u(g.prev,f,g,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:o(function(f,g){return u(g,f,g.next,this)},"insertNodeAfter")},{key:"push",value:o(function(f){return u(this.tail,l(f),null,this)},"push")},{key:"unshift",value:o(function(f){return u(null,l(f),this.head,this)},"unshift")},{key:"remove",value:o(function(f){return h(f,this)},"remove")},{key:"pop",value:o(function(){return h(this.tail,this).value},"pop")},{key:"popNode",value:o(function(){return h(this.tail,this)},"popNode")},{key:"shift",value:o(function(){return h(this.head,this).value},"shift")},{key:"shiftNode",value:o(function(){return h(this.head,this)},"shiftNode")},{key:"get_object_at",value:o(function(f){if(f<=this.length()){for(var g=1,m=this.head;g<f;)m=m.next,g++;return m.value}},"get_object_at")},{key:"set_object_at",value:o(function(f,g){if(f<=this.length()){for(var m=1,y=this.head;m<f;)y=y.next,m++;y.value=g}},"set_object_at")}]),p}();r.exports=d},function(r,n,i){"use strict";function a(s,l,u){this.x=null,this.y=null,s==null&&l==null&&u==null?(this.x=0,this.y=0):typeof s=="number"&&typeof l=="number"&&u==null?(this.x=s,this.y=l):s.constructor.name=="Point"&&l==null&&u==null&&(u=s,this.x=u.x,this.y=u.y)}o(a,"Point"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,l,u){s.constructor.name=="Point"&&l==null&&u==null?(u=s,this.setLocation(u.x,u.y)):typeof s=="number"&&typeof l=="number"&&u==null&&(parseInt(s)==s&&parseInt(l)==l?this.move(s,l):(this.x=Math.floor(s+.5),this.y=Math.floor(l+.5)))},a.prototype.move=function(s,l){this.x=s,this.y=l},a.prototype.translate=function(s,l){this.x+=s,this.y+=l},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var l=s;return this.x==l.x&&this.y==l.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){"use strict";function a(s,l,u,h){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&l!=null&&u!=null&&h!=null&&(this.x=s,this.y=l,this.width=u,this.height=h)}o(a,"RectangleD"),a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){"use strict";var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};function s(){}o(s,"UniqueIDGeneretor"),s.lastID=0,s.createID=function(l){return s.isPrimitive(l)?l:(l.uniqueID!=null||(l.uniqueID=s.getString(),s.lastID++),l.uniqueID)},s.getString=function(l){return l==null&&(l=s.lastID),"Object#"+l},s.isPrimitive=function(l){var u=typeof l>"u"?"undefined":a(l);return l==null||u!="object"&&u!="function"},r.exports=s},function(r,n,i){"use strict";function a(y){if(Array.isArray(y)){for(var b=0,v=Array(y.length);b<y.length;b++)v[b]=y[b];return v}else return Array.from(y)}o(a,"_toConsumableArray");var s=i(0),l=i(6),u=i(3),h=i(1),d=i(5),p=i(4),f=i(17),g=i(27);function m(y){g.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new l(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}o(m,"Layout"),m.RANDOM_SEED=1,m.prototype=Object.create(g.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var y=new l(this);return this.graphManager=y,y},m.prototype.newGraph=function(y){return new d(null,this.graphManager,y)},m.prototype.newNode=function(y){return new u(this.graphManager,y)},m.prototype.newEdge=function(y){return new h(null,null,y)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),s.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y,b=this.graphManager.getAllEdges(),v=0;v<b.length;v++)y=b[v];for(var x,w=this.graphManager.getRoot().getNodes(),v=0;v<w.length;v++)x=w[v];this.update(this.graphManager.getRoot())}},m.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof u){var b=y;if(b.getChild()!=null)for(var v=b.getChild().getNodes(),x=0;x<v.length;x++)update(v[x]);if(b.vGraphObject!=null){var w=b.vGraphObject;w.update(b)}}else if(y instanceof h){var E=y;if(E.vGraphObject!=null){var A=E.vGraphObject;A.update(E)}}else if(y instanceof d){var N=y;if(N.vGraphObject!=null){var L=N.vGraphObject;L.update(N)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(y){if(y==null)this.transform(new p(0,0));else{var b=new f,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){b.setWorldOrgX(y.x),b.setWorldOrgY(y.y),b.setDeviceOrgX(v.x),b.setDeviceOrgY(v.y);for(var x=this.getAllNodes(),w,E=0;E<x.length;E++)w=x[E],w.transform(b)}}},m.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var b,v,x=y.getNodes(),w=0;w<x.length;w++)b=x[w],v=b.getChild(),v==null||v.getNodes().length==0?b.scatter():(this.positionNodesRandomly(v),b.updateBounds())},m.prototype.getFlatForest=function(){for(var y=[],b=!0,v=this.graphManager.getRoot().getNodes(),x=!0,w=0;w<v.length;w++)v[w].getChild()!=null&&(x=!1);if(!x)return y;var E=new Set,A=[],N=new Map,L=[];for(L=L.concat(v);L.length>0&&b;){for(A.push(L[0]);A.length>0&&b;){var C=A[0];A.splice(0,1),E.add(C);for(var D=C.getEdges(),w=0;w<D.length;w++){var P=D[w].getOtherEnd(C);if(N.get(C)!=P)if(!E.has(P))A.push(P),N.set(P,C);else{b=!1;break}}}if(!b)y=[];else{var O=[].concat(a(E));y.push(O);for(var w=0;w<O.length;w++){var I=O[w],q=L.indexOf(I);q>-1&&L.splice(q,1)}E=new Set,N=new Map}}return y},m.prototype.createDummyNodesForBendpoints=function(y){for(var b=[],v=y.source,x=this.graphManager.calcLowestCommonAncestor(y.source,y.target),w=0;w<y.bendpoints.length;w++){var E=this.newNode(null);E.setRect(new Point(0,0),new Dimension(1,1)),x.add(E);var A=this.newEdge(null);this.graphManager.add(A,v,E),b.add(E),v=E}var A=this.newEdge(null);return this.graphManager.add(A,v,y.target),this.edgeToDummyNodes.set(y,b),y.isInterGraph()?this.graphManager.remove(y):x.remove(y),b},m.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(a(this.edgeToDummyNodes.keys())).concat(y);for(var b=0;b<y.length;b++){var v=y[b];if(v.bendpoints.length>0){for(var x=this.edgeToDummyNodes.get(v),w=0;w<x.length;w++){var E=x[w],A=new p(E.getCenterX(),E.getCenterY()),N=v.bendpoints.get(w);N.x=A.x,N.y=A.y,E.getOwner().remove(E)}this.graphManager.add(v,v.source,v.target)}}},m.transform=function(y,b,v,x){if(v!=null&&x!=null){var w=b;if(y<=50){var E=b/v;w-=(b-E)/50*(50-y)}else{var A=b*x;w+=(A-b)/50*(y-50)}return w}else{var N,L;return y<=50?(N=9*b/500,L=b/10):(N=9*b/50,L=-8*b),N*y+L}},m.findCenterOfTree=function(y){var b=[];b=b.concat(y);var v=[],x=new Map,w=!1,E=null;(b.length==1||b.length==2)&&(w=!0,E=b[0]);for(var A=0;A<b.length;A++){var N=b[A],L=N.getNeighborsList().size;x.set(N,N.getNeighborsList().size),L==1&&v.push(N)}var C=[];for(C=C.concat(v);!w;){var D=[];D=D.concat(C),C=[];for(var A=0;A<b.length;A++){var N=b[A],P=b.indexOf(N);P>=0&&b.splice(P,1);var O=N.getNeighborsList();O.forEach(function(S){if(v.indexOf(S)<0){var B=x.get(S),F=B-1;F==1&&C.push(S),x.set(S,F)}})}v=v.concat(C),(b.length==1||b.length==2)&&(w=!0,E=b[0])}return E},m.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=m},function(r,n,i){"use strict";function a(){}o(a,"RandomSeed"),a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){"use strict";var a=i(4);function s(l,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o(s,"Transform"),s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(l){this.lworldOrgX=l},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(l){this.lworldOrgY=l},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(l){this.lworldExtX=l},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(l){this.lworldExtY=l},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(l){this.ldeviceOrgX=l},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(l){this.ldeviceOrgY=l},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(l){this.ldeviceExtX=l},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(l){this.ldeviceExtY=l},s.prototype.transformX=function(l){var u=0,h=this.lworldExtX;return h!=0&&(u=this.ldeviceOrgX+(l-this.lworldOrgX)*this.ldeviceExtX/h),u},s.prototype.transformY=function(l){var u=0,h=this.lworldExtY;return h!=0&&(u=this.ldeviceOrgY+(l-this.lworldOrgY)*this.ldeviceExtY/h),u},s.prototype.inverseTransformX=function(l){var u=0,h=this.ldeviceExtX;return h!=0&&(u=this.lworldOrgX+(l-this.ldeviceOrgX)*this.lworldExtX/h),u},s.prototype.inverseTransformY=function(l){var u=0,h=this.ldeviceExtY;return h!=0&&(u=this.lworldOrgY+(l-this.ldeviceOrgY)*this.lworldExtY/h),u},s.prototype.inverseTransformPoint=function(l){var u=new a(this.inverseTransformX(l.x),this.inverseTransformY(l.y));return u},r.exports=s},function(r,n,i){"use strict";function a(g){if(Array.isArray(g)){for(var m=0,y=Array(g.length);m<g.length;m++)y[m]=g[m];return y}else return Array.from(g)}o(a,"_toConsumableArray");var s=i(15),l=i(7),u=i(0),h=i(8),d=i(9);function p(){s.call(this),this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=l.DEFAULT_EDGE_LENGTH,this.springConstant=l.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=l.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=l.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=l.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*l.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=l.MAX_ITERATIONS}o(p,"FDLayout"),p.prototype=Object.create(s.prototype);for(var f in s)p[f]=s[f];p.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var g,m,y,b,v,x,w=this.getGraphManager().getAllEdges(),E=0;E<w.length;E++)g=w[E],g.idealLength=this.idealEdgeLength,g.isInterGraph&&(y=g.getSource(),b=g.getTarget(),v=g.getSourceInLca().getEstimatedSize(),x=g.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(g.idealLength+=v+x-2*u.SIMPLE_NODE_SIZE),m=g.getLca().getInclusionTreeDepth(),g.idealLength+=l.DEFAULT_EDGE_LENGTH*l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(y.getInclusionTreeDepth()+b.getInclusionTreeDepth()-2*m))},p.prototype.initSpringEmbedder=function(){var g=this.getAllNodes().length;this.incremental?(g>l.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*l.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(g-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-l.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT_INCREMENTAL):(g>l.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(l.COOLING_ADAPTATION_FACTOR,1-(g-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*(1-l.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var g=this.getAllEdges(),m,y=0;y<g.length;y++)m=g[y],this.calcSpringForce(m,m.idealLength)},p.prototype.calcRepulsionForces=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,b,v,x,w=this.getAllNodes(),E;if(this.useFRGridVariant)for(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&g&&this.updateGrid(),E=new Set,y=0;y<w.length;y++)v=w[y],this.calculateRepulsionForceOfANode(v,E,g,m),E.add(v);else for(y=0;y<w.length;y++)for(v=w[y],b=y+1;b<w.length;b++)x=w[b],v.getOwner()==x.getOwner()&&this.calcRepulsionForce(v,x)},p.prototype.calcGravitationalForces=function(){for(var g,m=this.getAllNodesToApplyGravitation(),y=0;y<m.length;y++)g=m[y],this.calcGravitationalForce(g)},p.prototype.moveNodes=function(){for(var g=this.getAllNodes(),m,y=0;y<g.length;y++)m=g[y],m.move()},p.prototype.calcSpringForce=function(g,m){var y=g.getSource(),b=g.getTarget(),v,x,w,E;if(this.uniformLeafNodeSizes&&y.getChild()==null&&b.getChild()==null)g.updateLengthSimple();else if(g.updateLength(),g.isOverlapingSourceAndTarget)return;v=g.getLength(),v!=0&&(x=this.springConstant*(v-m),w=x*(g.lengthX/v),E=x*(g.lengthY/v),y.springForceX+=w,y.springForceY+=E,b.springForceX-=w,b.springForceY-=E)},p.prototype.calcRepulsionForce=function(g,m){var y=g.getRect(),b=m.getRect(),v=new Array(2),x=new Array(4),w,E,A,N,L,C,D;if(y.intersects(b)){h.calcSeparationAmount(y,b,v,l.DEFAULT_EDGE_LENGTH/2),C=2*v[0],D=2*v[1];var P=g.noOfChildren*m.noOfChildren/(g.noOfChildren+m.noOfChildren);g.repulsionForceX-=P*C,g.repulsionForceY-=P*D,m.repulsionForceX+=P*C,m.repulsionForceY+=P*D}else this.uniformLeafNodeSizes&&g.getChild()==null&&m.getChild()==null?(w=b.getCenterX()-y.getCenterX(),E=b.getCenterY()-y.getCenterY()):(h.getIntersection(y,b,x),w=x[2]-x[0],E=x[3]-x[1]),Math.abs(w)<l.MIN_REPULSION_DIST&&(w=d.sign(w)*l.MIN_REPULSION_DIST),Math.abs(E)<l.MIN_REPULSION_DIST&&(E=d.sign(E)*l.MIN_REPULSION_DIST),A=w*w+E*E,N=Math.sqrt(A),L=this.repulsionConstant*g.noOfChildren*m.noOfChildren/A,C=L*w/N,D=L*E/N,g.repulsionForceX-=C,g.repulsionForceY-=D,m.repulsionForceX+=C,m.repulsionForceY+=D},p.prototype.calcGravitationalForce=function(g){var m,y,b,v,x,w,E,A;m=g.getOwner(),y=(m.getRight()+m.getLeft())/2,b=(m.getTop()+m.getBottom())/2,v=g.getCenterX()-y,x=g.getCenterY()-b,w=Math.abs(v)+g.getWidth()/2,E=Math.abs(x)+g.getHeight()/2,g.getOwner()==this.graphManager.getRoot()?(A=m.getEstimatedSize()*this.gravityRangeFactor,(w>A||E>A)&&(g.gravitationForceX=-this.gravityConstant*v,g.gravitationForceY=-this.gravityConstant*x)):(A=m.getEstimatedSize()*this.compoundGravityRangeFactor,(w>A||E>A)&&(g.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,g.gravitationForceY=-this.gravityConstant*x*this.compoundGravityConstant))},p.prototype.isConverged=function(){var g,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),g=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,g||m},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var g,m=this.graphManager.getAllNodes(),y=0;y<m.length;y++)g=m[y],g.noOfChildren=g.getNoOfChildren()},p.prototype.calcGrid=function(g){var m=0,y=0;m=parseInt(Math.ceil((g.getRight()-g.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((g.getBottom()-g.getTop())/this.repulsionRange));for(var b=new Array(m),v=0;v<m;v++)b[v]=new Array(y);for(var v=0;v<m;v++)for(var x=0;x<y;x++)b[v][x]=new Array;return b},p.prototype.addNodeToGrid=function(g,m,y){var b=0,v=0,x=0,w=0;b=parseInt(Math.floor((g.getRect().x-m)/this.repulsionRange)),v=parseInt(Math.floor((g.getRect().width+g.getRect().x-m)/this.repulsionRange)),x=parseInt(Math.floor((g.getRect().y-y)/this.repulsionRange)),w=parseInt(Math.floor((g.getRect().height+g.getRect().y-y)/this.repulsionRange));for(var E=b;E<=v;E++)for(var A=x;A<=w;A++)this.grid[E][A].push(g),g.setGridCoordinates(b,v,x,w)},p.prototype.updateGrid=function(){var g,m,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),g=0;g<y.length;g++)m=y[g],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(g,m,y,b){if(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&y||b){var v=new Set;g.surrounding=new Array;for(var x,w=this.grid,E=g.startX-1;E<g.finishX+2;E++)for(var A=g.startY-1;A<g.finishY+2;A++)if(!(E<0||A<0||E>=w.length||A>=w[0].length)){for(var N=0;N<w[E][A].length;N++)if(x=w[E][A][N],!(g.getOwner()!=x.getOwner()||g==x)&&!m.has(x)&&!v.has(x)){var L=Math.abs(g.getCenterX()-x.getCenterX())-(g.getWidth()/2+x.getWidth()/2),C=Math.abs(g.getCenterY()-x.getCenterY())-(g.getHeight()/2+x.getHeight()/2);L<=this.repulsionRange&&C<=this.repulsionRange&&v.add(x)}}g.surrounding=[].concat(a(v))}for(E=0;E<g.surrounding.length;E++)this.calcRepulsionForce(g,g.surrounding[E])},p.prototype.calcRepulsionRange=function(){return 0},r.exports=p},function(r,n,i){"use strict";var a=i(1),s=i(7);function l(h,d,p){a.call(this,h,d,p),this.idealLength=s.DEFAULT_EDGE_LENGTH}o(l,"FDLayoutEdge"),l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];r.exports=l},function(r,n,i){"use strict";var a=i(3);function s(u,h,d,p){a.call(this,u,h,d,p),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o(s,"FDLayoutNode"),s.prototype=Object.create(a.prototype);for(var l in a)s[l]=a[l];s.prototype.setGridCoordinates=function(u,h,d,p){this.startX=u,this.finishX=h,this.startY=d,this.finishY=p},r.exports=s},function(r,n,i){"use strict";function a(s,l){this.width=0,this.height=0,s!==null&&l!==null&&(this.height=l,this.width=s)}o(a,"DimensionD"),a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){"use strict";var a=i(14);function s(){this.map={},this.keys=[]}o(s,"HashMap"),s.prototype.put=function(l,u){var h=a.createID(l);this.contains(h)||(this.map[h]=u,this.keys.push(l))},s.prototype.contains=function(l){var u=a.createID(l);return this.map[l]!=null},s.prototype.get=function(l){var u=a.createID(l);return this.map[u]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){"use strict";var a=i(14);function s(){this.set={}}o(s,"HashSet"),s.prototype.add=function(l){var u=a.createID(l);this.contains(u)||(this.set[u]=l)},s.prototype.remove=function(l){delete this.set[a.createID(l)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(l){return this.set[a.createID(l)]==l},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(l){for(var u=Object.keys(this.set),h=u.length,d=0;d<h;d++)l.push(this.set[u[d]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(l){for(var u=l.length,h=0;h<u;h++){var d=l[h];this.add(d)}},r.exports=s},function(r,n,i){"use strict";var a=function(){function h(d,p){for(var f=0;f<p.length;f++){var g=p[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return o(h,"defineProperties"),function(d,p,f){return p&&h(d.prototype,p),f&&h(d,f),d}}();function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var l=i(11),u=function(){function h(d,p){s(this,h),(p!==null||p!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var f=void 0;d instanceof l?f=d.size():f=d.length,this._quicksort(d,0,f-1)}return o(h,"Quicksort"),a(h,[{key:"_quicksort",value:o(function(d,p,f){if(p<f){var g=this._partition(d,p,f);this._quicksort(d,p,g),this._quicksort(d,g+1,f)}},"_quicksort")},{key:"_partition",value:o(function(d,p,f){for(var g=this._get(d,p),m=p,y=f;;){for(;this.compareFunction(g,this._get(d,y));)y--;for(;this.compareFunction(this._get(d,m),g);)m++;if(m<y)this._swap(d,m,y),m++,y--;else return y}},"_partition")},{key:"_get",value:o(function(d,p){return d instanceof l?d.get_object_at(p):d[p]},"_get")},{key:"_set",value:o(function(d,p,f){d instanceof l?d.set_object_at(p,f):d[p]=f},"_set")},{key:"_swap",value:o(function(d,p,f){var g=this._get(d,p);this._set(d,p,this._get(d,f)),this._set(d,f,g)},"_swap")},{key:"_defaultCompareFunction",value:o(function(d,p){return p>d},"_defaultCompareFunction")}]),h}();r.exports=u},function(r,n,i){"use strict";var a=function(){function u(h,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return o(u,"defineProperties"),function(h,d,p){return d&&u(h.prototype,d),p&&u(h,p),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var l=function(){function u(h,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,u),this.sequence1=h,this.sequence2=d,this.match_score=p,this.mismatch_penalty=f,this.gap_penalty=g,this.iMax=h.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[m][y]=0}this.tracebackGrid=new Array(this.iMax);for(var b=0;b<this.iMax;b++){this.tracebackGrid[b]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[b][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(u,"NeedlemanWunsch"),a(u,[{key:"getScore",value:o(function(){return this.score},"getScore")},{key:"getAlignments",value:o(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:o(function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var f=1;f<this.jMax;f++){var g=void 0;this.sequence1[p-1]===this.sequence2[f-1]?g=this.grid[p-1][f-1]+this.match_score:g=this.grid[p-1][f-1]+this.mismatch_penalty;var m=this.grid[p-1][f]+this.gap_penalty,y=this.grid[p][f-1]+this.gap_penalty,b=[g,m,y],v=this.arrayAllMaxIndexes(b);this.grid[p][f]=b[v[0]],this.tracebackGrid[p][f]=[v.includes(0),v.includes(1),v.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:o(function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:o(function(h,d){for(var p=[],f=-1;(f=h.indexOf(d,f+1))!==-1;)p.push(f);return p},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:o(function(h){return this.getAllIndexes(h,Math.max.apply(null,h))},"arrayAllMaxIndexes")}]),u}();r.exports=l},function(r,n,i){"use strict";var a=o(function(){},"layoutBase");a.FDLayout=i(18),a.FDLayoutConstants=i(7),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(4),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(24),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(5),a.LEdge=i(1),a.LGraphManager=i(6),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(25),r.exports=a},function(r,n,i){"use strict";function a(){this.listeners=[]}o(a,"Emitter");var s=a.prototype;s.addListener=function(l,u){this.listeners.push({event:l,callback:u})},s.removeListener=function(l,u){for(var h=this.listeners.length;h>=0;h--){var d=this.listeners[h];d.event===l&&d.callback===u&&this.listeners.splice(h,1)}},s.emit=function(l,u){for(var h=0;h<this.listeners.length;h++){var d=this.listeners[h];l===d.event&&d.callback(u)}},r.exports=a}])})}),dBe=St((e,t)=>{"use strict";o(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n(hBe()):typeof define=="function"&&define.amd?define(["layout-base"],n):typeof e=="object"?e.coseBase=n(hBe()):r.coseBase=n(r.layoutBase)},"webpackUniversalModuleDefinition")(e,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var l=i[s]={i:s,l:!1,exports:{}};return n[s].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return o(a,"__webpack_require__"),a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,l,u){a.o(s,l)||Object.defineProperty(s,l,{configurable:!1,enumerable:!0,get:u})},a.n=function(s){var l=s&&s.__esModule?o(function(){return s.default},"getDefault"):o(function(){return s},"getModuleExports");return a.d(l,"a",l),l},a.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},a.p="",a(a.s=7)}([function(n,i){n.exports=r},function(n,i,a){"use strict";var s=a(0).FDLayoutConstants;function l(){}o(l,"CoSEConstants");for(var u in s)l[u]=s[u];l.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,l.DEFAULT_RADIAL_SEPARATION=s.DEFAULT_EDGE_LENGTH,l.DEFAULT_COMPONENT_SEPERATION=60,l.TILE=!0,l.TILING_PADDING_VERTICAL=10,l.TILING_PADDING_HORIZONTAL=10,l.TREE_REDUCTION_ON_INCREMENTAL=!1,n.exports=l},function(n,i,a){"use strict";var s=a(0).FDLayoutEdge;function l(h,d,p){s.call(this,h,d,p)}o(l,"CoSEEdge"),l.prototype=Object.create(s.prototype);for(var u in s)l[u]=s[u];n.exports=l},function(n,i,a){"use strict";var s=a(0).LGraph;function l(h,d,p){s.call(this,h,d,p)}o(l,"CoSEGraph"),l.prototype=Object.create(s.prototype);for(var u in s)l[u]=s[u];n.exports=l},function(n,i,a){"use strict";var s=a(0).LGraphManager;function l(h){s.call(this,h)}o(l,"CoSEGraphManager"),l.prototype=Object.create(s.prototype);for(var u in s)l[u]=s[u];n.exports=l},function(n,i,a){"use strict";var s=a(0).FDLayoutNode,l=a(0).IMath;function u(d,p,f,g){s.call(this,d,p,f,g)}o(u,"CoSENode"),u.prototype=Object.create(s.prototype);for(var h in s)u[h]=s[h];u.prototype.move=function(){var d=this.graphManager.getLayout();this.displacementX=d.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=d.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementX=d.coolingFactor*d.maxNodeDisplacement*l.sign(this.displacementX)),Math.abs(this.displacementY)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementY=d.coolingFactor*d.maxNodeDisplacement*l.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),d.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(d,p){for(var f=this.getChild().getNodes(),g,m=0;m<f.length;m++)g=f[m],g.getChild()==null?(g.moveBy(d,p),g.displacementX+=d,g.displacementY+=p):g.propogateDisplacementToChildren(d,p)},u.prototype.setPred1=function(d){this.pred1=d},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(d){this.next=d},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(d){this.processed=d},u.prototype.isProcessed=function(){return processed},n.exports=u},function(n,i,a){"use strict";var s=a(0).FDLayout,l=a(4),u=a(3),h=a(5),d=a(2),p=a(1),f=a(0).FDLayoutConstants,g=a(0).LayoutConstants,m=a(0).Point,y=a(0).PointD,b=a(0).Layout,v=a(0).Integer,x=a(0).IGeometry,w=a(0).LGraph,E=a(0).Transform;function A(){s.call(this),this.toBeTiled={}}o(A,"CoSELayout"),A.prototype=Object.create(s.prototype);for(var N in s)A[N]=s[N];A.prototype.newGraphManager=function(){var L=new l(this);return this.graphManager=L,L},A.prototype.newGraph=function(L){return new u(null,this.graphManager,L)},A.prototype.newNode=function(L){return new h(this.graphManager,L)},A.prototype.newEdge=function(L){return new d(null,null,L)},A.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.isSubLayout||(p.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=p.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=p.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=f.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=f.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=f.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=f.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=f.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=f.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/f.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=f.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},A.prototype.layout=function(){var L=g.DEFAULT_CREATE_BENDS_AS_NEEDED;return L&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},A.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(p.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var L=new Set(this.getAllNodes()),C=this.nodesWithGravity.filter(function(P){return L.has(P)});this.graphManager.setAllNodesToApplyGravitation(C)}}else{var D=this.getFlatForest();if(D.length>0)this.positionNodesRadially(D);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var L=new Set(this.getAllNodes()),C=this.nodesWithGravity.filter(function(I){return L.has(I)});this.graphManager.setAllNodesToApplyGravitation(C),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},A.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%f.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var L=new Set(this.getAllNodes()),C=this.nodesWithGravity.filter(function(O){return L.has(O)});this.graphManager.setAllNodesToApplyGravitation(C),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=f.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=f.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var D=!this.isTreeGrowing&&!this.isGrowthFinished,P=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(D,P),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},A.prototype.getPositionsData=function(){for(var L=this.graphManager.getAllNodes(),C={},D=0;D<L.length;D++){var P=L[D].rect,O=L[D].id;C[O]={id:O,x:P.getCenterX(),y:P.getCenterY(),w:P.width,h:P.height}}return C},A.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var L=!1;if(f.ANIMATE==="during")this.emit("layoutstarted");else{for(;!L;)L=this.tick();this.graphManager.updateBounds()}},A.prototype.calculateNodesToApplyGravitationTo=function(){var L=[],C,D=this.graphManager.getGraphs(),P=D.length,O;for(O=0;O<P;O++)C=D[O],C.updateConnected(),C.isConnected||(L=L.concat(C.getNodes()));return L},A.prototype.createBendpoints=function(){var L=[];L=L.concat(this.graphManager.getAllEdges());var C=new Set,D;for(D=0;D<L.length;D++){var P=L[D];if(!C.has(P)){var O=P.getSource(),I=P.getTarget();if(O==I)P.getBendpoints().push(new y),P.getBendpoints().push(new y),this.createDummyNodesForBendpoints(P),C.add(P);else{var q=[];if(q=q.concat(O.getEdgeListToNode(I)),q=q.concat(I.getEdgeListToNode(O)),!C.has(q[0])){if(q.length>1){var S;for(S=0;S<q.length;S++){var B=q[S];B.getBendpoints().push(new y),this.createDummyNodesForBendpoints(B)}}q.forEach(function(F){C.add(F)})}}}if(C.size==L.length)break}},A.prototype.positionNodesRadially=function(L){for(var C=new m(0,0),D=Math.ceil(Math.sqrt(L.length)),P=0,O=0,I=0,q=new y(0,0),S=0;S<L.length;S++){S%D==0&&(I=0,O=P,S!=0&&(O+=p.DEFAULT_COMPONENT_SEPERATION),P=0);var B=L[S],F=b.findCenterOfTree(B);C.x=I,C.y=O,q=A.radialLayout(B,F,C),q.y>P&&(P=Math.floor(q.y)),I=Math.floor(q.x+p.DEFAULT_COMPONENT_SEPERATION)}this.transform(new y(g.WORLD_CENTER_X-q.x/2,g.WORLD_CENTER_Y-q.y/2))},A.radialLayout=function(L,C,D){var P=Math.max(this.maxDiagonalInTree(L),p.DEFAULT_RADIAL_SEPARATION);A.branchRadialLayout(C,null,0,359,0,P);var O=w.calculateBounds(L),I=new E;I.setDeviceOrgX(O.getMinX()),I.setDeviceOrgY(O.getMinY()),I.setWorldOrgX(D.x),I.setWorldOrgY(D.y);for(var q=0;q<L.length;q++){var S=L[q];S.transform(I)}var B=new y(O.getMaxX(),O.getMaxY());return I.inverseTransformPoint(B)},A.branchRadialLayout=function(L,C,D,P,O,I){var q=(P-D+1)/2;q<0&&(q+=180);var S=(q+D)%360,B=S*x.TWO_PI/360,F=Math.cos(B),z=O*Math.cos(B),M=O*Math.sin(B);L.setCenter(z,M);var G=[];G=G.concat(L.getEdges());var Y=G.length;C!=null&&Y--;for(var V=0,X=G.length,re,de=L.getEdgesBetween(C);de.length>1;){var xe=de[0];de.splice(0,1);var he=G.indexOf(xe);he>=0&&G.splice(he,1),X--,Y--}C!=null?re=(G.indexOf(de[0])+1)%X:re=0;for(var be=Math.abs(P-D)/Y,Q=re;V!=Y;Q=++Q%X){var ne=G[Q].getOtherEnd(L);if(ne!=C){var ee=(D+V*be)%360,pe=(ee+be)%360;A.branchRadialLayout(ne,L,ee,pe,O+I,I),V++}}},A.maxDiagonalInTree=function(L){for(var C=v.MIN_VALUE,D=0;D<L.length;D++){var P=L[D],O=P.getDiagonal();O>C&&(C=O)}return C},A.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},A.prototype.groupZeroDegreeMembers=function(){var L=this,C={};this.memberGroups={},this.idToDummyNode={};for(var D=[],P=this.graphManager.getAllNodes(),O=0;O<P.length;O++){var I=P[O],q=I.getParent();this.getNodeDegreeWithChildren(I)===0&&(q.id==null||!this.getToBeTiled(q))&&D.push(I)}for(var O=0;O<D.length;O++){var I=D[O],S=I.getParent().id;typeof C[S]>"u"&&(C[S]=[]),C[S]=C[S].concat(I)}Object.keys(C).forEach(function(B){if(C[B].length>1){var F="DummyCompound_"+B;L.memberGroups[F]=C[B];var z=C[B][0].getParent(),M=new h(L.graphManager);M.id=F,M.paddingLeft=z.paddingLeft||0,M.paddingRight=z.paddingRight||0,M.paddingBottom=z.paddingBottom||0,M.paddingTop=z.paddingTop||0,L.idToDummyNode[F]=M;var G=L.getGraphManager().add(L.newGraph(),M),Y=z.getChild();Y.add(M);for(var V=0;V<C[B].length;V++){var X=C[B][V];Y.remove(X),G.add(X)}}})},A.prototype.clearCompounds=function(){var L={},C={};this.performDFSOnCompounds();for(var D=0;D<this.compoundOrder.length;D++)C[this.compoundOrder[D].id]=this.compoundOrder[D],L[this.compoundOrder[D].id]=[].concat(this.compoundOrder[D].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[D].getChild()),this.compoundOrder[D].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(L,C)},A.prototype.clearZeroDegreeMembers=function(){var L=this,C=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(D){var P=L.idToDummyNode[D];C[D]=L.tileNodes(L.memberGroups[D],P.paddingLeft+P.paddingRight),P.rect.width=C[D].width,P.rect.height=C[D].height})},A.prototype.repopulateCompounds=function(){for(var L=this.compoundOrder.length-1;L>=0;L--){var C=this.compoundOrder[L],D=C.id,P=C.paddingLeft,O=C.paddingTop;this.adjustLocations(this.tiledMemberPack[D],C.rect.x,C.rect.y,P,O)}},A.prototype.repopulateZeroDegreeMembers=function(){var L=this,C=this.tiledZeroDegreePack;Object.keys(C).forEach(function(D){var P=L.idToDummyNode[D],O=P.paddingLeft,I=P.paddingTop;L.adjustLocations(C[D],P.rect.x,P.rect.y,O,I)})},A.prototype.getToBeTiled=function(L){var C=L.id;if(this.toBeTiled[C]!=null)return this.toBeTiled[C];var D=L.getChild();if(D==null)return this.toBeTiled[C]=!1,!1;for(var P=D.getNodes(),O=0;O<P.length;O++){var I=P[O];if(this.getNodeDegree(I)>0)return this.toBeTiled[C]=!1,!1;if(I.getChild()==null){this.toBeTiled[I.id]=!1;continue}if(!this.getToBeTiled(I))return this.toBeTiled[C]=!1,!1}return this.toBeTiled[C]=!0,!0},A.prototype.getNodeDegree=function(L){for(var C=L.id,D=L.getEdges(),P=0,O=0;O<D.length;O++){var I=D[O];I.getSource().id!==I.getTarget().id&&(P=P+1)}return P},A.prototype.getNodeDegreeWithChildren=function(L){var C=this.getNodeDegree(L);if(L.getChild()==null)return C;for(var D=L.getChild().getNodes(),P=0;P<D.length;P++){var O=D[P];C+=this.getNodeDegreeWithChildren(O)}return C},A.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},A.prototype.fillCompexOrderByDFS=function(L){for(var C=0;C<L.length;C++){var D=L[C];D.getChild()!=null&&this.fillCompexOrderByDFS(D.getChild().getNodes()),this.getToBeTiled(D)&&this.compoundOrder.push(D)}},A.prototype.adjustLocations=function(L,C,D,P,O){C+=P,D+=O;for(var I=C,q=0;q<L.rows.length;q++){var S=L.rows[q];C=I;for(var B=0,F=0;F<S.length;F++){var z=S[F];z.rect.x=C,z.rect.y=D,C+=z.rect.width+L.horizontalPadding,z.rect.height>B&&(B=z.rect.height)}D+=B+L.verticalPadding}},A.prototype.tileCompoundMembers=function(L,C){var D=this;this.tiledMemberPack=[],Object.keys(L).forEach(function(P){var O=C[P];D.tiledMemberPack[P]=D.tileNodes(L[P],O.paddingLeft+O.paddingRight),O.rect.width=D.tiledMemberPack[P].width,O.rect.height=D.tiledMemberPack[P].height})},A.prototype.tileNodes=function(L,C){var D=p.TILING_PADDING_VERTICAL,P=p.TILING_PADDING_HORIZONTAL,O={rows:[],rowWidth:[],rowHeight:[],width:0,height:C,verticalPadding:D,horizontalPadding:P};L.sort(function(S,B){return S.rect.width*S.rect.height>B.rect.width*B.rect.height?-1:S.rect.width*S.rect.height<B.rect.width*B.rect.height?1:0});for(var I=0;I<L.length;I++){var q=L[I];O.rows.length==0?this.insertNodeToRow(O,q,0,C):this.canAddHorizontal(O,q.rect.width,q.rect.height)?this.insertNodeToRow(O,q,this.getShortestRowIndex(O),C):this.insertNodeToRow(O,q,O.rows.length,C),this.shiftToLastRow(O)}return O},A.prototype.insertNodeToRow=function(L,C,D,P){var O=P;if(D==L.rows.length){var I=[];L.rows.push(I),L.rowWidth.push(O),L.rowHeight.push(0)}var q=L.rowWidth[D]+C.rect.width;L.rows[D].length>0&&(q+=L.horizontalPadding),L.rowWidth[D]=q,L.width<q&&(L.width=q);var S=C.rect.height;D>0&&(S+=L.verticalPadding);var B=0;S>L.rowHeight[D]&&(B=L.rowHeight[D],L.rowHeight[D]=S,B=L.rowHeight[D]-B),L.height+=B,L.rows[D].push(C)},A.prototype.getShortestRowIndex=function(L){for(var C=-1,D=Number.MAX_VALUE,P=0;P<L.rows.length;P++)L.rowWidth[P]<D&&(C=P,D=L.rowWidth[P]);return C},A.prototype.getLongestRowIndex=function(L){for(var C=-1,D=Number.MIN_VALUE,P=0;P<L.rows.length;P++)L.rowWidth[P]>D&&(C=P,D=L.rowWidth[P]);return C},A.prototype.canAddHorizontal=function(L,C,D){var P=this.getShortestRowIndex(L);if(P<0)return!0;var O=L.rowWidth[P];if(O+L.horizontalPadding+C<=L.width)return!0;var I=0;L.rowHeight[P]<D&&P>0&&(I=D+L.verticalPadding-L.rowHeight[P]);var q;L.width-O>=C+L.horizontalPadding?q=(L.height+I)/(O+C+L.horizontalPadding):q=(L.height+I)/L.width,I=D+L.verticalPadding;var S;return L.width<C?S=(L.height+I)/C:S=(L.height+I)/L.width,S<1&&(S=1/S),q<1&&(q=1/q),q<S},A.prototype.shiftToLastRow=function(L){var C=this.getLongestRowIndex(L),D=L.rowWidth.length-1,P=L.rows[C],O=P[P.length-1],I=O.width+L.horizontalPadding;if(L.width-L.rowWidth[D]>I&&C!=D){P.splice(-1,1),L.rows[D].push(O),L.rowWidth[C]=L.rowWidth[C]-I,L.rowWidth[D]=L.rowWidth[D]+I,L.width=L.rowWidth[instance.getLongestRowIndex(L)];for(var q=Number.MIN_VALUE,S=0;S<P.length;S++)P[S].height>q&&(q=P[S].height);C>0&&(q+=L.verticalPadding);var B=L.rowHeight[C]+L.rowHeight[D];L.rowHeight[C]=q,L.rowHeight[D]<O.height+L.verticalPadding&&(L.rowHeight[D]=O.height+L.verticalPadding);var F=L.rowHeight[C]+L.rowHeight[D];L.height+=F-B,this.shiftToLastRow(L)}},A.prototype.tilingPreLayout=function(){p.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},A.prototype.tilingPostLayout=function(){p.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},A.prototype.reduceTrees=function(){for(var L=[],C=!0,D;C;){var P=this.graphManager.getAllNodes(),O=[];C=!1;for(var I=0;I<P.length;I++)D=P[I],D.getEdges().length==1&&!D.getEdges()[0].isInterGraph&&D.getChild()==null&&(O.push([D,D.getEdges()[0],D.getOwner()]),C=!0);if(C==!0){for(var q=[],S=0;S<O.length;S++)O[S][0].getEdges().length==1&&(q.push(O[S]),O[S][0].getOwner().remove(O[S][0]));L.push(q),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=L},A.prototype.growTree=function(L){for(var C=L.length,D=L[C-1],P,O=0;O<D.length;O++)P=D[O],this.findPlaceforPrunedNode(P),P[2].add(P[0]),P[2].add(P[1],P[1].source,P[1].target);L.splice(L.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},A.prototype.findPlaceforPrunedNode=function(L){var C,D,P=L[0];P==L[1].source?D=L[1].target:D=L[1].source;var O=D.startX,I=D.finishX,q=D.startY,S=D.finishY,B=0,F=0,z=0,M=0,G=[B,z,F,M];if(q>0)for(var Y=O;Y<=I;Y++)G[0]+=this.grid[Y][q-1].length+this.grid[Y][q].length-1;if(I<this.grid.length-1)for(var Y=q;Y<=S;Y++)G[1]+=this.grid[I+1][Y].length+this.grid[I][Y].length-1;if(S<this.grid[0].length-1)for(var Y=O;Y<=I;Y++)G[2]+=this.grid[Y][S+1].length+this.grid[Y][S].length-1;if(O>0)for(var Y=q;Y<=S;Y++)G[3]+=this.grid[O-1][Y].length+this.grid[O][Y].length-1;for(var V=v.MAX_VALUE,X,re,de=0;de<G.length;de++)G[de]<V?(V=G[de],X=1,re=de):G[de]==V&&X++;if(X==3&&V==0)G[0]==0&&G[1]==0&&G[2]==0?C=1:G[0]==0&&G[1]==0&&G[3]==0?C=0:G[0]==0&&G[2]==0&&G[3]==0?C=3:G[1]==0&&G[2]==0&&G[3]==0&&(C=2);else if(X==2&&V==0){var xe=Math.floor(Math.random()*2);G[0]==0&&G[1]==0?xe==0?C=0:C=1:G[0]==0&&G[2]==0?xe==0?C=0:C=2:G[0]==0&&G[3]==0?xe==0?C=0:C=3:G[1]==0&&G[2]==0?xe==0?C=1:C=2:G[1]==0&&G[3]==0?xe==0?C=1:C=3:xe==0?C=2:C=3}else if(X==4&&V==0){var xe=Math.floor(Math.random()*4);C=xe}else C=re;C==0?P.setCenter(D.getCenterX(),D.getCenterY()-D.getHeight()/2-f.DEFAULT_EDGE_LENGTH-P.getHeight()/2):C==1?P.setCenter(D.getCenterX()+D.getWidth()/2+f.DEFAULT_EDGE_LENGTH+P.getWidth()/2,D.getCenterY()):C==2?P.setCenter(D.getCenterX(),D.getCenterY()+D.getHeight()/2+f.DEFAULT_EDGE_LENGTH+P.getHeight()/2):P.setCenter(D.getCenterX()-D.getWidth()/2-f.DEFAULT_EDGE_LENGTH-P.getWidth()/2,D.getCenterY())},n.exports=A},function(n,i,a){"use strict";var s={};s.layoutBase=a(0),s.CoSEConstants=a(1),s.CoSEEdge=a(2),s.CoSEGraph=a(3),s.CoSEGraphManager=a(4),s.CoSELayout=a(6),s.CoSENode=a(5),n.exports=s}])})}),ket=St((e,t)=>{"use strict";o(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n(dBe()):typeof define=="function"&&define.amd?define(["cose-base"],n):typeof e=="object"?e.cytoscapeCoseBilkent=n(dBe()):r.cytoscapeCoseBilkent=n(r.coseBase)},"webpackUniversalModuleDefinition")(e,function(r){return function(n){var i={};function a(s){if(i[s])return i[s].exports;var l=i[s]={i:s,l:!1,exports:{}};return n[s].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return o(a,"__webpack_require__"),a.m=n,a.c=i,a.i=function(s){return s},a.d=function(s,l,u){a.o(s,l)||Object.defineProperty(s,l,{configurable:!1,enumerable:!0,get:u})},a.n=function(s){var l=s&&s.__esModule?o(function(){return s.default},"getDefault"):o(function(){return s},"getModuleExports");return a.d(l,"a",l),l},a.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},a.p="",a(a.s=1)}([function(n,i){n.exports=r},function(n,i,a){"use strict";var s=a(0).layoutBase.LayoutConstants,l=a(0).layoutBase.FDLayoutConstants,u=a(0).CoSEConstants,h=a(0).CoSELayout,d=a(0).CoSENode,p=a(0).layoutBase.PointD,f=a(0).layoutBase.DimensionD,g={ready:o(function(){},"ready"),stop:o(function(){},"stop"),quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function m(x,w){var E={};for(var A in x)E[A]=x[A];for(var A in w)E[A]=w[A];return E}o(m,"extend");function y(x){this.options=m(g,x),b(this.options)}o(y,"_CoSELayout");var b=o(function(x){x.nodeRepulsion!=null&&(u.DEFAULT_REPULSION_STRENGTH=l.DEFAULT_REPULSION_STRENGTH=x.nodeRepulsion),x.idealEdgeLength!=null&&(u.DEFAULT_EDGE_LENGTH=l.DEFAULT_EDGE_LENGTH=x.idealEdgeLength),x.edgeElasticity!=null&&(u.DEFAULT_SPRING_STRENGTH=l.DEFAULT_SPRING_STRENGTH=x.edgeElasticity),x.nestingFactor!=null&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=x.nestingFactor),x.gravity!=null&&(u.DEFAULT_GRAVITY_STRENGTH=l.DEFAULT_GRAVITY_STRENGTH=x.gravity),x.numIter!=null&&(u.MAX_ITERATIONS=l.MAX_ITERATIONS=x.numIter),x.gravityRange!=null&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=l.DEFAULT_GRAVITY_RANGE_FACTOR=x.gravityRange),x.gravityCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=x.gravityCompound),x.gravityRangeCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=x.gravityRangeCompound),x.initialEnergyOnIncremental!=null&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=l.DEFAULT_COOLING_FACTOR_INCREMENTAL=x.initialEnergyOnIncremental),x.quality=="draft"?s.QUALITY=0:x.quality=="proof"?s.QUALITY=2:s.QUALITY=1,u.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=x.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=!x.randomize,u.ANIMATE=l.ANIMATE=s.ANIMATE=x.animate,u.TILE=x.tile,u.TILING_PADDING_VERTICAL=typeof x.tilingPaddingVertical=="function"?x.tilingPaddingVertical.call():x.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL=typeof x.tilingPaddingHorizontal=="function"?x.tilingPaddingHorizontal.call():x.tilingPaddingHorizontal},"getUserOptions");y.prototype.run=function(){var x,w,E=this.options,A=this.idToLNode={},N=this.layout=new h,L=this;L.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var C=N.newGraphManager();this.gm=C;var D=this.options.eles.nodes(),P=this.options.eles.edges();this.root=C.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(D),N);for(var O=0;O<P.length;O++){var I=P[O],q=this.idToLNode[I.data("source")],S=this.idToLNode[I.data("target")];if(q!==S&&q.getEdgesBetween(S).length==0){var B=C.add(N.newEdge(),q,S);B.id=I.id()}}var F=o(function(M,G){typeof M=="number"&&(M=G);var Y=M.data("id"),V=L.idToLNode[Y];return{x:V.getRect().getCenterX(),y:V.getRect().getCenterY()}},"getPositions"),z=o(function M(){for(var G=o(function(){E.fit&&E.cy.fit(E.eles,E.padding),x||(x=!0,L.cy.one("layoutready",E.ready),L.cy.trigger({type:"layoutready",layout:L}))},"afterReposition"),Y=L.options.refresh,V,X=0;X<Y&&!V;X++)V=L.stopped||L.layout.tick();if(V){N.checkLayoutSuccess()&&!N.isSubLayout&&N.doPostLayout(),N.tilingPostLayout&&N.tilingPostLayout(),N.isLayoutFinished=!0,L.options.eles.nodes().positions(F),G(),L.cy.one("layoutstop",L.options.stop),L.cy.trigger({type:"layoutstop",layout:L}),w&&cancelAnimationFrame(w),x=!1;return}var re=L.layout.getPositionsData();E.eles.nodes().positions(function(de,xe){if(typeof de=="number"&&(de=xe),!de.isParent()){for(var he=de.id(),be=re[he],Q=de;be==null&&(be=re[Q.data("parent")]||re["DummyCompound_"+Q.data("parent")],re[he]=be,Q=Q.parent()[0],Q!=null););return be!=null?{x:be.x,y:be.y}:{x:de.position("x"),y:de.position("y")}}}),G(),w=requestAnimationFrame(M)},"iterateAnimated");return N.addListener("layoutstarted",function(){L.options.animate==="during"&&(w=requestAnimationFrame(z))}),N.runLayout(),this.options.animate!=="during"&&(L.options.eles.nodes().not(":parent").layoutPositions(L,L.options,F),x=!1),this},y.prototype.getTopMostNodes=function(x){for(var w={},E=0;E<x.length;E++)w[x[E].id()]=!0;var A=x.filter(function(N,L){typeof N=="number"&&(N=L);for(var C=N.parent()[0];C!=null;){if(w[C.id()])return!1;C=C.parent()[0]}return!0});return A},y.prototype.processChildrenList=function(x,w,E){for(var A=w.length,N=0;N<A;N++){var L=w[N],C=L.children(),D,P=L.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(L.outerWidth()!=null&&L.outerHeight()!=null?D=x.add(new d(E.graphManager,new p(L.position("x")-P.w/2,L.position("y")-P.h/2),new f(parseFloat(P.w),parseFloat(P.h)))):D=x.add(new d(this.graphManager)),D.id=L.data("id"),D.paddingLeft=parseInt(L.css("padding")),D.paddingTop=parseInt(L.css("padding")),D.paddingRight=parseInt(L.css("padding")),D.paddingBottom=parseInt(L.css("padding")),this.options.nodeDimensionsIncludeLabels&&L.isParent()){var O=L.boundingBox({includeLabels:!0,includeNodes:!1}).w,I=L.boundingBox({includeLabels:!0,includeNodes:!1}).h,q=L.css("text-halign");D.labelWidth=O,D.labelHeight=I,D.labelPos=q}if(this.idToLNode[L.data("id")]=D,isNaN(D.rect.x)&&(D.rect.x=0),isNaN(D.rect.y)&&(D.rect.y=0),C!=null&&C.length>0){var S;S=E.getGraphManager().add(E.newGraph(),D),this.processChildrenList(S,C,E)}}},y.prototype.stop=function(){return this.stopped=!0,this};var v=o(function(x){x("layout","cose-bilkent",y)},"register");typeof cytoscape<"u"&&v(cytoscape),n.exports=v}])})});function pBe(e,t,r,n,i){return e.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("transform","translate("+(i.width-t)/2+", "+r+")")}var gBe,fBe,mBe,yBe,vBe,bBe,xBe,wBe,kBe,TBe,Tet=R(()=>{"use strict";eh(),kn(),gBe=12,fBe=o(function(e,t,r,n){t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 ${r.height-5} v${-r.height+2*5} q0,-5 5,-5 h${r.width-2*5} q5,0 5,5 v${r.height-5} H0 Z`),t.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",r.height).attr("x2",r.width).attr("y2",r.height)},"defaultBkg"),mBe=o(function(e,t,r){t.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("height",r.height).attr("width",r.width)},"rectBkg"),yBe=o(function(e,t,r){let n=r.width,i=r.height,a=.15*n,s=.25*n,l=.35*n,u=.2*n;t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 0 0,1 ${n*.25},${-1*n*.1}
      a${l},${l} 1 0,1 ${n*.4},${-1*n*.1}
      a${s},${s} 1 0,1 ${n*.35},${1*n*.2}

      a${a},${a} 1 0,1 ${n*.15},${1*i*.35}
      a${u},${u} 1 0,1 ${-1*n*.15},${1*i*.65}

      a${s},${a} 1 0,1 ${-1*n*.25},${n*.15}
      a${l},${l} 1 0,1 ${-1*n*.5},0
      a${a},${a} 1 0,1 ${-1*n*.25},${-1*n*.15}

      a${a},${a} 1 0,1 ${-1*n*.1},${-1*i*.35}
      a${u},${u} 1 0,1 ${n*.1},${-1*i*.65}

    H0 V0 Z`)},"cloudBkg"),vBe=o(function(e,t,r){let n=r.width,i=r.height,a=.15*n;t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 1 0,0 ${n*.25},${-1*i*.1}
      a${a},${a} 1 0,0 ${n*.25},0
      a${a},${a} 1 0,0 ${n*.25},0
      a${a},${a} 1 0,0 ${n*.25},${1*i*.1}

      a${a},${a} 1 0,0 ${n*.15},${1*i*.33}
      a${a*.8},${a*.8} 1 0,0 0,${1*i*.34}
      a${a},${a} 1 0,0 ${-1*n*.15},${1*i*.33}

      a${a},${a} 1 0,0 ${-1*n*.25},${i*.15}
      a${a},${a} 1 0,0 ${-1*n*.25},0
      a${a},${a} 1 0,0 ${-1*n*.25},0
      a${a},${a} 1 0,0 ${-1*n*.25},${-1*i*.15}

      a${a},${a} 1 0,0 ${-1*n*.1},${-1*i*.33}
      a${a*.8},${a*.8} 1 0,0 0,${-1*i*.34}
      a${a},${a} 1 0,0 ${n*.1},${-1*i*.33}

    H0 V0 Z`)},"bangBkg"),bBe=o(function(e,t,r){t.append("circle").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("r",r.width/2)},"circleBkg"),o(pBe,"insertPolygonShape"),xBe=o(function(e,t,r){let n=r.height,i=n/4,a=r.width-r.padding+2*i,s=[{x:i,y:0},{x:a-i,y:0},{x:a,y:-n/2},{x:a-i,y:-n},{x:i,y:-n},{x:0,y:-n/2}];pBe(t,a,n,s,r)},"hexagonBkg"),wBe=o(function(e,t,r){t.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("height",r.height).attr("rx",r.padding).attr("ry",r.padding).attr("width",r.width)},"roundedRectBkg"),kBe=o(async function(e,t,r,n,i){let a=i.htmlLabels,s=n%(gBe-1),l=t.append("g");r.section=s;let u="section-"+s;s<0&&(u+=" section-root"),l.attr("class",(r.class?r.class+" ":"")+"mindmap-node "+u);let h=l.append("g"),d=l.append("g"),p=r.descr.replace(/(<br\/*>)/g,`
`);await Vl(d,p,{useHtmlLabels:a,width:r.width,classes:"mindmap-node-label"},i),a||d.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");let f=d.node().getBBox(),[g]=Kh(i.fontSize);if(r.height=f.height+g*1.1*.5+r.padding,r.width=f.width+2*r.padding,r.icon)if(r.type===e.nodeType.CIRCLE)r.height+=50,r.width+=50,l.append("foreignObject").attr("height","50px").attr("width",r.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+r.icon),d.attr("transform","translate("+r.width/2+", "+(r.height/2-1.5*r.padding)+")");else{r.width+=50;let m=r.height;r.height=Math.max(m,60);let y=Math.abs(r.height-m);l.append("foreignObject").attr("width","60px").attr("height",r.height).attr("style","text-align: center;margin-top:"+y/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+s+" "+r.icon),d.attr("transform","translate("+(25+r.width/2)+", "+(y/2+r.padding/2)+")")}else if(a){let m=(r.width-f.width)/2,y=(r.height-f.height)/2;d.attr("transform","translate("+m+", "+y+")")}else{let m=r.width/2,y=r.padding/2;d.attr("transform","translate("+m+", "+y+")")}switch(r.type){case e.nodeType.DEFAULT:fBe(e,h,r,s);break;case e.nodeType.ROUNDED_RECT:wBe(e,h,r,s);break;case e.nodeType.RECT:mBe(e,h,r,s);break;case e.nodeType.CIRCLE:h.attr("transform","translate("+r.width/2+", "+ +r.height/2+")"),bBe(e,h,r,s);break;case e.nodeType.CLOUD:yBe(e,h,r,s);break;case e.nodeType.BANG:vBe(e,h,r,s);break;case e.nodeType.HEXAGON:xBe(e,h,r,s);break}return e.setElementForId(r.id,l),r.height},"drawNode"),TBe=o(function(e,t){let r=e.getElementById(t.id),n=t.x||0,i=t.y||0;r.attr("transform","translate("+n+","+i+")")},"positionNode")});async function Fj(e,t,r,n,i){await kBe(e,t,r,n,i),r.children&&await Promise.all(r.children.map((a,s)=>Fj(e,t,a,n<0?s:n,i)))}function EBe(e,t){t.edges().map((r,n)=>{let i=r.data();if(r[0]._private.bodyBounds){let a=r[0]._private.rscratch;J.trace("Edge: ",n,i),e.insert("path").attr("d",`M ${a.startX},${a.startY} L ${a.midX},${a.midY} L${a.endX},${a.endY} `).attr("class","edge section-edge-"+i.section+" edge-depth-"+i.depth)}})}function $j(e,t,r,n){t.add({group:"nodes",data:{id:e.id.toString(),labelText:e.descr,height:e.height,width:e.width,level:n,nodeId:e.id,padding:e.padding,type:e.type},position:{x:e.x,y:e.y}}),e.children&&e.children.forEach(i=>{$j(i,t,r,n+1),t.add({group:"edges",data:{id:`${e.id}_${i.id}`,source:e.id,target:i.id,depth:n,section:i.section}})})}function CBe(e,t){return new Promise(r=>{let n=Bt("body").append("div").attr("id","cy").attr("style","display:none"),i=Lu({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});n.remove(),$j(e,i,t,0),i.nodes().forEach(function(a){a.layoutDimensions=()=>{let s=a.data();return{w:s.width,h:s.height}}}),i.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),i.ready(a=>{J.info("Ready",a),r(i)})})}function _Be(e,t){t.nodes().map((r,n)=>{let i=r.data();i.x=r.position().x,i.y=r.position().y,TBe(e,i);let a=e.getElementById(i.nodeId);J.info("Id:",n,"Position: (",r.position().x,", ",r.position().y,")",i),a.attr("transform",`translate(${r.position().x-i.width/2}, ${r.position().y-i.height/2})`),a.attr("attr",`apa-${n})`)})}var SBe,ABe,LBe,Eet=R(()=>{"use strict";uBe(),SBe=Pr(ket(),1),Ln(),zr(),We(),l1(),Fa(),Tet(),ka(),Lu.use(SBe.default),o(Fj,"drawNodes"),o(EBe,"drawEdges"),o($j,"addNodes"),o(CBe,"layoutMindmap"),o(_Be,"positionNodes"),ABe=o(async(e,t,r,n)=>{J.debug(`Rendering mindmap diagram
`+e);let i=n.db,a=i.getMindmap();if(!a)return;let s=Ge();s.htmlLabels=!1;let l=S0(t),u=l.append("g");u.attr("class","mindmap-edges");let h=l.append("g");h.attr("class","mindmap-nodes"),await Fj(i,h,a,-1,s);let d=await CBe(a,s);EBe(u,d),_Be(i,d),ep(void 0,l,s.mindmap?.padding??Fn.mindmap.padding,s.mindmap?.useMaxWidth??Fn.mindmap.useMaxWidth)},"draw"),LBe={draw:ABe}}),NBe,MBe,IBe,Cet=R(()=>{"use strict";pl(),NBe=o(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],Hc(e["lineColor"+r])?e["lineColor"+r]=_r(e["lineColor"+r],20):e["lineColor"+r]=Mr(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){let n=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${n};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),MBe=o(e=>`
  .edge {
    stroke-width: 3;
  }
  ${NBe(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),IBe=MBe}),DBe={};yr(DBe,{diagram:()=>RBe});var RBe,_et=R(()=>{"use strict";bet(),xet(),Eet(),Cet(),RBe={db:ELe,renderer:LBe,parser:dLe,styles:IBe}}),iC,OBe,Aet=R(()=>{"use strict";iC=function(){var e=o(function(L,C,D,P){for(D=D||{},P=L.length;P--;D[L[P]]=C);return D},"o"),t=[1,4],r=[1,13],n=[1,12],i=[1,15],a=[1,16],s=[1,20],l=[1,19],u=[6,7,8],h=[1,26],d=[1,24],p=[1,25],f=[6,7,11],g=[1,31],m=[6,7,11,24],y=[1,6,13,16,17,20,23],b=[1,35],v=[1,36],x=[1,6,7,11,13,16,17,20,23],w=[1,38],E={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:o(function(L,C,D,P,O,I,q){var S=I.length-1;switch(O){case 6:case 7:return P;case 8:P.getLogger().trace("Stop NL ");break;case 9:P.getLogger().trace("Stop EOF ");break;case 11:P.getLogger().trace("Stop NL2 ");break;case 12:P.getLogger().trace("Stop EOF2 ");break;case 15:P.getLogger().info("Node: ",I[S-1].id),P.addNode(I[S-2].length,I[S-1].id,I[S-1].descr,I[S-1].type,I[S]);break;case 16:P.getLogger().info("Node: ",I[S].id),P.addNode(I[S-1].length,I[S].id,I[S].descr,I[S].type);break;case 17:P.getLogger().trace("Icon: ",I[S]),P.decorateNode({icon:I[S]});break;case 18:case 23:P.decorateNode({class:I[S]});break;case 19:P.getLogger().trace("SPACELIST");break;case 20:P.getLogger().trace("Node: ",I[S-1].id),P.addNode(0,I[S-1].id,I[S-1].descr,I[S-1].type,I[S]);break;case 21:P.getLogger().trace("Node: ",I[S].id),P.addNode(0,I[S].id,I[S].descr,I[S].type);break;case 22:P.decorateNode({icon:I[S]});break;case 27:P.getLogger().trace("node found ..",I[S-2]),this.$={id:I[S-1],descr:I[S-1],type:P.getType(I[S-2],I[S])};break;case 28:this.$={id:I[S],descr:I[S],type:0};break;case 29:P.getLogger().trace("node found ..",I[S-3]),this.$={id:I[S-3],descr:I[S-1],type:P.getType(I[S-2],I[S])};break;case 30:this.$=I[S-1]+I[S];break;case 31:this.$=I[S];break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:l},e(u,[2,3]),{1:[2,2]},e(u,[2,4]),e(u,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:l},{6:r,9:22,12:11,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:l},{6:h,7:d,10:23,11:p},e(f,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:s,23:l}),e(f,[2,19]),e(f,[2,21],{15:30,24:g}),e(f,[2,22]),e(f,[2,23]),e(m,[2,25]),e(m,[2,26]),e(m,[2,28],{20:[1,32]}),{21:[1,33]},{6:h,7:d,10:34,11:p},{1:[2,7],6:r,12:21,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:l},e(y,[2,14],{7:b,11:v}),e(x,[2,8]),e(x,[2,9]),e(x,[2,10]),e(f,[2,16],{15:37,24:g}),e(f,[2,17]),e(f,[2,18]),e(f,[2,20],{24:w}),e(m,[2,31]),{21:[1,39]},{22:[1,40]},e(y,[2,13],{7:b,11:v}),e(x,[2,11]),e(x,[2,12]),e(f,[2,15],{24:w}),e(m,[2,30]),{22:[1,41]},e(m,[2,27]),e(m,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:o(function(L,C){if(C.recoverable)this.trace(L);else{var D=new Error(L);throw D.hash=C,D}},"parseError"),parse:o(function(L){var C=this,D=[0],P=[],O=[null],I=[],q=this.table,S="",B=0,F=0,z=0,M=2,G=1,Y=I.slice.call(arguments,1),V=Object.create(this.lexer),X={yy:{}};for(var re in this.yy)Object.prototype.hasOwnProperty.call(this.yy,re)&&(X.yy[re]=this.yy[re]);V.setInput(L,X.yy),X.yy.lexer=V,X.yy.parser=this,typeof V.yylloc>"u"&&(V.yylloc={});var de=V.yylloc;I.push(de);var xe=V.options&&V.options.ranges;typeof X.yy.parseError=="function"?this.parseError=X.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function he(mt){D.length=D.length-2*mt,O.length=O.length-mt,I.length=I.length-mt}o(he,"popStack");function be(){var mt;return mt=P.pop()||V.lex()||G,typeof mt!="number"&&(mt instanceof Array&&(P=mt,mt=P.pop()),mt=C.symbols_[mt]||mt),mt}o(be,"lex");for(var Q,ne,ee,pe,ie,De,se={},je,ge,rt,Qe;;){if(ee=D[D.length-1],this.defaultActions[ee]?pe=this.defaultActions[ee]:((Q===null||typeof Q>"u")&&(Q=be()),pe=q[ee]&&q[ee][Q]),typeof pe>"u"||!pe.length||!pe[0]){var tt="";Qe=[];for(je in q[ee])this.terminals_[je]&&je>M&&Qe.push("'"+this.terminals_[je]+"'");V.showPosition?tt="Parse error on line "+(B+1)+`:
`+V.showPosition()+`
Expecting `+Qe.join(", ")+", got '"+(this.terminals_[Q]||Q)+"'":tt="Parse error on line "+(B+1)+": Unexpected "+(Q==G?"end of input":"'"+(this.terminals_[Q]||Q)+"'"),this.parseError(tt,{text:V.match,token:this.terminals_[Q]||Q,line:V.yylineno,loc:de,expected:Qe})}if(pe[0]instanceof Array&&pe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ee+", token: "+Q);switch(pe[0]){case 1:D.push(Q),O.push(V.yytext),I.push(V.yylloc),D.push(pe[1]),Q=null,ne?(Q=ne,ne=null):(F=V.yyleng,S=V.yytext,B=V.yylineno,de=V.yylloc,z>0&&z--);break;case 2:if(ge=this.productions_[pe[1]][1],se.$=O[O.length-ge],se._$={first_line:I[I.length-(ge||1)].first_line,last_line:I[I.length-1].last_line,first_column:I[I.length-(ge||1)].first_column,last_column:I[I.length-1].last_column},xe&&(se._$.range=[I[I.length-(ge||1)].range[0],I[I.length-1].range[1]]),De=this.performAction.apply(se,[S,F,B,X.yy,pe[1],O,I].concat(Y)),typeof De<"u")return De;ge&&(D=D.slice(0,-1*ge*2),O=O.slice(0,-1*ge),I=I.slice(0,-1*ge)),D.push(this.productions_[pe[1]][0]),O.push(se.$),I.push(se._$),rt=q[D[D.length-2]][D[D.length-1]],D.push(rt);break;case 3:return!0}}return!0},"parse")},A=function(){var L={EOF:1,parseError:o(function(C,D){if(this.yy.parser)this.yy.parser.parseError(C,D);else throw new Error(C)},"parseError"),setInput:o(function(C,D){return this.yy=D||this.yy||{},this._input=C,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var C=this._input[0];this.yytext+=C,this.yyleng++,this.offset++,this.match+=C,this.matched+=C;var D=C.match(/(?:\r\n?|\n).*/g);return D?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),C},"input"),unput:o(function(C){var D=C.length,P=C.split(/(?:\r\n?|\n)/g);this._input=C+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-D),this.offset-=D;var O=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),P.length-1&&(this.yylineno-=P.length-1);var I=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:P?(P.length===O.length?this.yylloc.first_column:0)+O[O.length-P.length].length-P[0].length:this.yylloc.first_column-D},this.options.ranges&&(this.yylloc.range=[I[0],I[0]+this.yyleng-D]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(C){this.unput(this.match.slice(C))},"less"),pastInput:o(function(){var C=this.matched.substr(0,this.matched.length-this.match.length);return(C.length>20?"...":"")+C.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var C=this.match;return C.length<20&&(C+=this._input.substr(0,20-C.length)),(C.substr(0,20)+(C.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var C=this.pastInput(),D=new Array(C.length+1).join("-");return C+this.upcomingInput()+`
`+D+"^"},"showPosition"),test_match:o(function(C,D){var P,O,I;if(this.options.backtrack_lexer&&(I={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(I.yylloc.range=this.yylloc.range.slice(0))),O=C[0].match(/(?:\r\n?|\n).*/g),O&&(this.yylineno+=O.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:O?O[O.length-1].length-O[O.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+C[0].length},this.yytext+=C[0],this.match+=C[0],this.matches=C,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(C[0].length),this.matched+=C[0],P=this.performAction.call(this,this.yy,this,D,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),P)return P;if(this._backtrack){for(var q in I)this[q]=I[q];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var C,D,P,O;this._more||(this.yytext="",this.match="");for(var I=this._currentRules(),q=0;q<I.length;q++)if(P=this._input.match(this.rules[I[q]]),P&&(!D||P[0].length>D[0].length)){if(D=P,O=q,this.options.backtrack_lexer){if(C=this.test_match(P,I[q]),C!==!1)return C;if(this._backtrack){D=!1;continue}else return!1}else if(!this.options.flex)break}return D?(C=this.test_match(D,I[O]),C!==!1?C:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var C=this.next();return C||this.lex()},"lex"),begin:o(function(C){this.conditionStack.push(C)},"begin"),popState:o(function(){var C=this.conditionStack.length-1;return C>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(C){return C=this.conditionStack.length-1-Math.abs(C||0),C>=0?this.conditionStack[C]:"INITIAL"},"topState"),pushState:o(function(C){this.begin(C)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(C,D,P,O){var I=O;switch(P){case 0:return this.pushState("shapeData"),D.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:let q=/\n\s*/g;return D.yytext=D.yytext.replace(q,"<br/>"),24;case 4:return 24;case 5:this.popState();break;case 6:return C.getLogger().trace("Found comment",D.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 10:this.popState();break;case 11:C.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return C.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:C.getLogger().trace("end icon"),this.popState();break;case 16:return C.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return C.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return C.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return C.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:return this.begin("NODE"),20;case 21:return this.begin("NODE"),20;case 22:return this.begin("NODE"),20;case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:C.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return C.getLogger().trace("description:",D.yytext),"NODE_DESCR";case 32:this.popState();break;case 33:return this.popState(),C.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),C.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),C.getLogger().trace("node end ...",D.yytext),"NODE_DEND";case 36:return this.popState(),C.getLogger().trace("node end (("),"NODE_DEND";case 37:return this.popState(),C.getLogger().trace("node end (-"),"NODE_DEND";case 38:return this.popState(),C.getLogger().trace("node end (-"),"NODE_DEND";case 39:return this.popState(),C.getLogger().trace("node end (("),"NODE_DEND";case 40:return this.popState(),C.getLogger().trace("node end (("),"NODE_DEND";case 41:return C.getLogger().trace("Long description:",D.yytext),21;case 42:return C.getLogger().trace("Long description:",D.yytext),21}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return L}();E.lexer=A;function N(){this.yy={}}return o(N,"Parser"),N.prototype=E,E.Parser=N,new N}(),iC.parser=iC,OBe=iC}),sc,aC,sC,oC,PBe,BBe,zj,FBe,$Be,ss,zBe,qBe,GBe,YBe,jBe,HBe,UBe,VBe,Let=R(()=>{"use strict";zr(),En(),We(),ka(),uI(),sc=[],aC=[],sC=0,oC={},PBe=o(()=>{sc=[],aC=[],sC=0,oC={}},"clear"),BBe=o(e=>{if(sc.length===0)return null;let t=sc[0].level,r=null;for(let n=sc.length-1;n>=0;n--)if(sc[n].level===t&&!r&&(r=sc[n]),sc[n].level<t)throw new Error('Items without section detected, found section ("'+sc[n].label+'")');return e===r?.level?null:r},"getSection"),zj=o(function(){return aC},"getSections"),FBe=o(function(){let e=[],t=[],r=zj(),n=Ge();for(let i of r){let a={id:i.id,label:Ei(i.label??"",n),isGroup:!0,ticket:i.ticket,shape:"kanbanSection",level:i.level,look:n.look};t.push(a);let s=sc.filter(l=>l.parentId===i.id);for(let l of s){let u={id:l.id,parentId:i.id,label:Ei(l.label??"",n),isGroup:!1,ticket:l?.ticket,priority:l?.priority,assigned:l?.assigned,icon:l?.icon,shape:"kanbanItem",level:l.level,rx:5,ry:5,cssStyles:["text-align: left"]};t.push(u)}}return{nodes:t,edges:e,other:{},config:Ge()}},"getData"),$Be=o((e,t,r,n,i)=>{let a=Ge(),s=a.mindmap?.padding??Fn.mindmap.padding;switch(n){case ss.ROUNDED_RECT:case ss.RECT:case ss.HEXAGON:s*=2}let l={id:Ei(t,a)||"kbn"+sC++,level:e,label:Ei(r,a),width:a.mindmap?.maxNodeWidth??Fn.mindmap.maxNodeWidth,padding:s,isGroup:!1};if(i!==void 0){let h;i.includes(`
`)?h=i+`
`:h=`{
`+i+`
}`;let d=O8(h,{schema:R8});if(d.shape&&(d.shape!==d.shape.toLowerCase()||d.shape.includes("_")))throw new Error(`No such shape: ${d.shape}. Shape names should be lowercase.`);d?.shape&&d.shape==="kanbanItem"&&(l.shape=d?.shape),d?.label&&(l.label=d?.label),d?.icon&&(l.icon=d?.icon.toString()),d?.assigned&&(l.assigned=d?.assigned.toString()),d?.ticket&&(l.ticket=d?.ticket.toString()),d?.priority&&(l.priority=d?.priority)}let u=BBe(e);u?l.parentId=u.id||"kbn"+sC++:aC.push(l),sc.push(l)},"addNode"),ss={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},zBe=o((e,t)=>{switch(J.debug("In get type",e,t),e){case"[":return ss.RECT;case"(":return t===")"?ss.ROUNDED_RECT:ss.CLOUD;case"((":return ss.CIRCLE;case")":return ss.CLOUD;case"))":return ss.BANG;case"{{":return ss.HEXAGON;default:return ss.DEFAULT}},"getType"),qBe=o((e,t)=>{oC[e]=t},"setElementForId"),GBe=o(e=>{if(!e)return;let t=Ge(),r=sc[sc.length-1];e.icon&&(r.icon=Ei(e.icon,t)),e.class&&(r.cssClasses=Ei(e.class,t))},"decorateNode"),YBe=o(e=>{switch(e){case ss.DEFAULT:return"no-border";case ss.RECT:return"rect";case ss.ROUNDED_RECT:return"rounded-rect";case ss.CIRCLE:return"circle";case ss.CLOUD:return"cloud";case ss.BANG:return"bang";case ss.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),jBe=o(()=>J,"getLogger"),HBe=o(e=>oC[e],"getElementById"),UBe={clear:PBe,addNode:$Be,getSections:zj,getData:FBe,nodeType:ss,getType:zBe,setElementForId:qBe,decorateNode:GBe,type2Str:YBe,getLogger:jBe,getElementById:HBe},VBe=UBe}),WBe,XBe,Net=R(()=>{"use strict";zr(),We(),l1(),Fa(),ka(),CI(),RI(),WBe=o(async(e,t,r,n)=>{J.debug(`Rendering kanban diagram
`+e);let i=n.db.getData(),a=Ge();a.htmlLabels=!1;let s=S0(t),l=s.append("g");l.attr("class","sections");let u=s.append("g");u.attr("class","items");let h=i.nodes.filter(y=>y.isGroup),d=0,p=10,f=[],g=25;for(let y of h){let b=a?.kanban?.sectionWidth||200;d=d+1,y.x=b*d+(d-1)*p/2,y.width=b,y.y=0,y.height=b*3,y.rx=5,y.ry=5,y.cssClasses=y.cssClasses+" section-"+d;let v=await H8(l,y);g=Math.max(g,v?.labelBBox?.height),f.push(v)}let m=0;for(let y of h){let b=f[m];m=m+1;let v=a?.kanban?.sectionWidth||200,x=-v*3/2+g,w=x,E=i.nodes.filter(L=>L.parentId===y.id);for(let L of E){if(L.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");L.x=y.x,L.width=v-1.5*p;let C=(await U8(u,L,{config:a})).node().getBBox();L.y=w+C.height/2,await V8(L),w=L.y+C.height/2+p/2}let A=b.cluster.select("rect"),N=Math.max(w-x+3*p,50)+(g-25);A.attr("height",N)}ep(void 0,s,a.mindmap?.padding??Fn.kanban.padding,a.mindmap?.useMaxWidth??Fn.kanban.useMaxWidth)},"draw"),XBe={draw:WBe}}),KBe,ZBe,QBe,Met=R(()=>{"use strict";pl(),KBe=o(e=>{let t="";for(let n=0;n<e.THEME_COLOR_LIMIT;n++)e["lineColor"+n]=e["lineColor"+n]||e["cScaleInv"+n],Hc(e["lineColor"+n])?e["lineColor"+n]=_r(e["lineColor"+n],20):e["lineColor"+n]=Mr(e["lineColor"+n],20);let r=o((n,i)=>e.darkMode?Mr(n,i):_r(n,i),"adjuster");for(let n=0;n<e.THEME_COLOR_LIMIT;n++){let i=""+(17-3*n);t+=`
    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {
      fill: ${r(e["cScale"+n],10)};
      stroke: ${r(e["cScale"+n],10)};

    }
    .section-${n-1} text {
     fill: ${e["cScaleLabel"+n]};
    }
    .node-icon-${n-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+n]};
    }
    .section-edge-${n-1}{
      stroke: ${e["cScale"+n]};
    }
    .edge-depth-${n-1}{
      stroke-width: ${i};
    }
    .section-${n-1} line {
      stroke: ${e["cScaleInv"+n]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    text-decoration: underline;
  }
    `}return t},"genSections"),ZBe=o(e=>`
  .edge {
    stroke-width: 3;
  }
  ${KBe(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${e.textColor};
    fill: ${e.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),QBe=ZBe}),JBe={};yr(JBe,{diagram:()=>eFe});var eFe,Iet=R(()=>{"use strict";Aet(),Let(),Net(),Met(),eFe={db:VBe,renderer:XBe,parser:OBe,styles:QBe}}),lC,Zb,Det=R(()=>{"use strict";lC=function(){var e=o(function(l,u,h,d){for(h=h||{},d=l.length;d--;h[l[d]]=u);return h},"o"),t=[1,9],r=[1,10],n=[1,5,10,12],i={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:o(function(l,u,h,d,p,f,g){var m=f.length-1;switch(p){case 7:let y=d.findOrCreateNode(f[m-4].trim().replaceAll('""','"')),b=d.findOrCreateNode(f[m-2].trim().replaceAll('""','"')),v=parseFloat(f[m].trim());d.addLink(y,b,v);break;case 8:case 9:case 11:this.$=f[m];break;case 10:this.$=f[m-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:t,20:r},{1:[2,6],7:11,10:[1,12]},e(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},e(n,[2,8]),e(n,[2,9]),{19:[1,16]},e(n,[2,11]),{1:[2,1]},{1:[2,5]},e(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:t,20:r},{15:18,16:7,17:8,18:t,20:r},{18:[1,19]},e(r,[2,3]),{12:[1,20]},e(n,[2,10]),{15:21,16:7,17:8,18:t,20:r},e([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:o(function(l,u){if(u.recoverable)this.trace(l);else{var h=new Error(l);throw h.hash=u,h}},"parseError"),parse:o(function(l){var u=this,h=[0],d=[],p=[null],f=[],g=this.table,m="",y=0,b=0,v=0,x=2,w=1,E=f.slice.call(arguments,1),A=Object.create(this.lexer),N={yy:{}};for(var L in this.yy)Object.prototype.hasOwnProperty.call(this.yy,L)&&(N.yy[L]=this.yy[L]);A.setInput(l,N.yy),N.yy.lexer=A,N.yy.parser=this,typeof A.yylloc>"u"&&(A.yylloc={});var C=A.yylloc;f.push(C);var D=A.options&&A.options.ranges;typeof N.yy.parseError=="function"?this.parseError=N.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function P(de){h.length=h.length-2*de,p.length=p.length-de,f.length=f.length-de}o(P,"popStack");function O(){var de;return de=d.pop()||A.lex()||w,typeof de!="number"&&(de instanceof Array&&(d=de,de=d.pop()),de=u.symbols_[de]||de),de}o(O,"lex");for(var I,q,S,B,F,z,M={},G,Y,V,X;;){if(S=h[h.length-1],this.defaultActions[S]?B=this.defaultActions[S]:((I===null||typeof I>"u")&&(I=O()),B=g[S]&&g[S][I]),typeof B>"u"||!B.length||!B[0]){var re="";X=[];for(G in g[S])this.terminals_[G]&&G>x&&X.push("'"+this.terminals_[G]+"'");A.showPosition?re="Parse error on line "+(y+1)+`:
`+A.showPosition()+`
Expecting `+X.join(", ")+", got '"+(this.terminals_[I]||I)+"'":re="Parse error on line "+(y+1)+": Unexpected "+(I==w?"end of input":"'"+(this.terminals_[I]||I)+"'"),this.parseError(re,{text:A.match,token:this.terminals_[I]||I,line:A.yylineno,loc:C,expected:X})}if(B[0]instanceof Array&&B.length>1)throw new Error("Parse Error: multiple actions possible at state: "+S+", token: "+I);switch(B[0]){case 1:h.push(I),p.push(A.yytext),f.push(A.yylloc),h.push(B[1]),I=null,q?(I=q,q=null):(b=A.yyleng,m=A.yytext,y=A.yylineno,C=A.yylloc,v>0&&v--);break;case 2:if(Y=this.productions_[B[1]][1],M.$=p[p.length-Y],M._$={first_line:f[f.length-(Y||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(Y||1)].first_column,last_column:f[f.length-1].last_column},D&&(M._$.range=[f[f.length-(Y||1)].range[0],f[f.length-1].range[1]]),z=this.performAction.apply(M,[m,b,y,N.yy,B[1],p,f].concat(E)),typeof z<"u")return z;Y&&(h=h.slice(0,-1*Y*2),p=p.slice(0,-1*Y),f=f.slice(0,-1*Y)),h.push(this.productions_[B[1]][0]),p.push(M.$),f.push(M._$),V=g[h[h.length-2]][h[h.length-1]],h.push(V);break;case 3:return!0}}return!0},"parse")},a=function(){var l={EOF:1,parseError:o(function(u,h){if(this.yy.parser)this.yy.parser.parseError(u,h);else throw new Error(u)},"parseError"),setInput:o(function(u,h){return this.yy=h||this.yy||{},this._input=u,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var u=this._input[0];this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u;var h=u.match(/(?:\r\n?|\n).*/g);return h?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),u},"input"),unput:o(function(u){var h=u.length,d=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-h),this.offset-=h;var p=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),d.length-1&&(this.yylineno-=d.length-1);var f=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?(d.length===p.length?this.yylloc.first_column:0)+p[p.length-d.length].length-d[0].length:this.yylloc.first_column-h},this.options.ranges&&(this.yylloc.range=[f[0],f[0]+this.yyleng-h]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(u){this.unput(this.match.slice(u))},"less"),pastInput:o(function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var u=this.match;return u.length<20&&(u+=this._input.substr(0,20-u.length)),(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var u=this.pastInput(),h=new Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+h+"^"},"showPosition"),test_match:o(function(u,h){var d,p,f;if(this.options.backtrack_lexer&&(f={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(f.yylloc.range=this.yylloc.range.slice(0))),p=u[0].match(/(?:\r\n?|\n).*/g),p&&(this.yylineno+=p.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:p?p[p.length-1].length-p[p.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],d=this.performAction.call(this,this.yy,this,h,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),d)return d;if(this._backtrack){for(var g in f)this[g]=f[g];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var u,h,d,p;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length;g++)if(d=this._input.match(this.rules[f[g]]),d&&(!h||d[0].length>h[0].length)){if(h=d,p=g,this.options.backtrack_lexer){if(u=this.test_match(d,f[g]),u!==!1)return u;if(this._backtrack){h=!1;continue}else return!1}else if(!this.options.flex)break}return h?(u=this.test_match(h,f[p]),u!==!1?u:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var u=this.next();return u||this.lex()},"lex"),begin:o(function(u){this.conditionStack.push(u)},"begin"),popState:o(function(){var u=this.conditionStack.length-1;return u>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(u){return u=this.conditionStack.length-1-Math.abs(u||0),u>=0?this.conditionStack[u]:"INITIAL"},"topState"),pushState:o(function(u){this.begin(u)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:o(function(u,h,d,p){var f=p;switch(d){case 0:return this.pushState("csv"),4;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;case 5:return 20;case 6:return this.popState("escaped_text"),18;case 7:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}};return l}();i.lexer=a;function s(){this.yy={}}return o(s,"Parser"),s.prototype=i,i.Parser=s,new s}(),lC.parser=lC,Zb=lC}),Qb,Jb,ex,tFe,rFe,nFe,iFe,aFe,sFe,oFe,lFe,cFe,Ret=R(()=>{"use strict";zr(),En(),ys(),Qb=[],Jb=[],ex=new Map,tFe=o(()=>{Qb=[],Jb=[],ex=new Map,fs()},"clear"),rFe=class{constructor(e,t,r=0){this.source=e,this.target=t,this.value=r}static{o(this,"SankeyLink")}},nFe=o((e,t,r)=>{Qb.push(new rFe(e,t,r))},"addLink"),iFe=class{constructor(e){this.ID=e}static{o(this,"SankeyNode")}},aFe=o(e=>{e=Yt.sanitizeText(e,Ge());let t=ex.get(e);return t===void 0&&(t=new iFe(e),ex.set(e,t),Jb.push(t)),t},"findOrCreateNode"),sFe=o(()=>Jb,"getNodes"),oFe=o(()=>Qb,"getLinks"),lFe=o(()=>({nodes:Jb.map(e=>({id:e.ID})),links:Qb.map(e=>({source:e.source.ID,target:e.target.ID,value:e.value}))}),"getGraph"),cFe={nodesMap:ex,getConfig:o(()=>Ge().sankey,"getConfig"),getNodes:sFe,getLinks:oFe,getGraph:lFe,addLink:nFe,findOrCreateNode:aFe,getAccTitle:Ls,setAccTitle:ms,getAccDescription:Ms,setAccDescription:Ns,getDiagramTitle:Is,setDiagramTitle:_o,clear:tFe}});function qj(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}var Oet=R(()=>{"use strict";o(qj,"max")});function Gj(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}var Pet=R(()=>{"use strict";o(Gj,"min")});function cC(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&(r+=i)}return r}var Bet=R(()=>{"use strict";o(cC,"sum")}),uFe=R(()=>{"use strict";Oet(),Pet(),Bet()});function hFe(e){return e.target.depth}function dFe(e){return e.depth}function pFe(e,t){return t-1-e.height}function Yj(e,t){return e.sourceLinks.length?e.depth:t-1}function gFe(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?Gj(e.sourceLinks,hFe)-1:0}var fFe=R(()=>{"use strict";uFe(),o(hFe,"targetDepth"),o(dFe,"left"),o(pFe,"right"),o(Yj,"justify"),o(gFe,"center")});function tx(e){return function(){return e}}var Fet=R(()=>{"use strict";o(tx,"constant")});function jj(e,t){return rx(e.source,t.source)||e.index-t.index}function Hj(e,t){return rx(e.target,t.target)||e.index-t.index}function rx(e,t){return e.y0-t.y0}function uC(e){return e.value}function mFe(e){return e.index}function yFe(e){return e.nodes}function vFe(e){return e.links}function Uj(e,t){let r=e.get(t);if(!r)throw new Error("missing: "+t);return r}function Vj({nodes:e}){for(let t of e){let r=t.y0,n=r;for(let i of t.sourceLinks)i.y0=r+i.width/2,r+=i.width;for(let i of t.targetLinks)i.y1=n+i.width/2,n+=i.width}}function bFe(){let e=0,t=0,r=1,n=1,i=24,a=8,s,l=mFe,u=Yj,h,d,p=yFe,f=vFe,g=6;function m(){let B={nodes:p.apply(null,arguments),links:f.apply(null,arguments)};return y(B),b(B),v(B),x(B),A(B),Vj(B),B}o(m,"sankey"),m.update=function(B){return Vj(B),B},m.nodeId=function(B){return arguments.length?(l=typeof B=="function"?B:tx(B),m):l},m.nodeAlign=function(B){return arguments.length?(u=typeof B=="function"?B:tx(B),m):u},m.nodeSort=function(B){return arguments.length?(h=B,m):h},m.nodeWidth=function(B){return arguments.length?(i=+B,m):i},m.nodePadding=function(B){return arguments.length?(a=s=+B,m):a},m.nodes=function(B){return arguments.length?(p=typeof B=="function"?B:tx(B),m):p},m.links=function(B){return arguments.length?(f=typeof B=="function"?B:tx(B),m):f},m.linkSort=function(B){return arguments.length?(d=B,m):d},m.size=function(B){return arguments.length?(e=t=0,r=+B[0],n=+B[1],m):[r-e,n-t]},m.extent=function(B){return arguments.length?(e=+B[0][0],r=+B[1][0],t=+B[0][1],n=+B[1][1],m):[[e,t],[r,n]]},m.iterations=function(B){return arguments.length?(g=+B,m):g};function y({nodes:B,links:F}){for(let[M,G]of B.entries())G.index=M,G.sourceLinks=[],G.targetLinks=[];let z=new Map(B.map((M,G)=>[l(M,G,B),M]));for(let[M,G]of F.entries()){G.index=M;let{source:Y,target:V}=G;typeof Y!="object"&&(Y=G.source=Uj(z,Y)),typeof V!="object"&&(V=G.target=Uj(z,V)),Y.sourceLinks.push(G),V.targetLinks.push(G)}if(d!=null)for(let{sourceLinks:M,targetLinks:G}of B)M.sort(d),G.sort(d)}o(y,"computeNodeLinks");function b({nodes:B}){for(let F of B)F.value=F.fixedValue===void 0?Math.max(cC(F.sourceLinks,uC),cC(F.targetLinks,uC)):F.fixedValue}o(b,"computeNodeValues");function v({nodes:B}){let F=B.length,z=new Set(B),M=new Set,G=0;for(;z.size;){for(let Y of z){Y.depth=G;for(let{target:V}of Y.sourceLinks)M.add(V)}if(++G>F)throw new Error("circular link");z=M,M=new Set}}o(v,"computeNodeDepths");function x({nodes:B}){let F=B.length,z=new Set(B),M=new Set,G=0;for(;z.size;){for(let Y of z){Y.height=G;for(let{source:V}of Y.targetLinks)M.add(V)}if(++G>F)throw new Error("circular link");z=M,M=new Set}}o(x,"computeNodeHeights");function w({nodes:B}){let F=qj(B,G=>G.depth)+1,z=(r-e-i)/(F-1),M=new Array(F);for(let G of B){let Y=Math.max(0,Math.min(F-1,Math.floor(u.call(null,G,F))));G.layer=Y,G.x0=e+Y*z,G.x1=G.x0+i,M[Y]?M[Y].push(G):M[Y]=[G]}if(h)for(let G of M)G.sort(h);return M}o(w,"computeNodeLayers");function E(B){let F=Gj(B,z=>(n-t-(z.length-1)*s)/cC(z,uC));for(let z of B){let M=t;for(let G of z){G.y0=M,G.y1=M+G.value*F,M=G.y1+s;for(let Y of G.sourceLinks)Y.width=Y.value*F}M=(n-M+s)/(z.length+1);for(let G=0;G<z.length;++G){let Y=z[G];Y.y0+=M*(G+1),Y.y1+=M*(G+1)}I(z)}}o(E,"initializeNodeBreadths");function A(B){let F=w(B);s=Math.min(a,(n-t)/(qj(F,z=>z.length)-1)),E(F);for(let z=0;z<g;++z){let M=Math.pow(.99,z),G=Math.max(1-M,(z+1)/g);L(F,M,G),N(F,M,G)}}o(A,"computeNodeBreadths");function N(B,F,z){for(let M=1,G=B.length;M<G;++M){let Y=B[M];for(let V of Y){let X=0,re=0;for(let{source:xe,value:he}of V.targetLinks){let be=he*(V.layer-xe.layer);X+=q(xe,V)*be,re+=be}if(!(re>0))continue;let de=(X/re-V.y0)*F;V.y0+=de,V.y1+=de,O(V)}h===void 0&&Y.sort(rx),C(Y,z)}}o(N,"relaxLeftToRight");function L(B,F,z){for(let M=B.length,G=M-2;G>=0;--G){let Y=B[G];for(let V of Y){let X=0,re=0;for(let{target:xe,value:he}of V.sourceLinks){let be=he*(xe.layer-V.layer);X+=S(V,xe)*be,re+=be}if(!(re>0))continue;let de=(X/re-V.y0)*F;V.y0+=de,V.y1+=de,O(V)}h===void 0&&Y.sort(rx),C(Y,z)}}o(L,"relaxRightToLeft");function C(B,F){let z=B.length>>1,M=B[z];P(B,M.y0-s,z-1,F),D(B,M.y1+s,z+1,F),P(B,n,B.length-1,F),D(B,t,0,F)}o(C,"resolveCollisions");function D(B,F,z,M){for(;z<B.length;++z){let G=B[z],Y=(F-G.y0)*M;Y>1e-6&&(G.y0+=Y,G.y1+=Y),F=G.y1+s}}o(D,"resolveCollisionsTopToBottom");function P(B,F,z,M){for(;z>=0;--z){let G=B[z],Y=(G.y1-F)*M;Y>1e-6&&(G.y0-=Y,G.y1-=Y),F=G.y0-s}}o(P,"resolveCollisionsBottomToTop");function O({sourceLinks:B,targetLinks:F}){if(d===void 0){for(let{source:{sourceLinks:z}}of F)z.sort(Hj);for(let{target:{targetLinks:z}}of B)z.sort(jj)}}o(O,"reorderNodeLinks");function I(B){if(d===void 0)for(let{sourceLinks:F,targetLinks:z}of B)F.sort(Hj),z.sort(jj)}o(I,"reorderLinks");function q(B,F){let z=B.y0-(B.sourceLinks.length-1)*s/2;for(let{target:M,width:G}of B.sourceLinks){if(M===F)break;z+=G+s}for(let{source:M,width:G}of F.targetLinks){if(M===B)break;z-=G}return z}o(q,"targetTop");function S(B,F){let z=F.y0-(F.targetLinks.length-1)*s/2;for(let{source:M,width:G}of F.targetLinks){if(M===B)break;z+=G+s}for(let{target:M,width:G}of B.sourceLinks){if(M===F)break;z-=G}return z}return o(S,"sourceTop"),m}var $et=R(()=>{"use strict";uFe(),fFe(),Fet(),o(jj,"ascendingSourceBreadth"),o(Hj,"ascendingTargetBreadth"),o(rx,"ascendingBreadth"),o(uC,"value"),o(mFe,"defaultId"),o(yFe,"defaultNodes"),o(vFe,"defaultLinks"),o(Uj,"find"),o(Vj,"computeLinkBreadths"),o(bFe,"Sankey")});function hC(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Wj(){return new hC}var dC,pC,N1,xFe,wFe,zet=R(()=>{"use strict";dC=Math.PI,pC=2*dC,N1=1e-6,xFe=pC-N1,o(hC,"Path"),o(Wj,"path"),hC.prototype=Wj.prototype={constructor:hC,moveTo:o(function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},"moveTo"),closePath:o(function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},"closePath"),lineTo:o(function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},"lineTo"),quadraticCurveTo:o(function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},"quadraticCurveTo"),bezierCurveTo:o(function(e,t,r,n,i,a){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+a)},"bezierCurveTo"),arcTo:o(function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var a=this._x1,s=this._y1,l=r-e,u=n-t,h=a-e,d=s-t,p=h*h+d*d;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>N1)if(!(Math.abs(d*l-u*h)>N1)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=r-a,g=n-s,m=l*l+u*u,y=f*f+g*g,b=Math.sqrt(m),v=Math.sqrt(p),x=i*Math.tan((dC-Math.acos((m+p-y)/(2*b*v)))/2),w=x/v,E=x/b;Math.abs(w-1)>N1&&(this._+="L"+(e+w*h)+","+(t+w*d)),this._+="A"+i+","+i+",0,0,"+ +(d*f>h*g)+","+(this._x1=e+E*l)+","+(this._y1=t+E*u)}},"arcTo"),arc:o(function(e,t,r,n,i,a){e=+e,t=+t,r=+r,a=!!a;var s=r*Math.cos(n),l=r*Math.sin(n),u=e+s,h=t+l,d=1^a,p=a?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+u+","+h:(Math.abs(this._x1-u)>N1||Math.abs(this._y1-h)>N1)&&(this._+="L"+u+","+h),r&&(p<0&&(p=p%pC+pC),p>xFe?this._+="A"+r+","+r+",0,1,"+d+","+(e-s)+","+(t-l)+"A"+r+","+r+",0,1,"+d+","+(this._x1=u)+","+(this._y1=h):p>N1&&(this._+="A"+r+","+r+",0,"+ +(p>=dC)+","+d+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},"arc"),rect:o(function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},"rect"),toString:o(function(){return this._},"toString")},wFe=Wj}),qet=R(()=>{"use strict";zet()});function Xj(e){return o(function(){return e},"constant")}var Get=R(()=>{"use strict";o(Xj,"default")});function kFe(e){return e[0]}function TFe(e){return e[1]}var Yet=R(()=>{"use strict";o(kFe,"x"),o(TFe,"y")}),EFe,jet=R(()=>{"use strict";EFe=Array.prototype.slice});function CFe(e){return e.source}function _Fe(e){return e.target}function SFe(e){var t=CFe,r=_Fe,n=kFe,i=TFe,a=null;function s(){var l,u=EFe.call(arguments),h=t.apply(this,u),d=r.apply(this,u);if(a||(a=l=wFe()),e(a,+n.apply(this,(u[0]=h,u)),+i.apply(this,u),+n.apply(this,(u[0]=d,u)),+i.apply(this,u)),l)return a=null,l+""||null}return o(s,"link"),s.source=function(l){return arguments.length?(t=l,s):t},s.target=function(l){return arguments.length?(r=l,s):r},s.x=function(l){return arguments.length?(n=typeof l=="function"?l:Xj(+l),s):n},s.y=function(l){return arguments.length?(i=typeof l=="function"?l:Xj(+l),s):i},s.context=function(l){return arguments.length?(a=l??null,s):a},s}function AFe(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,i,n,i)}function LFe(){return SFe(AFe)}var Het=R(()=>{"use strict";qet(),jet(),Get(),Yet(),o(CFe,"linkSource"),o(_Fe,"linkTarget"),o(SFe,"link"),o(AFe,"curveHorizontal"),o(LFe,"linkHorizontal")}),Uet=R(()=>{"use strict";Het()});function NFe(e){return[e.source.x1,e.y0]}function MFe(e){return[e.target.x0,e.y1]}function IFe(){return LFe().source(NFe).target(MFe)}var Vet=R(()=>{"use strict";Uet(),o(NFe,"horizontalSource"),o(MFe,"horizontalTarget"),o(IFe,"default")}),Wet=R(()=>{"use strict";$et(),fFe(),Vet()}),Kj,Xet=R(()=>{"use strict";Kj=class qH{static{o(this,"Uid")}static{this.count=0}static next(t){return new qH(t+ ++qH.count)}constructor(t){this.id=t,this.href=`#${t}`}toString(){return"url("+this.href+")"}}}),DFe,RFe,OFe,Ket=R(()=>{"use strict";zr(),Ln(),Wet(),Fa(),Xet(),DFe={left:dFe,right:pFe,center:gFe,justify:Yj},RFe=o(function(e,t,r,n){let{securityLevel:i,sankey:a}=Ge(),s=mS.sankey,l;i==="sandbox"&&(l=Bt("#i"+t));let u=Bt(i==="sandbox"?l.nodes()[0].contentDocument.body:"body"),h=i==="sandbox"?u.select(`[id="${t}"]`):Bt(`[id="${t}"]`),d=a?.width??s.width,p=a?.height??s.width,f=a?.useMaxWidth??s.useMaxWidth,g=a?.nodeAlignment??s.nodeAlignment,m=a?.prefix??s.prefix,y=a?.suffix??s.suffix,b=a?.showValues??s.showValues,v=n.db.getGraph(),x=DFe[g];bFe().nodeId(C=>C.id).nodeWidth(10).nodePadding(10+(b?15:0)).nodeAlign(x).extent([[0,0],[d,p]])(v);let w=W4(Wee);h.append("g").attr("class","nodes").selectAll(".node").data(v.nodes).join("g").attr("class","node").attr("id",C=>(C.uid=Kj.next("node-")).id).attr("transform",function(C){return"translate("+C.x0+","+C.y0+")"}).attr("x",C=>C.x0).attr("y",C=>C.y0).append("rect").attr("height",C=>C.y1-C.y0).attr("width",C=>C.x1-C.x0).attr("fill",C=>w(C.id));let E=o(({id:C,value:D})=>b?`${C}
${m}${Math.round(D*100)/100}${y}`:C,"getText");h.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(v.nodes).join("text").attr("x",C=>C.x0<d/2?C.x1+6:C.x0-6).attr("y",C=>(C.y1+C.y0)/2).attr("dy",`${b?"0":"0.35"}em`).attr("text-anchor",C=>C.x0<d/2?"start":"end").text(E);let A=h.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(v.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),N=a?.linkColor??"gradient";if(N==="gradient"){let C=A.append("linearGradient").attr("id",D=>(D.uid=Kj.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",D=>D.source.x1).attr("x2",D=>D.target.x0);C.append("stop").attr("offset","0%").attr("stop-color",D=>w(D.source.id)),C.append("stop").attr("offset","100%").attr("stop-color",D=>w(D.target.id))}let L;switch(N){case"gradient":L=o(C=>C.uid,"coloring");break;case"source":L=o(C=>w(C.source.id),"coloring");break;case"target":L=o(C=>w(C.target.id),"coloring");break;default:L=N}A.append("path").attr("d",IFe()).attr("stroke",L).attr("stroke-width",C=>Math.max(1,C.width)),ep(void 0,h,0,f)},"draw"),OFe={draw:RFe}}),PFe,Zet=R(()=>{"use strict";PFe=o(e=>e.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing")}),BFe={};yr(BFe,{diagram:()=>$Fe});var FFe,$Fe,Qet=R(()=>{"use strict";Det(),Ret(),Ket(),Zet(),FFe=Zb.parse.bind(Zb),Zb.parse=e=>FFe(PFe(e)),$Fe={parser:Zb,db:cFe,renderer:OFe}}),Zj,gC,zFe,qFe,GFe,YFe,jFe,qg,HFe=R(()=>{"use strict";wo(),ka(),kn(),ys(),Zj={packet:[]},gC=structuredClone(Zj),zFe=Fn.packet,qFe=o(()=>{let e=Xh({...zFe,...Ni().packet});return e.showBits&&(e.paddingY+=10),e},"getConfig"),GFe=o(()=>gC.packet,"getPacket"),YFe=o(e=>{e.length>0&&gC.packet.push(e)},"pushWord"),jFe=o(()=>{fs(),gC=structuredClone(Zj)},"clear"),qg={pushWord:YFe,getPacket:GFe,getConfig:qFe,clear:jFe,setAccTitle:ms,getAccTitle:Ls,setDiagramTitle:_o,getDiagramTitle:Is,getAccDescription:Ms,setAccDescription:Ns}}),UFe,VFe,WFe,XFe,Jet=R(()=>{"use strict";Av(),We(),J9(),HFe(),UFe=1e4,VFe=o(e=>{Lv(e,qg);let t=-1,r=[],n=1,{bitsPerRow:i}=qg.getConfig();for(let{start:a,end:s,label:l}of e.blocks){if(s&&s<a)throw new Error(`Packet block ${a} - ${s} is invalid. End must be greater than start.`);if(a!==t+1)throw new Error(`Packet block ${a} - ${s??a} is not contiguous. It should start from ${t+1}.`);for(t=s??a,J.debug(`Packet block ${a} - ${t} with label ${l}`);r.length<=i+1&&qg.getPacket().length<UFe;){let[u,h]=WFe({start:a,end:s,label:l},n,i);if(r.push(u),u.end+1===n*i&&(qg.pushWord(r),r=[],n++),!h)break;({start:a,end:s,label:l}=h)}}qg.pushWord(r)},"populate"),WFe=o((e,t,r)=>{if(e.end===void 0&&(e.end=e.start),e.start>e.end)throw new Error(`Block start ${e.start} is greater than block end ${e.end}.`);return e.end+1<=t*r?[e,void 0]:[{start:e.start,end:t*r-1,label:e.label},{start:t*r,end:e.end,label:e.label}]},"getNextFittingBlock"),XFe={parse:o(async e=>{let t=await tg("packet",e);J.debug(t),VFe(t)},"parse")}}),KFe,ZFe,QFe,ett=R(()=>{"use strict";l1(),Fa(),KFe=o((e,t,r,n)=>{let i=n.db,a=i.getConfig(),{rowHeight:s,paddingY:l,bitWidth:u,bitsPerRow:h}=a,d=i.getPacket(),p=i.getDiagramTitle(),f=s+l,g=f*(d.length+1)-(p?0:s),m=u*h+2,y=S0(t);y.attr("viewbox",`0 0 ${m} ${g}`),Qs(y,g,m,a.useMaxWidth);for(let[b,v]of d.entries())ZFe(y,v,b,a);y.append("text").text(p).attr("x",m/2).attr("y",g-f/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),ZFe=o((e,t,r,{rowHeight:n,paddingX:i,paddingY:a,bitWidth:s,bitsPerRow:l,showBits:u})=>{let h=e.append("g"),d=r*(n+a)+a;for(let p of t){let f=p.start%l*s+1,g=(p.end-p.start+1)*s-i;if(h.append("rect").attr("x",f).attr("y",d).attr("width",g).attr("height",n).attr("class","packetBlock"),h.append("text").attr("x",f+g/2).attr("y",d+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(p.label),!u)continue;let m=p.end===p.start,y=d-2;h.append("text").attr("x",f+(m?g/2:0)).attr("y",y).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",m?"middle":"start").text(p.start),m||h.append("text").attr("x",f+g).attr("y",y).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(p.end)}},"drawWord"),QFe={draw:KFe}}),JFe,e$e,ttt=R(()=>{"use strict";kn(),JFe={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},e$e=o(({packet:e}={})=>{let t=Xh(JFe,e);return`
	.packetByte {
		font-size: ${t.byteFontSize};
	}
	.packetByte.start {
		fill: ${t.startByteColor};
	}
	.packetByte.end {
		fill: ${t.endByteColor};
	}
	.packetLabel {
		fill: ${t.labelColor};
		font-size: ${t.labelFontSize};
	}
	.packetTitle {
		fill: ${t.titleColor};
		font-size: ${t.titleFontSize};
	}
	.packetBlock {
		stroke: ${t.blockStrokeColor};
		stroke-width: ${t.blockStrokeWidth};
		fill: ${t.blockFillColor};
	}
	`},"styles")}),t$e={};yr(t$e,{diagram:()=>r$e});var r$e,rtt=R(()=>{"use strict";HFe(),Jet(),ett(),ttt(),r$e={parser:XFe,db:qg,renderer:QFe,styles:e$e}}),fC,n$e,ntt=R(()=>{"use strict";fC=function(){var e=o(function(w,E,A,N){for(A=A||{},N=w.length;N--;A[w[N]]=E);return A},"o"),t=[1,7],r=[1,13],n=[1,14],i=[1,15],a=[1,19],s=[1,16],l=[1,17],u=[1,18],h=[8,30],d=[8,21,28,29,30,31,32,40,44,47],p=[1,23],f=[1,24],g=[8,15,16,21,28,29,30,31,32,40,44,47],m=[8,15,16,21,27,28,29,30,31,32,40,44,47],y=[1,49],b={trace:o(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:o(function(w,E,A,N,L,C,D){var P=C.length-1;switch(L){case 4:N.getLogger().debug("Rule: separator (NL) ");break;case 5:N.getLogger().debug("Rule: separator (Space) ");break;case 6:N.getLogger().debug("Rule: separator (EOF) ");break;case 7:N.getLogger().debug("Rule: hierarchy: ",C[P-1]),N.setHierarchy(C[P-1]);break;case 8:N.getLogger().debug("Stop NL ");break;case 9:N.getLogger().debug("Stop EOF ");break;case 10:N.getLogger().debug("Stop NL2 ");break;case 11:N.getLogger().debug("Stop EOF2 ");break;case 12:N.getLogger().debug("Rule: statement: ",C[P]),typeof C[P].length=="number"?this.$=C[P]:this.$=[C[P]];break;case 13:N.getLogger().debug("Rule: statement #2: ",C[P-1]),this.$=[C[P-1]].concat(C[P]);break;case 14:N.getLogger().debug("Rule: link: ",C[P],w),this.$={edgeTypeStr:C[P],label:""};break;case 15:N.getLogger().debug("Rule: LABEL link: ",C[P-3],C[P-1],C[P]),this.$={edgeTypeStr:C[P],label:C[P-1]};break;case 18:let O=parseInt(C[P]),I=N.generateId();this.$={id:I,type:"space",label:"",width:O,children:[]};break;case 23:N.getLogger().debug("Rule: (nodeStatement link node) ",C[P-2],C[P-1],C[P]," typestr: ",C[P-1].edgeTypeStr);let q=N.edgeStrToEdgeData(C[P-1].edgeTypeStr);this.$=[{id:C[P-2].id,label:C[P-2].label,type:C[P-2].type,directions:C[P-2].directions},{id:C[P-2].id+"-"+C[P].id,start:C[P-2].id,end:C[P].id,label:C[P-1].label,type:"edge",directions:C[P].directions,arrowTypeEnd:q,arrowTypeStart:"arrow_open"},{id:C[P].id,label:C[P].label,type:N.typeStr2Type(C[P].typeStr),directions:C[P].directions}];break;case 24:N.getLogger().debug("Rule: nodeStatement (abc88 node size) ",C[P-1],C[P]),this.$={id:C[P-1].id,label:C[P-1].label,type:N.typeStr2Type(C[P-1].typeStr),directions:C[P-1].directions,widthInColumns:parseInt(C[P],10)};break;case 25:N.getLogger().debug("Rule: nodeStatement (node) ",C[P]),this.$={id:C[P].id,label:C[P].label,type:N.typeStr2Type(C[P].typeStr),directions:C[P].directions,widthInColumns:1};break;case 26:N.getLogger().debug("APA123",this?this:"na"),N.getLogger().debug("COLUMNS: ",C[P]),this.$={type:"column-setting",columns:C[P]==="auto"?-1:parseInt(C[P])};break;case 27:N.getLogger().debug("Rule: id-block statement : ",C[P-2],C[P-1]);let S=N.generateId();this.$={...C[P-2],type:"composite",children:C[P-1]};break;case 28:N.getLogger().debug("Rule: blockStatement : ",C[P-2],C[P-1],C[P]);let B=N.generateId();this.$={id:B,type:"composite",label:"",children:C[P-1]};break;case 29:N.getLogger().debug("Rule: node (NODE_ID separator): ",C[P]),this.$={id:C[P]};break;case 30:N.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",C[P-1],C[P]),this.$={id:C[P-1],label:C[P].label,typeStr:C[P].typeStr,directions:C[P].directions};break;case 31:N.getLogger().debug("Rule: dirList: ",C[P]),this.$=[C[P]];break;case 32:N.getLogger().debug("Rule: dirList: ",C[P-1],C[P]),this.$=[C[P-1]].concat(C[P]);break;case 33:N.getLogger().debug("Rule: nodeShapeNLabel: ",C[P-2],C[P-1],C[P]),this.$={typeStr:C[P-2]+C[P],label:C[P-1]};break;case 34:N.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",C[P-3],C[P-2]," #3:",C[P-1],C[P]),this.$={typeStr:C[P-3]+C[P],label:C[P-2],directions:C[P-1]};break;case 35:case 36:this.$={type:"classDef",id:C[P-1].trim(),css:C[P].trim()};break;case 37:this.$={type:"applyClass",id:C[P-1].trim(),styleClass:C[P].trim()};break;case 38:this.$={type:"applyStyles",id:C[P-1].trim(),stylesStr:C[P].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:l,47:u},{8:[1,20]},e(h,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:t,28:r,29:n,31:i,32:a,40:s,44:l,47:u}),e(d,[2,16],{14:22,15:p,16:f}),e(d,[2,17]),e(d,[2,18]),e(d,[2,19]),e(d,[2,20]),e(d,[2,21]),e(d,[2,22]),e(g,[2,25],{27:[1,25]}),e(d,[2,26]),{19:26,26:12,32:a},{11:27,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:l,47:u},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},e(m,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},e(h,[2,13]),{26:35,32:a},{32:[2,14]},{17:[1,36]},e(g,[2,24]),{11:37,13:4,14:22,15:p,16:f,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:s,44:l,47:u},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},e(m,[2,30]),{18:[1,43]},{18:[1,44]},e(g,[2,23]),{18:[1,45]},{30:[1,46]},e(d,[2,28]),e(d,[2,35]),e(d,[2,36]),e(d,[2,37]),e(d,[2,38]),{37:[1,47]},{34:48,35:y},{15:[1,50]},e(d,[2,27]),e(m,[2,33]),{39:[1,51]},{34:52,35:y,39:[2,31]},{32:[2,15]},e(m,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:o(function(w,E){if(E.recoverable)this.trace(w);else{var A=new Error(w);throw A.hash=E,A}},"parseError"),parse:o(function(w){var E=this,A=[0],N=[],L=[null],C=[],D=this.table,P="",O=0,I=0,q=0,S=2,B=1,F=C.slice.call(arguments,1),z=Object.create(this.lexer),M={yy:{}};for(var G in this.yy)Object.prototype.hasOwnProperty.call(this.yy,G)&&(M.yy[G]=this.yy[G]);z.setInput(w,M.yy),M.yy.lexer=z,M.yy.parser=this,typeof z.yylloc>"u"&&(z.yylloc={});var Y=z.yylloc;C.push(Y);var V=z.options&&z.options.ranges;typeof M.yy.parseError=="function"?this.parseError=M.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function X(ge){A.length=A.length-2*ge,L.length=L.length-ge,C.length=C.length-ge}o(X,"popStack");function re(){var ge;return ge=N.pop()||z.lex()||B,typeof ge!="number"&&(ge instanceof Array&&(N=ge,ge=N.pop()),ge=E.symbols_[ge]||ge),ge}o(re,"lex");for(var de,xe,he,be,Q,ne,ee={},pe,ie,De,se;;){if(he=A[A.length-1],this.defaultActions[he]?be=this.defaultActions[he]:((de===null||typeof de>"u")&&(de=re()),be=D[he]&&D[he][de]),typeof be>"u"||!be.length||!be[0]){var je="";se=[];for(pe in D[he])this.terminals_[pe]&&pe>S&&se.push("'"+this.terminals_[pe]+"'");z.showPosition?je="Parse error on line "+(O+1)+`:
`+z.showPosition()+`
Expecting `+se.join(", ")+", got '"+(this.terminals_[de]||de)+"'":je="Parse error on line "+(O+1)+": Unexpected "+(de==B?"end of input":"'"+(this.terminals_[de]||de)+"'"),this.parseError(je,{text:z.match,token:this.terminals_[de]||de,line:z.yylineno,loc:Y,expected:se})}if(be[0]instanceof Array&&be.length>1)throw new Error("Parse Error: multiple actions possible at state: "+he+", token: "+de);switch(be[0]){case 1:A.push(de),L.push(z.yytext),C.push(z.yylloc),A.push(be[1]),de=null,xe?(de=xe,xe=null):(I=z.yyleng,P=z.yytext,O=z.yylineno,Y=z.yylloc,q>0&&q--);break;case 2:if(ie=this.productions_[be[1]][1],ee.$=L[L.length-ie],ee._$={first_line:C[C.length-(ie||1)].first_line,last_line:C[C.length-1].last_line,first_column:C[C.length-(ie||1)].first_column,last_column:C[C.length-1].last_column},V&&(ee._$.range=[C[C.length-(ie||1)].range[0],C[C.length-1].range[1]]),ne=this.performAction.apply(ee,[P,I,O,M.yy,be[1],L,C].concat(F)),typeof ne<"u")return ne;ie&&(A=A.slice(0,-1*ie*2),L=L.slice(0,-1*ie),C=C.slice(0,-1*ie)),A.push(this.productions_[be[1]][0]),L.push(ee.$),C.push(ee._$),De=D[A[A.length-2]][A[A.length-1]],A.push(De);break;case 3:return!0}}return!0},"parse")},v=function(){var w={EOF:1,parseError:o(function(E,A){if(this.yy.parser)this.yy.parser.parseError(E,A);else throw new Error(E)},"parseError"),setInput:o(function(E,A){return this.yy=A||this.yy||{},this._input=E,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:o(function(){var E=this._input[0];this.yytext+=E,this.yyleng++,this.offset++,this.match+=E,this.matched+=E;var A=E.match(/(?:\r\n?|\n).*/g);return A?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),E},"input"),unput:o(function(E){var A=E.length,N=E.split(/(?:\r\n?|\n)/g);this._input=E+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-A),this.offset-=A;var L=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),N.length-1&&(this.yylineno-=N.length-1);var C=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:N?(N.length===L.length?this.yylloc.first_column:0)+L[L.length-N.length].length-N[0].length:this.yylloc.first_column-A},this.options.ranges&&(this.yylloc.range=[C[0],C[0]+this.yyleng-A]),this.yyleng=this.yytext.length,this},"unput"),more:o(function(){return this._more=!0,this},"more"),reject:o(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:o(function(E){this.unput(this.match.slice(E))},"less"),pastInput:o(function(){var E=this.matched.substr(0,this.matched.length-this.match.length);return(E.length>20?"...":"")+E.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:o(function(){var E=this.match;return E.length<20&&(E+=this._input.substr(0,20-E.length)),(E.substr(0,20)+(E.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:o(function(){var E=this.pastInput(),A=new Array(E.length+1).join("-");return E+this.upcomingInput()+`
`+A+"^"},"showPosition"),test_match:o(function(E,A){var N,L,C;if(this.options.backtrack_lexer&&(C={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(C.yylloc.range=this.yylloc.range.slice(0))),L=E[0].match(/(?:\r\n?|\n).*/g),L&&(this.yylineno+=L.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:L?L[L.length-1].length-L[L.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+E[0].length},this.yytext+=E[0],this.match+=E[0],this.matches=E,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(E[0].length),this.matched+=E[0],N=this.performAction.call(this,this.yy,this,A,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),N)return N;if(this._backtrack){for(var D in C)this[D]=C[D];return!1}return!1},"test_match"),next:o(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var E,A,N,L;this._more||(this.yytext="",this.match="");for(var C=this._currentRules(),D=0;D<C.length;D++)if(N=this._input.match(this.rules[C[D]]),N&&(!A||N[0].length>A[0].length)){if(A=N,L=D,this.options.backtrack_lexer){if(E=this.test_match(N,C[D]),E!==!1)return E;if(this._backtrack){A=!1;continue}else return!1}else if(!this.options.flex)break}return A?(E=this.test_match(A,C[L]),E!==!1?E:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:o(function(){var E=this.next();return E||this.lex()},"lex"),begin:o(function(E){this.conditionStack.push(E)},"begin"),popState:o(function(){var E=this.conditionStack.length-1;return E>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:o(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:o(function(E){return E=this.conditionStack.length-1-Math.abs(E||0),E>=0?this.conditionStack[E]:"INITIAL"},"topState"),pushState:o(function(E){this.begin(E)},"pushState"),stateStackSize:o(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:o(function(E,A,N,L){var C=L;switch(N){case 0:return 10;case 1:return E.getLogger().debug("Found space-block"),31;case 2:return E.getLogger().debug("Found nl-block"),31;case 3:return E.getLogger().debug("Found space-block"),29;case 4:E.getLogger().debug(".",A.yytext);break;case 5:E.getLogger().debug("_",A.yytext);break;case 6:return 5;case 7:return A.yytext=-1,28;case 8:return A.yytext=A.yytext.replace(/columns\s+/,""),E.getLogger().debug("COLUMNS (LEX)",A.yytext),28;case 9:this.pushState("md_string");break;case 10:return"MD_STR";case 11:this.popState();break;case 12:this.pushState("string");break;case 13:E.getLogger().debug("LEX: POPPING STR:",A.yytext),this.popState();break;case 14:return E.getLogger().debug("LEX: STR end:",A.yytext),"STR";case 15:return A.yytext=A.yytext.replace(/space\:/,""),E.getLogger().debug("SPACE NUM (LEX)",A.yytext),21;case 16:return A.yytext="1",E.getLogger().debug("COLUMNS (LEX)",A.yytext),21;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 22:return this.popState(),this.pushState("CLASSDEFID"),41;case 23:return this.popState(),42;case 24:return this.pushState("CLASS"),44;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;case 26:return this.popState(),46;case 27:return this.pushState("STYLE_STMNT"),47;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;case 29:return this.popState(),49;case 30:return this.pushState("acc_title"),"acc_title";case 31:return this.popState(),"acc_title_value";case 32:return this.pushState("acc_descr"),"acc_descr";case 33:return this.popState(),"acc_descr_value";case 34:this.pushState("acc_descr_multiline");break;case 35:this.popState();break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:return this.popState(),E.getLogger().debug("Lex: (("),"NODE_DEND";case 39:return this.popState(),E.getLogger().debug("Lex: (("),"NODE_DEND";case 40:return this.popState(),E.getLogger().debug("Lex: ))"),"NODE_DEND";case 41:return this.popState(),E.getLogger().debug("Lex: (("),"NODE_DEND";case 42:return this.popState(),E.getLogger().debug("Lex: (("),"NODE_DEND";case 43:return this.popState(),E.getLogger().debug("Lex: (-"),"NODE_DEND";case 44:return this.popState(),E.getLogger().debug("Lex: -)"),"NODE_DEND";case 45:return this.popState(),E.getLogger().debug("Lex: (("),"NODE_DEND";case 46:return this.popState(),E.getLogger().debug("Lex: ]]"),"NODE_DEND";case 47:return this.popState(),E.getLogger().debug("Lex: ("),"NODE_DEND";case 48:return this.popState(),E.getLogger().debug("Lex: ])"),"NODE_DEND";case 49:return this.popState(),E.getLogger().debug("Lex: /]"),"NODE_DEND";case 50:return this.popState(),E.getLogger().debug("Lex: /]"),"NODE_DEND";case 51:return this.popState(),E.getLogger().debug("Lex: )]"),"NODE_DEND";case 52:return this.popState(),E.getLogger().debug("Lex: )"),"NODE_DEND";case 53:return this.popState(),E.getLogger().debug("Lex: ]>"),"NODE_DEND";case 54:return this.popState(),E.getLogger().debug("Lex: ]"),"NODE_DEND";case 55:return E.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;case 56:return E.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;case 57:return E.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;case 58:return E.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 59:return E.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;case 60:return E.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 61:return E.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 62:return E.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 63:return E.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;case 64:return E.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;case 65:return E.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 66:return this.pushState("NODE"),36;case 67:return this.pushState("NODE"),36;case 68:return this.pushState("NODE"),36;case 69:return this.pushState("NODE"),36;case 70:return this.pushState("NODE"),36;case 71:return this.pushState("NODE"),36;case 72:return this.pushState("NODE"),36;case 73:return E.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;case 74:return this.pushState("BLOCK_ARROW"),E.getLogger().debug("LEX ARR START"),38;case 75:return E.getLogger().debug("Lex: NODE_ID",A.yytext),32;case 76:return E.getLogger().debug("Lex: EOF",A.yytext),8;case 77:this.pushState("md_string");break;case 78:this.pushState("md_string");break;case 79:return"NODE_DESCR";case 80:this.popState();break;case 81:E.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:E.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return E.getLogger().debug("LEX: NODE_DESCR:",A.yytext),"NODE_DESCR";case 84:E.getLogger().debug("LEX POPPING"),this.popState();break;case 85:E.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return A.yytext=A.yytext.replace(/^,\s*/,""),E.getLogger().debug("Lex (right): dir:",A.yytext),"DIR";case 87:return A.yytext=A.yytext.replace(/^,\s*/,""),E.getLogger().debug("Lex (left):",A.yytext),"DIR";case 88:return A.yytext=A.yytext.replace(/^,\s*/,""),E.getLogger().debug("Lex (x):",A.yytext),"DIR";case 89:return A.yytext=A.yytext.replace(/^,\s*/,""),E.getLogger().debug("Lex (y):",A.yytext),"DIR";case 90:return A.yytext=A.yytext.replace(/^,\s*/,""),E.getLogger().debug("Lex (up):",A.yytext),"DIR";case 91:return A.yytext=A.yytext.replace(/^,\s*/,""),E.getLogger().debug("Lex (down):",A.yytext),"DIR";case 92:return A.yytext="]>",E.getLogger().debug("Lex (ARROW_DIR end):",A.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 93:return E.getLogger().debug("Lex: LINK","#"+A.yytext+"#"),15;case 94:return E.getLogger().debug("Lex: LINK",A.yytext),15;case 95:return E.getLogger().debug("Lex: LINK",A.yytext),15;case 96:return E.getLogger().debug("Lex: LINK",A.yytext),15;case 97:return E.getLogger().debug("Lex: START_LINK",A.yytext),this.pushState("LLABEL"),16;case 98:return E.getLogger().debug("Lex: START_LINK",A.yytext),this.pushState("LLABEL"),16;case 99:return E.getLogger().debug("Lex: START_LINK",A.yytext),this.pushState("LLABEL"),16;case 100:this.pushState("md_string");break;case 101:return E.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 102:return this.popState(),E.getLogger().debug("Lex: LINK","#"+A.yytext+"#"),15;case 103:return this.popState(),E.getLogger().debug("Lex: LINK",A.yytext),15;case 104:return this.popState(),E.getLogger().debug("Lex: LINK",A.yytext),15;case 105:return E.getLogger().debug("Lex: COLON",A.yytext),A.yytext=A.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}};return w}();b.lexer=v;function x(){this.yy={}}return o(x,"Parser"),x.prototype=b,b.Parser=x,new x}(),fC.parser=fC,n$e=fC});function i$e(e){switch(J.debug("typeStr2Type",e),e){case"[]":return"square";case"()":return J.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function a$e(e){switch(J.debug("typeStr2Type",e),e){case"==":return"thick";default:return"normal"}}function s$e(e){switch(e.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}var Fc,mC,yC,Qj,Jj,o$e,eH,l$e,nx,c$e,u$e,h$e,d$e,tH,vC,yy,p$e,rH,g$e,f$e,m$e,y$e,v$e,b$e,x$e,w$e,k$e,T$e,E$e,C$e,itt=R(()=>{"use strict";Lge(),wo(),zr(),We(),En(),ys(),Fc=new Map,mC=[],yC=new Map,Qj="color",Jj="fill",o$e="bgFill",eH=",",l$e=Ge(),nx=new Map,c$e=o(e=>Yt.sanitizeText(e,l$e),"sanitizeText"),u$e=o(function(e,t=""){let r=nx.get(e);r||(r={id:e,styles:[],textStyles:[]},nx.set(e,r)),t?.split(eH).forEach(n=>{let i=n.replace(/([^;]*);/,"$1").trim();if(RegExp(Qj).exec(n)){let a=i.replace(Jj,o$e).replace(Qj,Jj);r.textStyles.push(a)}r.styles.push(i)})},"addStyleClass"),h$e=o(function(e,t=""){let r=Fc.get(e);t!=null&&(r.styles=t.split(eH))},"addStyle2Node"),d$e=o(function(e,t){e.split(",").forEach(function(r){let n=Fc.get(r);if(n===void 0){let i=r.trim();n={id:i,type:"na",children:[]},Fc.set(i,n)}n.classes||(n.classes=[]),n.classes.push(t)})},"setCssClass"),tH=o((e,t)=>{let r=e.flat(),n=[];for(let i of r){if(i.label&&(i.label=c$e(i.label)),i.type==="classDef"){u$e(i.id,i.css);continue}if(i.type==="applyClass"){d$e(i.id,i?.styleClass??"");continue}if(i.type==="applyStyles"){i?.stylesStr&&h$e(i.id,i?.stylesStr);continue}if(i.type==="column-setting")t.columns=i.columns??-1;else if(i.type==="edge"){let a=(yC.get(i.id)??0)+1;yC.set(i.id,a),i.id=a+"-"+i.id,mC.push(i)}else{i.label||(i.type==="composite"?i.label="":i.label=i.id);let a=Fc.get(i.id);if(a===void 0?Fc.set(i.id,i):(i.type!=="na"&&(a.type=i.type),i.label!==i.id&&(a.label=i.label)),i.children&&tH(i.children,i),i.type==="space"){let s=i.width??1;for(let l=0;l<s;l++){let u=Za(i);u.id=u.id+"-"+l,Fc.set(u.id,u),n.push(u)}}else a===void 0&&n.push(i)}}t.children=n},"populateBlockDatabase"),vC=[],yy={id:"root",type:"composite",children:[],columns:-1},p$e=o(()=>{J.debug("Clear called"),fs(),yy={id:"root",type:"composite",children:[],columns:-1},Fc=new Map([["root",yy]]),vC=[],nx=new Map,mC=[],yC=new Map},"clear"),o(i$e,"typeStr2Type"),o(a$e,"edgeTypeStr2Type"),o(s$e,"edgeStrToEdgeData"),rH=0,g$e=o(()=>(rH++,"id-"+Math.random().toString(36).substr(2,12)+"-"+rH),"generateId"),f$e=o(e=>{yy.children=e,tH(e,yy),vC=yy.children},"setHierarchy"),m$e=o(e=>{let t=Fc.get(e);return t?t.columns?t.columns:t.children?t.children.length:-1:-1},"getColumns"),y$e=o(()=>[...Fc.values()],"getBlocksFlat"),v$e=o(()=>vC||[],"getBlocks"),b$e=o(()=>mC,"getEdges"),x$e=o(e=>Fc.get(e),"getBlock"),w$e=o(e=>{Fc.set(e.id,e)},"setBlock"),k$e=o(()=>console,"getLogger"),T$e=o(function(){return nx},"getClasses"),E$e={getConfig:o(()=>Ni().block,"getConfig"),typeStr2Type:i$e,edgeTypeStr2Type:a$e,edgeStrToEdgeData:s$e,getLogger:k$e,getBlocksFlat:y$e,getBlocks:v$e,getEdges:b$e,setHierarchy:f$e,getBlock:x$e,setBlock:w$e,getColumns:m$e,getClasses:T$e,clear:p$e,generateId:g$e},C$e=E$e}),ix,_$e,S$e,att=R(()=>{"use strict";pl(),ix=o((e,t)=>{let r=ui,n=r(e,"r"),i=r(e,"g"),a=r(e,"b");return It(n,i,a,t)},"fade"),_$e=o(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }



  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${ix(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${ix(e.mainBkg,.5)};
    fill: ${ix(e.clusterBkg,.5)};
    stroke: ${ix(e.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),S$e=_$e}),A$e,L$e,N$e,M$e,I$e,D$e,R$e,O$e,P$e,B$e,F$e,$$e,stt=R(()=>{"use strict";We(),A$e=o((e,t,r,n)=>{t.forEach(i=>{F$e[i](e,r,n)})},"insertMarkers"),L$e=o((e,t,r)=>{J.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),N$e=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),M$e=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),I$e=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),D$e=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),R$e=o((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),O$e=o((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),P$e=o((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),B$e=o((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),F$e={extension:L$e,composition:N$e,aggregation:M$e,dependency:I$e,lollipop:D$e,point:R$e,circle:O$e,cross:P$e,barb:B$e},$$e=A$e});function z$e(e,t){if(e===0||!Number.isInteger(e))throw new Error("Columns must be an integer !== 0.");if(t<0||!Number.isInteger(t))throw new Error("Position must be a non-negative integer."+t);if(e<0)return{px:t,py:0};if(e===1)return{px:0,py:t};let r=t%e,n=Math.floor(t/e);return{px:r,py:n}}function bC(e,t,r=0,n=0){J.debug("setBlockSizes abc95 (start)",e.id,e?.size?.x,"block width =",e?.size,"sieblingWidth",r),e?.size?.width||(e.size={width:r,height:n,x:0,y:0});let i=0,a=0;if(e.children?.length>0){for(let g of e.children)bC(g,t);let s=G$e(e);i=s.width,a=s.height,J.debug("setBlockSizes abc95 maxWidth of",e.id,":s children is ",i,a);for(let g of e.children)g.size&&(J.debug(`abc95 Setting size of children of ${e.id} id=${g.id} ${i} ${a} ${JSON.stringify(g.size)}`),g.size.width=i*(g.widthInColumns??1)+Ma*((g.widthInColumns??1)-1),g.size.height=a,g.size.x=0,g.size.y=0,J.debug(`abc95 updating size of ${e.id} children child:${g.id} maxWidth:${i} maxHeight:${a}`));for(let g of e.children)bC(g,t,i,a);let l=e.columns??-1,u=0;for(let g of e.children)u+=g.widthInColumns??1;let h=e.children.length;l>0&&l<u&&(h=l);let d=Math.ceil(u/h),p=h*(i+Ma)+Ma,f=d*(a+Ma)+Ma;if(p<r){J.debug(`Detected to small siebling: abc95 ${e.id} sieblingWidth ${r} sieblingHeight ${n} width ${p}`),p=r,f=n;let g=(r-h*Ma-Ma)/h,m=(n-d*Ma-Ma)/d;J.debug("Size indata abc88",e.id,"childWidth",g,"maxWidth",i),J.debug("Size indata abc88",e.id,"childHeight",m,"maxHeight",a),J.debug("Size indata abc88 xSize",h,"padding",Ma);for(let y of e.children)y.size&&(y.size.width=g,y.size.height=m,y.size.x=0,y.size.y=0)}if(J.debug(`abc95 (finale calc) ${e.id} xSize ${h} ySize ${d} columns ${l}${e.children.length} width=${Math.max(p,e.size?.width||0)}`),p<(e?.size?.width||0)){p=e?.size?.width||0;let g=l>0?Math.min(e.children.length,l):e.children.length;if(g>0){let m=(p-g*Ma-Ma)/g;J.debug("abc95 (growing to fit) width",e.id,p,e.size?.width,m);for(let y of e.children)y.size&&(y.size.width=m)}}e.size={width:p,height:f,x:0,y:0}}J.debug("setBlockSizes abc94 (done)",e.id,e?.size?.x,e?.size?.width,e?.size?.y,e?.size?.height)}function nH(e,t){J.debug(`abc85 layout blocks (=>layoutBlocks) ${e.id} x: ${e?.size?.x} y: ${e?.size?.y} width: ${e?.size?.width}`);let r=e.columns??-1;if(J.debug("layoutBlocks columns abc95",e.id,"=>",r,e),e.children&&e.children.length>0){let n=e?.children[0]?.size?.width??0,i=e.children.length*n+(e.children.length-1)*Ma;J.debug("widthOfChildren 88",i,"posX");let a=0;J.debug("abc91 block?.size?.x",e.id,e?.size?.x);let s=e?.size?.x?e?.size?.x+(-e?.size?.width/2||0):-Ma,l=0;for(let u of e.children){let h=e;if(!u.size)continue;let{width:d,height:p}=u.size,{px:f,py:g}=z$e(r,a);if(g!=l&&(l=g,s=e?.size?.x?e?.size?.x+(-e?.size?.width/2||0):-Ma,J.debug("New row in layout for block",e.id," and child ",u.id,l)),J.debug(`abc89 layout blocks (child) id: ${u.id} Pos: ${a} (px, py) ${f},${g} (${h?.size?.x},${h?.size?.y}) parent: ${h.id} width: ${d}${Ma}`),h.size){let m=d/2;u.size.x=s+Ma+m,J.debug(`abc91 layout blocks (calc) px, pyid:${u.id} startingPos=X${s} new startingPosX${u.size.x} ${m} padding=${Ma} width=${d} halfWidth=${m} => x:${u.size.x} y:${u.size.y} ${u.widthInColumns} (width * (child?.w || 1)) / 2 ${d*(u?.widthInColumns??1)/2}`),s=u.size.x+m,u.size.y=h.size.y-h.size.height/2+g*(p+Ma)+p/2+Ma,J.debug(`abc88 layout blocks (calc) px, pyid:${u.id}startingPosX${s}${Ma}${m}=>x:${u.size.x}y:${u.size.y}${u.widthInColumns}(width * (child?.w || 1)) / 2${d*(u?.widthInColumns??1)/2}`)}u.children&&nH(u,t),a+=u?.widthInColumns??1,J.debug("abc88 columnsPos",u,a)}}J.debug(`layout blocks (<==layoutBlocks) ${e.id} x: ${e?.size?.x} y: ${e?.size?.y} width: ${e?.size?.width}`)}function iH(e,{minX:t,minY:r,maxX:n,maxY:i}={minX:0,minY:0,maxX:0,maxY:0}){if(e.size&&e.id!=="root"){let{x:a,y:s,width:l,height:u}=e.size;a-l/2<t&&(t=a-l/2),s-u/2<r&&(r=s-u/2),a+l/2>n&&(n=a+l/2),s+u/2>i&&(i=s+u/2)}if(e.children)for(let a of e.children)({minX:t,minY:r,maxX:n,maxY:i}=iH(a,{minX:t,minY:r,maxX:n,maxY:i}));return{minX:t,minY:r,maxX:n,maxY:i}}function q$e(e){let t=e.getBlock("root");if(!t)return;bC(t,e,0,0),nH(t,e),J.debug("getBlocks",JSON.stringify(t,null,2));let{minX:r,minY:n,maxX:i,maxY:a}=iH(t),s=a-n,l=i-r;return{x:r,y:n,width:l,height:s}}var Ma,G$e,ott=R(()=>{"use strict";We(),zr(),Ma=Ge()?.block?.padding??8,o(z$e,"calculateBlockPosition"),G$e=o(e=>{let t=0,r=0;for(let n of e.children){let{width:i,height:a,x:s,y:l}=n.size??{width:0,height:0,x:0,y:0};J.debug("getMaxChildSize abc95 child:",n.id,"width:",i,"height:",a,"x:",s,"y:",l,n.type),n.type!=="space"&&(i>t&&(t=i/(e.widthInColumns??1)),a>r&&(r=a))}return{width:t,height:r}},"getMaxChildSize"),o(bC,"setBlockSizes"),o(nH,"layoutBlocks"),o(iH,"findBounds"),o(q$e,"layout")});function aH(e,t){t&&e.attr("style",t)}function Y$e(e){let t=Bt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=e.label,i=e.isNode?"nodeLabel":"edgeLabel",a=r.append("span");return a.html(n),aH(a,e.labelStyle),a.attr("class",i),aH(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}var j$e,oc,sH=R(()=>{"use strict";Ln(),We(),zr(),En(),kn(),eh(),o(aH,"applyStyle"),o(Y$e,"addHtmlLabel"),j$e=o((e,t,r,n)=>{let i=e||"";if(typeof i=="object"&&(i=i[0]),Ii(Ge().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),J.debug("vertexText"+i);let a={isNode:n,label:rM(Ju(i)),labelStyle:t.replace("fill:","color:")};return Y$e(a)}else{let a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",t.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(let l of s){let u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=l.trim(),a.appendChild(u)}return a}},"createLabel"),oc=j$e}),H$e,U$e,oH,ltt=R(()=>{"use strict";We(),H$e=o((e,t,r,n,i)=>{t.arrowTypeStart&&oH(e,"start",t.arrowTypeStart,r,n,i),t.arrowTypeEnd&&oH(e,"end",t.arrowTypeEnd,r,n,i)},"addEdgeMarkers"),U$e={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},oH=o((e,t,r,n,i,a)=>{let s=U$e[r];if(!s){J.warn(`Unknown arrow type: ${r}`);return}let l=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${n}#${i}_${a}-${s}${l})`)},"addEdgeMarker")});function ax(e,t){Ge().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}var xC,ho,V$e,W$e,X$e,K$e,lH,Z$e,ctt=R(()=>{"use strict";We(),sH(),eh(),Ln(),zr(),kn(),En(),O0e(),j8(),ltt(),xC={},ho={},V$e=o((e,t)=>{let r=Ge(),n=Ii(r.flowchart.htmlLabels),i=t.labelType==="markdown"?Vl(e,t.label,{style:t.labelStyle,useHtmlLabels:n,addSvgBackground:!0},r):oc(t.label,t.labelStyle),a=e.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label");s.node().appendChild(i);let l=i.getBBox();if(n){let h=i.children[0],d=Bt(i);l=h.getBoundingClientRect(),d.attr("width",l.width),d.attr("height",l.height)}s.attr("transform","translate("+-l.width/2+", "+-l.height/2+")"),xC[t.id]=a,t.width=l.width,t.height=l.height;let u;if(t.startLabelLeft){let h=oc(t.startLabelLeft,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let f=h.getBBox();p.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),ho[t.id]||(ho[t.id]={}),ho[t.id].startLeft=d,ax(u,t.startLabelLeft)}if(t.startLabelRight){let h=oc(t.startLabelRight,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=d.node().appendChild(h),p.node().appendChild(h);let f=h.getBBox();p.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),ho[t.id]||(ho[t.id]={}),ho[t.id].startRight=d,ax(u,t.startLabelRight)}if(t.endLabelLeft){let h=oc(t.endLabelLeft,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let f=h.getBBox();p.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),d.node().appendChild(h),ho[t.id]||(ho[t.id]={}),ho[t.id].endLeft=d,ax(u,t.endLabelLeft)}if(t.endLabelRight){let h=oc(t.endLabelRight,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let f=h.getBBox();p.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),d.node().appendChild(h),ho[t.id]||(ho[t.id]={}),ho[t.id].endRight=d,ax(u,t.endLabelRight)}return i},"insertEdgeLabel"),o(ax,"setTerminalWidth"),W$e=o((e,t)=>{J.debug("Moving label abc88 ",e.id,e.label,xC[e.id],t);let r=t.updatedPath?t.updatedPath:t.originalPath,n=Ge(),{subGraphTitleTotalMargin:i}=Am(n);if(e.label){let a=xC[e.id],s=e.x,l=e.y;if(r){let u=mn.calcLabelPosition(r);J.debug("Moving label "+e.label+" from (",s,",",l,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(s=u.x,l=u.y)}a.attr("transform",`translate(${s}, ${l+i/2})`)}if(e.startLabelLeft){let a=ho[e.id].startLeft,s=e.x,l=e.y;if(r){let u=mn.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.startLabelRight){let a=ho[e.id].startRight,s=e.x,l=e.y;if(r){let u=mn.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.endLabelLeft){let a=ho[e.id].endLeft,s=e.x,l=e.y;if(r){let u=mn.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}if(e.endLabelRight){let a=ho[e.id].endRight,s=e.x,l=e.y;if(r){let u=mn.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);s=u.x,l=u.y}a.attr("transform",`translate(${s}, ${l})`)}},"positionEdgeLabel"),X$e=o((e,t)=>{let r=e.x,n=e.y,i=Math.abs(t.x-r),a=Math.abs(t.y-n),s=e.width/2,l=e.height/2;return i>=s||a>=l},"outsideNode"),K$e=o((e,t,r)=>{J.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let n=e.x,i=e.y,a=Math.abs(n-r.x),s=e.width/2,l=r.x<t.x?s-a:s+a,u=e.height/2,h=Math.abs(t.y-r.y),d=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*s>Math.abs(n-t.x)*u){let p=r.y<t.y?t.y-u-i:i-u-t.y;l=d*p/h;let f={x:r.x<t.x?r.x+l:r.x-d+l,y:r.y<t.y?r.y+h-p:r.y-h+p};return l===0&&(f.x=t.x,f.y=t.y),d===0&&(f.x=t.x),h===0&&(f.y=t.y),J.debug(`abc89 topp/bott calc, Q ${h}, q ${p}, R ${d}, r ${l}`,f),f}else{r.x<t.x?l=t.x-s-n:l=n-s-t.x;let p=h*l/d,f=r.x<t.x?r.x+d-l:r.x-d+l,g=r.y<t.y?r.y+p:r.y-p;return J.debug(`sides calc abc89, Q ${h}, q ${p}, R ${d}, r ${l}`,{_x:f,_y:g}),l===0&&(f=t.x,g=t.y),d===0&&(f=t.x),h===0&&(g=t.y),{x:f,y:g}}},"intersection"),lH=o((e,t)=>{J.debug("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach(a=>{if(!X$e(t,a)&&!i){let s=K$e(t,n,a),l=!1;r.forEach(u=>{l=l||u.x===s.x&&u.y===s.y}),r.some(u=>u.x===s.x&&u.y===s.y)||r.push(s),i=!0}else n=a,i||r.push(a)}),r},"cutPathAtIntersect"),Z$e=o(function(e,t,r,n,i,a,s){let l=r.points;J.debug("abc88 InsertEdge: edge=",r,"e=",t);let u=!1,h=a.node(t.v);var d=a.node(t.w);d?.intersect&&h?.intersect&&(l=l.slice(1,r.points.length-1),l.unshift(h.intersect(l[0])),l.push(d.intersect(l[l.length-1]))),r.toCluster&&(J.debug("to cluster abc88",n[r.toCluster]),l=lH(r.points,n[r.toCluster].node),u=!0),r.fromCluster&&(J.debug("from cluster abc88",n[r.fromCluster]),l=lH(l.reverse(),n[r.fromCluster].node).reverse(),u=!0);let p=l.filter(E=>!Number.isNaN(E.y)),f=Qf;r.curve&&(i==="graph"||i==="flowchart")&&(f=r.curve);let{x:g,y:m}=_I(r),y=wd().x(g).y(m).curve(f),b;switch(r.thickness){case"normal":b="edge-thickness-normal";break;case"thick":b="edge-thickness-thick";break;case"invisible":b="edge-thickness-thick";break;default:b=""}switch(r.pattern){case"solid":b+=" edge-pattern-solid";break;case"dotted":b+=" edge-pattern-dotted";break;case"dashed":b+=" edge-pattern-dashed";break}let v=e.append("path").attr("d",y(p)).attr("id",r.id).attr("class"," "+b+(r.classes?" "+r.classes:"")).attr("style",r.style),x="";(Ge().flowchart.arrowMarkerAbsolute||Ge().state.arrowMarkerAbsolute)&&(x=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,x=x.replace(/\(/g,"\\("),x=x.replace(/\)/g,"\\)")),H$e(v,r,x,s,i);let w={};return u&&(w.updatedPath=l),w.originalPath=r.points,w},"insertEdge")}),Q$e,J$e,utt=R(()=>{"use strict";Q$e=o(e=>{let t=new Set;for(let r of e)switch(r){case"x":t.add("right"),t.add("left");break;case"y":t.add("up"),t.add("down");break;default:t.add(r);break}return t},"expandAndDeduplicateDirections"),J$e=o((e,t,r)=>{let n=Q$e(e),i=2,a=t.height+2*r.padding,s=a/i,l=t.width+2*s+r.padding,u=r.padding/2;return n.has("right")&&n.has("left")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:s,y:0},{x:l/2,y:2*u},{x:l-s,y:0},{x:l,y:0},{x:l,y:-a/3},{x:l+2*u,y:-a/2},{x:l,y:-2*a/3},{x:l,y:-a},{x:l-s,y:-a},{x:l/2,y:-a-2*u},{x:s,y:-a},{x:0,y:-a},{x:0,y:-2*a/3},{x:-2*u,y:-a/2},{x:0,y:-a/3}]:n.has("right")&&n.has("left")&&n.has("up")?[{x:s,y:0},{x:l-s,y:0},{x:l,y:-a/2},{x:l-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}]:n.has("right")&&n.has("left")&&n.has("down")?[{x:0,y:0},{x:s,y:-a},{x:l-s,y:-a},{x:l,y:0}]:n.has("right")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:l,y:-s},{x:l,y:-a+s},{x:0,y:-a}]:n.has("left")&&n.has("up")&&n.has("down")?[{x:l,y:0},{x:0,y:-s},{x:0,y:-a+s},{x:l,y:-a}]:n.has("right")&&n.has("left")?[{x:s,y:0},{x:s,y:-u},{x:l-s,y:-u},{x:l-s,y:0},{x:l,y:-a/2},{x:l-s,y:-a},{x:l-s,y:-a+u},{x:s,y:-a+u},{x:s,y:-a},{x:0,y:-a/2}]:n.has("up")&&n.has("down")?[{x:l/2,y:0},{x:0,y:-u},{x:s,y:-u},{x:s,y:-a+u},{x:0,y:-a+u},{x:l/2,y:-a},{x:l,y:-a+u},{x:l-s,y:-a+u},{x:l-s,y:-u},{x:l,y:-u}]:n.has("right")&&n.has("up")?[{x:0,y:0},{x:l,y:-s},{x:0,y:-a}]:n.has("right")&&n.has("down")?[{x:0,y:0},{x:l,y:0},{x:0,y:-a}]:n.has("left")&&n.has("up")?[{x:l,y:0},{x:0,y:-s},{x:l,y:-a}]:n.has("left")&&n.has("down")?[{x:l,y:0},{x:0,y:0},{x:l,y:-a}]:n.has("right")?[{x:s,y:-u},{x:s,y:-u},{x:l-s,y:-u},{x:l-s,y:0},{x:l,y:-a/2},{x:l-s,y:-a},{x:l-s,y:-a+u},{x:s,y:-a+u},{x:s,y:-a+u}]:n.has("left")?[{x:s,y:0},{x:s,y:-u},{x:l-s,y:-u},{x:l-s,y:-a+u},{x:s,y:-a+u},{x:s,y:-a},{x:0,y:-a/2}]:n.has("up")?[{x:s,y:-u},{x:s,y:-a+u},{x:0,y:-a+u},{x:l/2,y:-a},{x:l,y:-a+u},{x:l-s,y:-a+u},{x:l-s,y:-u}]:n.has("down")?[{x:l/2,y:0},{x:0,y:-u},{x:s,y:-u},{x:s,y:-a+u},{x:l-s,y:-a+u},{x:l-s,y:-u},{x:l,y:-u}]:[{x:0,y:0}]},"getArrowPoints")});function eze(e,t){return e.intersect(t)}var tze,htt=R(()=>{"use strict";o(eze,"intersectNode"),tze=eze});function rze(e,t,r,n){var i=e.x,a=e.y,s=i-n.x,l=a-n.y,u=Math.sqrt(t*t*l*l+r*r*s*s),h=Math.abs(t*r*s/u);n.x<i&&(h=-h);var d=Math.abs(t*r*l/u);return n.y<a&&(d=-d),{x:i+h,y:a+d}}var cH,nze=R(()=>{"use strict";o(rze,"intersectEllipse"),cH=rze});function ize(e,t,r){return cH(e,t,t,r)}var aze,dtt=R(()=>{"use strict";nze(),o(ize,"intersectCircle"),aze=ize});function sze(e,t,r,n){var i,a,s,l,u,h,d,p,f,g,m,y,b,v,x;if(i=t.y-e.y,s=e.x-t.x,u=t.x*e.y-e.x*t.y,f=i*r.x+s*r.y+u,g=i*n.x+s*n.y+u,!(f!==0&&g!==0&&uH(f,g))&&(a=n.y-r.y,l=r.x-n.x,h=n.x*r.y-r.x*n.y,d=a*e.x+l*e.y+h,p=a*t.x+l*t.y+h,!(d!==0&&p!==0&&uH(d,p))&&(m=i*l-a*s,m!==0)))return y=Math.abs(m/2),b=s*h-l*u,v=b<0?(b-y)/m:(b+y)/m,b=a*u-i*h,x=b<0?(b-y)/m:(b+y)/m,{x:v,y:x}}function uH(e,t){return e*t>0}var oze,ptt=R(()=>{"use strict";o(sze,"intersectLine"),o(uH,"sameSign"),oze=sze});function lze(e,t,r){var n=e.x,i=e.y,a=[],s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(m){s=Math.min(s,m.x),l=Math.min(l,m.y)}):(s=Math.min(s,t.x),l=Math.min(l,t.y));for(var u=n-e.width/2-s,h=i-e.height/2-l,d=0;d<t.length;d++){var p=t[d],f=t[d<t.length-1?d+1:0],g=oze(e,r,{x:u+p.x,y:h+p.y},{x:u+f.x,y:h+f.y});g&&a.push(g)}return a.length?(a.length>1&&a.sort(function(m,y){var b=m.x-r.x,v=m.y-r.y,x=Math.sqrt(b*b+v*v),w=y.x-r.x,E=y.y-r.y,A=Math.sqrt(w*w+E*E);return x<A?-1:x===A?0:1}),a[0]):e}var cze,gtt=R(()=>{"use strict";ptt(),cze=lze,o(lze,"intersectPolygon")}),uze,hze,ftt=R(()=>{"use strict";uze=o((e,t)=>{var r=e.x,n=e.y,i=t.x-r,a=t.y-n,s=e.width/2,l=e.height/2,u,h;return Math.abs(a)*s>Math.abs(i)*l?(a<0&&(l=-l),u=a===0?0:l*i/a,h=l):(i<0&&(s=-s),u=s,h=i===0?0:s*a/i),{x:r+u,y:n+h}},"intersectRect"),hze=uze}),Zi,dze=R(()=>{"use strict";htt(),dtt(),nze(),gtt(),ftt(),Zi={node:tze,circle:aze,ellipse:cH,polygon:cze,rect:hze}});function Nu(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}var ks,va,pze=R(()=>{"use strict";sH(),eh(),zr(),Ln(),En(),kn(),ks=o(async(e,t,r,n)=>{let i=Ge(),a,s=t.useHtmlLabels||Ii(i.flowchart.htmlLabels);r?a=r:a="node default";let l=e.insert("g").attr("class",a).attr("id",t.domId||t.id),u=l.insert("g").attr("class","label").attr("style",t.labelStyle),h;t.labelText===void 0?h="":h=typeof t.labelText=="string"?t.labelText:t.labelText[0];let d=u.node(),p;t.labelType==="markdown"?p=Vl(u,Ei(Ju(h),i),{useHtmlLabels:s,width:t.width||i.flowchart.wrappingWidth,classes:"markdown-node-label"},i):p=d.appendChild(oc(Ei(Ju(h),i),t.labelStyle,!1,n));let f=p.getBBox(),g=t.padding/2;if(Ii(i.flowchart.htmlLabels)){let m=p.children[0],y=Bt(p),b=m.getElementsByTagName("img");if(b){let v=h.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...b].map(x=>new Promise(w=>{function E(){if(x.style.display="flex",x.style.flexDirection="column",v){let A=i.fontSize?i.fontSize:window.getComputedStyle(document.body).fontSize,N=parseInt(A,10)*5+"px";x.style.minWidth=N,x.style.maxWidth=N}else x.style.width="100%";w(x)}o(E,"setupImage"),setTimeout(()=>{x.complete&&E()}),x.addEventListener("error",E),x.addEventListener("load",E)})))}f=m.getBoundingClientRect(),y.attr("width",f.width),y.attr("height",f.height)}return s?u.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"):u.attr("transform","translate(0, "+-f.height/2+")"),t.centerLabel&&u.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),u.insert("rect",":first-child"),{shapeSvg:l,bbox:f,halfPadding:g,label:u}},"labelHelper"),va=o((e,t)=>{let r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),o(Nu,"insertPolygonShape")}),gze,fze,mtt=R(()=>{"use strict";pze(),We(),zr(),dze(),gze=o(async(e,t)=>{t.useHtmlLabels||Ge().flowchart.htmlLabels||(t.centerLabel=!0);let{shapeSvg:r,bbox:n,halfPadding:i}=await ks(e,t,"node "+t.classes,!0);J.info("Classes = ",t.classes);let a=r.insert("rect",":first-child");return a.attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-i).attr("y",-n.height/2-i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),va(t,a),t.intersect=function(s){return Zi.rect(t,s)},r},"note"),fze=gze});function wC(e,t,r,n){let i=[],a=o(l=>{i.push(l,0)},"addBorder"),s=o(l=>{i.push(0,l)},"skipBorder");t.includes("t")?(J.debug("add top border"),a(r)):s(r),t.includes("r")?(J.debug("add right border"),a(n)):s(n),t.includes("b")?(J.debug("add bottom border"),a(r)):s(r),t.includes("l")?(J.debug("add left border"),a(n)):s(n),e.attr("stroke-dasharray",i.join(" "))}var hH,Il,dH,mze,yze,vze,bze,xze,wze,kze,Tze,Eze,Cze,_ze,Sze,Aze,Lze,Nze,Mze,Ize,Dze,Rze,pH,Oze,Pze,gH,sx,fH,Bze,ytt=R(()=>{"use strict";Ln(),zr(),En(),We(),utt(),sH(),dze(),mtt(),pze(),hH=o(e=>e?" "+e:"","formatClass"),Il=o((e,t)=>`${t||"node default"}${hH(e.classes)} ${hH(e.class)}`,"getClassesFromNode"),dH=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await ks(e,t,Il(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=i+a,l=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];J.info("Question main (Circle)");let u=Nu(r,s,s,l);return u.attr("style",t.style),va(t,u),t.intersect=function(h){return J.warn("Intersect called"),Zi.polygon(t,l,h)},r},"question"),mze=o((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=28,i=[{x:0,y:n/2},{x:n/2,y:0},{x:0,y:-n/2},{x:-n/2,y:0}];return r.insert("polygon",":first-child").attr("points",i.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(a){return Zi.circle(t,14,a)},r},"choice"),yze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await ks(e,t,Il(t,void 0),!0),i=4,a=n.height+t.padding,s=a/i,l=n.width+2*s+t.padding,u=[{x:s,y:0},{x:l-s,y:0},{x:l,y:-a/2},{x:l-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}],h=Nu(r,l,a,u);return h.attr("style",t.style),va(t,h),t.intersect=function(d){return Zi.polygon(t,u,d)},r},"hexagon"),vze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await ks(e,t,void 0,!0),i=2,a=n.height+2*t.padding,s=a/i,l=n.width+2*s+t.padding,u=J$e(t.directions,n,t),h=Nu(r,l,a,u);return h.attr("style",t.style),va(t,h),t.intersect=function(d){return Zi.polygon(t,u,d)},r},"block_arrow"),bze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await ks(e,t,Il(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:-a/2,y:0},{x:i,y:0},{x:i,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return Nu(r,i,a,s).attr("style",t.style),t.width=i+a,t.height=a,t.intersect=function(l){return Zi.polygon(t,s,l)},r},"rect_left_inv_arrow"),xze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await ks(e,t,Il(t),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:-2*a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:a/6,y:-a}],l=Nu(r,i,a,s);return l.attr("style",t.style),va(t,l),t.intersect=function(u){return Zi.polygon(t,s,u)},r},"lean_right"),wze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await ks(e,t,Il(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:2*a/6,y:0},{x:i+a/6,y:0},{x:i-2*a/6,y:-a},{x:-a/6,y:-a}],l=Nu(r,i,a,s);return l.attr("style",t.style),va(t,l),t.intersect=function(u){return Zi.polygon(t,s,u)},r},"lean_left"),kze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await ks(e,t,Il(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:-2*a/6,y:0},{x:i+2*a/6,y:0},{x:i-a/6,y:-a},{x:a/6,y:-a}],l=Nu(r,i,a,s);return l.attr("style",t.style),va(t,l),t.intersect=function(u){return Zi.polygon(t,s,u)},r},"trapezoid"),Tze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await ks(e,t,Il(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:-2*a/6,y:-a}],l=Nu(r,i,a,s);return l.attr("style",t.style),va(t,l),t.intersect=function(u){return Zi.polygon(t,s,u)},r},"inv_trapezoid"),Eze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await ks(e,t,Il(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:0,y:0},{x:i+a/2,y:0},{x:i,y:-a/2},{x:i+a/2,y:-a},{x:0,y:-a}],l=Nu(r,i,a,s);return l.attr("style",t.style),va(t,l),t.intersect=function(u){return Zi.polygon(t,s,u)},r},"rect_right_inv_arrow"),Cze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await ks(e,t,Il(t,void 0),!0),i=n.width+t.padding,a=i/2,s=a/(2.5+i/50),l=n.height+s+t.padding,u="M 0,"+s+" a "+a+","+s+" 0,0,0 "+i+" 0 a "+a+","+s+" 0,0,0 "+-i+" 0 l 0,"+l+" a "+a+","+s+" 0,0,0 "+i+" 0 l 0,"+-l,h=r.attr("label-offset-y",s).insert("path",":first-child").attr("style",t.style).attr("d",u).attr("transform","translate("+-i/2+","+-(l/2+s)+")");return va(t,h),t.intersect=function(d){let p=Zi.rect(t,d),f=p.x-t.x;if(a!=0&&(Math.abs(f)<t.width/2||Math.abs(f)==t.width/2&&Math.abs(p.y-t.y)>t.height/2-s)){let g=s*s*(1-f*f/(a*a));g!=0&&(g=Math.sqrt(g)),g=s-g,d.y-t.y>0&&(g=-g),p.y+=g}return p},r},"cylinder"),_ze=o(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await ks(e,t,"node "+t.classes+" "+t.class,!0),a=r.insert("rect",":first-child"),s=t.positioned?t.width:n.width+t.padding,l=t.positioned?t.height:n.height+t.padding,u=t.positioned?-s/2:-n.width/2-i,h=t.positioned?-l/2:-n.height/2-i;if(a.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",h).attr("width",s).attr("height",l),t.props){let d=new Set(Object.keys(t.props));t.props.borders&&(wC(a,t.props.borders,s,l),d.delete("borders")),d.forEach(p=>{J.warn(`Unknown node property ${p}`)})}return va(t,a),t.intersect=function(d){return Zi.rect(t,d)},r},"rect"),Sze=o(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await ks(e,t,"node "+t.classes,!0),a=r.insert("rect",":first-child"),s=t.positioned?t.width:n.width+t.padding,l=t.positioned?t.height:n.height+t.padding,u=t.positioned?-s/2:-n.width/2-i,h=t.positioned?-l/2:-n.height/2-i;if(a.attr("class","basic cluster composite label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",h).attr("width",s).attr("height",l),t.props){let d=new Set(Object.keys(t.props));t.props.borders&&(wC(a,t.props.borders,s,l),d.delete("borders")),d.forEach(p=>{J.warn(`Unknown node property ${p}`)})}return va(t,a),t.intersect=function(d){return Zi.rect(t,d)},r},"composite"),Aze=o(async(e,t)=>{let{shapeSvg:r}=await ks(e,t,"label",!0);J.trace("Classes = ",t.class);let n=r.insert("rect",":first-child"),i=0,a=0;if(n.attr("width",i).attr("height",a),r.attr("class","label edgeLabel"),t.props){let s=new Set(Object.keys(t.props));t.props.borders&&(wC(n,t.props.borders,i,a),s.delete("borders")),s.forEach(l=>{J.warn(`Unknown node property ${l}`)})}return va(t,n),t.intersect=function(s){return Zi.rect(t,s)},r},"labelRect"),o(wC,"applyNodePropertyBorders"),Lze=o((e,t)=>{let r;t.classes?r="node "+t.classes:r="node default";let n=e.insert("g").attr("class",r).attr("id",t.domId||t.id),i=n.insert("rect",":first-child"),a=n.insert("line"),s=n.insert("g").attr("class","label"),l=t.labelText.flat?t.labelText.flat():t.labelText,u="";typeof l=="object"?u=l[0]:u=l,J.info("Label text abc79",u,l,typeof l=="object");let h=s.node().appendChild(oc(u,t.labelStyle,!0,!0)),d={width:0,height:0};if(Ii(Ge().flowchart.htmlLabels)){let y=h.children[0],b=Bt(h);d=y.getBoundingClientRect(),b.attr("width",d.width),b.attr("height",d.height)}J.info("Text 2",l);let p=l.slice(1,l.length),f=h.getBBox(),g=s.node().appendChild(oc(p.join?p.join("<br/>"):p,t.labelStyle,!0,!0));if(Ii(Ge().flowchart.htmlLabels)){let y=g.children[0],b=Bt(g);d=y.getBoundingClientRect(),b.attr("width",d.width),b.attr("height",d.height)}let m=t.padding/2;return Bt(g).attr("transform","translate( "+(d.width>f.width?0:(f.width-d.width)/2)+", "+(f.height+m+5)+")"),Bt(h).attr("transform","translate( "+(d.width<f.width?0:-(f.width-d.width)/2)+", 0)"),d=s.node().getBBox(),s.attr("transform","translate("+-d.width/2+", "+(-d.height/2-m+3)+")"),i.attr("class","outer title-state").attr("x",-d.width/2-m).attr("y",-d.height/2-m).attr("width",d.width+t.padding).attr("height",d.height+t.padding),a.attr("class","divider").attr("x1",-d.width/2-m).attr("x2",d.width/2+m).attr("y1",-d.height/2-m+f.height+m).attr("y2",-d.height/2-m+f.height+m),va(t,i),t.intersect=function(y){return Zi.rect(t,y)},n},"rectWithTitle"),Nze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await ks(e,t,Il(t,void 0),!0),i=n.height+t.padding,a=n.width+i/4+t.padding,s=r.insert("rect",":first-child").attr("style",t.style).attr("rx",i/2).attr("ry",i/2).attr("x",-a/2).attr("y",-i/2).attr("width",a).attr("height",i);return va(t,s),t.intersect=function(l){return Zi.rect(t,l)},r},"stadium"),Mze=o(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await ks(e,t,Il(t,void 0),!0),a=r.insert("circle",":first-child");return a.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),J.info("Circle main"),va(t,a),t.intersect=function(s){return J.info("Circle intersect",t,n.width/2+i,s),Zi.circle(t,n.width/2+i,s)},r},"circle"),Ize=o(async(e,t)=>{let{shapeSvg:r,bbox:n,halfPadding:i}=await ks(e,t,Il(t,void 0),!0),a=5,s=r.insert("g",":first-child"),l=s.insert("circle"),u=s.insert("circle");return s.attr("class",t.class),l.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i+a).attr("width",n.width+t.padding+a*2).attr("height",n.height+t.padding+a*2),u.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),J.info("DoubleCircle main"),va(t,l),t.intersect=function(h){return J.info("DoubleCircle intersect",t,n.width/2+i+a,h),Zi.circle(t,n.width/2+i+a,h)},r},"doublecircle"),Dze=o(async(e,t)=>{let{shapeSvg:r,bbox:n}=await ks(e,t,Il(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,s=[{x:0,y:0},{x:i,y:0},{x:i,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],l=Nu(r,i,a,s);return l.attr("style",t.style),va(t,l),t.intersect=function(u){return Zi.polygon(t,s,u)},r},"subroutine"),Rze=o((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),va(t,n),t.intersect=function(i){return Zi.circle(t,7,i)},r},"start"),pH=o((e,t,r)=>{let n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=70,a=10;r==="LR"&&(i=10,a=70);let s=n.append("rect").attr("x",-1*i/2).attr("y",-1*a/2).attr("width",i).attr("height",a).attr("class","fork-join");return va(t,s),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(l){return Zi.rect(t,l)},n},"forkJoin"),Oze=o((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child"),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),va(t,i),t.intersect=function(a){return Zi.circle(t,7,a)},r},"end"),Pze=o((e,t)=>{let r=t.padding/2,n=4,i=8,a;t.classes?a="node "+t.classes:a="node default";let s=e.insert("g").attr("class",a).attr("id",t.domId||t.id),l=s.insert("rect",":first-child"),u=s.insert("line"),h=s.insert("line"),d=0,p=n,f=s.insert("g").attr("class","label"),g=0,m=t.classData.annotations?.[0],y=t.classData.annotations[0]?"\xAB"+t.classData.annotations[0]+"\xBB":"",b=f.node().appendChild(oc(y,t.labelStyle,!0,!0)),v=b.getBBox();if(Ii(Ge().flowchart.htmlLabels)){let C=b.children[0],D=Bt(b);v=C.getBoundingClientRect(),D.attr("width",v.width),D.attr("height",v.height)}t.classData.annotations[0]&&(p+=v.height+n,d+=v.width);let x=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&(Ge().flowchart.htmlLabels?x+="&lt;"+t.classData.type+"&gt;":x+="<"+t.classData.type+">");let w=f.node().appendChild(oc(x,t.labelStyle,!0,!0));Bt(w).attr("class","classTitle");let E=w.getBBox();if(Ii(Ge().flowchart.htmlLabels)){let C=w.children[0],D=Bt(w);E=C.getBoundingClientRect(),D.attr("width",E.width),D.attr("height",E.height)}p+=E.height+n,E.width>d&&(d=E.width);let A=[];t.classData.members.forEach(C=>{let D=C.getDisplayDetails(),P=D.displayText;Ge().flowchart.htmlLabels&&(P=P.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let O=f.node().appendChild(oc(P,D.cssStyle?D.cssStyle:t.labelStyle,!0,!0)),I=O.getBBox();if(Ii(Ge().flowchart.htmlLabels)){let q=O.children[0],S=Bt(O);I=q.getBoundingClientRect(),S.attr("width",I.width),S.attr("height",I.height)}I.width>d&&(d=I.width),p+=I.height+n,A.push(O)}),p+=i;let N=[];if(t.classData.methods.forEach(C=>{let D=C.getDisplayDetails(),P=D.displayText;Ge().flowchart.htmlLabels&&(P=P.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let O=f.node().appendChild(oc(P,D.cssStyle?D.cssStyle:t.labelStyle,!0,!0)),I=O.getBBox();if(Ii(Ge().flowchart.htmlLabels)){let q=O.children[0],S=Bt(O);I=q.getBoundingClientRect(),S.attr("width",I.width),S.attr("height",I.height)}I.width>d&&(d=I.width),p+=I.height+n,N.push(O)}),p+=i,m){let C=(d-v.width)/2;Bt(b).attr("transform","translate( "+(-1*d/2+C)+", "+-1*p/2+")"),g=v.height+n}let L=(d-E.width)/2;return Bt(w).attr("transform","translate( "+(-1*d/2+L)+", "+(-1*p/2+g)+")"),g+=E.height+n,u.attr("class","divider").attr("x1",-d/2-r).attr("x2",d/2+r).attr("y1",-p/2-r+i+g).attr("y2",-p/2-r+i+g),g+=i,A.forEach(C=>{Bt(C).attr("transform","translate( "+-d/2+", "+(-1*p/2+g+i/2)+")");let D=C?.getBBox();g+=(D?.height??0)+n}),g+=i,h.attr("class","divider").attr("x1",-d/2-r).attr("x2",d/2+r).attr("y1",-p/2-r+i+g).attr("y2",-p/2-r+i+g),g+=i,N.forEach(C=>{Bt(C).attr("transform","translate( "+-d/2+", "+(-1*p/2+g)+")");let D=C?.getBBox();g+=(D?.height??0)+n}),l.attr("style",t.style).attr("class","outer title-state").attr("x",-d/2-r).attr("y",-(p/2)-r).attr("width",d+t.padding).attr("height",p+t.padding),va(t,l),t.intersect=function(C){return Zi.rect(t,C)},s},"class_box"),gH={rhombus:dH,composite:Sze,question:dH,rect:_ze,labelRect:Aze,rectWithTitle:Lze,choice:mze,circle:Mze,doublecircle:Ize,stadium:Nze,hexagon:yze,block_arrow:vze,rect_left_inv_arrow:bze,lean_right:xze,lean_left:wze,trapezoid:kze,inv_trapezoid:Tze,rect_right_inv_arrow:Eze,cylinder:Cze,start:Rze,end:Oze,note:fze,subroutine:Dze,fork:pH,join:pH,class_box:Pze},sx={},fH=o(async(e,t,r)=>{let n,i;if(t.link){let a;Ge().securityLevel==="sandbox"?a="_top":t.linkTarget&&(a=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",a),i=await gH[t.shape](n,t,r)}else i=await gH[t.shape](e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),t.class&&i.attr("class","node default "+t.class),sx[t.id]=n,t.haveCallback&&sx[t.id].attr("class",sx[t.id].attr("class")+" clickable"),n},"insertNode"),Bze=o(e=>{let t=sx[e.id];J.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let r=8,n=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+n-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),n},"positionNode")});function mH(e,t,r=!1){let n=e,i="default";(n?.classes?.length||0)>0&&(i=(n?.classes??[]).join(" ")),i=i+" flowchart-label";let a=0,s="",l;switch(n.type){case"round":a=5,s="rect";break;case"composite":a=0,s="composite",l=0;break;case"square":s="rect";break;case"diamond":s="question";break;case"hexagon":s="hexagon";break;case"block_arrow":s="block_arrow";break;case"odd":s="rect_left_inv_arrow";break;case"lean_right":s="lean_right";break;case"lean_left":s="lean_left";break;case"trapezoid":s="trapezoid";break;case"inv_trapezoid":s="inv_trapezoid";break;case"rect_left_inv_arrow":s="rect_left_inv_arrow";break;case"circle":s="circle";break;case"ellipse":s="ellipse";break;case"stadium":s="stadium";break;case"subroutine":s="subroutine";break;case"cylinder":s="cylinder";break;case"group":s="rect";break;case"doublecircle":s="doublecircle";break;default:s="rect"}let u=kN(n?.styles??[]),h=n.label,d=n.size??{width:0,height:0,x:0,y:0};return{labelStyle:u.labelStyle,shape:s,labelText:h,rx:a,ry:a,class:i,style:u.style,id:n.id,directions:n.directions,width:d.width,height:d.height,x:d.x,y:d.y,positioned:r,intersect:void 0,type:n.type,padding:l??Ni()?.block?.padding??0}}async function Fze(e,t,r){let n=mH(t,r,!1);if(n.type==="group")return;let i=Ni(),a=await fH(e,n,{config:i}),s=a.node().getBBox(),l=r.getBlock(n.id);l.size={width:s.width,height:s.height,x:0,y:0,node:a},r.setBlock(l),a.remove()}async function $ze(e,t,r){let n=mH(t,r,!0);if(r.getBlock(n.id).type!=="space"){let i=Ni();await fH(e,n,{config:i}),t.intersect=n?.intersect,Bze(n)}}async function kC(e,t,r,n){for(let i of t)await n(e,i,r),i.children&&await kC(e,i.children,r,n)}async function zze(e,t,r){await kC(e,t,r,Fze)}async function qze(e,t,r){await kC(e,t,r,$ze)}async function Gze(e,t,r,n,i){let a=new ao({multigraph:!0,compound:!0});a.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(let s of r)s.size&&a.setNode(s.id,{width:s.size.width,height:s.size.height,intersect:s.intersect});for(let s of t)if(s.start&&s.end){let l=n.getBlock(s.start),u=n.getBlock(s.end);if(l?.size&&u?.size){let h=l.size,d=u.size,p=[{x:h.x,y:h.y},{x:h.x+(d.x-h.x)/2,y:h.y+(d.y-h.y)/2},{x:d.x,y:d.y}];Z$e(e,{v:s.start,w:s.end,name:s.id},{...s,arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:p,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",a,i),s.label&&(await V$e(e,{...s,label:s.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:p,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),W$e({...s,x:p[1].x,y:p[1].y},{originalPath:p}))}}}var vtt=R(()=>{"use strict";Xl(),wo(),ctt(),ytt(),kn(),o(mH,"getNodeFromBlock"),o(Fze,"calculateBlockSize"),o($ze,"insertBlockPositioned"),o(kC,"performOperations"),o(zze,"calculateBlockSizes"),o(qze,"insertBlocks"),o(Gze,"insertEdges")}),Yze,jze,Hze,btt=R(()=>{"use strict";Ln(),wo(),stt(),We(),Fa(),ott(),vtt(),Yze=o(function(e,t){return t.db.getClasses()},"getClasses"),jze=o(async function(e,t,r,n){let{securityLevel:i,block:a}=Ni(),s=n.db,l;i==="sandbox"&&(l=Bt("#i"+t));let u=Bt(i==="sandbox"?l.nodes()[0].contentDocument.body:"body"),h=i==="sandbox"?u.select(`[id="${t}"]`):Bt(`[id="${t}"]`);$$e(h,["point","circle","cross"],n.type,t);let d=s.getBlocks(),p=s.getBlocksFlat(),f=s.getEdges(),g=h.insert("g").attr("class","block");await zze(g,d,s);let m=q$e(s);if(await qze(g,d,s),await Gze(g,f,p,s,t),m){let y=m,b=Math.max(1,Math.round(.125*(y.width/y.height))),v=y.height+b+10,x=y.width+10,{useMaxWidth:w}=a;Qs(h,v,x,!!w),J.debug("Here Bounds",m,y),h.attr("viewBox",`${y.x-5} ${y.y-5} ${y.width+10} ${y.height+10}`)}},"draw"),Hze={draw:jze,getClasses:Yze}}),Uze={};yr(Uze,{diagram:()=>Vze});var Vze,xtt=R(()=>{"use strict";ntt(),itt(),att(),btt(),Vze={parser:n$e,db:C$e,renderer:Hze,styles:S$e}}),yH,vH,ox,Wze,bH,al,H0,xH,Xze,Kze,TC,Zze,Qze,Jze,eqe,wH,Gg,kH=R(()=>{"use strict";yH={L:"left",R:"right",T:"top",B:"bottom"},vH={L:o(e=>`${e},${e/2} 0,${e} 0,0`,"L"),R:o(e=>`0,${e/2} ${e},0 ${e},${e}`,"R"),T:o(e=>`0,0 ${e},0 ${e/2},${e}`,"T"),B:o(e=>`${e/2},0 ${e},${e} 0,${e}`,"B")},ox={L:o((e,t)=>e-t+2,"L"),R:o((e,t)=>e-2,"R"),T:o((e,t)=>e-t+2,"T"),B:o((e,t)=>e-2,"B")},Wze=o(function(e){return al(e)?e==="L"?"R":"L":e==="T"?"B":"T"},"getOppositeArchitectureDirection"),bH=o(function(e){let t=e;return t==="L"||t==="R"||t==="T"||t==="B"},"isArchitectureDirection"),al=o(function(e){let t=e;return t==="L"||t==="R"},"isArchitectureDirectionX"),H0=o(function(e){let t=e;return t==="T"||t==="B"},"isArchitectureDirectionY"),xH=o(function(e,t){let r=al(e)&&H0(t),n=H0(e)&&al(t);return r||n},"isArchitectureDirectionXY"),Xze=o(function(e){let t=e[0],r=e[1],n=al(t)&&H0(r),i=H0(t)&&al(r);return n||i},"isArchitecturePairXY"),Kze=o(function(e){return e!=="LL"&&e!=="RR"&&e!=="TT"&&e!=="BB"},"isValidArchitectureDirectionPair"),TC=o(function(e,t){let r=`${e}${t}`;return Kze(r)?r:void 0},"getArchitectureDirectionPair"),Zze=o(function([e,t],r){let n=r[0],i=r[1];return al(n)?H0(i)?[e+(n==="L"?-1:1),t+(i==="T"?1:-1)]:[e+(n==="L"?-1:1),t]:al(i)?[e+(i==="L"?1:-1),t+(n==="T"?1:-1)]:[e,t+(n==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),Qze=o(function(e){return e==="LT"||e==="TL"?[1,1]:e==="BL"||e==="LB"?[1,-1]:e==="BR"||e==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),Jze=o(function(e){return e.type==="service"},"isArchitectureService"),eqe=o(function(e){return e.type==="junction"},"isArchitectureJunction"),wH=o(e=>e.data(),"edgeData"),Gg=o(e=>e.data(),"nodeData")});function Ts(e){let t=Ge().architecture;return t?.[e]?t[e]:TH[e]}var TH,Tn,tqe,rqe,nqe,iqe,aqe,sqe,oqe,lqe,cqe,uqe,hqe,dqe,pqe,gqe,lx,EC=R(()=>{"use strict";ka(),zr(),f$(),ys(),kH(),TH=Fn.architecture,Tn=new eT(()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:TH,dataStructures:void 0,elements:{}})),tqe=o(()=>{Tn.reset(),fs()},"clear"),rqe=o(function({id:e,icon:t,in:r,title:n,iconText:i}){if(Tn.records.registeredIds[e]!==void 0)throw new Error(`The service id [${e}] is already in use by another ${Tn.records.registeredIds[e]}`);if(r!==void 0){if(e===r)throw new Error(`The service [${e}] cannot be placed within itself`);if(Tn.records.registeredIds[r]===void 0)throw new Error(`The service [${e}]'s parent does not exist. Please make sure the parent is created before this service`);if(Tn.records.registeredIds[r]==="node")throw new Error(`The service [${e}]'s parent is not a group`)}Tn.records.registeredIds[e]="node",Tn.records.nodes[e]={id:e,type:"service",icon:t,iconText:i,title:n,edges:[],in:r}},"addService"),nqe=o(()=>Object.values(Tn.records.nodes).filter(Jze),"getServices"),iqe=o(function({id:e,in:t}){Tn.records.registeredIds[e]="node",Tn.records.nodes[e]={id:e,type:"junction",edges:[],in:t}},"addJunction"),aqe=o(()=>Object.values(Tn.records.nodes).filter(eqe),"getJunctions"),sqe=o(()=>Object.values(Tn.records.nodes),"getNodes"),oqe=o(e=>Tn.records.nodes[e],"getNode"),lqe=o(function({id:e,icon:t,in:r,title:n}){if(Tn.records.registeredIds[e]!==void 0)throw new Error(`The group id [${e}] is already in use by another ${Tn.records.registeredIds[e]}`);if(r!==void 0){if(e===r)throw new Error(`The group [${e}] cannot be placed within itself`);if(Tn.records.registeredIds[r]===void 0)throw new Error(`The group [${e}]'s parent does not exist. Please make sure the parent is created before this group`);if(Tn.records.registeredIds[r]==="node")throw new Error(`The group [${e}]'s parent is not a group`)}Tn.records.registeredIds[e]="group",Tn.records.groups[e]={id:e,icon:t,title:n,in:r}},"addGroup"),cqe=o(()=>Object.values(Tn.records.groups),"getGroups"),uqe=o(function({lhsId:e,rhsId:t,lhsDir:r,rhsDir:n,lhsInto:i,rhsInto:a,lhsGroup:s,rhsGroup:l,title:u}){if(!bH(r))throw new Error(`Invalid direction given for left hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${r}`);if(!bH(n))throw new Error(`Invalid direction given for right hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${n}`);if(Tn.records.nodes[e]===void 0&&Tn.records.groups[e]===void 0)throw new Error(`The left-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(Tn.records.nodes[t]===void 0&&Tn.records.groups[e]===void 0)throw new Error(`The right-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);let h=Tn.records.nodes[e].in,d=Tn.records.nodes[t].in;if(s&&h&&d&&h==d)throw new Error(`The left-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(l&&h&&d&&h==d)throw new Error(`The right-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);let p={lhsId:e,lhsDir:r,lhsInto:i,lhsGroup:s,rhsId:t,rhsDir:n,rhsInto:a,rhsGroup:l,title:u};Tn.records.edges.push(p),Tn.records.nodes[e]&&Tn.records.nodes[t]&&(Tn.records.nodes[e].edges.push(Tn.records.edges[Tn.records.edges.length-1]),Tn.records.nodes[t].edges.push(Tn.records.edges[Tn.records.edges.length-1]))},"addEdge"),hqe=o(()=>Tn.records.edges,"getEdges"),dqe=o(()=>{if(Tn.records.dataStructures===void 0){let e=Object.entries(Tn.records.nodes).reduce((s,[l,u])=>(s[l]=u.edges.reduce((h,d)=>{if(d.lhsId===l){let p=TC(d.lhsDir,d.rhsDir);p&&(h[p]=d.rhsId)}else{let p=TC(d.rhsDir,d.lhsDir);p&&(h[p]=d.lhsId)}return h},{}),s),{}),t=Object.keys(e)[0],r={[t]:1},n=Object.keys(e).reduce((s,l)=>l===t?s:{...s,[l]:1},{}),i=o(s=>{let l={[s]:[0,0]},u=[s];for(;u.length>0;){let h=u.shift();if(h){r[h]=1,delete n[h];let d=e[h],[p,f]=l[h];Object.entries(d).forEach(([g,m])=>{r[m]||(l[m]=Zze([p,f],g),u.push(m))})}}return l},"BFS"),a=[i(t)];for(;Object.keys(n).length>0;)a.push(i(Object.keys(n)[0]));Tn.records.dataStructures={adjList:e,spatialMaps:a}}return Tn.records.dataStructures},"getDataStructures"),pqe=o((e,t)=>{Tn.records.elements[e]=t},"setElementForId"),gqe=o(e=>Tn.records.elements[e],"getElementById"),lx={clear:tqe,setDiagramTitle:_o,getDiagramTitle:Is,setAccTitle:ms,getAccTitle:Ls,setAccDescription:Ns,getAccDescription:Ms,addService:rqe,getServices:nqe,addJunction:iqe,getJunctions:aqe,getNodes:sqe,getNode:oqe,addGroup:lqe,getGroups:cqe,addEdge:uqe,getEdges:hqe,setElementForId:pqe,getElementById:gqe,getDataStructures:dqe},o(Ts,"getConfigField")}),fqe,mqe,wtt=R(()=>{"use strict";Av(),We(),J9(),EC(),fqe=o((e,t)=>{Lv(e,t),e.groups.map(t.addGroup),e.services.map(r=>t.addService({...r,type:"service"})),e.junctions.map(r=>t.addJunction({...r,type:"junction"})),e.edges.map(t.addEdge)},"populateDb"),mqe={parse:o(async e=>{let t=await tg("architecture",e);J.debug(t),fqe(t,lx)},"parse")}}),yqe,vqe,ktt=R(()=>{"use strict";yqe=o(e=>`
  .edge {
    stroke-width: ${e.archEdgeWidth};
    stroke: ${e.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${e.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${e.archGroupBorderColor};
    stroke-width: ${e.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),vqe=yqe}),bqe=St((e,t)=>{"use strict";o(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n():typeof define=="function"&&define.amd?define([],n):typeof e=="object"?e.layoutBase=n():r.layoutBase=n()},"webpackUniversalModuleDefinition")(e,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return o(i,"__webpack_require__"),i.m=r,i.c=n,i.i=function(a){return a},i.d=function(a,s,l){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:l})},i.n=function(a){var s=a&&a.__esModule?o(function(){return a.default},"getDefault"):o(function(){return a},"getModuleExports");return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=28)}([function(r,n,i){"use strict";function a(){}o(a,"LayoutConstants"),a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a},function(r,n,i){"use strict";var a=i(2),s=i(8),l=i(9);function u(d,p,f){a.call(this,f),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=f,this.bendpoints=[],this.source=d,this.target=p}o(u,"LEdge"),u.prototype=Object.create(a.prototype);for(var h in a)u[h]=a[h];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(d,p){for(var f=this.getOtherEnd(d),g=p.getGraphManager().getRoot();;){if(f.getOwner()==p)return f;if(f.getOwner()==g)break;f=f.getOwner().getParent()}return null},u.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=l.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=l.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u},function(r,n,i){"use strict";function a(s){this.vGraphObject=s}o(a,"LGraphObject"),r.exports=a},function(r,n,i){"use strict";var a=i(2),s=i(10),l=i(13),u=i(0),h=i(16),d=i(5);function p(g,m,y,b){y==null&&b==null&&(b=m),a.call(this,b),g.graphManager!=null&&(g=g.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=b,this.edges=[],this.graphManager=g,y!=null&&m!=null?this.rect=new l(m.x,m.y,y.width,y.height):this.rect=new l}o(p,"LNode"),p.prototype=Object.create(a.prototype);for(var f in a)p[f]=a[f];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(g){this.rect.width=g},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(g){this.rect.height=g},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(g,m){this.rect.x=g.x,this.rect.y=g.y,this.rect.width=m.width,this.rect.height=m.height},p.prototype.setCenter=function(g,m){this.rect.x=g-this.rect.width/2,this.rect.y=m-this.rect.height/2},p.prototype.setLocation=function(g,m){this.rect.x=g,this.rect.y=m},p.prototype.moveBy=function(g,m){this.rect.x+=g,this.rect.y+=m},p.prototype.getEdgeListToNode=function(g){var m=[],y,b=this;return b.edges.forEach(function(v){if(v.target==g){if(v.source!=b)throw"Incorrect edge source!";m.push(v)}}),m},p.prototype.getEdgesBetween=function(g){var m=[],y,b=this;return b.edges.forEach(function(v){if(!(v.source==b||v.target==b))throw"Incorrect edge source and/or target";(v.target==g||v.source==g)&&m.push(v)}),m},p.prototype.getNeighborsList=function(){var g=new Set,m=this;return m.edges.forEach(function(y){if(y.source==m)g.add(y.target);else{if(y.target!=m)throw"Incorrect incidency!";g.add(y.source)}}),g},p.prototype.withChildren=function(){var g=new Set,m,y;if(g.add(this),this.child!=null)for(var b=this.child.getNodes(),v=0;v<b.length;v++)m=b[v],y=m.withChildren(),y.forEach(function(x){g.add(x)});return g},p.prototype.getNoOfChildren=function(){var g=0,m;if(this.child==null)g=1;else for(var y=this.child.getNodes(),b=0;b<y.length;b++)m=y[b],g+=m.getNoOfChildren();return g==0&&(g=1),g},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var g,m,y=-u.INITIAL_WORLD_BOUNDARY,b=u.INITIAL_WORLD_BOUNDARY;g=u.WORLD_CENTER_X+h.nextDouble()*(b-y)+y;var v=-u.INITIAL_WORLD_BOUNDARY,x=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+h.nextDouble()*(x-v)+v,this.rect.x=g,this.rect.y=m},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var g=this.getChild();if(g.updateBounds(!0),this.rect.x=g.getLeft(),this.rect.y=g.getTop(),this.setWidth(g.getRight()-g.getLeft()),this.setHeight(g.getBottom()-g.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=g.getRight()-g.getLeft(),y=g.getBottom()-g.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(m+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>m?(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(m+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(y+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>y?(this.rect.y-=(this.labelHeight-y)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(y+this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(g){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var y=this.rect.y;y>u.WORLD_BOUNDARY?y=u.WORLD_BOUNDARY:y<-u.WORLD_BOUNDARY&&(y=-u.WORLD_BOUNDARY);var b=new d(m,y),v=g.inverseTransformPoint(b);this.setLocation(v.x,v.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=p},function(r,n,i){"use strict";var a=i(0);function s(){}o(s,"FDLayoutConstants");for(var l in a)s[l]=a[l];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s},function(r,n,i){"use strict";function a(s,l){s==null&&l==null?(this.x=0,this.y=0):(this.x=s,this.y=l)}o(a,"PointD"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a},function(r,n,i){"use strict";var a=i(2),s=i(10),l=i(0),u=i(7),h=i(3),d=i(1),p=i(13),f=i(12),g=i(11);function m(b,v,x){a.call(this,x),this.estimatedSize=s.MIN_VALUE,this.margin=l.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=b,v!=null&&v instanceof u?this.graphManager=v:v!=null&&v instanceof Layout&&(this.graphManager=v.graphManager)}o(m,"LGraph"),m.prototype=Object.create(a.prototype);for(var y in a)m[y]=a[y];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(b,v,x){if(v==null&&x==null){var w=b;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(w)>-1)throw"Node already in graph!";return w.owner=this,this.getNodes().push(w),w}else{var E=b;if(!(this.getNodes().indexOf(v)>-1&&this.getNodes().indexOf(x)>-1))throw"Source or target not in graph!";if(!(v.owner==x.owner&&v.owner==this))throw"Both owners must be this graph!";return v.owner!=x.owner?null:(E.source=v,E.target=x,E.isInterGraph=!1,this.getEdges().push(E),v.edges.push(E),x!=v&&x.edges.push(E),E)}},m.prototype.remove=function(b){var v=b;if(b instanceof h){if(v==null)throw"Node is null!";if(!(v.owner!=null&&v.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var x=v.edges.slice(),w,E=x.length,A=0;A<E;A++)w=x[A],w.isInterGraph?this.graphManager.remove(w):w.source.owner.remove(w);var N=this.nodes.indexOf(v);if(N==-1)throw"Node not in owner node list!";this.nodes.splice(N,1)}else if(b instanceof d){var w=b;if(w==null)throw"Edge is null!";if(!(w.source!=null&&w.target!=null))throw"Source and/or target is null!";if(!(w.source.owner!=null&&w.target.owner!=null&&w.source.owner==this&&w.target.owner==this))throw"Source and/or target owner is invalid!";var L=w.source.edges.indexOf(w),C=w.target.edges.indexOf(w);if(!(L>-1&&C>-1))throw"Source and/or target doesn't know this edge!";w.source.edges.splice(L,1),w.target!=w.source&&w.target.edges.splice(C,1);var N=w.source.owner.getEdges().indexOf(w);if(N==-1)throw"Not in owner's edge list!";w.source.owner.getEdges().splice(N,1)}},m.prototype.updateLeftTop=function(){for(var b=s.MAX_VALUE,v=s.MAX_VALUE,x,w,E,A=this.getNodes(),N=A.length,L=0;L<N;L++){var C=A[L];x=C.getTop(),w=C.getLeft(),b>x&&(b=x),v>w&&(v=w)}return b==s.MAX_VALUE?null:(A[0].getParent().paddingLeft!=null?E=A[0].getParent().paddingLeft:E=this.margin,this.left=v-E,this.top=b-E,new f(this.left,this.top))},m.prototype.updateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,E=-s.MAX_VALUE,A,N,L,C,D,P=this.nodes,O=P.length,I=0;I<O;I++){var q=P[I];b&&q.child!=null&&q.updateBounds(),A=q.getLeft(),N=q.getRight(),L=q.getTop(),C=q.getBottom(),v>A&&(v=A),x<N&&(x=N),w>L&&(w=L),E<C&&(E=C)}var S=new p(v,w,x-v,E-w);v==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),P[0].getParent().paddingLeft!=null?D=P[0].getParent().paddingLeft:D=this.margin,this.left=S.x-D,this.right=S.x+S.width+D,this.top=S.y-D,this.bottom=S.y+S.height+D},m.calculateBounds=function(b){for(var v=s.MAX_VALUE,x=-s.MAX_VALUE,w=s.MAX_VALUE,E=-s.MAX_VALUE,A,N,L,C,D=b.length,P=0;P<D;P++){var O=b[P];A=O.getLeft(),N=O.getRight(),L=O.getTop(),C=O.getBottom(),v>A&&(v=A),x<N&&(x=N),w>L&&(w=L),E<C&&(E=C)}var I=new p(v,w,x-v,E-w);return I},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var b=0,v=this.nodes,x=v.length,w=0;w<x;w++){var E=v[w];b+=E.calcEstimatedSize()}return b==0?this.estimatedSize=l.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=b/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var b=this;if(this.nodes.length==0){this.isConnected=!0;return}var v=new g,x=new Set,w=this.nodes[0],E,A,N=w.withChildren();for(N.forEach(function(I){v.push(I),x.add(I)});v.length!==0;){w=v.shift(),E=w.getEdges();for(var L=E.length,C=0;C<L;C++){var D=E[C];if(A=D.getOtherEndInGraph(w,this),A!=null&&!x.has(A)){var P=A.withChildren();P.forEach(function(I){v.push(I),x.add(I)})}}}if(this.isConnected=!1,x.size>=this.nodes.length){var O=0;x.forEach(function(I){I.owner==b&&O++}),O==this.nodes.length&&(this.isConnected=!0)}},r.exports=m},function(r,n,i){"use strict";var a,s=i(1);function l(u){a=i(6),this.layout=u,this.graphs=[],this.edges=[]}o(l,"LGraphManager"),l.prototype.addRoot=function(){var u=this.layout.newGraph(),h=this.layout.newNode(null),d=this.add(u,h);return this.setRootGraph(d),this.rootGraph},l.prototype.add=function(u,h,d,p,f){if(d==null&&p==null&&f==null){if(u==null)throw"Graph is null!";if(h==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(h.child!=null)throw"Already has a child!";return u.parent=h,h.child=u,u}else{f=d,p=h,d=u;var g=p.getOwner(),m=f.getOwner();if(!(g!=null&&g.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(g==m)return d.isInterGraph=!1,g.add(d,p,f);if(d.isInterGraph=!0,d.source=p,d.target=f,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),!(d.source!=null&&d.target!=null))throw"Edge source and/or target is null!";if(!(d.source.edges.indexOf(d)==-1&&d.target.edges.indexOf(d)==-1))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d}},l.prototype.remove=function(u){if(u instanceof a){var h=u;if(h.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(h==this.rootGraph||h.parent!=null&&h.parent.graphManager==this))throw"Invalid parent node!";var d=[];d=d.concat(h.getEdges());for(var p,f=d.length,g=0;g<f;g++)p=d[g],h.remove(p);var m=[];m=m.concat(h.getNodes());var y;f=m.length;for(var g=0;g<f;g++)y=m[g],h.remove(y);h==this.rootGraph&&this.setRootGraph(null);var b=this.graphs.indexOf(h);this.graphs.splice(b,1),h.parent=null}else if(u instanceof s){if(p=u,p==null)throw"Edge is null!";if(!p.isInterGraph)throw"Not an inter-graph edge!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.edges.indexOf(p)!=-1&&p.target.edges.indexOf(p)!=-1))throw"Source and/or target doesn't know this edge!";var b=p.source.edges.indexOf(p);if(p.source.edges.splice(b,1),b=p.target.edges.indexOf(p),p.target.edges.splice(b,1),!(p.source.owner!=null&&p.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(p.source.owner.getGraphManager().edges.indexOf(p)==-1)throw"Not in owner graph manager's edge list!";var b=p.source.owner.getGraphManager().edges.indexOf(p);p.source.owner.getGraphManager().edges.splice(b,1)}},l.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},l.prototype.getGraphs=function(){return this.graphs},l.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<d;p++)u=u.concat(h[p].getNodes());this.allNodes=u}return this.allNodes},l.prototype.resetAllNodes=function(){this.allNodes=null},l.prototype.resetAllEdges=function(){this.allEdges=null},l.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},l.prototype.getAllEdges=function(){if(this.allEdges==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<h.length;p++)u=u.concat(h[p].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},l.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},l.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},l.prototype.getRoot=function(){return this.rootGraph},l.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},l.prototype.getLayout=function(){return this.layout},l.prototype.isOneAncestorOfOther=function(u,h){if(!(u!=null&&h!=null))throw"assert failed";if(u==h)return!0;var d=u.getOwner(),p;do{if(p=d.getParent(),p==null)break;if(p==h)return!0;if(d=p.getOwner(),d==null)break}while(!0);d=h.getOwner();do{if(p=d.getParent(),p==null)break;if(p==u)return!0;if(d=p.getOwner(),d==null)break}while(!0);return!1},l.prototype.calcLowestCommonAncestors=function(){for(var u,h,d,p,f,g=this.getAllEdges(),m=g.length,y=0;y<m;y++){if(u=g[y],h=u.source,d=u.target,u.lca=null,u.sourceInLca=h,u.targetInLca=d,h==d){u.lca=h.getOwner();continue}for(p=h.getOwner();u.lca==null;){for(u.targetInLca=d,f=d.getOwner();u.lca==null;){if(f==p){u.lca=f;break}if(f==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=f.getParent(),f=u.targetInLca.getOwner()}if(p==this.rootGraph)break;u.lca==null&&(u.sourceInLca=p.getParent(),p=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},l.prototype.calcLowestCommonAncestor=function(u,h){if(u==h)return u.getOwner();var d=u.getOwner();do{if(d==null)break;var p=h.getOwner();do{if(p==null)break;if(p==d)return p;p=p.getParent().getOwner()}while(!0);d=d.getParent().getOwner()}while(!0);return d},l.prototype.calcInclusionTreeDepths=function(u,h){u==null&&h==null&&(u=this.rootGraph,h=1);for(var d,p=u.getNodes(),f=p.length,g=0;g<f;g++)d=p[g],d.inclusionTreeDepth=h,d.child!=null&&this.calcInclusionTreeDepths(d.child,h+1)},l.prototype.includesInvalidEdge=function(){for(var u,h=[],d=this.edges.length,p=0;p<d;p++)u=this.edges[p],this.isOneAncestorOfOther(u.source,u.target)&&h.push(u);for(var p=0;p<h.length;p++)this.remove(h[p]);return!1},r.exports=l},function(r,n,i){"use strict";var a=i(12);function s(){}o(s,"IGeometry"),s.calcSeparationAmount=function(l,u,h,d){if(!l.intersects(u))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(l,u,p),h[0]=Math.min(l.getRight(),u.getRight())-Math.max(l.x,u.x),h[1]=Math.min(l.getBottom(),u.getBottom())-Math.max(l.y,u.y),l.getX()<=u.getX()&&l.getRight()>=u.getRight()?h[0]+=Math.min(u.getX()-l.getX(),l.getRight()-u.getRight()):u.getX()<=l.getX()&&u.getRight()>=l.getRight()&&(h[0]+=Math.min(l.getX()-u.getX(),u.getRight()-l.getRight())),l.getY()<=u.getY()&&l.getBottom()>=u.getBottom()?h[1]+=Math.min(u.getY()-l.getY(),l.getBottom()-u.getBottom()):u.getY()<=l.getY()&&u.getBottom()>=l.getBottom()&&(h[1]+=Math.min(l.getY()-u.getY(),u.getBottom()-l.getBottom()));var f=Math.abs((u.getCenterY()-l.getCenterY())/(u.getCenterX()-l.getCenterX()));u.getCenterY()===l.getCenterY()&&u.getCenterX()===l.getCenterX()&&(f=1);var g=f*h[0],m=h[1]/f;h[0]<m?m=h[0]:g=h[1],h[0]=-1*p[0]*(m/2+d),h[1]=-1*p[1]*(g/2+d)},s.decideDirectionsForOverlappingNodes=function(l,u,h){l.getCenterX()<u.getCenterX()?h[0]=-1:h[0]=1,l.getCenterY()<u.getCenterY()?h[1]=-1:h[1]=1},s.getIntersection2=function(l,u,h){var d=l.getCenterX(),p=l.getCenterY(),f=u.getCenterX(),g=u.getCenterY();if(l.intersects(u))return h[0]=d,h[1]=p,h[2]=f,h[3]=g,!0;var m=l.getX(),y=l.getY(),b=l.getRight(),v=l.getX(),x=l.getBottom(),w=l.getRight(),E=l.getWidthHalf(),A=l.getHeightHalf(),N=u.getX(),L=u.getY(),C=u.getRight(),D=u.getX(),P=u.getBottom(),O=u.getRight(),I=u.getWidthHalf(),q=u.getHeightHalf(),S=!1,B=!1;if(d===f){if(p>g)return h[0]=d,h[1]=y,h[2]=f,h[3]=P,!1;if(p<g)return h[0]=d,h[1]=x,h[2]=f,h[3]=L,!1}else if(p===g){if(d>f)return h[0]=m,h[1]=p,h[2]=C,h[3]=g,!1;if(d<f)return h[0]=b,h[1]=p,h[2]=N,h[3]=g,!1}else{var F=l.height/l.width,z=u.height/u.width,M=(g-p)/(f-d),G=void 0,Y=void 0,V=void 0,X=void 0,re=void 0,de=void 0;if(-F===M?d>f?(h[0]=v,h[1]=x,S=!0):(h[0]=b,h[1]=y,S=!0):F===M&&(d>f?(h[0]=m,h[1]=y,S=!0):(h[0]=w,h[1]=x,S=!0)),-z===M?f>d?(h[2]=D,h[3]=P,B=!0):(h[2]=C,h[3]=L,B=!0):z===M&&(f>d?(h[2]=N,h[3]=L,B=!0):(h[2]=O,h[3]=P,B=!0)),S&&B)return!1;if(d>f?p>g?(G=this.getCardinalDirection(F,M,4),Y=this.getCardinalDirection(z,M,2)):(G=this.getCardinalDirection(-F,M,3),Y=this.getCardinalDirection(-z,M,1)):p>g?(G=this.getCardinalDirection(-F,M,1),Y=this.getCardinalDirection(-z,M,3)):(G=this.getCardinalDirection(F,M,2),Y=this.getCardinalDirection(z,M,4)),!S)switch(G){case 1:X=y,V=d+-A/M,h[0]=V,h[1]=X;break;case 2:V=w,X=p+E*M,h[0]=V,h[1]=X;break;case 3:X=x,V=d+A/M,h[0]=V,h[1]=X;break;case 4:V=v,X=p+-E*M,h[0]=V,h[1]=X;break}if(!B)switch(Y){case 1:de=L,re=f+-q/M,h[2]=re,h[3]=de;break;case 2:re=O,de=g+I*M,h[2]=re,h[3]=de;break;case 3:de=P,re=f+q/M,h[2]=re,h[3]=de;break;case 4:re=D,de=g+-I*M,h[2]=re,h[3]=de;break}}return!1},s.getCardinalDirection=function(l,u,h){return l>u?h:1+h%4},s.getIntersection=function(l,u,h,d){if(d==null)return this.getIntersection2(l,u,h);var p=l.x,f=l.y,g=u.x,m=u.y,y=h.x,b=h.y,v=d.x,x=d.y,w=void 0,E=void 0,A=void 0,N=void 0,L=void 0,C=void 0,D=void 0,P=void 0,O=void 0;return A=m-f,L=p-g,D=g*f-p*m,N=x-b,C=y-v,P=v*b-y*x,O=A*C-N*L,O===0?null:(w=(L*P-C*D)/O,E=(N*D-A*P)/O,new a(w,E))},s.angleOfVector=function(l,u,h,d){var p=void 0;return l!==h?(p=Math.atan((d-u)/(h-l)),h<l?p+=Math.PI:d<u&&(p+=this.TWO_PI)):d<u?p=this.ONE_AND_HALF_PI:p=this.HALF_PI,p},s.doIntersect=function(l,u,h,d){var p=l.x,f=l.y,g=u.x,m=u.y,y=h.x,b=h.y,v=d.x,x=d.y,w=(g-p)*(x-b)-(v-y)*(m-f);if(w===0)return!1;var E=((x-b)*(v-p)+(y-v)*(x-f))/w,A=((f-m)*(v-p)+(g-p)*(x-f))/w;return 0<E&&E<1&&0<A&&A<1},s.findCircleLineIntersections=function(l,u,h,d,p,f,g){var m=(h-l)*(h-l)+(d-u)*(d-u),y=2*((l-p)*(h-l)+(u-f)*(d-u)),b=(l-p)*(l-p)+(u-f)*(u-f)-g*g,v=y*y-4*m*b;if(v>=0){var x=(-y+Math.sqrt(y*y-4*m*b))/(2*m),w=(-y-Math.sqrt(y*y-4*m*b))/(2*m),E=null;return x>=0&&x<=1?[x]:w>=0&&w<=1?[w]:E}else return null},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s},function(r,n,i){"use strict";function a(){}o(a,"IMath"),a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a},function(r,n,i){"use strict";function a(){}o(a,"Integer"),a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a},function(r,n,i){"use strict";var a=function(){function p(f,g){for(var m=0;m<g.length;m++){var y=g[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return o(p,"defineProperties"),function(f,g,m){return g&&p(f.prototype,g),m&&p(f,m),f}}();function s(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var l=o(function(p){return{value:p,next:null,prev:null}},"nodeFrom"),u=o(function(p,f,g,m){return p!==null?p.next=f:m.head=f,g!==null?g.prev=f:m.tail=f,f.prev=p,f.next=g,m.length++,f},"add"),h=o(function(p,f){var g=p.prev,m=p.next;return g!==null?g.next=m:f.head=m,m!==null?m.prev=g:f.tail=g,p.prev=p.next=null,f.length--,p},"_remove"),d=function(){function p(f){var g=this;s(this,p),this.length=0,this.head=null,this.tail=null,f?.forEach(function(m){return g.push(m)})}return o(p,"LinkedList"),a(p,[{key:"size",value:o(function(){return this.length},"size")},{key:"insertBefore",value:o(function(f,g){return u(g.prev,l(f),g,this)},"insertBefore")},{key:"insertAfter",value:o(function(f,g){return u(g,l(f),g.next,this)},"insertAfter")},{key:"insertNodeBefore",value:o(function(f,g){return u(g.prev,f,g,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:o(function(f,g){return u(g,f,g.next,this)},"insertNodeAfter")},{key:"push",value:o(function(f){return u(this.tail,l(f),null,this)},"push")},{key:"unshift",value:o(function(f){return u(null,l(f),this.head,this)},"unshift")},{key:"remove",value:o(function(f){return h(f,this)},"remove")},{key:"pop",value:o(function(){return h(this.tail,this).value},"pop")},{key:"popNode",value:o(function(){return h(this.tail,this)},"popNode")},{key:"shift",value:o(function(){return h(this.head,this).value},"shift")},{key:"shiftNode",value:o(function(){return h(this.head,this)},"shiftNode")},{key:"get_object_at",value:o(function(f){if(f<=this.length()){for(var g=1,m=this.head;g<f;)m=m.next,g++;return m.value}},"get_object_at")},{key:"set_object_at",value:o(function(f,g){if(f<=this.length()){for(var m=1,y=this.head;m<f;)y=y.next,m++;y.value=g}},"set_object_at")}]),p}();r.exports=d},function(r,n,i){"use strict";function a(s,l,u){this.x=null,this.y=null,s==null&&l==null&&u==null?(this.x=0,this.y=0):typeof s=="number"&&typeof l=="number"&&u==null?(this.x=s,this.y=l):s.constructor.name=="Point"&&l==null&&u==null&&(u=s,this.x=u.x,this.y=u.y)}o(a,"Point"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,l,u){s.constructor.name=="Point"&&l==null&&u==null?(u=s,this.setLocation(u.x,u.y)):typeof s=="number"&&typeof l=="number"&&u==null&&(parseInt(s)==s&&parseInt(l)==l?this.move(s,l):(this.x=Math.floor(s+.5),this.y=Math.floor(l+.5)))},a.prototype.move=function(s,l){this.x=s,this.y=l},a.prototype.translate=function(s,l){this.x+=s,this.y+=l},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var l=s;return this.x==l.x&&this.y==l.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a},function(r,n,i){"use strict";function a(s,l,u,h){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&l!=null&&u!=null&&h!=null&&(this.x=s,this.y=l,this.width=u,this.height=h)}o(a,"RectangleD"),a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a},function(r,n,i){"use strict";var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};function s(){}o(s,"UniqueIDGeneretor"),s.lastID=0,s.createID=function(l){return s.isPrimitive(l)?l:(l.uniqueID!=null||(l.uniqueID=s.getString(),s.lastID++),l.uniqueID)},s.getString=function(l){return l==null&&(l=s.lastID),"Object#"+l},s.isPrimitive=function(l){var u=typeof l>"u"?"undefined":a(l);return l==null||u!="object"&&u!="function"},r.exports=s},function(r,n,i){"use strict";function a(y){if(Array.isArray(y)){for(var b=0,v=Array(y.length);b<y.length;b++)v[b]=y[b];return v}else return Array.from(y)}o(a,"_toConsumableArray");var s=i(0),l=i(7),u=i(3),h=i(1),d=i(6),p=i(5),f=i(17),g=i(29);function m(y){g.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new l(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}o(m,"Layout"),m.RANDOM_SEED=1,m.prototype=Object.create(g.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var y=new l(this);return this.graphManager=y,y},m.prototype.newGraph=function(y){return new d(null,this.graphManager,y)},m.prototype.newNode=function(y){return new u(this.graphManager,y)},m.prototype.newEdge=function(y){return new h(null,null,y)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),s.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y,b=this.graphManager.getAllEdges(),v=0;v<b.length;v++)y=b[v];for(var x,w=this.graphManager.getRoot().getNodes(),v=0;v<w.length;v++)x=w[v];this.update(this.graphManager.getRoot())}},m.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof u){var b=y;if(b.getChild()!=null)for(var v=b.getChild().getNodes(),x=0;x<v.length;x++)update(v[x]);if(b.vGraphObject!=null){var w=b.vGraphObject;w.update(b)}}else if(y instanceof h){var E=y;if(E.vGraphObject!=null){var A=E.vGraphObject;A.update(E)}}else if(y instanceof d){var N=y;if(N.vGraphObject!=null){var L=N.vGraphObject;L.update(N)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(y){if(y==null)this.transform(new p(0,0));else{var b=new f,v=this.graphManager.getRoot().updateLeftTop();if(v!=null){b.setWorldOrgX(y.x),b.setWorldOrgY(y.y),b.setDeviceOrgX(v.x),b.setDeviceOrgY(v.y);for(var x=this.getAllNodes(),w,E=0;E<x.length;E++)w=x[E],w.transform(b)}}},m.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var b,v,x=y.getNodes(),w=0;w<x.length;w++)b=x[w],v=b.getChild(),v==null||v.getNodes().length==0?b.scatter():(this.positionNodesRandomly(v),b.updateBounds())},m.prototype.getFlatForest=function(){for(var y=[],b=!0,v=this.graphManager.getRoot().getNodes(),x=!0,w=0;w<v.length;w++)v[w].getChild()!=null&&(x=!1);if(!x)return y;var E=new Set,A=[],N=new Map,L=[];for(L=L.concat(v);L.length>0&&b;){for(A.push(L[0]);A.length>0&&b;){var C=A[0];A.splice(0,1),E.add(C);for(var D=C.getEdges(),w=0;w<D.length;w++){var P=D[w].getOtherEnd(C);if(N.get(C)!=P)if(!E.has(P))A.push(P),N.set(P,C);else{b=!1;break}}}if(!b)y=[];else{var O=[].concat(a(E));y.push(O);for(var w=0;w<O.length;w++){var I=O[w],q=L.indexOf(I);q>-1&&L.splice(q,1)}E=new Set,N=new Map}}return y},m.prototype.createDummyNodesForBendpoints=function(y){for(var b=[],v=y.source,x=this.graphManager.calcLowestCommonAncestor(y.source,y.target),w=0;w<y.bendpoints.length;w++){var E=this.newNode(null);E.setRect(new Point(0,0),new Dimension(1,1)),x.add(E);var A=this.newEdge(null);this.graphManager.add(A,v,E),b.add(E),v=E}var A=this.newEdge(null);return this.graphManager.add(A,v,y.target),this.edgeToDummyNodes.set(y,b),y.isInterGraph()?this.graphManager.remove(y):x.remove(y),b},m.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(a(this.edgeToDummyNodes.keys())).concat(y);for(var b=0;b<y.length;b++){var v=y[b];if(v.bendpoints.length>0){for(var x=this.edgeToDummyNodes.get(v),w=0;w<x.length;w++){var E=x[w],A=new p(E.getCenterX(),E.getCenterY()),N=v.bendpoints.get(w);N.x=A.x,N.y=A.y,E.getOwner().remove(E)}this.graphManager.add(v,v.source,v.target)}}},m.transform=function(y,b,v,x){if(v!=null&&x!=null){var w=b;if(y<=50){var E=b/v;w-=(b-E)/50*(50-y)}else{var A=b*x;w+=(A-b)/50*(y-50)}return w}else{var N,L;return y<=50?(N=9*b/500,L=b/10):(N=9*b/50,L=-8*b),N*y+L}},m.findCenterOfTree=function(y){var b=[];b=b.concat(y);var v=[],x=new Map,w=!1,E=null;(b.length==1||b.length==2)&&(w=!0,E=b[0]);for(var A=0;A<b.length;A++){var N=b[A],L=N.getNeighborsList().size;x.set(N,N.getNeighborsList().size),L==1&&v.push(N)}var C=[];for(C=C.concat(v);!w;){var D=[];D=D.concat(C),C=[];for(var A=0;A<b.length;A++){var N=b[A],P=b.indexOf(N);P>=0&&b.splice(P,1);var O=N.getNeighborsList();O.forEach(function(S){if(v.indexOf(S)<0){var B=x.get(S),F=B-1;F==1&&C.push(S),x.set(S,F)}})}v=v.concat(C),(b.length==1||b.length==2)&&(w=!0,E=b[0])}return E},m.prototype.setGraphManager=function(y){this.graphManager=y},r.exports=m},function(r,n,i){"use strict";function a(){}o(a,"RandomSeed"),a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a},function(r,n,i){"use strict";var a=i(5);function s(l,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}o(s,"Transform"),s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(l){this.lworldOrgX=l},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(l){this.lworldOrgY=l},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(l){this.lworldExtX=l},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(l){this.lworldExtY=l},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(l){this.ldeviceOrgX=l},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(l){this.ldeviceOrgY=l},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(l){this.ldeviceExtX=l},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(l){this.ldeviceExtY=l},s.prototype.transformX=function(l){var u=0,h=this.lworldExtX;return h!=0&&(u=this.ldeviceOrgX+(l-this.lworldOrgX)*this.ldeviceExtX/h),u},s.prototype.transformY=function(l){var u=0,h=this.lworldExtY;return h!=0&&(u=this.ldeviceOrgY+(l-this.lworldOrgY)*this.ldeviceExtY/h),u},s.prototype.inverseTransformX=function(l){var u=0,h=this.ldeviceExtX;return h!=0&&(u=this.lworldOrgX+(l-this.ldeviceOrgX)*this.lworldExtX/h),u},s.prototype.inverseTransformY=function(l){var u=0,h=this.ldeviceExtY;return h!=0&&(u=this.lworldOrgY+(l-this.ldeviceOrgY)*this.lworldExtY/h),u},s.prototype.inverseTransformPoint=function(l){var u=new a(this.inverseTransformX(l.x),this.inverseTransformY(l.y));return u},r.exports=s},function(r,n,i){"use strict";function a(g){if(Array.isArray(g)){for(var m=0,y=Array(g.length);m<g.length;m++)y[m]=g[m];return y}else return Array.from(g)}o(a,"_toConsumableArray");var s=i(15),l=i(4),u=i(0),h=i(8),d=i(9);function p(){s.call(this),this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=l.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=l.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*l.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=l.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=l.MAX_ITERATIONS}o(p,"FDLayout"),p.prototype=Object.create(s.prototype);for(var f in s)p[f]=s[f];p.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=l.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var g,m,y,b,v,x,w,E=this.getGraphManager().getAllEdges(),A=0;A<E.length;A++)g=E[A],m=g.idealLength,g.isInterGraph&&(b=g.getSource(),v=g.getTarget(),x=g.getSourceInLca().getEstimatedSize(),w=g.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(g.idealLength+=x+w-2*u.SIMPLE_NODE_SIZE),y=g.getLca().getInclusionTreeDepth(),g.idealLength+=m*l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(b.getInclusionTreeDepth()+v.getInclusionTreeDepth()-2*y))},p.prototype.initSpringEmbedder=function(){var g=this.getAllNodes().length;this.incremental?(g>l.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*l.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(g-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-l.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT_INCREMENTAL):(g>l.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(l.COOLING_ADAPTATION_FACTOR,1-(g-l.ADAPTATION_LOWER_NODE_LIMIT)/(l.ADAPTATION_UPPER_NODE_LIMIT-l.ADAPTATION_LOWER_NODE_LIMIT)*(1-l.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=l.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*l.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var g=this.getAllEdges(),m,y=0;y<g.length;y++)m=g[y],this.calcSpringForce(m,m.idealLength)},p.prototype.calcRepulsionForces=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,b,v,x,w=this.getAllNodes(),E;if(this.useFRGridVariant)for(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&g&&this.updateGrid(),E=new Set,y=0;y<w.length;y++)v=w[y],this.calculateRepulsionForceOfANode(v,E,g,m),E.add(v);else for(y=0;y<w.length;y++)for(v=w[y],b=y+1;b<w.length;b++)x=w[b],v.getOwner()==x.getOwner()&&this.calcRepulsionForce(v,x)},p.prototype.calcGravitationalForces=function(){for(var g,m=this.getAllNodesToApplyGravitation(),y=0;y<m.length;y++)g=m[y],this.calcGravitationalForce(g)},p.prototype.moveNodes=function(){for(var g=this.getAllNodes(),m,y=0;y<g.length;y++)m=g[y],m.move()},p.prototype.calcSpringForce=function(g,m){var y=g.getSource(),b=g.getTarget(),v,x,w,E;if(this.uniformLeafNodeSizes&&y.getChild()==null&&b.getChild()==null)g.updateLengthSimple();else if(g.updateLength(),g.isOverlapingSourceAndTarget)return;v=g.getLength(),v!=0&&(x=g.edgeElasticity*(v-m),w=x*(g.lengthX/v),E=x*(g.lengthY/v),y.springForceX+=w,y.springForceY+=E,b.springForceX-=w,b.springForceY-=E)},p.prototype.calcRepulsionForce=function(g,m){var y=g.getRect(),b=m.getRect(),v=new Array(2),x=new Array(4),w,E,A,N,L,C,D;if(y.intersects(b)){h.calcSeparationAmount(y,b,v,l.DEFAULT_EDGE_LENGTH/2),C=2*v[0],D=2*v[1];var P=g.noOfChildren*m.noOfChildren/(g.noOfChildren+m.noOfChildren);g.repulsionForceX-=P*C,g.repulsionForceY-=P*D,m.repulsionForceX+=P*C,m.repulsionForceY+=P*D}else this.uniformLeafNodeSizes&&g.getChild()==null&&m.getChild()==null?(w=b.getCenterX()-y.getCenterX(),E=b.getCenterY()-y.getCenterY()):(h.getIntersection(y,b,x),w=x[2]-x[0],E=x[3]-x[1]),Math.abs(w)<l.MIN_REPULSION_DIST&&(w=d.sign(w)*l.MIN_REPULSION_DIST),Math.abs(E)<l.MIN_REPULSION_DIST&&(E=d.sign(E)*l.MIN_REPULSION_DIST),A=w*w+E*E,N=Math.sqrt(A),L=(g.nodeRepulsion/2+m.nodeRepulsion/2)*g.noOfChildren*m.noOfChildren/A,C=L*w/N,D=L*E/N,g.repulsionForceX-=C,g.repulsionForceY-=D,m.repulsionForceX+=C,m.repulsionForceY+=D},p.prototype.calcGravitationalForce=function(g){var m,y,b,v,x,w,E,A;m=g.getOwner(),y=(m.getRight()+m.getLeft())/2,b=(m.getTop()+m.getBottom())/2,v=g.getCenterX()-y,x=g.getCenterY()-b,w=Math.abs(v)+g.getWidth()/2,E=Math.abs(x)+g.getHeight()/2,g.getOwner()==this.graphManager.getRoot()?(A=m.getEstimatedSize()*this.gravityRangeFactor,(w>A||E>A)&&(g.gravitationForceX=-this.gravityConstant*v,g.gravitationForceY=-this.gravityConstant*x)):(A=m.getEstimatedSize()*this.compoundGravityRangeFactor,(w>A||E>A)&&(g.gravitationForceX=-this.gravityConstant*v*this.compoundGravityConstant,g.gravitationForceY=-this.gravityConstant*x*this.compoundGravityConstant))},p.prototype.isConverged=function(){var g,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),g=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,g||m},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var g,m=this.graphManager.getAllNodes(),y=0;y<m.length;y++)g=m[y],g.noOfChildren=g.getNoOfChildren()},p.prototype.calcGrid=function(g){var m=0,y=0;m=parseInt(Math.ceil((g.getRight()-g.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((g.getBottom()-g.getTop())/this.repulsionRange));for(var b=new Array(m),v=0;v<m;v++)b[v]=new Array(y);for(var v=0;v<m;v++)for(var x=0;x<y;x++)b[v][x]=new Array;return b},p.prototype.addNodeToGrid=function(g,m,y){var b=0,v=0,x=0,w=0;b=parseInt(Math.floor((g.getRect().x-m)/this.repulsionRange)),v=parseInt(Math.floor((g.getRect().width+g.getRect().x-m)/this.repulsionRange)),x=parseInt(Math.floor((g.getRect().y-y)/this.repulsionRange)),w=parseInt(Math.floor((g.getRect().height+g.getRect().y-y)/this.repulsionRange));for(var E=b;E<=v;E++)for(var A=x;A<=w;A++)this.grid[E][A].push(g),g.setGridCoordinates(b,v,x,w)},p.prototype.updateGrid=function(){var g,m,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),g=0;g<y.length;g++)m=y[g],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(g,m,y,b){if(this.totalIterations%l.GRID_CALCULATION_CHECK_PERIOD==1&&y||b){var v=new Set;g.surrounding=new Array;for(var x,w=this.grid,E=g.startX-1;E<g.finishX+2;E++)for(var A=g.startY-1;A<g.finishY+2;A++)if(!(E<0||A<0||E>=w.length||A>=w[0].length)){for(var N=0;N<w[E][A].length;N++)if(x=w[E][A][N],!(g.getOwner()!=x.getOwner()||g==x)&&!m.has(x)&&!v.has(x)){var L=Math.abs(g.getCenterX()-x.getCenterX())-(g.getWidth()/2+x.getWidth()/2),C=Math.abs(g.getCenterY()-x.getCenterY())-(g.getHeight()/2+x.getHeight()/2);L<=this.repulsionRange&&C<=this.repulsionRange&&v.add(x)}}g.surrounding=[].concat(a(v))}for(E=0;E<g.surrounding.length;E++)this.calcRepulsionForce(g,g.surrounding[E])},p.prototype.calcRepulsionRange=function(){return 0},r.exports=p},function(r,n,i){"use strict";var a=i(1),s=i(4);function l(h,d,p){a.call(this,h,d,p),this.idealLength=s.DEFAULT_EDGE_LENGTH,this.edgeElasticity=s.DEFAULT_SPRING_STRENGTH}o(l,"FDLayoutEdge"),l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];r.exports=l},function(r,n,i){"use strict";var a=i(3),s=i(4);function l(h,d,p,f){a.call(this,h,d,p,f),this.nodeRepulsion=s.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}o(l,"FDLayoutNode"),l.prototype=Object.create(a.prototype);for(var u in a)l[u]=a[u];l.prototype.setGridCoordinates=function(h,d,p,f){this.startX=h,this.finishX=d,this.startY=p,this.finishY=f},r.exports=l},function(r,n,i){"use strict";function a(s,l){this.width=0,this.height=0,s!==null&&l!==null&&(this.height=l,this.width=s)}o(a,"DimensionD"),a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a},function(r,n,i){"use strict";var a=i(14);function s(){this.map={},this.keys=[]}o(s,"HashMap"),s.prototype.put=function(l,u){var h=a.createID(l);this.contains(h)||(this.map[h]=u,this.keys.push(l))},s.prototype.contains=function(l){var u=a.createID(l);return this.map[l]!=null},s.prototype.get=function(l){var u=a.createID(l);return this.map[u]},s.prototype.keySet=function(){return this.keys},r.exports=s},function(r,n,i){"use strict";var a=i(14);function s(){this.set={}}o(s,"HashSet"),s.prototype.add=function(l){var u=a.createID(l);this.contains(u)||(this.set[u]=l)},s.prototype.remove=function(l){delete this.set[a.createID(l)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(l){return this.set[a.createID(l)]==l},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(l){for(var u=Object.keys(this.set),h=u.length,d=0;d<h;d++)l.push(this.set[u[d]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(l){for(var u=l.length,h=0;h<u;h++){var d=l[h];this.add(d)}},r.exports=s},function(r,n,i){"use strict";function a(){}o(a,"Matrix"),a.multMat=function(s,l){for(var u=[],h=0;h<s.length;h++){u[h]=[];for(var d=0;d<l[0].length;d++){u[h][d]=0;for(var p=0;p<s[0].length;p++)u[h][d]+=s[h][p]*l[p][d]}}return u},a.transpose=function(s){for(var l=[],u=0;u<s[0].length;u++){l[u]=[];for(var h=0;h<s.length;h++)l[u][h]=s[h][u]}return l},a.multCons=function(s,l){for(var u=[],h=0;h<s.length;h++)u[h]=s[h]*l;return u},a.minusOp=function(s,l){for(var u=[],h=0;h<s.length;h++)u[h]=s[h]-l[h];return u},a.dotProduct=function(s,l){for(var u=0,h=0;h<s.length;h++)u+=s[h]*l[h];return u},a.mag=function(s){return Math.sqrt(this.dotProduct(s,s))},a.normalize=function(s){for(var l=[],u=this.mag(s),h=0;h<s.length;h++)l[h]=s[h]/u;return l},a.multGamma=function(s){for(var l=[],u=0,h=0;h<s.length;h++)u+=s[h];u*=-1/s.length;for(var d=0;d<s.length;d++)l[d]=u+s[d];return l},a.multL=function(s,l,u){for(var h=[],d=[],p=[],f=0;f<l[0].length;f++){for(var g=0,m=0;m<l.length;m++)g+=-.5*l[m][f]*s[m];d[f]=g}for(var y=0;y<u.length;y++){for(var b=0,v=0;v<u.length;v++)b+=u[y][v]*d[v];p[y]=b}for(var x=0;x<l.length;x++){for(var w=0,E=0;E<l[0].length;E++)w+=l[x][E]*p[E];h[x]=w}return h},r.exports=a},function(r,n,i){"use strict";var a=function(){function h(d,p){for(var f=0;f<p.length;f++){var g=p[f];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,g.key,g)}}return o(h,"defineProperties"),function(d,p,f){return p&&h(d.prototype,p),f&&h(d,f),d}}();function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var l=i(11),u=function(){function h(d,p){s(this,h),(p!==null||p!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var f=void 0;d instanceof l?f=d.size():f=d.length,this._quicksort(d,0,f-1)}return o(h,"Quicksort"),a(h,[{key:"_quicksort",value:o(function(d,p,f){if(p<f){var g=this._partition(d,p,f);this._quicksort(d,p,g),this._quicksort(d,g+1,f)}},"_quicksort")},{key:"_partition",value:o(function(d,p,f){for(var g=this._get(d,p),m=p,y=f;;){for(;this.compareFunction(g,this._get(d,y));)y--;for(;this.compareFunction(this._get(d,m),g);)m++;if(m<y)this._swap(d,m,y),m++,y--;else return y}},"_partition")},{key:"_get",value:o(function(d,p){return d instanceof l?d.get_object_at(p):d[p]},"_get")},{key:"_set",value:o(function(d,p,f){d instanceof l?d.set_object_at(p,f):d[p]=f},"_set")},{key:"_swap",value:o(function(d,p,f){var g=this._get(d,p);this._set(d,p,this._get(d,f)),this._set(d,f,g)},"_swap")},{key:"_defaultCompareFunction",value:o(function(d,p){return p>d},"_defaultCompareFunction")}]),h}();r.exports=u},function(r,n,i){"use strict";function a(){}o(a,"SVD"),a.svd=function(s){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=s.length,this.n=s[0].length;var l=Math.min(this.m,this.n);this.s=function(Ft){for(var Tr=[];Ft-- >0;)Tr.push(0);return Tr}(Math.min(this.m+1,this.n)),this.U=function(Ft){var Tr=o(function ir(oi){if(oi.length==0)return 0;for(var xn=[],On=0;On<oi[0];On++)xn.push(ir(oi.slice(1)));return xn},"allocate");return Tr(Ft)}([this.m,l]),this.V=function(Ft){var Tr=o(function ir(oi){if(oi.length==0)return 0;for(var xn=[],On=0;On<oi[0];On++)xn.push(ir(oi.slice(1)));return xn},"allocate");return Tr(Ft)}([this.n,this.n]);for(var u=function(Ft){for(var Tr=[];Ft-- >0;)Tr.push(0);return Tr}(this.n),h=function(Ft){for(var Tr=[];Ft-- >0;)Tr.push(0);return Tr}(this.m),d=!0,p=!0,f=Math.min(this.m-1,this.n),g=Math.max(0,Math.min(this.n-2,this.m)),m=0;m<Math.max(f,g);m++){if(m<f){this.s[m]=0;for(var y=m;y<this.m;y++)this.s[m]=a.hypot(this.s[m],s[y][m]);if(this.s[m]!==0){s[m][m]<0&&(this.s[m]=-this.s[m]);for(var b=m;b<this.m;b++)s[b][m]/=this.s[m];s[m][m]+=1}this.s[m]=-this.s[m]}for(var v=m+1;v<this.n;v++){if(function(Ft,Tr){return Ft&&Tr}(m<f,this.s[m]!==0)){for(var x=0,w=m;w<this.m;w++)x+=s[w][m]*s[w][v];x=-x/s[m][m];for(var E=m;E<this.m;E++)s[E][v]+=x*s[E][m]}u[v]=s[m][v]}if(function(Ft,Tr){return Ft&&Tr}(d,m<f))for(var A=m;A<this.m;A++)this.U[A][m]=s[A][m];if(m<g){u[m]=0;for(var N=m+1;N<this.n;N++)u[m]=a.hypot(u[m],u[N]);if(u[m]!==0){u[m+1]<0&&(u[m]=-u[m]);for(var L=m+1;L<this.n;L++)u[L]/=u[m];u[m+1]+=1}if(u[m]=-u[m],function(Ft,Tr){return Ft&&Tr}(m+1<this.m,u[m]!==0)){for(var C=m+1;C<this.m;C++)h[C]=0;for(var D=m+1;D<this.n;D++)for(var P=m+1;P<this.m;P++)h[P]+=u[D]*s[P][D];for(var O=m+1;O<this.n;O++)for(var I=-u[O]/u[m+1],q=m+1;q<this.m;q++)s[q][O]+=I*h[q]}if(p)for(var S=m+1;S<this.n;S++)this.V[S][m]=u[S]}}var B=Math.min(this.n,this.m+1);if(f<this.n&&(this.s[f]=s[f][f]),this.m<B&&(this.s[B-1]=0),g+1<B&&(u[g]=s[g][B-1]),u[B-1]=0,d){for(var F=f;F<l;F++){for(var z=0;z<this.m;z++)this.U[z][F]=0;this.U[F][F]=1}for(var M=f-1;M>=0;M--)if(this.s[M]!==0){for(var G=M+1;G<l;G++){for(var Y=0,V=M;V<this.m;V++)Y+=this.U[V][M]*this.U[V][G];Y=-Y/this.U[M][M];for(var X=M;X<this.m;X++)this.U[X][G]+=Y*this.U[X][M]}for(var re=M;re<this.m;re++)this.U[re][M]=-this.U[re][M];this.U[M][M]=1+this.U[M][M];for(var de=0;de<M-1;de++)this.U[de][M]=0}else{for(var xe=0;xe<this.m;xe++)this.U[xe][M]=0;this.U[M][M]=1}}if(p)for(var he=this.n-1;he>=0;he--){if(function(Ft,Tr){return Ft&&Tr}(he<g,u[he]!==0))for(var be=he+1;be<l;be++){for(var Q=0,ne=he+1;ne<this.n;ne++)Q+=this.V[ne][he]*this.V[ne][be];Q=-Q/this.V[he+1][he];for(var ee=he+1;ee<this.n;ee++)this.V[ee][be]+=Q*this.V[ee][he]}for(var pe=0;pe<this.n;pe++)this.V[pe][he]=0;this.V[he][he]=1}for(var ie=B-1,De=0,se=Math.pow(2,-52),je=Math.pow(2,-966);B>0;){var ge=void 0,rt=void 0;for(ge=B-2;ge>=-1&&ge!==-1;ge--)if(Math.abs(u[ge])<=je+se*(Math.abs(this.s[ge])+Math.abs(this.s[ge+1]))){u[ge]=0;break}if(ge===B-2)rt=4;else{var Qe=void 0;for(Qe=B-1;Qe>=ge&&Qe!==ge;Qe--){var tt=(Qe!==B?Math.abs(u[Qe]):0)+(Qe!==ge+1?Math.abs(u[Qe-1]):0);if(Math.abs(this.s[Qe])<=je+se*tt){this.s[Qe]=0;break}}Qe===ge?rt=3:Qe===B-1?rt=1:(rt=2,ge=Qe)}switch(ge++,rt){case 1:{var mt=u[B-2];u[B-2]=0;for(var yt=B-2;yt>=ge;yt--){var Nt=a.hypot(this.s[yt],mt),kt=this.s[yt]/Nt,te=mt/Nt;if(this.s[yt]=Nt,yt!==ge&&(mt=-te*u[yt-1],u[yt-1]=kt*u[yt-1]),p)for(var Ne=0;Ne<this.n;Ne++)Nt=kt*this.V[Ne][yt]+te*this.V[Ne][B-1],this.V[Ne][B-1]=-te*this.V[Ne][yt]+kt*this.V[Ne][B-1],this.V[Ne][yt]=Nt}}break;case 2:{var Ce=u[ge-1];u[ge-1]=0;for(var Fe=ge;Fe<B;Fe++){var oe=a.hypot(this.s[Fe],Ce),st=this.s[Fe]/oe,ae=Ce/oe;if(this.s[Fe]=oe,Ce=-ae*u[Fe],u[Fe]=st*u[Fe],d)for(var ht=0;ht<this.m;ht++)oe=st*this.U[ht][Fe]+ae*this.U[ht][ge-1],this.U[ht][ge-1]=-ae*this.U[ht][Fe]+st*this.U[ht][ge-1],this.U[ht][Fe]=oe}}break;case 3:{var fe=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[B-1]),Math.abs(this.s[B-2])),Math.abs(u[B-2])),Math.abs(this.s[ge])),Math.abs(u[ge])),Le=this.s[B-1]/fe,Ue=this.s[B-2]/fe,Ke=u[B-2]/fe,it=this.s[ge]/fe,qe=u[ge]/fe,xt=((Ue+Le)*(Ue-Le)+Ke*Ke)/2,at=Le*Ke*(Le*Ke),jt=0;(function(Ft,Tr){return Ft||Tr})(xt!==0,at!==0)&&(jt=Math.sqrt(xt*xt+at),xt<0&&(jt=-jt),jt=at/(xt+jt));for(var mr=(it+Le)*(it-Le)+jt,cr=it*qe,Zt=ge;Zt<B-1;Zt++){var vr=a.hypot(mr,cr),Gt=mr/vr,Tt=cr/vr;if(Zt!==ge&&(u[Zt-1]=vr),mr=Gt*this.s[Zt]+Tt*u[Zt],u[Zt]=Gt*u[Zt]-Tt*this.s[Zt],cr=Tt*this.s[Zt+1],this.s[Zt+1]=Gt*this.s[Zt+1],p)for(var wt=0;wt<this.n;wt++)vr=Gt*this.V[wt][Zt]+Tt*this.V[wt][Zt+1],this.V[wt][Zt+1]=-Tt*this.V[wt][Zt]+Gt*this.V[wt][Zt+1],this.V[wt][Zt]=vr;if(vr=a.hypot(mr,cr),Gt=mr/vr,Tt=cr/vr,this.s[Zt]=vr,mr=Gt*u[Zt]+Tt*this.s[Zt+1],this.s[Zt+1]=-Tt*u[Zt]+Gt*this.s[Zt+1],cr=Tt*u[Zt+1],u[Zt+1]=Gt*u[Zt+1],d&&Zt<this.m-1)for(var pr=0;pr<this.m;pr++)vr=Gt*this.U[pr][Zt]+Tt*this.U[pr][Zt+1],this.U[pr][Zt+1]=-Tt*this.U[pr][Zt]+Gt*this.U[pr][Zt+1],this.U[pr][Zt]=vr}u[B-2]=mr,De=De+1}break;case 4:{if(this.s[ge]<=0&&(this.s[ge]=this.s[ge]<0?-this.s[ge]:0,p))for(var Mt=0;Mt<=ie;Mt++)this.V[Mt][ge]=-this.V[Mt][ge];for(;ge<ie&&!(this.s[ge]>=this.s[ge+1]);){var Rr=this.s[ge];if(this.s[ge]=this.s[ge+1],this.s[ge+1]=Rr,p&&ge<this.n-1)for(var Cr=0;Cr<this.n;Cr++)Rr=this.V[Cr][ge+1],this.V[Cr][ge+1]=this.V[Cr][ge],this.V[Cr][ge]=Rr;if(d&&ge<this.m-1)for(var Kt=0;Kt<this.m;Kt++)Rr=this.U[Kt][ge+1],this.U[Kt][ge+1]=this.U[Kt][ge],this.U[Kt][ge]=Rr;ge++}De=0,B--}break}}var Xt={U:this.U,V:this.V,S:this.s};return Xt},a.hypot=function(s,l){var u=void 0;return Math.abs(s)>Math.abs(l)?(u=l/s,u=Math.abs(s)*Math.sqrt(1+u*u)):l!=0?(u=s/l,u=Math.abs(l)*Math.sqrt(1+u*u)):u=0,u},r.exports=a},function(r,n,i){"use strict";var a=function(){function u(h,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(h,f.key,f)}}return o(u,"defineProperties"),function(h,d,p){return d&&u(h.prototype,d),p&&u(h,p),h}}();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}o(s,"_classCallCheck");var l=function(){function u(h,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,u),this.sequence1=h,this.sequence2=d,this.match_score=p,this.mismatch_penalty=f,this.gap_penalty=g,this.iMax=h.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[m][y]=0}this.tracebackGrid=new Array(this.iMax);for(var b=0;b<this.iMax;b++){this.tracebackGrid[b]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.tracebackGrid[b][v]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return o(u,"NeedlemanWunsch"),a(u,[{key:"getScore",value:o(function(){return this.score},"getScore")},{key:"getAlignments",value:o(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:o(function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var f=1;f<this.jMax;f++){var g=void 0;this.sequence1[p-1]===this.sequence2[f-1]?g=this.grid[p-1][f-1]+this.match_score:g=this.grid[p-1][f-1]+this.mismatch_penalty;var m=this.grid[p-1][f]+this.gap_penalty,y=this.grid[p][f-1]+this.gap_penalty,b=[g,m,y],v=this.arrayAllMaxIndexes(b);this.grid[p][f]=b[v[0]],this.tracebackGrid[p][f]=[v.includes(0),v.includes(1),v.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:o(function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:o(function(h,d){for(var p=[],f=-1;(f=h.indexOf(d,f+1))!==-1;)p.push(f);return p},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:o(function(h){return this.getAllIndexes(h,Math.max.apply(null,h))},"arrayAllMaxIndexes")}]),u}();r.exports=l},function(r,n,i){"use strict";var a=o(function(){},"layoutBase");a.FDLayout=i(18),a.FDLayoutConstants=i(4),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(5),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(25),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(6),a.LEdge=i(1),a.LGraphManager=i(7),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(27),a.Matrix=i(24),a.SVD=i(26),r.exports=a},function(r,n,i){"use strict";function a(){this.listeners=[]}o(a,"Emitter");var s=a.prototype;s.addListener=function(l,u){this.listeners.push({event:l,callback:u})},s.removeListener=function(l,u){for(var h=this.listeners.length;h>=0;h--){var d=this.listeners[h];d.event===l&&d.callback===u&&this.listeners.splice(h,1)}},s.emit=function(l,u){for(var h=0;h<this.listeners.length;h++){var d=this.listeners[h];l===d.event&&d.callback(u)}},r.exports=a}])})}),xqe=St((e,t)=>{"use strict";o(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n(bqe()):typeof define=="function"&&define.amd?define(["layout-base"],n):typeof e=="object"?e.coseBase=n(bqe()):r.coseBase=n(r.layoutBase)},"webpackUniversalModuleDefinition")(e,function(r){return(()=>{"use strict";var n={45:(l,u,h)=>{var d={};d.layoutBase=h(551),d.CoSEConstants=h(806),d.CoSEEdge=h(767),d.CoSEGraph=h(880),d.CoSEGraphManager=h(578),d.CoSELayout=h(765),d.CoSENode=h(991),d.ConstraintHandler=h(902),l.exports=d},806:(l,u,h)=>{var d=h(551).FDLayoutConstants;function p(){}o(p,"CoSEConstants");for(var f in d)p[f]=d[f];p.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,p.DEFAULT_RADIAL_SEPARATION=d.DEFAULT_EDGE_LENGTH,p.DEFAULT_COMPONENT_SEPERATION=60,p.TILE=!0,p.TILING_PADDING_VERTICAL=10,p.TILING_PADDING_HORIZONTAL=10,p.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,p.ENFORCE_CONSTRAINTS=!0,p.APPLY_LAYOUT=!0,p.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,p.TREE_REDUCTION_ON_INCREMENTAL=!0,p.PURE_INCREMENTAL=p.DEFAULT_INCREMENTAL,l.exports=p},767:(l,u,h)=>{var d=h(551).FDLayoutEdge;function p(g,m,y){d.call(this,g,m,y)}o(p,"CoSEEdge"),p.prototype=Object.create(d.prototype);for(var f in d)p[f]=d[f];l.exports=p},880:(l,u,h)=>{var d=h(551).LGraph;function p(g,m,y){d.call(this,g,m,y)}o(p,"CoSEGraph"),p.prototype=Object.create(d.prototype);for(var f in d)p[f]=d[f];l.exports=p},578:(l,u,h)=>{var d=h(551).LGraphManager;function p(g){d.call(this,g)}o(p,"CoSEGraphManager"),p.prototype=Object.create(d.prototype);for(var f in d)p[f]=d[f];l.exports=p},765:(l,u,h)=>{var d=h(551).FDLayout,p=h(578),f=h(880),g=h(991),m=h(767),y=h(806),b=h(902),v=h(551).FDLayoutConstants,x=h(551).LayoutConstants,w=h(551).Point,E=h(551).PointD,A=h(551).DimensionD,N=h(551).Layout,L=h(551).Integer,C=h(551).IGeometry,D=h(551).LGraph,P=h(551).Transform,O=h(551).LinkedList;function I(){d.call(this),this.toBeTiled={},this.constraints={}}o(I,"CoSELayout"),I.prototype=Object.create(d.prototype);for(var q in d)I[q]=d[q];I.prototype.newGraphManager=function(){var S=new p(this);return this.graphManager=S,S},I.prototype.newGraph=function(S){return new f(null,this.graphManager,S)},I.prototype.newNode=function(S){return new g(this.graphManager,S)},I.prototype.newEdge=function(S){return new m(null,null,S)},I.prototype.initParameters=function(){d.prototype.initParameters.call(this,arguments),this.isSubLayout||(y.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=y.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=y.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=v.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=v.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},I.prototype.initSpringEmbedder=function(){d.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/v.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},I.prototype.layout=function(){var S=x.DEFAULT_CREATE_BENDS_AS_NEEDED;return S&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},I.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(y.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),B=this.nodesWithGravity.filter(function(z){return S.has(z)});this.graphManager.setAllNodesToApplyGravitation(B)}}else{var F=this.getFlatForest();if(F.length>0)this.positionNodesRadially(F);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),B=this.nodesWithGravity.filter(function(G){return S.has(G)});this.graphManager.setAllNodesToApplyGravitation(B),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(b.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),y.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},I.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%v.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var S=new Set(this.getAllNodes()),B=this.nodesWithGravity.filter(function(M){return S.has(M)});this.graphManager.setAllNodesToApplyGravitation(B),this.graphManager.updateBounds(),this.updateGrid(),y.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),y.PURE_INCREMENTAL?this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=v.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var F=!this.isTreeGrowing&&!this.isGrowthFinished,z=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(F,z),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},I.prototype.getPositionsData=function(){for(var S=this.graphManager.getAllNodes(),B={},F=0;F<S.length;F++){var z=S[F].rect,M=S[F].id;B[M]={id:M,x:z.getCenterX(),y:z.getCenterY(),w:z.width,h:z.height}}return B},I.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var S=!1;if(v.ANIMATE==="during")this.emit("layoutstarted");else{for(;!S;)S=this.tick();this.graphManager.updateBounds()}},I.prototype.moveNodes=function(){for(var S=this.getAllNodes(),B,F=0;F<S.length;F++)B=S[F],B.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var F=0;F<S.length;F++)B=S[F],B.move()},I.prototype.initConstraintVariables=function(){var S=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var B=this.graphManager.getAllNodes(),F=0;F<B.length;F++){var z=B[F];this.idToNodeMap.set(z.id,z)}var M=o(function ne(ee){for(var pe=ee.getChild().getNodes(),ie,De=0,se=0;se<pe.length;se++)ie=pe[se],ie.getChild()==null?S.fixedNodeSet.has(ie.id)&&(De+=100):De+=ne(ie);return De},"calculateCompoundWeight");if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(ne){S.fixedNodeSet.add(ne.nodeId)});for(var B=this.graphManager.getAllNodes(),z,F=0;F<B.length;F++)if(z=B[F],z.getChild()!=null){var G=M(z);G>0&&(z.fixedNodeWeight=G)}}if(this.constraints.relativePlacementConstraint){var Y=new Map,V=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(ne){S.fixedNodesOnHorizontal.add(ne),S.fixedNodesOnVertical.add(ne)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var X=this.constraints.alignmentConstraint.vertical,F=0;F<X.length;F++)this.dummyToNodeForVerticalAlignment.set("dummy"+F,[]),X[F].forEach(function(ee){Y.set(ee,"dummy"+F),S.dummyToNodeForVerticalAlignment.get("dummy"+F).push(ee),S.fixedNodeSet.has(ee)&&S.fixedNodesOnHorizontal.add("dummy"+F)});if(this.constraints.alignmentConstraint.horizontal)for(var re=this.constraints.alignmentConstraint.horizontal,F=0;F<re.length;F++)this.dummyToNodeForHorizontalAlignment.set("dummy"+F,[]),re[F].forEach(function(ee){V.set(ee,"dummy"+F),S.dummyToNodeForHorizontalAlignment.get("dummy"+F).push(ee),S.fixedNodeSet.has(ee)&&S.fixedNodesOnVertical.add("dummy"+F)})}if(y.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(ne){var ee,pe,ie;for(ie=ne.length-1;ie>=2*ne.length/3;ie--)ee=Math.floor(Math.random()*(ie+1)),pe=ne[ie],ne[ie]=ne[ee],ne[ee]=pe;return ne},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(ne){if(ne.left){var ee=Y.has(ne.left)?Y.get(ne.left):ne.left,pe=Y.has(ne.right)?Y.get(ne.right):ne.right;S.nodesInRelativeHorizontal.includes(ee)||(S.nodesInRelativeHorizontal.push(ee),S.nodeToRelativeConstraintMapHorizontal.set(ee,[]),S.dummyToNodeForVerticalAlignment.has(ee)?S.nodeToTempPositionMapHorizontal.set(ee,S.idToNodeMap.get(S.dummyToNodeForVerticalAlignment.get(ee)[0]).getCenterX()):S.nodeToTempPositionMapHorizontal.set(ee,S.idToNodeMap.get(ee).getCenterX())),S.nodesInRelativeHorizontal.includes(pe)||(S.nodesInRelativeHorizontal.push(pe),S.nodeToRelativeConstraintMapHorizontal.set(pe,[]),S.dummyToNodeForVerticalAlignment.has(pe)?S.nodeToTempPositionMapHorizontal.set(pe,S.idToNodeMap.get(S.dummyToNodeForVerticalAlignment.get(pe)[0]).getCenterX()):S.nodeToTempPositionMapHorizontal.set(pe,S.idToNodeMap.get(pe).getCenterX())),S.nodeToRelativeConstraintMapHorizontal.get(ee).push({right:pe,gap:ne.gap}),S.nodeToRelativeConstraintMapHorizontal.get(pe).push({left:ee,gap:ne.gap})}else{var ie=V.has(ne.top)?V.get(ne.top):ne.top,De=V.has(ne.bottom)?V.get(ne.bottom):ne.bottom;S.nodesInRelativeVertical.includes(ie)||(S.nodesInRelativeVertical.push(ie),S.nodeToRelativeConstraintMapVertical.set(ie,[]),S.dummyToNodeForHorizontalAlignment.has(ie)?S.nodeToTempPositionMapVertical.set(ie,S.idToNodeMap.get(S.dummyToNodeForHorizontalAlignment.get(ie)[0]).getCenterY()):S.nodeToTempPositionMapVertical.set(ie,S.idToNodeMap.get(ie).getCenterY())),S.nodesInRelativeVertical.includes(De)||(S.nodesInRelativeVertical.push(De),S.nodeToRelativeConstraintMapVertical.set(De,[]),S.dummyToNodeForHorizontalAlignment.has(De)?S.nodeToTempPositionMapVertical.set(De,S.idToNodeMap.get(S.dummyToNodeForHorizontalAlignment.get(De)[0]).getCenterY()):S.nodeToTempPositionMapVertical.set(De,S.idToNodeMap.get(De).getCenterY())),S.nodeToRelativeConstraintMapVertical.get(ie).push({bottom:De,gap:ne.gap}),S.nodeToRelativeConstraintMapVertical.get(De).push({top:ie,gap:ne.gap})}});else{var de=new Map,xe=new Map;this.constraints.relativePlacementConstraint.forEach(function(ne){if(ne.left){var ee=Y.has(ne.left)?Y.get(ne.left):ne.left,pe=Y.has(ne.right)?Y.get(ne.right):ne.right;de.has(ee)?de.get(ee).push(pe):de.set(ee,[pe]),de.has(pe)?de.get(pe).push(ee):de.set(pe,[ee])}else{var ie=V.has(ne.top)?V.get(ne.top):ne.top,De=V.has(ne.bottom)?V.get(ne.bottom):ne.bottom;xe.has(ie)?xe.get(ie).push(De):xe.set(ie,[De]),xe.has(De)?xe.get(De).push(ie):xe.set(De,[ie])}});var he=o(function(ne,ee){var pe=[],ie=[],De=new O,se=new Set,je=0;return ne.forEach(function(ge,rt){if(!se.has(rt)){pe[je]=[],ie[je]=!1;var Qe=rt;for(De.push(Qe),se.add(Qe),pe[je].push(Qe);De.length!=0;){Qe=De.shift(),ee.has(Qe)&&(ie[je]=!0);var tt=ne.get(Qe);tt.forEach(function(mt){se.has(mt)||(De.push(mt),se.add(mt),pe[je].push(mt))})}je++}}),{components:pe,isFixed:ie}},"constructComponents"),be=he(de,S.fixedNodesOnHorizontal);this.componentsOnHorizontal=be.components,this.fixedComponentsOnHorizontal=be.isFixed;var Q=he(xe,S.fixedNodesOnVertical);this.componentsOnVertical=Q.components,this.fixedComponentsOnVertical=Q.isFixed}}},I.prototype.updateDisplacements=function(){var S=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(Q){var ne=S.idToNodeMap.get(Q.nodeId);ne.displacementX=0,ne.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var B=this.constraints.alignmentConstraint.vertical,F=0;F<B.length;F++){for(var z=0,M=0;M<B[F].length;M++){if(this.fixedNodeSet.has(B[F][M])){z=0;break}z+=this.idToNodeMap.get(B[F][M]).displacementX}for(var G=z/B[F].length,M=0;M<B[F].length;M++)this.idToNodeMap.get(B[F][M]).displacementX=G}if(this.constraints.alignmentConstraint.horizontal)for(var Y=this.constraints.alignmentConstraint.horizontal,F=0;F<Y.length;F++){for(var V=0,M=0;M<Y[F].length;M++){if(this.fixedNodeSet.has(Y[F][M])){V=0;break}V+=this.idToNodeMap.get(Y[F][M]).displacementY}for(var X=V/Y[F].length,M=0;M<Y[F].length;M++)this.idToNodeMap.get(Y[F][M]).displacementY=X}}if(this.constraints.relativePlacementConstraint)if(y.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(Q){if(!S.fixedNodesOnHorizontal.has(Q)){var ne=0;S.dummyToNodeForVerticalAlignment.has(Q)?ne=S.idToNodeMap.get(S.dummyToNodeForVerticalAlignment.get(Q)[0]).displacementX:ne=S.idToNodeMap.get(Q).displacementX,S.nodeToRelativeConstraintMapHorizontal.get(Q).forEach(function(ee){if(ee.right){var pe=S.nodeToTempPositionMapHorizontal.get(ee.right)-S.nodeToTempPositionMapHorizontal.get(Q)-ne;pe<ee.gap&&(ne-=ee.gap-pe)}else{var pe=S.nodeToTempPositionMapHorizontal.get(Q)-S.nodeToTempPositionMapHorizontal.get(ee.left)+ne;pe<ee.gap&&(ne+=ee.gap-pe)}}),S.nodeToTempPositionMapHorizontal.set(Q,S.nodeToTempPositionMapHorizontal.get(Q)+ne),S.dummyToNodeForVerticalAlignment.has(Q)?S.dummyToNodeForVerticalAlignment.get(Q).forEach(function(ee){S.idToNodeMap.get(ee).displacementX=ne}):S.idToNodeMap.get(Q).displacementX=ne}}),this.nodesInRelativeVertical.forEach(function(Q){if(!S.fixedNodesOnHorizontal.has(Q)){var ne=0;S.dummyToNodeForHorizontalAlignment.has(Q)?ne=S.idToNodeMap.get(S.dummyToNodeForHorizontalAlignment.get(Q)[0]).displacementY:ne=S.idToNodeMap.get(Q).displacementY,S.nodeToRelativeConstraintMapVertical.get(Q).forEach(function(ee){if(ee.bottom){var pe=S.nodeToTempPositionMapVertical.get(ee.bottom)-S.nodeToTempPositionMapVertical.get(Q)-ne;pe<ee.gap&&(ne-=ee.gap-pe)}else{var pe=S.nodeToTempPositionMapVertical.get(Q)-S.nodeToTempPositionMapVertical.get(ee.top)+ne;pe<ee.gap&&(ne+=ee.gap-pe)}}),S.nodeToTempPositionMapVertical.set(Q,S.nodeToTempPositionMapVertical.get(Q)+ne),S.dummyToNodeForHorizontalAlignment.has(Q)?S.dummyToNodeForHorizontalAlignment.get(Q).forEach(function(ee){S.idToNodeMap.get(ee).displacementY=ne}):S.idToNodeMap.get(Q).displacementY=ne}});else{for(var F=0;F<this.componentsOnHorizontal.length;F++){var re=this.componentsOnHorizontal[F];if(this.fixedComponentsOnHorizontal[F])for(var M=0;M<re.length;M++)this.dummyToNodeForVerticalAlignment.has(re[M])?this.dummyToNodeForVerticalAlignment.get(re[M]).forEach(function(ee){S.idToNodeMap.get(ee).displacementX=0}):this.idToNodeMap.get(re[M]).displacementX=0;else{for(var de=0,xe=0,M=0;M<re.length;M++)if(this.dummyToNodeForVerticalAlignment.has(re[M])){var he=this.dummyToNodeForVerticalAlignment.get(re[M]);de+=he.length*this.idToNodeMap.get(he[0]).displacementX,xe+=he.length}else de+=this.idToNodeMap.get(re[M]).displacementX,xe++;for(var be=de/xe,M=0;M<re.length;M++)this.dummyToNodeForVerticalAlignment.has(re[M])?this.dummyToNodeForVerticalAlignment.get(re[M]).forEach(function(ee){S.idToNodeMap.get(ee).displacementX=be}):this.idToNodeMap.get(re[M]).displacementX=be}}for(var F=0;F<this.componentsOnVertical.length;F++){var re=this.componentsOnVertical[F];if(this.fixedComponentsOnVertical[F])for(var M=0;M<re.length;M++)this.dummyToNodeForHorizontalAlignment.has(re[M])?this.dummyToNodeForHorizontalAlignment.get(re[M]).forEach(function(pe){S.idToNodeMap.get(pe).displacementY=0}):this.idToNodeMap.get(re[M]).displacementY=0;else{for(var de=0,xe=0,M=0;M<re.length;M++)if(this.dummyToNodeForHorizontalAlignment.has(re[M])){var he=this.dummyToNodeForHorizontalAlignment.get(re[M]);de+=he.length*this.idToNodeMap.get(he[0]).displacementY,xe+=he.length}else de+=this.idToNodeMap.get(re[M]).displacementY,xe++;for(var be=de/xe,M=0;M<re.length;M++)this.dummyToNodeForHorizontalAlignment.has(re[M])?this.dummyToNodeForHorizontalAlignment.get(re[M]).forEach(function(ie){S.idToNodeMap.get(ie).displacementY=be}):this.idToNodeMap.get(re[M]).displacementY=be}}}},I.prototype.calculateNodesToApplyGravitationTo=function(){var S=[],B,F=this.graphManager.getGraphs(),z=F.length,M;for(M=0;M<z;M++)B=F[M],B.updateConnected(),B.isConnected||(S=S.concat(B.getNodes()));return S},I.prototype.createBendpoints=function(){var S=[];S=S.concat(this.graphManager.getAllEdges());var B=new Set,F;for(F=0;F<S.length;F++){var z=S[F];if(!B.has(z)){var M=z.getSource(),G=z.getTarget();if(M==G)z.getBendpoints().push(new E),z.getBendpoints().push(new E),this.createDummyNodesForBendpoints(z),B.add(z);else{var Y=[];if(Y=Y.concat(M.getEdgeListToNode(G)),Y=Y.concat(G.getEdgeListToNode(M)),!B.has(Y[0])){if(Y.length>1){var V;for(V=0;V<Y.length;V++){var X=Y[V];X.getBendpoints().push(new E),this.createDummyNodesForBendpoints(X)}}Y.forEach(function(re){B.add(re)})}}}if(B.size==S.length)break}},I.prototype.positionNodesRadially=function(S){for(var B=new w(0,0),F=Math.ceil(Math.sqrt(S.length)),z=0,M=0,G=0,Y=new E(0,0),V=0;V<S.length;V++){V%F==0&&(G=0,M=z,V!=0&&(M+=y.DEFAULT_COMPONENT_SEPERATION),z=0);var X=S[V],re=N.findCenterOfTree(X);B.x=G,B.y=M,Y=I.radialLayout(X,re,B),Y.y>z&&(z=Math.floor(Y.y)),G=Math.floor(Y.x+y.DEFAULT_COMPONENT_SEPERATION)}this.transform(new E(x.WORLD_CENTER_X-Y.x/2,x.WORLD_CENTER_Y-Y.y/2))},I.radialLayout=function(S,B,F){var z=Math.max(this.maxDiagonalInTree(S),y.DEFAULT_RADIAL_SEPARATION);I.branchRadialLayout(B,null,0,359,0,z);var M=D.calculateBounds(S),G=new P;G.setDeviceOrgX(M.getMinX()),G.setDeviceOrgY(M.getMinY()),G.setWorldOrgX(F.x),G.setWorldOrgY(F.y);for(var Y=0;Y<S.length;Y++){var V=S[Y];V.transform(G)}var X=new E(M.getMaxX(),M.getMaxY());return G.inverseTransformPoint(X)},I.branchRadialLayout=function(S,B,F,z,M,G){var Y=(z-F+1)/2;Y<0&&(Y+=180);var V=(Y+F)%360,X=V*C.TWO_PI/360,re=Math.cos(X),de=M*Math.cos(X),xe=M*Math.sin(X);S.setCenter(de,xe);var he=[];he=he.concat(S.getEdges());var be=he.length;B!=null&&be--;for(var Q=0,ne=he.length,ee,pe=S.getEdgesBetween(B);pe.length>1;){var ie=pe[0];pe.splice(0,1);var De=he.indexOf(ie);De>=0&&he.splice(De,1),ne--,be--}B!=null?ee=(he.indexOf(pe[0])+1)%ne:ee=0;for(var se=Math.abs(z-F)/be,je=ee;Q!=be;je=++je%ne){var ge=he[je].getOtherEnd(S);if(ge!=B){var rt=(F+Q*se)%360,Qe=(rt+se)%360;I.branchRadialLayout(ge,S,rt,Qe,M+G,G),Q++}}},I.maxDiagonalInTree=function(S){for(var B=L.MIN_VALUE,F=0;F<S.length;F++){var z=S[F],M=z.getDiagonal();M>B&&(B=M)}return B},I.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},I.prototype.groupZeroDegreeMembers=function(){var S=this,B={};this.memberGroups={},this.idToDummyNode={};for(var F=[],z=this.graphManager.getAllNodes(),M=0;M<z.length;M++){var G=z[M],Y=G.getParent();this.getNodeDegreeWithChildren(G)===0&&(Y.id==null||!this.getToBeTiled(Y))&&F.push(G)}for(var M=0;M<F.length;M++){var G=F[M],V=G.getParent().id;typeof B[V]>"u"&&(B[V]=[]),B[V]=B[V].concat(G)}Object.keys(B).forEach(function(X){if(B[X].length>1){var re="DummyCompound_"+X;S.memberGroups[re]=B[X];var de=B[X][0].getParent(),xe=new g(S.graphManager);xe.id=re,xe.paddingLeft=de.paddingLeft||0,xe.paddingRight=de.paddingRight||0,xe.paddingBottom=de.paddingBottom||0,xe.paddingTop=de.paddingTop||0,S.idToDummyNode[re]=xe;var he=S.getGraphManager().add(S.newGraph(),xe),be=de.getChild();be.add(xe);for(var Q=0;Q<B[X].length;Q++){var ne=B[X][Q];be.remove(ne),he.add(ne)}}})},I.prototype.clearCompounds=function(){var S={},B={};this.performDFSOnCompounds();for(var F=0;F<this.compoundOrder.length;F++)B[this.compoundOrder[F].id]=this.compoundOrder[F],S[this.compoundOrder[F].id]=[].concat(this.compoundOrder[F].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[F].getChild()),this.compoundOrder[F].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(S,B)},I.prototype.clearZeroDegreeMembers=function(){var S=this,B=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(F){var z=S.idToDummyNode[F];if(B[F]=S.tileNodes(S.memberGroups[F],z.paddingLeft+z.paddingRight),z.rect.width=B[F].width,z.rect.height=B[F].height,z.setCenter(B[F].centerX,B[F].centerY),z.labelMarginLeft=0,z.labelMarginTop=0,y.NODE_DIMENSIONS_INCLUDE_LABELS){var M=z.rect.width,G=z.rect.height;z.labelWidth&&(z.labelPosHorizontal=="left"?(z.rect.x-=z.labelWidth,z.setWidth(M+z.labelWidth),z.labelMarginLeft=z.labelWidth):z.labelPosHorizontal=="center"&&z.labelWidth>M?(z.rect.x-=(z.labelWidth-M)/2,z.setWidth(z.labelWidth),z.labelMarginLeft=(z.labelWidth-M)/2):z.labelPosHorizontal=="right"&&z.setWidth(M+z.labelWidth)),z.labelHeight&&(z.labelPosVertical=="top"?(z.rect.y-=z.labelHeight,z.setHeight(G+z.labelHeight),z.labelMarginTop=z.labelHeight):z.labelPosVertical=="center"&&z.labelHeight>G?(z.rect.y-=(z.labelHeight-G)/2,z.setHeight(z.labelHeight),z.labelMarginTop=(z.labelHeight-G)/2):z.labelPosVertical=="bottom"&&z.setHeight(G+z.labelHeight))}})},I.prototype.repopulateCompounds=function(){for(var S=this.compoundOrder.length-1;S>=0;S--){var B=this.compoundOrder[S],F=B.id,z=B.paddingLeft,M=B.paddingTop,G=B.labelMarginLeft,Y=B.labelMarginTop;this.adjustLocations(this.tiledMemberPack[F],B.rect.x,B.rect.y,z,M,G,Y)}},I.prototype.repopulateZeroDegreeMembers=function(){var S=this,B=this.tiledZeroDegreePack;Object.keys(B).forEach(function(F){var z=S.idToDummyNode[F],M=z.paddingLeft,G=z.paddingTop,Y=z.labelMarginLeft,V=z.labelMarginTop;S.adjustLocations(B[F],z.rect.x,z.rect.y,M,G,Y,V)})},I.prototype.getToBeTiled=function(S){var B=S.id;if(this.toBeTiled[B]!=null)return this.toBeTiled[B];var F=S.getChild();if(F==null)return this.toBeTiled[B]=!1,!1;for(var z=F.getNodes(),M=0;M<z.length;M++){var G=z[M];if(this.getNodeDegree(G)>0)return this.toBeTiled[B]=!1,!1;if(G.getChild()==null){this.toBeTiled[G.id]=!1;continue}if(!this.getToBeTiled(G))return this.toBeTiled[B]=!1,!1}return this.toBeTiled[B]=!0,!0},I.prototype.getNodeDegree=function(S){for(var B=S.id,F=S.getEdges(),z=0,M=0;M<F.length;M++){var G=F[M];G.getSource().id!==G.getTarget().id&&(z=z+1)}return z},I.prototype.getNodeDegreeWithChildren=function(S){var B=this.getNodeDegree(S);if(S.getChild()==null)return B;for(var F=S.getChild().getNodes(),z=0;z<F.length;z++){var M=F[z];B+=this.getNodeDegreeWithChildren(M)}return B},I.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},I.prototype.fillCompexOrderByDFS=function(S){for(var B=0;B<S.length;B++){var F=S[B];F.getChild()!=null&&this.fillCompexOrderByDFS(F.getChild().getNodes()),this.getToBeTiled(F)&&this.compoundOrder.push(F)}},I.prototype.adjustLocations=function(S,B,F,z,M,G,Y){B+=z+G,F+=M+Y;for(var V=B,X=0;X<S.rows.length;X++){var re=S.rows[X];B=V;for(var de=0,xe=0;xe<re.length;xe++){var he=re[xe];he.rect.x=B,he.rect.y=F,B+=he.rect.width+S.horizontalPadding,he.rect.height>de&&(de=he.rect.height)}F+=de+S.verticalPadding}},I.prototype.tileCompoundMembers=function(S,B){var F=this;this.tiledMemberPack=[],Object.keys(S).forEach(function(z){var M=B[z];if(F.tiledMemberPack[z]=F.tileNodes(S[z],M.paddingLeft+M.paddingRight),M.rect.width=F.tiledMemberPack[z].width,M.rect.height=F.tiledMemberPack[z].height,M.setCenter(F.tiledMemberPack[z].centerX,F.tiledMemberPack[z].centerY),M.labelMarginLeft=0,M.labelMarginTop=0,y.NODE_DIMENSIONS_INCLUDE_LABELS){var G=M.rect.width,Y=M.rect.height;M.labelWidth&&(M.labelPosHorizontal=="left"?(M.rect.x-=M.labelWidth,M.setWidth(G+M.labelWidth),M.labelMarginLeft=M.labelWidth):M.labelPosHorizontal=="center"&&M.labelWidth>G?(M.rect.x-=(M.labelWidth-G)/2,M.setWidth(M.labelWidth),M.labelMarginLeft=(M.labelWidth-G)/2):M.labelPosHorizontal=="right"&&M.setWidth(G+M.labelWidth)),M.labelHeight&&(M.labelPosVertical=="top"?(M.rect.y-=M.labelHeight,M.setHeight(Y+M.labelHeight),M.labelMarginTop=M.labelHeight):M.labelPosVertical=="center"&&M.labelHeight>Y?(M.rect.y-=(M.labelHeight-Y)/2,M.setHeight(M.labelHeight),M.labelMarginTop=(M.labelHeight-Y)/2):M.labelPosVertical=="bottom"&&M.setHeight(Y+M.labelHeight))}})},I.prototype.tileNodes=function(S,B){var F=this.tileNodesByFavoringDim(S,B,!0),z=this.tileNodesByFavoringDim(S,B,!1),M=this.getOrgRatio(F),G=this.getOrgRatio(z),Y;return G<M?Y=z:Y=F,Y},I.prototype.getOrgRatio=function(S){var B=S.width,F=S.height,z=B/F;return z<1&&(z=1/z),z},I.prototype.calcIdealRowWidth=function(S,B){var F=y.TILING_PADDING_VERTICAL,z=y.TILING_PADDING_HORIZONTAL,M=S.length,G=0,Y=0,V=0;S.forEach(function(Q){G+=Q.getWidth(),Y+=Q.getHeight(),Q.getWidth()>V&&(V=Q.getWidth())});var X=G/M,re=Y/M,de=Math.pow(F-z,2)+4*(X+z)*(re+F)*M,xe=(z-F+Math.sqrt(de))/(2*(X+z)),he;B?(he=Math.ceil(xe),he==xe&&he++):he=Math.floor(xe);var be=he*(X+z)-z;return V>be&&(be=V),be+=z*2,be},I.prototype.tileNodesByFavoringDim=function(S,B,F){var z=y.TILING_PADDING_VERTICAL,M=y.TILING_PADDING_HORIZONTAL,G=y.TILING_COMPARE_BY,Y={rows:[],rowWidth:[],rowHeight:[],width:0,height:B,verticalPadding:z,horizontalPadding:M,centerX:0,centerY:0};G&&(Y.idealRowWidth=this.calcIdealRowWidth(S,F));var V=o(function(Q){return Q.rect.width*Q.rect.height},"getNodeArea"),X=o(function(Q,ne){return V(ne)-V(Q)},"areaCompareFcn");S.sort(function(Q,ne){var ee=X;return Y.idealRowWidth?(ee=G,ee(Q.id,ne.id)):ee(Q,ne)});for(var re=0,de=0,xe=0;xe<S.length;xe++){var he=S[xe];re+=he.getCenterX(),de+=he.getCenterY()}Y.centerX=re/S.length,Y.centerY=de/S.length;for(var xe=0;xe<S.length;xe++){var he=S[xe];if(Y.rows.length==0)this.insertNodeToRow(Y,he,0,B);else if(this.canAddHorizontal(Y,he.rect.width,he.rect.height)){var be=Y.rows.length-1;Y.idealRowWidth||(be=this.getShortestRowIndex(Y)),this.insertNodeToRow(Y,he,be,B)}else this.insertNodeToRow(Y,he,Y.rows.length,B);this.shiftToLastRow(Y)}return Y},I.prototype.insertNodeToRow=function(S,B,F,z){var M=z;if(F==S.rows.length){var G=[];S.rows.push(G),S.rowWidth.push(M),S.rowHeight.push(0)}var Y=S.rowWidth[F]+B.rect.width;S.rows[F].length>0&&(Y+=S.horizontalPadding),S.rowWidth[F]=Y,S.width<Y&&(S.width=Y);var V=B.rect.height;F>0&&(V+=S.verticalPadding);var X=0;V>S.rowHeight[F]&&(X=S.rowHeight[F],S.rowHeight[F]=V,X=S.rowHeight[F]-X),S.height+=X,S.rows[F].push(B)},I.prototype.getShortestRowIndex=function(S){for(var B=-1,F=Number.MAX_VALUE,z=0;z<S.rows.length;z++)S.rowWidth[z]<F&&(B=z,F=S.rowWidth[z]);return B},I.prototype.getLongestRowIndex=function(S){for(var B=-1,F=Number.MIN_VALUE,z=0;z<S.rows.length;z++)S.rowWidth[z]>F&&(B=z,F=S.rowWidth[z]);return B},I.prototype.canAddHorizontal=function(S,B,F){if(S.idealRowWidth){var z=S.rows.length-1,M=S.rowWidth[z];return M+B+S.horizontalPadding<=S.idealRowWidth}var G=this.getShortestRowIndex(S);if(G<0)return!0;var Y=S.rowWidth[G];if(Y+S.horizontalPadding+B<=S.width)return!0;var V=0;S.rowHeight[G]<F&&G>0&&(V=F+S.verticalPadding-S.rowHeight[G]);var X;S.width-Y>=B+S.horizontalPadding?X=(S.height+V)/(Y+B+S.horizontalPadding):X=(S.height+V)/S.width,V=F+S.verticalPadding;var re;return S.width<B?re=(S.height+V)/B:re=(S.height+V)/S.width,re<1&&(re=1/re),X<1&&(X=1/X),X<re},I.prototype.shiftToLastRow=function(S){var B=this.getLongestRowIndex(S),F=S.rowWidth.length-1,z=S.rows[B],M=z[z.length-1],G=M.width+S.horizontalPadding;if(S.width-S.rowWidth[F]>G&&B!=F){z.splice(-1,1),S.rows[F].push(M),S.rowWidth[B]=S.rowWidth[B]-G,S.rowWidth[F]=S.rowWidth[F]+G,S.width=S.rowWidth[instance.getLongestRowIndex(S)];for(var Y=Number.MIN_VALUE,V=0;V<z.length;V++)z[V].height>Y&&(Y=z[V].height);B>0&&(Y+=S.verticalPadding);var X=S.rowHeight[B]+S.rowHeight[F];S.rowHeight[B]=Y,S.rowHeight[F]<M.height+S.verticalPadding&&(S.rowHeight[F]=M.height+S.verticalPadding);var re=S.rowHeight[B]+S.rowHeight[F];S.height+=re-X,this.shiftToLastRow(S)}},I.prototype.tilingPreLayout=function(){y.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},I.prototype.tilingPostLayout=function(){y.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},I.prototype.reduceTrees=function(){for(var S=[],B=!0,F;B;){var z=this.graphManager.getAllNodes(),M=[];B=!1;for(var G=0;G<z.length;G++)if(F=z[G],F.getEdges().length==1&&!F.getEdges()[0].isInterGraph&&F.getChild()==null){if(y.PURE_INCREMENTAL){var Y=F.getEdges()[0].getOtherEnd(F),V=new A(F.getCenterX()-Y.getCenterX(),F.getCenterY()-Y.getCenterY());M.push([F,F.getEdges()[0],F.getOwner(),V])}else M.push([F,F.getEdges()[0],F.getOwner()]);B=!0}if(B==!0){for(var X=[],re=0;re<M.length;re++)M[re][0].getEdges().length==1&&(X.push(M[re]),M[re][0].getOwner().remove(M[re][0]));S.push(X),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=S},I.prototype.growTree=function(S){for(var B=S.length,F=S[B-1],z,M=0;M<F.length;M++)z=F[M],this.findPlaceforPrunedNode(z),z[2].add(z[0]),z[2].add(z[1],z[1].source,z[1].target);S.splice(S.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},I.prototype.findPlaceforPrunedNode=function(S){var B,F,z=S[0];if(z==S[1].source?F=S[1].target:F=S[1].source,y.PURE_INCREMENTAL)z.setCenter(F.getCenterX()+S[3].getWidth(),F.getCenterY()+S[3].getHeight());else{var M=F.startX,G=F.finishX,Y=F.startY,V=F.finishY,X=0,re=0,de=0,xe=0,he=[X,de,re,xe];if(Y>0)for(var be=M;be<=G;be++)he[0]+=this.grid[be][Y-1].length+this.grid[be][Y].length-1;if(G<this.grid.length-1)for(var be=Y;be<=V;be++)he[1]+=this.grid[G+1][be].length+this.grid[G][be].length-1;if(V<this.grid[0].length-1)for(var be=M;be<=G;be++)he[2]+=this.grid[be][V+1].length+this.grid[be][V].length-1;if(M>0)for(var be=Y;be<=V;be++)he[3]+=this.grid[M-1][be].length+this.grid[M][be].length-1;for(var Q=L.MAX_VALUE,ne,ee,pe=0;pe<he.length;pe++)he[pe]<Q?(Q=he[pe],ne=1,ee=pe):he[pe]==Q&&ne++;if(ne==3&&Q==0)he[0]==0&&he[1]==0&&he[2]==0?B=1:he[0]==0&&he[1]==0&&he[3]==0?B=0:he[0]==0&&he[2]==0&&he[3]==0?B=3:he[1]==0&&he[2]==0&&he[3]==0&&(B=2);else if(ne==2&&Q==0){var ie=Math.floor(Math.random()*2);he[0]==0&&he[1]==0?ie==0?B=0:B=1:he[0]==0&&he[2]==0?ie==0?B=0:B=2:he[0]==0&&he[3]==0?ie==0?B=0:B=3:he[1]==0&&he[2]==0?ie==0?B=1:B=2:he[1]==0&&he[3]==0?ie==0?B=1:B=3:ie==0?B=2:B=3}else if(ne==4&&Q==0){var ie=Math.floor(Math.random()*4);B=ie}else B=ee;B==0?z.setCenter(F.getCenterX(),F.getCenterY()-F.getHeight()/2-v.DEFAULT_EDGE_LENGTH-z.getHeight()/2):B==1?z.setCenter(F.getCenterX()+F.getWidth()/2+v.DEFAULT_EDGE_LENGTH+z.getWidth()/2,F.getCenterY()):B==2?z.setCenter(F.getCenterX(),F.getCenterY()+F.getHeight()/2+v.DEFAULT_EDGE_LENGTH+z.getHeight()/2):z.setCenter(F.getCenterX()-F.getWidth()/2-v.DEFAULT_EDGE_LENGTH-z.getWidth()/2,F.getCenterY())}},l.exports=I},991:(l,u,h)=>{var d=h(551).FDLayoutNode,p=h(551).IMath;function f(m,y,b,v){d.call(this,m,y,b,v)}o(f,"CoSENode"),f.prototype=Object.create(d.prototype);for(var g in d)f[g]=d[g];f.prototype.calculateDisplacement=function(){var m=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=m.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=m.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=m.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=m.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>m.coolingFactor*m.maxNodeDisplacement&&(this.displacementX=m.coolingFactor*m.maxNodeDisplacement*p.sign(this.displacementX)),Math.abs(this.displacementY)>m.coolingFactor*m.maxNodeDisplacement&&(this.displacementY=m.coolingFactor*m.maxNodeDisplacement*p.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},f.prototype.propogateDisplacementToChildren=function(m,y){for(var b=this.getChild().getNodes(),v,x=0;x<b.length;x++)v=b[x],v.getChild()==null?(v.displacementX+=m,v.displacementY+=y):v.propogateDisplacementToChildren(m,y)},f.prototype.move=function(){var m=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),m.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},f.prototype.setPred1=function(m){this.pred1=m},f.prototype.getPred1=function(){return pred1},f.prototype.getPred2=function(){return pred2},f.prototype.setNext=function(m){this.next=m},f.prototype.getNext=function(){return next},f.prototype.setProcessed=function(m){this.processed=m},f.prototype.isProcessed=function(){return processed},l.exports=f},902:(l,u,h)=>{function d(b){if(Array.isArray(b)){for(var v=0,x=Array(b.length);v<b.length;v++)x[v]=b[v];return x}else return Array.from(b)}o(d,"_toConsumableArray");var p=h(806),f=h(551).LinkedList,g=h(551).Matrix,m=h(551).SVD;function y(){}o(y,"ConstraintHandler"),y.handleConstraints=function(b){var v={};v.fixedNodeConstraint=b.constraints.fixedNodeConstraint,v.alignmentConstraint=b.constraints.alignmentConstraint,v.relativePlacementConstraint=b.constraints.relativePlacementConstraint;for(var x=new Map,w=new Map,E=[],A=[],N=b.getAllNodes(),L=0,C=0;C<N.length;C++){var D=N[C];D.getChild()==null&&(w.set(D.id,L++),E.push(D.getCenterX()),A.push(D.getCenterY()),x.set(D.id,D))}v.relativePlacementConstraint&&v.relativePlacementConstraint.forEach(function(fe){!fe.gap&&fe.gap!=0&&(fe.left?fe.gap=p.DEFAULT_EDGE_LENGTH+x.get(fe.left).getWidth()/2+x.get(fe.right).getWidth()/2:fe.gap=p.DEFAULT_EDGE_LENGTH+x.get(fe.top).getHeight()/2+x.get(fe.bottom).getHeight()/2)});var P=o(function(fe,Le){return{x:fe.x-Le.x,y:fe.y-Le.y}},"calculatePositionDiff"),O=o(function(fe){var Le=0,Ue=0;return fe.forEach(function(Ke){Le+=E[w.get(Ke)],Ue+=A[w.get(Ke)]}),{x:Le/fe.size,y:Ue/fe.size}},"calculateAvgPosition"),I=o(function(fe,Le,Ue,Ke,it){function qe(Gt,Tt){var wt=new Set(Gt),pr=!0,Mt=!1,Rr=void 0;try{for(var Cr=Tt[Symbol.iterator](),Kt;!(pr=(Kt=Cr.next()).done);pr=!0){var Xt=Kt.value;wt.add(Xt)}}catch(Ft){Mt=!0,Rr=Ft}finally{try{!pr&&Cr.return&&Cr.return()}finally{if(Mt)throw Rr}}return wt}o(qe,"setUnion");var xt=new Map;fe.forEach(function(Gt,Tt){xt.set(Tt,0)}),fe.forEach(function(Gt,Tt){Gt.forEach(function(wt){xt.set(wt.id,xt.get(wt.id)+1)})});var at=new Map,jt=new Map,mr=new f;xt.forEach(function(Gt,Tt){Gt==0?(mr.push(Tt),Ue||(Le=="horizontal"?at.set(Tt,w.has(Tt)?E[w.get(Tt)]:Ke.get(Tt)):at.set(Tt,w.has(Tt)?A[w.get(Tt)]:Ke.get(Tt)))):at.set(Tt,Number.NEGATIVE_INFINITY),Ue&&jt.set(Tt,new Set([Tt]))}),Ue&&it.forEach(function(Gt){var Tt=[];if(Gt.forEach(function(Mt){Ue.has(Mt)&&Tt.push(Mt)}),Tt.length>0){var wt=0;Tt.forEach(function(Mt){Le=="horizontal"?(at.set(Mt,w.has(Mt)?E[w.get(Mt)]:Ke.get(Mt)),wt+=at.get(Mt)):(at.set(Mt,w.has(Mt)?A[w.get(Mt)]:Ke.get(Mt)),wt+=at.get(Mt))}),wt=wt/Tt.length,Gt.forEach(function(Mt){Ue.has(Mt)||at.set(Mt,wt)})}else{var pr=0;Gt.forEach(function(Mt){Le=="horizontal"?pr+=w.has(Mt)?E[w.get(Mt)]:Ke.get(Mt):pr+=w.has(Mt)?A[w.get(Mt)]:Ke.get(Mt)}),pr=pr/Gt.length,Gt.forEach(function(Mt){at.set(Mt,pr)})}});for(var cr=o(function(){var Gt=mr.shift(),Tt=fe.get(Gt);Tt.forEach(function(wt){if(at.get(wt.id)<at.get(Gt)+wt.gap)if(Ue&&Ue.has(wt.id)){var pr=void 0;if(Le=="horizontal"?pr=w.has(wt.id)?E[w.get(wt.id)]:Ke.get(wt.id):pr=w.has(wt.id)?A[w.get(wt.id)]:Ke.get(wt.id),at.set(wt.id,pr),pr<at.get(Gt)+wt.gap){var Mt=at.get(Gt)+wt.gap-pr;jt.get(Gt).forEach(function(Rr){at.set(Rr,at.get(Rr)-Mt)})}}else at.set(wt.id,at.get(Gt)+wt.gap);xt.set(wt.id,xt.get(wt.id)-1),xt.get(wt.id)==0&&mr.push(wt.id),Ue&&jt.set(wt.id,qe(jt.get(Gt),jt.get(wt.id)))})},"_loop");mr.length!=0;)cr();if(Ue){var Zt=new Set;fe.forEach(function(Gt,Tt){Gt.length==0&&Zt.add(Tt)});var vr=[];jt.forEach(function(Gt,Tt){if(Zt.has(Tt)){var wt=!1,pr=!0,Mt=!1,Rr=void 0;try{for(var Cr=Gt[Symbol.iterator](),Kt;!(pr=(Kt=Cr.next()).done);pr=!0){var Xt=Kt.value;Ue.has(Xt)&&(wt=!0)}}catch(ir){Mt=!0,Rr=ir}finally{try{!pr&&Cr.return&&Cr.return()}finally{if(Mt)throw Rr}}if(!wt){var Ft=!1,Tr=void 0;vr.forEach(function(ir,oi){ir.has([].concat(d(Gt))[0])&&(Ft=!0,Tr=oi)}),Ft?Gt.forEach(function(ir){vr[Tr].add(ir)}):vr.push(new Set(Gt))}}}),vr.forEach(function(Gt,Tt){var wt=Number.POSITIVE_INFINITY,pr=Number.POSITIVE_INFINITY,Mt=Number.NEGATIVE_INFINITY,Rr=Number.NEGATIVE_INFINITY,Cr=!0,Kt=!1,Xt=void 0;try{for(var Ft=Gt[Symbol.iterator](),Tr;!(Cr=(Tr=Ft.next()).done);Cr=!0){var ir=Tr.value,oi=void 0;Le=="horizontal"?oi=w.has(ir)?E[w.get(ir)]:Ke.get(ir):oi=w.has(ir)?A[w.get(ir)]:Ke.get(ir);var xn=at.get(ir);oi<wt&&(wt=oi),oi>Mt&&(Mt=oi),xn<pr&&(pr=xn),xn>Rr&&(Rr=xn)}}catch(rr){Kt=!0,Xt=rr}finally{try{!Cr&&Ft.return&&Ft.return()}finally{if(Kt)throw Xt}}var On=(wt+Mt)/2-(pr+Rr)/2,Qi=!0,fi=!1,aa=void 0;try{for(var zi=Gt[Symbol.iterator](),sa;!(Qi=(sa=zi.next()).done);Qi=!0){var Be=sa.value;at.set(Be,at.get(Be)+On)}}catch(rr){fi=!0,aa=rr}finally{try{!Qi&&zi.return&&zi.return()}finally{if(fi)throw aa}}})}return at},"findAppropriatePositionForRelativePlacement"),q=o(function(fe){var Le=0,Ue=0,Ke=0,it=0;if(fe.forEach(function(jt){jt.left?E[w.get(jt.left)]-E[w.get(jt.right)]>=0?Le++:Ue++:A[w.get(jt.top)]-A[w.get(jt.bottom)]>=0?Ke++:it++}),Le>Ue&&Ke>it)for(var qe=0;qe<w.size;qe++)E[qe]=-1*E[qe],A[qe]=-1*A[qe];else if(Le>Ue)for(var xt=0;xt<w.size;xt++)E[xt]=-1*E[xt];else if(Ke>it)for(var at=0;at<w.size;at++)A[at]=-1*A[at]},"applyReflectionForRelativePlacement"),S=o(function(fe){var Le=[],Ue=new f,Ke=new Set,it=0;return fe.forEach(function(qe,xt){if(!Ke.has(xt)){Le[it]=[];var at=xt;for(Ue.push(at),Ke.add(at),Le[it].push(at);Ue.length!=0;){at=Ue.shift();var jt=fe.get(at);jt.forEach(function(mr){Ke.has(mr.id)||(Ue.push(mr.id),Ke.add(mr.id),Le[it].push(mr.id))})}it++}}),Le},"findComponents"),B=o(function(fe){var Le=new Map;return fe.forEach(function(Ue,Ke){Le.set(Ke,[])}),fe.forEach(function(Ue,Ke){Ue.forEach(function(it){Le.get(Ke).push(it),Le.get(it.id).push({id:Ke,gap:it.gap,direction:it.direction})})}),Le},"dagToUndirected"),F=o(function(fe){var Le=new Map;return fe.forEach(function(Ue,Ke){Le.set(Ke,[])}),fe.forEach(function(Ue,Ke){Ue.forEach(function(it){Le.get(it.id).push({id:Ke,gap:it.gap,direction:it.direction})})}),Le},"dagToReversed"),z=[],M=[],G=!1,Y=!1,V=new Set,X=new Map,re=new Map,de=[];if(v.fixedNodeConstraint&&v.fixedNodeConstraint.forEach(function(fe){V.add(fe.nodeId)}),v.relativePlacementConstraint&&(v.relativePlacementConstraint.forEach(function(fe){fe.left?(X.has(fe.left)?X.get(fe.left).push({id:fe.right,gap:fe.gap,direction:"horizontal"}):X.set(fe.left,[{id:fe.right,gap:fe.gap,direction:"horizontal"}]),X.has(fe.right)||X.set(fe.right,[])):(X.has(fe.top)?X.get(fe.top).push({id:fe.bottom,gap:fe.gap,direction:"vertical"}):X.set(fe.top,[{id:fe.bottom,gap:fe.gap,direction:"vertical"}]),X.has(fe.bottom)||X.set(fe.bottom,[]))}),re=B(X),de=S(re)),p.TRANSFORM_ON_CONSTRAINT_HANDLING){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>1)v.fixedNodeConstraint.forEach(function(fe,Le){z[Le]=[fe.position.x,fe.position.y],M[Le]=[E[w.get(fe.nodeId)],A[w.get(fe.nodeId)]]}),G=!0;else if(v.alignmentConstraint)(function(){var fe=0;if(v.alignmentConstraint.vertical){for(var Le=v.alignmentConstraint.vertical,Ue=o(function(at){var jt=new Set;Le[at].forEach(function(Zt){jt.add(Zt)});var mr=new Set([].concat(d(jt)).filter(function(Zt){return V.has(Zt)})),cr=void 0;mr.size>0?cr=E[w.get(mr.values().next().value)]:cr=O(jt).x,Le[at].forEach(function(Zt){z[fe]=[cr,A[w.get(Zt)]],M[fe]=[E[w.get(Zt)],A[w.get(Zt)]],fe++})},"_loop2"),Ke=0;Ke<Le.length;Ke++)Ue(Ke);G=!0}if(v.alignmentConstraint.horizontal){for(var it=v.alignmentConstraint.horizontal,qe=o(function(at){var jt=new Set;it[at].forEach(function(Zt){jt.add(Zt)});var mr=new Set([].concat(d(jt)).filter(function(Zt){return V.has(Zt)})),cr=void 0;mr.size>0?cr=E[w.get(mr.values().next().value)]:cr=O(jt).y,it[at].forEach(function(Zt){z[fe]=[E[w.get(Zt)],cr],M[fe]=[E[w.get(Zt)],A[w.get(Zt)]],fe++})},"_loop3"),xt=0;xt<it.length;xt++)qe(xt);G=!0}v.relativePlacementConstraint&&(Y=!0)})();else if(v.relativePlacementConstraint){for(var xe=0,he=0,be=0;be<de.length;be++)de[be].length>xe&&(xe=de[be].length,he=be);if(xe<re.size/2)q(v.relativePlacementConstraint),G=!1,Y=!1;else{var Q=new Map,ne=new Map,ee=[];de[he].forEach(function(fe){X.get(fe).forEach(function(Le){Le.direction=="horizontal"?(Q.has(fe)?Q.get(fe).push(Le):Q.set(fe,[Le]),Q.has(Le.id)||Q.set(Le.id,[]),ee.push({left:fe,right:Le.id})):(ne.has(fe)?ne.get(fe).push(Le):ne.set(fe,[Le]),ne.has(Le.id)||ne.set(Le.id,[]),ee.push({top:fe,bottom:Le.id}))})}),q(ee),Y=!1;var pe=I(Q,"horizontal"),ie=I(ne,"vertical");de[he].forEach(function(fe,Le){M[Le]=[E[w.get(fe)],A[w.get(fe)]],z[Le]=[],pe.has(fe)?z[Le][0]=pe.get(fe):z[Le][0]=E[w.get(fe)],ie.has(fe)?z[Le][1]=ie.get(fe):z[Le][1]=A[w.get(fe)]}),G=!0}}if(G){for(var De=void 0,se=g.transpose(z),je=g.transpose(M),ge=0;ge<se.length;ge++)se[ge]=g.multGamma(se[ge]),je[ge]=g.multGamma(je[ge]);var rt=g.multMat(se,g.transpose(je)),Qe=m.svd(rt);De=g.multMat(Qe.V,g.transpose(Qe.U));for(var tt=0;tt<w.size;tt++){var mt=[E[tt],A[tt]],yt=[De[0][0],De[1][0]],Nt=[De[0][1],De[1][1]];E[tt]=g.dotProduct(mt,yt),A[tt]=g.dotProduct(mt,Nt)}Y&&q(v.relativePlacementConstraint)}}if(p.ENFORCE_CONSTRAINTS){if(v.fixedNodeConstraint&&v.fixedNodeConstraint.length>0){var kt={x:0,y:0};v.fixedNodeConstraint.forEach(function(fe,Le){var Ue={x:E[w.get(fe.nodeId)],y:A[w.get(fe.nodeId)]},Ke=fe.position,it=P(Ke,Ue);kt.x+=it.x,kt.y+=it.y}),kt.x/=v.fixedNodeConstraint.length,kt.y/=v.fixedNodeConstraint.length,E.forEach(function(fe,Le){E[Le]+=kt.x}),A.forEach(function(fe,Le){A[Le]+=kt.y}),v.fixedNodeConstraint.forEach(function(fe){E[w.get(fe.nodeId)]=fe.position.x,A[w.get(fe.nodeId)]=fe.position.y})}if(v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var te=v.alignmentConstraint.vertical,Ne=o(function(fe){var Le=new Set;te[fe].forEach(function(it){Le.add(it)});var Ue=new Set([].concat(d(Le)).filter(function(it){return V.has(it)})),Ke=void 0;Ue.size>0?Ke=E[w.get(Ue.values().next().value)]:Ke=O(Le).x,Le.forEach(function(it){V.has(it)||(E[w.get(it)]=Ke)})},"_loop4"),Ce=0;Ce<te.length;Ce++)Ne(Ce);if(v.alignmentConstraint.horizontal)for(var Fe=v.alignmentConstraint.horizontal,oe=o(function(fe){var Le=new Set;Fe[fe].forEach(function(it){Le.add(it)});var Ue=new Set([].concat(d(Le)).filter(function(it){return V.has(it)})),Ke=void 0;Ue.size>0?Ke=A[w.get(Ue.values().next().value)]:Ke=O(Le).y,Le.forEach(function(it){V.has(it)||(A[w.get(it)]=Ke)})},"_loop5"),st=0;st<Fe.length;st++)oe(st)}v.relativePlacementConstraint&&function(){var fe=new Map,Le=new Map,Ue=new Map,Ke=new Map,it=new Map,qe=new Map,xt=new Set,at=new Set;if(V.forEach(function(_e){xt.add(_e),at.add(_e)}),v.alignmentConstraint){if(v.alignmentConstraint.vertical)for(var jt=v.alignmentConstraint.vertical,mr=o(function(_e){Ue.set("dummy"+_e,[]),jt[_e].forEach(function(yn){fe.set(yn,"dummy"+_e),Ue.get("dummy"+_e).push(yn),V.has(yn)&&xt.add("dummy"+_e)}),it.set("dummy"+_e,E[w.get(jt[_e][0])])},"_loop6"),cr=0;cr<jt.length;cr++)mr(cr);if(v.alignmentConstraint.horizontal)for(var Zt=v.alignmentConstraint.horizontal,vr=o(function(_e){Ke.set("dummy"+_e,[]),Zt[_e].forEach(function(yn){Le.set(yn,"dummy"+_e),Ke.get("dummy"+_e).push(yn),V.has(yn)&&at.add("dummy"+_e)}),qe.set("dummy"+_e,A[w.get(Zt[_e][0])])},"_loop7"),Gt=0;Gt<Zt.length;Gt++)vr(Gt)}var Tt=new Map,wt=new Map,pr=o(function(_e){X.get(_e).forEach(function(yn){var Re=void 0,Ji=void 0;yn.direction=="horizontal"?(Re=fe.get(_e)?fe.get(_e):_e,fe.get(yn.id)?Ji={id:fe.get(yn.id),gap:yn.gap,direction:yn.direction}:Ji=yn,Tt.has(Re)?Tt.get(Re).push(Ji):Tt.set(Re,[Ji]),Tt.has(Ji.id)||Tt.set(Ji.id,[])):(Re=Le.get(_e)?Le.get(_e):_e,Le.get(yn.id)?Ji={id:Le.get(yn.id),gap:yn.gap,direction:yn.direction}:Ji=yn,wt.has(Re)?wt.get(Re).push(Ji):wt.set(Re,[Ji]),wt.has(Ji.id)||wt.set(Ji.id,[]))})},"_loop8"),Mt=!0,Rr=!1,Cr=void 0;try{for(var Kt=X.keys()[Symbol.iterator](),Xt;!(Mt=(Xt=Kt.next()).done);Mt=!0){var Ft=Xt.value;pr(Ft)}}catch(_e){Rr=!0,Cr=_e}finally{try{!Mt&&Kt.return&&Kt.return()}finally{if(Rr)throw Cr}}var Tr=B(Tt),ir=B(wt),oi=S(Tr),xn=S(ir),On=F(Tt),Qi=F(wt),fi=[],aa=[];oi.forEach(function(_e,yn){fi[yn]=[],_e.forEach(function(Re){On.get(Re).length==0&&fi[yn].push(Re)})}),xn.forEach(function(_e,yn){aa[yn]=[],_e.forEach(function(Re){Qi.get(Re).length==0&&aa[yn].push(Re)})});var zi=I(Tt,"horizontal",xt,it,fi),sa=I(wt,"vertical",at,qe,aa),Be=o(function(_e){Ue.get(_e)?Ue.get(_e).forEach(function(yn){E[w.get(yn)]=zi.get(_e)}):E[w.get(_e)]=zi.get(_e)},"_loop9"),rr=!0,tr=!1,qn=void 0;try{for(var jn=zi.keys()[Symbol.iterator](),Ai;!(rr=(Ai=jn.next()).done);rr=!0){var qi=Ai.value;Be(qi)}}catch(_e){tr=!0,qn=_e}finally{try{!rr&&jn.return&&jn.return()}finally{if(tr)throw qn}}var ba=o(function(_e){Ke.get(_e)?Ke.get(_e).forEach(function(yn){A[w.get(yn)]=sa.get(_e)}):A[w.get(_e)]=sa.get(_e)},"_loop10"),Ri=!0,Qt=!1,kr=void 0;try{for(var Vt=sa.keys()[Symbol.iterator](),li;!(Ri=(li=Vt.next()).done);Ri=!0){var qi=li.value;ba(qi)}}catch(_e){Qt=!0,kr=_e}finally{try{!Ri&&Vt.return&&Vt.return()}finally{if(Qt)throw kr}}}()}for(var ae=0;ae<N.length;ae++){var ht=N[ae];ht.getChild()==null&&ht.setCenter(E[w.get(ht.id)],A[w.get(ht.id)])}},l.exports=y},551:l=>{l.exports=r}},i={};function a(l){var u=i[l];if(u!==void 0)return u.exports;var h=i[l]={exports:{}};return n[l](h,h.exports,a),h.exports}o(a,"__webpack_require__");var s=a(45);return s})()})}),Ttt=St((e,t)=>{"use strict";o(function(r,n){typeof e=="object"&&typeof t=="object"?t.exports=n(xqe()):typeof define=="function"&&define.amd?define(["cose-base"],n):typeof e=="object"?e.cytoscapeFcose=n(xqe()):r.cytoscapeFcose=n(r.coseBase)},"webpackUniversalModuleDefinition")(e,function(r){return(()=>{"use strict";var n={658:l=>{l.exports=Object.assign!=null?Object.assign.bind(Object):function(u){for(var h=arguments.length,d=Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return d.forEach(function(f){Object.keys(f).forEach(function(g){return u[g]=f[g]})}),u}},548:(l,u,h)=>{var d=function(){function g(m,y){var b=[],v=!0,x=!1,w=void 0;try{for(var E=m[Symbol.iterator](),A;!(v=(A=E.next()).done)&&(b.push(A.value),!(y&&b.length===y));v=!0);}catch(N){x=!0,w=N}finally{try{!v&&E.return&&E.return()}finally{if(x)throw w}}return b}return o(g,"sliceIterator"),function(m,y){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return g(m,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=h(140).layoutBase.LinkedList,f={};f.getTopMostNodes=function(g){for(var m={},y=0;y<g.length;y++)m[g[y].id()]=!0;var b=g.filter(function(v,x){typeof v=="number"&&(v=x);for(var w=v.parent()[0];w!=null;){if(m[w.id()])return!1;w=w.parent()[0]}return!0});return b},f.connectComponents=function(g,m,y,b){var v=new p,x=new Set,w=[],E=void 0,A=void 0,N=void 0,L=!1,C=1,D=[],P=[],O=o(function(){var I=g.collection();P.push(I);var q=y[0],S=g.collection();S.merge(q).merge(q.descendants().intersection(m)),w.push(q),S.forEach(function(z){v.push(z),x.add(z),I.merge(z)});for(var B=o(function(){q=v.shift();var z=g.collection();q.neighborhood().nodes().forEach(function(V){m.intersection(q.edgesWith(V)).length>0&&z.merge(V)});for(var M=0;M<z.length;M++){var G=z[M];if(E=y.intersection(G.union(G.ancestors())),E!=null&&!x.has(E[0])){var Y=E.union(E.descendants());Y.forEach(function(V){v.push(V),x.add(V),I.merge(V),y.has(V)&&w.push(V)})}}},"_loop2");v.length!=0;)B();if(I.forEach(function(z){m.intersection(z.connectedEdges()).forEach(function(M){I.has(M.source())&&I.has(M.target())&&I.merge(M)})}),w.length==y.length&&(L=!0),!L||L&&C>1){A=w[0],N=A.connectedEdges().length,w.forEach(function(z){z.connectedEdges().length<N&&(N=z.connectedEdges().length,A=z)}),D.push(A.id());var F=g.collection();F.merge(w[0]),w.forEach(function(z){F.merge(z)}),w=[],y=y.difference(F),C++}},"_loop");do O();while(!L);return b&&D.length>0&&b.set("dummy"+(b.size+1),D),P},f.relocateComponent=function(g,m,y){if(!y.fixedNodeConstraint){var b=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,x=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY;if(y.quality=="draft"){var E=!0,A=!1,N=void 0;try{for(var L=m.nodeIndexes[Symbol.iterator](),C;!(E=(C=L.next()).done);E=!0){var D=C.value,P=d(D,2),O=P[0],I=P[1],q=y.cy.getElementById(O);if(q){var S=q.boundingBox(),B=m.xCoords[I]-S.w/2,F=m.xCoords[I]+S.w/2,z=m.yCoords[I]-S.h/2,M=m.yCoords[I]+S.h/2;B<b&&(b=B),F>v&&(v=F),z<x&&(x=z),M>w&&(w=M)}}}catch(re){A=!0,N=re}finally{try{!E&&L.return&&L.return()}finally{if(A)throw N}}var G=g.x-(v+b)/2,Y=g.y-(w+x)/2;m.xCoords=m.xCoords.map(function(re){return re+G}),m.yCoords=m.yCoords.map(function(re){return re+Y})}else{Object.keys(m).forEach(function(re){var de=m[re],xe=de.getRect().x,he=de.getRect().x+de.getRect().width,be=de.getRect().y,Q=de.getRect().y+de.getRect().height;xe<b&&(b=xe),he>v&&(v=he),be<x&&(x=be),Q>w&&(w=Q)});var V=g.x-(v+b)/2,X=g.y-(w+x)/2;Object.keys(m).forEach(function(re){var de=m[re];de.setCenter(de.getCenterX()+V,de.getCenterY()+X)})}}},f.calcBoundingBox=function(g,m,y,b){for(var v=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,w=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,A=void 0,N=void 0,L=void 0,C=void 0,D=g.descendants().not(":parent"),P=D.length,O=0;O<P;O++){var I=D[O];A=m[b.get(I.id())]-I.width()/2,N=m[b.get(I.id())]+I.width()/2,L=y[b.get(I.id())]-I.height()/2,C=y[b.get(I.id())]+I.height()/2,v>A&&(v=A),x<N&&(x=N),w>L&&(w=L),E<C&&(E=C)}var q={};return q.topLeftX=v,q.topLeftY=w,q.width=x-v,q.height=E-w,q},f.calcParentsWithoutChildren=function(g,m){var y=g.collection();return m.nodes(":parent").forEach(function(b){var v=!1;b.children().forEach(function(x){x.css("display")!="none"&&(v=!0)}),v||y.merge(b)}),y},l.exports=f},816:(l,u,h)=>{var d=h(548),p=h(140).CoSELayout,f=h(140).CoSENode,g=h(140).layoutBase.PointD,m=h(140).layoutBase.DimensionD,y=h(140).layoutBase.LayoutConstants,b=h(140).layoutBase.FDLayoutConstants,v=h(140).CoSEConstants,x=o(function(w,E){var A=w.cy,N=w.eles,L=N.nodes(),C=N.edges(),D=void 0,P=void 0,O=void 0,I={};w.randomize&&(D=E.nodeIndexes,P=E.xCoords,O=E.yCoords);var q=o(function(V){return typeof V=="function"},"isFn"),S=o(function(V,X){return q(V)?V(X):V},"optFn"),B=d.calcParentsWithoutChildren(A,N),F=o(function V(X,re,de,xe){for(var he=re.length,be=0;be<he;be++){var Q=re[be],ne=null;Q.intersection(B).length==0&&(ne=Q.children());var ee=void 0,pe=Q.layoutDimensions({nodeDimensionsIncludeLabels:xe.nodeDimensionsIncludeLabels});if(Q.outerWidth()!=null&&Q.outerHeight()!=null)if(xe.randomize)if(!Q.isParent())ee=X.add(new f(de.graphManager,new g(P[D.get(Q.id())]-pe.w/2,O[D.get(Q.id())]-pe.h/2),new m(parseFloat(pe.w),parseFloat(pe.h))));else{var ie=d.calcBoundingBox(Q,P,O,D);Q.intersection(B).length==0?ee=X.add(new f(de.graphManager,new g(ie.topLeftX,ie.topLeftY),new m(ie.width,ie.height))):ee=X.add(new f(de.graphManager,new g(ie.topLeftX,ie.topLeftY),new m(parseFloat(pe.w),parseFloat(pe.h))))}else ee=X.add(new f(de.graphManager,new g(Q.position("x")-pe.w/2,Q.position("y")-pe.h/2),new m(parseFloat(pe.w),parseFloat(pe.h))));else ee=X.add(new f(this.graphManager));if(ee.id=Q.data("id"),ee.nodeRepulsion=S(xe.nodeRepulsion,Q),ee.paddingLeft=parseInt(Q.css("padding")),ee.paddingTop=parseInt(Q.css("padding")),ee.paddingRight=parseInt(Q.css("padding")),ee.paddingBottom=parseInt(Q.css("padding")),xe.nodeDimensionsIncludeLabels&&(ee.labelWidth=Q.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,ee.labelHeight=Q.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,ee.labelPosVertical=Q.css("text-valign"),ee.labelPosHorizontal=Q.css("text-halign")),I[Q.data("id")]=ee,isNaN(ee.rect.x)&&(ee.rect.x=0),isNaN(ee.rect.y)&&(ee.rect.y=0),ne!=null&&ne.length>0){var De=void 0;De=de.getGraphManager().add(de.newGraph(),ee),V(De,ne,de,xe)}}},"processChildrenList"),z=o(function(V,X,re){for(var de=0,xe=0,he=0;he<re.length;he++){var be=re[he],Q=I[be.data("source")],ne=I[be.data("target")];if(Q&&ne&&Q!==ne&&Q.getEdgesBetween(ne).length==0){var ee=X.add(V.newEdge(),Q,ne);ee.id=be.id(),ee.idealLength=S(w.idealEdgeLength,be),ee.edgeElasticity=S(w.edgeElasticity,be),de+=ee.idealLength,xe++}}w.idealEdgeLength!=null&&(xe>0?v.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=de/xe:q(w.idealEdgeLength)?v.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=50:v.DEFAULT_EDGE_LENGTH=b.DEFAULT_EDGE_LENGTH=w.idealEdgeLength,v.MIN_REPULSION_DIST=b.MIN_REPULSION_DIST=b.DEFAULT_EDGE_LENGTH/10,v.DEFAULT_RADIAL_SEPARATION=b.DEFAULT_EDGE_LENGTH)},"processEdges"),M=o(function(V,X){X.fixedNodeConstraint&&(V.constraints.fixedNodeConstraint=X.fixedNodeConstraint),X.alignmentConstraint&&(V.constraints.alignmentConstraint=X.alignmentConstraint),X.relativePlacementConstraint&&(V.constraints.relativePlacementConstraint=X.relativePlacementConstraint)},"processConstraints");w.nestingFactor!=null&&(v.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=b.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=w.nestingFactor),w.gravity!=null&&(v.DEFAULT_GRAVITY_STRENGTH=b.DEFAULT_GRAVITY_STRENGTH=w.gravity),w.numIter!=null&&(v.MAX_ITERATIONS=b.MAX_ITERATIONS=w.numIter),w.gravityRange!=null&&(v.DEFAULT_GRAVITY_RANGE_FACTOR=b.DEFAULT_GRAVITY_RANGE_FACTOR=w.gravityRange),w.gravityCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_STRENGTH=b.DEFAULT_COMPOUND_GRAVITY_STRENGTH=w.gravityCompound),w.gravityRangeCompound!=null&&(v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=b.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=w.gravityRangeCompound),w.initialEnergyOnIncremental!=null&&(v.DEFAULT_COOLING_FACTOR_INCREMENTAL=b.DEFAULT_COOLING_FACTOR_INCREMENTAL=w.initialEnergyOnIncremental),w.tilingCompareBy!=null&&(v.TILING_COMPARE_BY=w.tilingCompareBy),w.quality=="proof"?y.QUALITY=2:y.QUALITY=0,v.NODE_DIMENSIONS_INCLUDE_LABELS=b.NODE_DIMENSIONS_INCLUDE_LABELS=y.NODE_DIMENSIONS_INCLUDE_LABELS=w.nodeDimensionsIncludeLabels,v.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=!w.randomize,v.ANIMATE=b.ANIMATE=y.ANIMATE=w.animate,v.TILE=w.tile,v.TILING_PADDING_VERTICAL=typeof w.tilingPaddingVertical=="function"?w.tilingPaddingVertical.call():w.tilingPaddingVertical,v.TILING_PADDING_HORIZONTAL=typeof w.tilingPaddingHorizontal=="function"?w.tilingPaddingHorizontal.call():w.tilingPaddingHorizontal,v.DEFAULT_INCREMENTAL=b.DEFAULT_INCREMENTAL=y.DEFAULT_INCREMENTAL=!0,v.PURE_INCREMENTAL=!w.randomize,y.DEFAULT_UNIFORM_LEAF_NODE_SIZES=w.uniformNodeDimensions,w.step=="transformed"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!1),w.step=="enforced"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!1),w.step=="cose"&&(v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!1,v.APPLY_LAYOUT=!0),w.step=="all"&&(w.randomize?v.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:v.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,v.ENFORCE_CONSTRAINTS=!0,v.APPLY_LAYOUT=!0),w.fixedNodeConstraint||w.alignmentConstraint||w.relativePlacementConstraint?v.TREE_REDUCTION_ON_INCREMENTAL=!1:v.TREE_REDUCTION_ON_INCREMENTAL=!0;var G=new p,Y=G.newGraphManager();return F(Y.addRoot(),d.getTopMostNodes(L),G,w),z(G,Y,C),M(G,w),G.runLayout(),I},"coseLayout");l.exports={coseLayout:x}},212:(l,u,h)=>{var d=function(){function E(A,N){for(var L=0;L<N.length;L++){var C=N[L];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(A,C.key,C)}}return o(E,"defineProperties"),function(A,N,L){return N&&E(A.prototype,N),L&&E(A,L),A}}();function p(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}o(p,"_classCallCheck");var f=h(658),g=h(548),m=h(657),y=m.spectralLayout,b=h(816),v=b.coseLayout,x=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:o(function(E){return 4500},"nodeRepulsion"),idealEdgeLength:o(function(E){return 50},"idealEdgeLength"),edgeElasticity:o(function(E){return .45},"edgeElasticity"),nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:o(function(){},"ready"),stop:o(function(){},"stop")}),w=function(){function E(A){p(this,E),this.options=f({},x,A)}return o(E,"Layout"),d(E,[{key:"run",value:o(function(){var A=this,N=this.options,L=N.cy,C=N.eles,D=[],P=void 0,O=void 0,I=[],q=void 0,S=[];N.fixedNodeConstraint&&(!Array.isArray(N.fixedNodeConstraint)||N.fixedNodeConstraint.length==0)&&(N.fixedNodeConstraint=void 0),N.alignmentConstraint&&(N.alignmentConstraint.vertical&&(!Array.isArray(N.alignmentConstraint.vertical)||N.alignmentConstraint.vertical.length==0)&&(N.alignmentConstraint.vertical=void 0),N.alignmentConstraint.horizontal&&(!Array.isArray(N.alignmentConstraint.horizontal)||N.alignmentConstraint.horizontal.length==0)&&(N.alignmentConstraint.horizontal=void 0)),N.relativePlacementConstraint&&(!Array.isArray(N.relativePlacementConstraint)||N.relativePlacementConstraint.length==0)&&(N.relativePlacementConstraint=void 0);var B=N.fixedNodeConstraint||N.alignmentConstraint||N.relativePlacementConstraint;B&&(N.tile=!1,N.packComponents=!1);var F=void 0,z=!1;if(L.layoutUtilities&&N.packComponents&&(F=L.layoutUtilities("get"),F||(F=L.layoutUtilities()),z=!0),C.nodes().length>0)if(z){var M=g.getTopMostNodes(N.eles.nodes());if(q=g.connectComponents(L,N.eles,M),q.forEach(function(Qe){var tt=Qe.boundingBox();S.push({x:tt.x1+tt.w/2,y:tt.y1+tt.h/2})}),N.randomize&&q.forEach(function(Qe){N.eles=Qe,D.push(y(N))}),N.quality=="default"||N.quality=="proof"){var G=L.collection();if(N.tile){var Y=new Map,V=[],X=[],re=0,de={nodeIndexes:Y,xCoords:V,yCoords:X},xe=[];if(q.forEach(function(Qe,tt){Qe.edges().length==0&&(Qe.nodes().forEach(function(mt,yt){G.merge(Qe.nodes()[yt]),mt.isParent()||(de.nodeIndexes.set(Qe.nodes()[yt].id(),re++),de.xCoords.push(Qe.nodes()[0].position().x),de.yCoords.push(Qe.nodes()[0].position().y))}),xe.push(tt))}),G.length>1){var he=G.boundingBox();S.push({x:he.x1+he.w/2,y:he.y1+he.h/2}),q.push(G),D.push(de);for(var be=xe.length-1;be>=0;be--)q.splice(xe[be],1),D.splice(xe[be],1),S.splice(xe[be],1)}}q.forEach(function(Qe,tt){N.eles=Qe,I.push(v(N,D[tt])),g.relocateComponent(S[tt],I[tt],N)})}else q.forEach(function(Qe,tt){g.relocateComponent(S[tt],D[tt],N)});var Q=new Set;if(q.length>1){var ne=[],ee=C.filter(function(Qe){return Qe.css("display")=="none"});q.forEach(function(Qe,tt){var mt=void 0;if(N.quality=="draft"&&(mt=D[tt].nodeIndexes),Qe.nodes().not(ee).length>0){var yt={};yt.edges=[],yt.nodes=[];var Nt=void 0;Qe.nodes().not(ee).forEach(function(kt){if(N.quality=="draft")if(!kt.isParent())Nt=mt.get(kt.id()),yt.nodes.push({x:D[tt].xCoords[Nt]-kt.boundingbox().w/2,y:D[tt].yCoords[Nt]-kt.boundingbox().h/2,width:kt.boundingbox().w,height:kt.boundingbox().h});else{var te=g.calcBoundingBox(kt,D[tt].xCoords,D[tt].yCoords,mt);yt.nodes.push({x:te.topLeftX,y:te.topLeftY,width:te.width,height:te.height})}else I[tt][kt.id()]&&yt.nodes.push({x:I[tt][kt.id()].getLeft(),y:I[tt][kt.id()].getTop(),width:I[tt][kt.id()].getWidth(),height:I[tt][kt.id()].getHeight()})}),Qe.edges().forEach(function(kt){var te=kt.source(),Ne=kt.target();if(te.css("display")!="none"&&Ne.css("display")!="none")if(N.quality=="draft"){var Ce=mt.get(te.id()),Fe=mt.get(Ne.id()),oe=[],st=[];if(te.isParent()){var ae=g.calcBoundingBox(te,D[tt].xCoords,D[tt].yCoords,mt);oe.push(ae.topLeftX+ae.width/2),oe.push(ae.topLeftY+ae.height/2)}else oe.push(D[tt].xCoords[Ce]),oe.push(D[tt].yCoords[Ce]);if(Ne.isParent()){var ht=g.calcBoundingBox(Ne,D[tt].xCoords,D[tt].yCoords,mt);st.push(ht.topLeftX+ht.width/2),st.push(ht.topLeftY+ht.height/2)}else st.push(D[tt].xCoords[Fe]),st.push(D[tt].yCoords[Fe]);yt.edges.push({startX:oe[0],startY:oe[1],endX:st[0],endY:st[1]})}else I[tt][te.id()]&&I[tt][Ne.id()]&&yt.edges.push({startX:I[tt][te.id()].getCenterX(),startY:I[tt][te.id()].getCenterY(),endX:I[tt][Ne.id()].getCenterX(),endY:I[tt][Ne.id()].getCenterY()})}),yt.nodes.length>0&&(ne.push(yt),Q.add(tt))}});var pe=F.packComponents(ne,N.randomize).shifts;if(N.quality=="draft")D.forEach(function(Qe,tt){var mt=Qe.xCoords.map(function(Nt){return Nt+pe[tt].dx}),yt=Qe.yCoords.map(function(Nt){return Nt+pe[tt].dy});Qe.xCoords=mt,Qe.yCoords=yt});else{var ie=0;Q.forEach(function(Qe){Object.keys(I[Qe]).forEach(function(tt){var mt=I[Qe][tt];mt.setCenter(mt.getCenterX()+pe[ie].dx,mt.getCenterY()+pe[ie].dy)}),ie++})}}}else{var De=N.eles.boundingBox();if(S.push({x:De.x1+De.w/2,y:De.y1+De.h/2}),N.randomize){var se=y(N);D.push(se)}N.quality=="default"||N.quality=="proof"?(I.push(v(N,D[0])),g.relocateComponent(S[0],I[0],N)):g.relocateComponent(S[0],D[0],N)}var je=o(function(Qe,tt){if(N.quality=="default"||N.quality=="proof"){typeof Qe=="number"&&(Qe=tt);var mt=void 0,yt=void 0,Nt=Qe.data("id");return I.forEach(function(te){Nt in te&&(mt={x:te[Nt].getRect().getCenterX(),y:te[Nt].getRect().getCenterY()},yt=te[Nt])}),N.nodeDimensionsIncludeLabels&&(yt.labelWidth&&(yt.labelPosHorizontal=="left"?mt.x+=yt.labelWidth/2:yt.labelPosHorizontal=="right"&&(mt.x-=yt.labelWidth/2)),yt.labelHeight&&(yt.labelPosVertical=="top"?mt.y+=yt.labelHeight/2:yt.labelPosVertical=="bottom"&&(mt.y-=yt.labelHeight/2))),mt==null&&(mt={x:Qe.position("x"),y:Qe.position("y")}),{x:mt.x,y:mt.y}}else{var kt=void 0;return D.forEach(function(te){var Ne=te.nodeIndexes.get(Qe.id());Ne!=null&&(kt={x:te.xCoords[Ne],y:te.yCoords[Ne]})}),kt==null&&(kt={x:Qe.position("x"),y:Qe.position("y")}),{x:kt.x,y:kt.y}}},"getPositions");if(N.quality=="default"||N.quality=="proof"||N.randomize){var ge=g.calcParentsWithoutChildren(L,C),rt=C.filter(function(Qe){return Qe.css("display")=="none"});N.eles=C.not(rt),C.nodes().not(":parent").not(rt).layoutPositions(A,N,je),ge.length>0&&ge.forEach(function(Qe){Qe.position(je(Qe))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")},"run")}]),E}();l.exports=w},657:(l,u,h)=>{var d=h(548),p=h(140).layoutBase.Matrix,f=h(140).layoutBase.SVD,g=o(function(m){var y=m.cy,b=m.eles,v=b.nodes(),x=b.nodes(":parent"),w=new Map,E=new Map,A=new Map,N=[],L=[],C=[],D=[],P=[],O=[],I=[],q=[],S=void 0,B=void 0,F=1e8,z=1e-9,M=m.piTol,G=m.samplingType,Y=m.nodeSeparation,V=void 0,X=o(function(){for(var fe=0,Le=0,Ue=!1;Le<V;){fe=Math.floor(Math.random()*B),Ue=!1;for(var Ke=0;Ke<Le;Ke++)if(D[Ke]==fe){Ue=!0;break}if(!Ue)D[Le]=fe,Le++;else continue}},"randomSampleCR"),re=o(function(fe,Le,Ue){for(var Ke=[],it=0,qe=0,xt=0,at=void 0,jt=[],mr=0,cr=1,Zt=0;Zt<B;Zt++)jt[Zt]=F;for(Ke[qe]=fe,jt[fe]=0;qe>=it;){xt=Ke[it++];for(var vr=N[xt],Gt=0;Gt<vr.length;Gt++)at=E.get(vr[Gt]),jt[at]==F&&(jt[at]=jt[xt]+1,Ke[++qe]=at);O[xt][Le]=jt[xt]*Y}if(Ue){for(var Tt=0;Tt<B;Tt++)O[Tt][Le]<P[Tt]&&(P[Tt]=O[Tt][Le]);for(var wt=0;wt<B;wt++)P[wt]>mr&&(mr=P[wt],cr=wt)}return cr},"BFS"),de=o(function(fe){var Le=void 0;if(fe){Le=Math.floor(Math.random()*B),S=Le;for(var Ue=0;Ue<B;Ue++)P[Ue]=F;for(var Ke=0;Ke<V;Ke++)D[Ke]=Le,Le=re(Le,Ke,fe)}else{X();for(var it=0;it<V;it++)re(D[it],it,fe,!1)}for(var qe=0;qe<B;qe++)for(var xt=0;xt<V;xt++)O[qe][xt]*=O[qe][xt];for(var at=0;at<V;at++)I[at]=[];for(var jt=0;jt<V;jt++)for(var mr=0;mr<V;mr++)I[jt][mr]=O[D[mr]][jt]},"allBFS"),xe=o(function(){for(var fe=f.svd(I),Le=fe.S,Ue=fe.U,Ke=fe.V,it=Le[0]*Le[0]*Le[0],qe=[],xt=0;xt<V;xt++){qe[xt]=[];for(var at=0;at<V;at++)qe[xt][at]=0,xt==at&&(qe[xt][at]=Le[xt]/(Le[xt]*Le[xt]+it/(Le[xt]*Le[xt])))}q=p.multMat(p.multMat(Ke,qe),p.transpose(Ue))},"sample"),he=o(function(){for(var fe=void 0,Le=void 0,Ue=[],Ke=[],it=[],qe=[],xt=0;xt<B;xt++)Ue[xt]=Math.random(),Ke[xt]=Math.random();Ue=p.normalize(Ue),Ke=p.normalize(Ke);for(var at=0,jt=z,mr=z,cr=void 0;;){at++;for(var Zt=0;Zt<B;Zt++)it[Zt]=Ue[Zt];if(Ue=p.multGamma(p.multL(p.multGamma(it),O,q)),fe=p.dotProduct(it,Ue),Ue=p.normalize(Ue),jt=p.dotProduct(it,Ue),cr=Math.abs(jt/mr),cr<=1+M&&cr>=1)break;mr=jt}for(var vr=0;vr<B;vr++)it[vr]=Ue[vr];for(at=0,mr=z;;){at++;for(var Gt=0;Gt<B;Gt++)qe[Gt]=Ke[Gt];if(qe=p.minusOp(qe,p.multCons(it,p.dotProduct(it,qe))),Ke=p.multGamma(p.multL(p.multGamma(qe),O,q)),Le=p.dotProduct(qe,Ke),Ke=p.normalize(Ke),jt=p.dotProduct(qe,Ke),cr=Math.abs(jt/mr),cr<=1+M&&cr>=1)break;mr=jt}for(var Tt=0;Tt<B;Tt++)qe[Tt]=Ke[Tt];L=p.multCons(it,Math.sqrt(Math.abs(fe))),C=p.multCons(qe,Math.sqrt(Math.abs(Le)))},"powerIteration");d.connectComponents(y,b,d.getTopMostNodes(v),w),x.forEach(function(fe){d.connectComponents(y,b,d.getTopMostNodes(fe.descendants().intersection(b)),w)});for(var be=0,Q=0;Q<v.length;Q++)v[Q].isParent()||E.set(v[Q].id(),be++);var ne=!0,ee=!1,pe=void 0;try{for(var ie=w.keys()[Symbol.iterator](),De;!(ne=(De=ie.next()).done);ne=!0){var se=De.value;E.set(se,be++)}}catch(fe){ee=!0,pe=fe}finally{try{!ne&&ie.return&&ie.return()}finally{if(ee)throw pe}}for(var je=0;je<E.size;je++)N[je]=[];x.forEach(function(fe){for(var Le=fe.children().intersection(b);Le.nodes(":childless").length==0;)Le=Le.nodes()[0].children().intersection(b);var Ue=0,Ke=Le.nodes(":childless")[0].connectedEdges().length;Le.nodes(":childless").forEach(function(it,qe){it.connectedEdges().length<Ke&&(Ke=it.connectedEdges().length,Ue=qe)}),A.set(fe.id(),Le.nodes(":childless")[Ue].id())}),v.forEach(function(fe){var Le=void 0;fe.isParent()?Le=E.get(A.get(fe.id())):Le=E.get(fe.id()),fe.neighborhood().nodes().forEach(function(Ue){b.intersection(fe.edgesWith(Ue)).length>0&&(Ue.isParent()?N[Le].push(A.get(Ue.id())):N[Le].push(Ue.id()))})});var ge=o(function(fe){var Le=E.get(fe),Ue=void 0;w.get(fe).forEach(function(Ke){y.getElementById(Ke).isParent()?Ue=A.get(Ke):Ue=Ke,N[Le].push(Ue),N[E.get(Ue)].push(fe)})},"_loop"),rt=!0,Qe=!1,tt=void 0;try{for(var mt=w.keys()[Symbol.iterator](),yt;!(rt=(yt=mt.next()).done);rt=!0){var Nt=yt.value;ge(Nt)}}catch(fe){Qe=!0,tt=fe}finally{try{!rt&&mt.return&&mt.return()}finally{if(Qe)throw tt}}B=E.size;var kt=void 0;if(B>2){V=B<m.sampleSize?B:m.sampleSize;for(var te=0;te<B;te++)O[te]=[];for(var Ne=0;Ne<V;Ne++)q[Ne]=[];return m.quality=="draft"||m.step=="all"?(de(G),xe(),he(),kt={nodeIndexes:E,xCoords:L,yCoords:C}):(E.forEach(function(fe,Le){L.push(y.getElementById(Le).position("x")),C.push(y.getElementById(Le).position("y"))}),kt={nodeIndexes:E,xCoords:L,yCoords:C}),kt}else{var Ce=E.keys(),Fe=y.getElementById(Ce.next().value),oe=Fe.position(),st=Fe.outerWidth();if(L.push(oe.x),C.push(oe.y),B==2){var ae=y.getElementById(Ce.next().value),ht=ae.outerWidth();L.push(oe.x+st/2+ht/2+m.idealEdgeLength),C.push(oe.y)}return kt={nodeIndexes:E,xCoords:L,yCoords:C},kt}},"spectralLayout");l.exports={spectralLayout:g}},579:(l,u,h)=>{var d=h(212),p=o(function(f){f&&f("layout","fcose",d)},"register");typeof cytoscape<"u"&&p(cytoscape),l.exports=p},140:l=>{l.exports=r}},i={};function a(l){var u=i[l];if(u!==void 0)return u.exports;var h=i[l]={exports:{}};return n[l](h,h.exports,a),h.exports}o(a,"__webpack_require__");var s=a(579);return s})()})}),Yg,vy,wqe=R(()=>{"use strict";Pe(),Yg=o(e=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${e}</g>`,"wrapIcon"),vy={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:Yg('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:Yg('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:Yg('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:Yg('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:Yg('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:ar,blank:{body:Yg("")}}}}),kqe,Tqe,Eqe,Cqe,Ett=R(()=>{"use strict";Pe(),zr(),eh(),EC(),wqe(),kH(),kqe=o(async function(e,t){let r=Ts("padding"),n=Ts("iconSize"),i=n/2,a=n/6,s=a/2;await Promise.all(t.edges().map(async l=>{let{source:u,sourceDir:h,sourceArrow:d,sourceGroup:p,target:f,targetDir:g,targetArrow:m,targetGroup:y,label:b}=wH(l),{x:v,y:x}=l[0].sourceEndpoint(),{x:w,y:E}=l[0].midpoint(),{x:A,y:N}=l[0].targetEndpoint(),L=r+4;if(p&&(al(h)?v+=h==="L"?-L:L:x+=h==="T"?-L:L+18),y&&(al(g)?A+=g==="L"?-L:L:N+=g==="T"?-L:L+18),!p&&lx.getNode(u)?.type==="junction"&&(al(h)?v+=h==="L"?i:-i:x+=h==="T"?i:-i),!y&&lx.getNode(f)?.type==="junction"&&(al(g)?A+=g==="L"?i:-i:N+=g==="T"?i:-i),l[0]._private.rscratch){let C=e.insert("g");if(C.insert("path").attr("d",`M ${v},${x} L ${w},${E} L${A},${N} `).attr("class","edge"),d){let D=al(h)?ox[h](v,a):v-s,P=H0(h)?ox[h](x,a):x-s;C.insert("polygon").attr("points",vH[h](a)).attr("transform",`translate(${D},${P})`).attr("class","arrow")}if(m){let D=al(g)?ox[g](A,a):A-s,P=H0(g)?ox[g](N,a):N-s;C.insert("polygon").attr("points",vH[g](a)).attr("transform",`translate(${D},${P})`).attr("class","arrow")}if(b){let D=xH(h,g)?"XY":al(h)?"X":"Y",P=0;D==="X"?P=Math.abs(v-A):D==="Y"?P=Math.abs(x-N)/1.5:P=Math.abs(v-A)/2;let O=C.append("g");if(await Vl(O,b,{useHtmlLabels:!1,width:P,classes:"architecture-service-label"},Ge()),O.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),D==="X")O.attr("transform","translate("+w+", "+E+")");else if(D==="Y")O.attr("transform","translate("+w+", "+E+") rotate(-90)");else if(D==="XY"){let I=TC(h,g);if(I&&Xze(I)){let q=O.node().getBoundingClientRect(),[S,B]=Qze(I);O.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*S*B*45})`);let F=O.node().getBoundingClientRect();O.attr("transform",`
                translate(${w}, ${E-q.height/2})
                translate(${S*F.width/2}, ${B*F.height/2})
                rotate(${-1*S*B*45}, 0, ${q.height/2})
              `)}}}}}))},"drawEdges"),Tqe=o(async function(e,t){let r=Ts("padding")*.75,n=Ts("fontSize"),i=Ts("iconSize")/2;await Promise.all(t.nodes().map(async a=>{let s=Gg(a);if(s.type==="group"){let{h:l,w:u,x1:h,y1:d}=a.boundingBox();e.append("rect").attr("x",h+i).attr("y",d+i).attr("width",u).attr("height",l).attr("class","node-bkg");let p=e.append("g"),f=h,g=d;if(s.icon){let m=p.append("g");m.html(`<g>${await Ye(s.icon,{height:r,width:r,fallbackPrefix:vy.prefix})}</g>`),m.attr("transform","translate("+(f+i+1)+", "+(g+i+1)+")"),f+=r,g+=n/2-1-2}if(s.label){let m=p.append("g");await Vl(m,s.label,{useHtmlLabels:!1,width:u,classes:"architecture-service-label"},Ge()),m.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),m.attr("transform","translate("+(f+i+4)+", "+(g+i+2)+")")}}}))},"drawGroups"),Eqe=o(async function(e,t,r){for(let n of r){let i=t.append("g"),a=Ts("iconSize");if(n.title){let h=i.append("g");await Vl(h,n.title,{useHtmlLabels:!1,width:a*1.5,classes:"architecture-service-label"},Ge()),h.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),h.attr("transform","translate("+a/2+", "+a+")")}let s=i.append("g");if(n.icon)s.html(`<g>${await Ye(n.icon,{height:a,width:a,fallbackPrefix:vy.prefix})}</g>`);else if(n.iconText){s.html(`<g>${await Ye("blank",{height:a,width:a,fallbackPrefix:vy.prefix})}</g>`);let h=s.append("g").append("foreignObject").attr("width",a).attr("height",a).append("div").attr("class","node-icon-text").attr("style",`height: ${a}px;`).append("div").html(n.iconText),d=parseInt(window.getComputedStyle(h.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;h.attr("style",`-webkit-line-clamp: ${Math.floor((a-2)/d)};`)}else s.append("path").attr("class","node-bkg").attr("id","node-"+n.id).attr("d",`M0 ${a} v${-a} q0,-5 5,-5 h${a} q5,0 5,5 v${a} H0 Z`);i.attr("class","architecture-service");let{width:l,height:u}=i._groups[0][0].getBBox();n.width=l,n.height=u,e.setElementForId(n.id,i)}return 0},"drawServices"),Cqe=o(function(e,t,r){r.forEach(n=>{let i=t.append("g"),a=Ts("iconSize");i.append("g").append("rect").attr("id","node-"+n.id).attr("fill-opacity","0").attr("width",a).attr("height",a),i.attr("class","architecture-junction");let{width:s,height:l}=i._groups[0][0].getBBox();i.width=s,i.height=l,e.setElementForId(n.id,i)})},"drawJunctions")});function _qe(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"service",id:r.id,icon:r.icon,label:r.title,parent:r.in,width:Ts("iconSize"),height:Ts("iconSize")},classes:"node-service"})})}function Sqe(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"junction",id:r.id,parent:r.in,width:Ts("iconSize"),height:Ts("iconSize")},classes:"node-junction"})})}function Aqe(e,t){t.nodes().map(r=>{let n=Gg(r);n.type!=="group"&&(n.x=r.position().x,n.y=r.position().y,e.getElementById(n.id).attr("transform","translate("+(n.x||0)+","+(n.y||0)+")"))})}function Lqe(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"group",id:r.id,icon:r.icon,label:r.title,parent:r.in},classes:"node-group"})})}function Nqe(e,t){e.forEach(r=>{let{lhsId:n,rhsId:i,lhsInto:a,lhsGroup:s,rhsInto:l,lhsDir:u,rhsDir:h,rhsGroup:d,title:p}=r,f=xH(r.lhsDir,r.rhsDir)?"segments":"straight",g={id:`${n}-${i}`,label:p,source:n,sourceDir:u,sourceArrow:a,sourceGroup:s,sourceEndpoint:u==="L"?"0 50%":u==="R"?"100% 50%":u==="T"?"50% 0":"50% 100%",target:i,targetDir:h,targetArrow:l,targetGroup:d,targetEndpoint:h==="L"?"0 50%":h==="R"?"100% 50%":h==="T"?"50% 0":"50% 100%"};t.add({group:"edges",data:g,classes:f})})}function Mqe(e){let t=e.map(i=>{let a={},s={};return Object.entries(i).forEach(([l,[u,h]])=>{a[h]||(a[h]=[]),s[u]||(s[u]=[]),a[h].push(l),s[u].push(l)}),{horiz:Object.values(a).filter(l=>l.length>1),vert:Object.values(s).filter(l=>l.length>1)}}),[r,n]=t.reduce(([i,a],{horiz:s,vert:l})=>[[...i,...s],[...a,...l]],[[],[]]);return{horizontal:r,vertical:n}}function Iqe(e){let t=[],r=o(i=>`${i[0]},${i[1]}`,"posToStr"),n=o(i=>i.split(",").map(a=>parseInt(a)),"strToPos");return e.forEach(i=>{let a=Object.fromEntries(Object.entries(i).map(([h,d])=>[r(d),h])),s=[r([0,0])],l={},u={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;s.length>0;){let h=s.shift();if(h){l[h]=1;let d=a[h];if(d){let p=n(h);Object.entries(u).forEach(([f,g])=>{let m=r([p[0]+g[0],p[1]+g[1]]),y=a[m];y&&!l[m]&&(s.push(m),t.push({[yH[f]]:y,[yH[Wze(f)]]:d,gap:1.5*Ts("iconSize")}))})}}}}),t}function Dqe(e,t,r,n,{spatialMaps:i}){return new Promise(a=>{let s=Bt("body").append("div").attr("id","cy").attr("style","display:none"),l=Lu({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${Ts("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${Ts("padding")}px`}}]});s.remove(),Lqe(r,l),_qe(e,l),Sqe(t,l),Nqe(n,l);let u=Mqe(i),h=Iqe(i),d=l.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(p){let[f,g]=p.connectedNodes(),{parent:m}=Gg(f),{parent:y}=Gg(g);return m===y?1.5*Ts("iconSize"):.5*Ts("iconSize")},edgeElasticity(p){let[f,g]=p.connectedNodes(),{parent:m}=Gg(f),{parent:y}=Gg(g);return m===y?.45:.001},alignmentConstraint:u,relativePlacementConstraint:h});d.one("layoutstop",()=>{function p(f,g,m,y){let b,v,{x,y:w}=f,{x:E,y:A}=g;v=(y-w+(x-m)*(w-A)/(x-E))/Math.sqrt(1+Math.pow((w-A)/(x-E),2)),b=Math.sqrt(Math.pow(y-w,2)+Math.pow(m-x,2)-Math.pow(v,2));let N=Math.sqrt(Math.pow(E-x,2)+Math.pow(A-w,2));b=b/N;let L=(E-x)*(y-w)-(A-w)*(m-x);switch(!0){case L>=0:L=1;break;case L<0:L=-1;break}let C=(E-x)*(m-x)+(A-w)*(y-w);switch(!0){case C>=0:C=1;break;case C<0:C=-1;break}return v=Math.abs(v)*L,b=b*C,{distances:v,weights:b}}o(p,"getSegmentWeights"),l.startBatch();for(let f of Object.values(l.edges()))if(f.data?.()){let{x:g,y:m}=f.source().position(),{x:y,y:b}=f.target().position();if(g!==y&&m!==b){let v=f.sourceEndpoint(),x=f.targetEndpoint(),{sourceDir:w}=wH(f),[E,A]=H0(w)?[v.x,x.y]:[x.x,v.y],{weights:N,distances:L}=p(v,x,E,A);f.style("segment-distances",L),f.style("segment-weights",N)}}l.endBatch(),d.run()}),d.run(),l.ready(p=>{J.info("Ready",p),a(l)})})}var Rqe,Oqe,Pqe,Ctt=R(()=>{"use strict";Pe(),uBe(),Rqe=Pr(Ttt(),1),Ln(),We(),l1(),Fa(),EC(),wqe(),kH(),Ett(),ve([{name:vy.prefix,icons:vy}]),Lu.use(Rqe.default),o(_qe,"addServices"),o(Sqe,"addJunctions"),o(Aqe,"positionNodes"),o(Lqe,"addGroups"),o(Nqe,"addEdges"),o(Mqe,"getAlignments"),o(Iqe,"getRelativeConstraints"),o(Dqe,"layoutArchitecture"),Oqe=o(async(e,t,r,n)=>{let i=n.db,a=i.getServices(),s=i.getJunctions(),l=i.getGroups(),u=i.getEdges(),h=i.getDataStructures(),d=S0(t),p=d.append("g");p.attr("class","architecture-edges");let f=d.append("g");f.attr("class","architecture-services");let g=d.append("g");g.attr("class","architecture-groups"),await Eqe(i,f,a),Cqe(i,f,s);let m=await Dqe(a,s,l,u,h);await kqe(p,m),await Tqe(g,m),Aqe(i,m),ep(void 0,d,Ts("padding"),Ts("useMaxWidth"))},"draw"),Pqe={draw:Oqe}}),Bqe={};yr(Bqe,{diagram:()=>Fqe});var Fqe,_tt=R(()=>{"use strict";wtt(),EC(),ktt(),Ctt(),Fqe={parser:mqe,db:lx,renderer:Pqe,styles:vqe}}),$qe={};yr($qe,{default:()=>nit}),Pe(),Et(),us();var zqe="c4",Stt=o(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),Att=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(MVe(),Rse));return{id:zqe,diagram:e}},"loader"),Ltt={id:zqe,detector:Stt,loader:Att},Ntt=Ltt,qqe="flowchart",Mtt=o((e,t)=>t?.flowchart?.defaultRenderer==="dagre-wrapper"||t?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(e),"detector"),Itt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(YR(),Rw));return{id:qqe,diagram:e}},"loader"),Dtt={id:qqe,detector:Mtt,loader:Itt},Rtt=Dtt,Gqe="flowchart-v2",Ott=o((e,t)=>t?.flowchart?.defaultRenderer==="dagre-d3"?!1:(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(e)),"detector"),Ptt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(YR(),Rw));return{id:Gqe,diagram:e}},"loader"),Btt={id:Gqe,detector:Ott,loader:Ptt},Ftt=Btt,Yqe="er",$tt=o(e=>/^\s*erDiagram/.test(e),"detector"),ztt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(JZe(),Q5e));return{id:Yqe,diagram:e}},"loader"),qtt={id:Yqe,detector:$tt,loader:ztt},Gtt=qtt,jqe="gitGraph",Ytt=o(e=>/^\s*gitGraph/.test(e),"detector"),jtt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(nJe(),s9e));return{id:jqe,diagram:e}},"loader"),Htt={id:jqe,detector:Ytt,loader:jtt},Utt=Htt,Hqe="gantt",Vtt=o(e=>/^\s*gantt/.test(e),"detector"),Wtt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(hJe(),tTe));return{id:Hqe,diagram:e}},"loader"),Xtt={id:Hqe,detector:Vtt,loader:Wtt},Ktt=Xtt,Uqe="info",Ztt=o(e=>/^\s*info/.test(e),"detector"),Qtt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(fJe(),uTe));return{id:Uqe,diagram:e}},"loader"),Jtt={id:Uqe,detector:Ztt,loader:Qtt},Vqe="pie",ert=o(e=>/^\s*pie/.test(e),"detector"),trt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(bJe(),STe));return{id:Vqe,diagram:e}},"loader"),rrt={id:Vqe,detector:ert,loader:trt},Wqe="quadrantChart",nrt=o(e=>/^\s*quadrantChart/.test(e),"detector"),irt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(CJe(),ZTe));return{id:Wqe,diagram:e}},"loader"),art={id:Wqe,detector:nrt,loader:irt},srt=art,Xqe="xychart",ort=o(e=>/^\s*xychart-beta/.test(e),"detector"),lrt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(FJe(),LEe));return{id:Xqe,diagram:e}},"loader"),crt={id:Xqe,detector:ort,loader:lrt},urt=crt,Kqe="requirement",hrt=o(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),drt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(jJe(),oCe));return{id:Kqe,diagram:e}},"loader"),prt={id:Kqe,detector:hrt,loader:drt},grt=prt,Zqe="sequence",frt=o(e=>/^\s*sequenceDiagram/.test(e),"detector"),mrt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(KJe(),p_e));return{id:Zqe,diagram:e}},"loader"),yrt={id:Zqe,detector:frt,loader:mrt},vrt=yrt,Qqe="class",brt=o((e,t)=>t?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e),"detector"),xrt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(QJe(),X_e));return{id:Qqe,diagram:e}},"loader"),wrt={id:Qqe,detector:brt,loader:xrt},krt=wrt,Jqe="classDiagram",Trt=o((e,t)=>/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e),"detector"),Ert=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(JJe(),Z_e));return{id:Jqe,diagram:e}},"loader"),Crt={id:Jqe,detector:Trt,loader:Ert},_rt=Crt,eGe="state",Srt=o((e,t)=>t?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e),"detector"),Art=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(iet(),mAe));return{id:eGe,diagram:e}},"loader"),Lrt={id:eGe,detector:Srt,loader:Art},Nrt=Lrt,tGe="stateDiagram",Mrt=o((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),Irt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(aet(),vAe));return{id:tGe,diagram:e}},"loader"),Drt={id:tGe,detector:Mrt,loader:Irt},Rrt=Drt,rGe="journey",Ort=o(e=>/^\s*journey/.test(e),"detector"),Prt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(det(),qAe));return{id:rGe,diagram:e}},"loader"),Brt={id:rGe,detector:Ort,loader:Prt},Frt=Brt;We(),l1(),Fa();var $rt=o((e,t,r)=>{J.debug(`rendering svg for syntax error
`);let n=S0(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),Qs(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),nGe={draw:$rt},zrt=nGe,qrt={db:{},renderer:nGe,parser:{parse:o(()=>{},"parse")}},Grt=qrt,iGe="flowchart-elk",Yrt=o((e,t={})=>/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&t?.flowchart?.defaultRenderer==="elk"?(t.layout="elk",!0):!1,"detector"),jrt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(YR(),Rw));return{id:iGe,diagram:e}},"loader"),Hrt={id:iGe,detector:Yrt,loader:jrt},Urt=Hrt,aGe="timeline",Vrt=o(e=>/^\s*timeline/.test(e),"detector"),Wrt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(vet(),uLe));return{id:aGe,diagram:e}},"loader"),Xrt={id:aGe,detector:Vrt,loader:Wrt},Krt=Xrt,sGe="mindmap",Zrt=o(e=>/^\s*mindmap/.test(e),"detector"),Qrt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(_et(),DBe));return{id:sGe,diagram:e}},"loader"),Jrt={id:sGe,detector:Zrt,loader:Qrt},ent=Jrt,oGe="kanban",tnt=o(e=>/^\s*kanban/.test(e),"detector"),rnt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Iet(),JBe));return{id:oGe,diagram:e}},"loader"),nnt={id:oGe,detector:tnt,loader:rnt},int=nnt,lGe="sankey",ant=o(e=>/^\s*sankey-beta/.test(e),"detector"),snt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(Qet(),BFe));return{id:lGe,diagram:e}},"loader"),ont={id:lGe,detector:ant,loader:snt},lnt=ont,cGe="packet",cnt=o(e=>/^\s*packet-beta/.test(e),"detector"),unt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(rtt(),t$e));return{id:cGe,diagram:e}},"loader"),hnt={id:cGe,detector:cnt,loader:unt},uGe="block",dnt=o(e=>/^\s*block-beta/.test(e),"detector"),pnt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(xtt(),Uze));return{id:uGe,diagram:e}},"loader"),gnt={id:uGe,detector:dnt,loader:pnt},fnt=gnt,hGe="architecture",mnt=o(e=>/^\s*architecture/.test(e),"detector"),ynt=o(async()=>{let{diagram:e}=await Promise.resolve().then(()=>(_tt(),Bqe));return{id:hGe,diagram:e}},"loader"),vnt={id:hGe,detector:mnt,loader:ynt},bnt=vnt;us(),zr();var dGe=!1,CC=o(()=>{dGe||(dGe=!0,y4("error",Grt,e=>e.toLowerCase().trim()==="error"),y4("---",{db:{clear:o(()=>{},"clear")},styles:{},renderer:{draw:o(()=>{},"draw")},parser:{parse:o(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:o(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),Oa(Ntt,int,_rt,krt,Gtt,Ktt,Jtt,rrt,grt,vrt,Urt,Ftt,Rtt,ent,Krt,Utt,Rrt,Nrt,Frt,srt,lnt,hnt,urt,fnt,bnt))},"addDiagrams");We(),us(),zr();var xnt=o(async()=>{J.debug("Loading registered diagrams");let e=(await Promise.allSettled(Object.entries(Dn).map(async([t,{detector:r,loader:n}])=>{if(n)try{v6(t)}catch{try{let{diagram:i,id:a}=await n();y4(a,i,r)}catch(i){throw J.error(`Failed to load external diagram with key ${t}. Removing from detectors.`),delete Dn[t],i}}}))).filter(t=>t.status==="rejected");if(e.length>0){J.error(`Failed to load ${e.length} external diagrams`);for(let t of e)J.error(t);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams");We(),Ln();var pGe="comm",gGe="rule",fGe="decl",wnt="@import",knt="@keyframes",Tnt="@layer",mGe=Math.abs,EH=String.fromCharCode;function CH(e){return e.trim()}o(CH,"trim");function cx(e,t,r){return e.replace(t,r)}o(cx,"replace");function yGe(e,t,r){return e.indexOf(t,r)}o(yGe,"indexof");function by(e,t){return e.charCodeAt(t)|0}o(by,"charat");function jg(e,t,r){return e.slice(t,r)}o(jg,"substr");function Mu(e){return e.length}o(Mu,"strlen");function vGe(e){return e.length}o(vGe,"sizeof");function ux(e,t){return t.push(e),e}o(ux,"append");var _C=1,xy=1,bGe=0,$c=0,os=0,wy="";function SC(e,t,r,n,i,a,s,l){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:_C,column:xy,length:s,return:"",siblings:l}}o(SC,"node");function xGe(){return os}o(xGe,"char");function wGe(){return os=$c>0?by(wy,--$c):0,xy--,os===10&&(xy=1,_C--),os}o(wGe,"prev");function zc(){return os=$c<bGe?by(wy,$c++):0,xy++,os===10&&(xy=1,_C++),os}o(zc,"next");function U0(){return by(wy,$c)}o(U0,"peek");function hx(){return $c}o(hx,"caret");function dx(e,t){return jg(wy,e,t)}o(dx,"slice");function ky(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}o(ky,"token");function kGe(e){return _C=xy=1,bGe=Mu(wy=e),$c=0,[]}o(kGe,"alloc");function TGe(e){return wy="",e}o(TGe,"dealloc");function AC(e){return CH(dx($c-1,LC(e===91?e+2:e===40?e+1:e)))}o(AC,"delimit");function EGe(e){for(;(os=U0())&&os<33;)zc();return ky(e)>2||ky(os)>3?"":" "}o(EGe,"whitespace");function CGe(e,t){for(;--t&&zc()&&!(os<48||os>102||os>57&&os<65||os>70&&os<97););return dx(e,hx()+(t<6&&U0()==32&&zc()==32))}o(CGe,"escaping");function LC(e){for(;zc();)switch(os){case e:return $c;case 34:case 39:e!==34&&e!==39&&LC(os);break;case 40:e===41&&LC(e);break;case 92:zc();break}return $c}o(LC,"delimiter");function _Ge(e,t){for(;zc()&&e+os!==57&&!(e+os===84&&U0()===47););return"/*"+dx(t,$c-1)+"*"+EH(e===47?e:zc())}o(_Ge,"commenter");function SGe(e){for(;!ky(U0());)zc();return dx(e,$c)}o(SGe,"identifier");function AGe(e){return TGe(px("",null,null,null,[""],e=kGe(e),0,[0],e))}o(AGe,"compile");function px(e,t,r,n,i,a,s,l,u){for(var h=0,d=0,p=s,f=0,g=0,m=0,y=1,b=1,v=1,x=0,w="",E=i,A=a,N=n,L=w;b;)switch(m=x,x=zc()){case 40:if(m!=108&&by(L,p-1)==58){yGe(L+=cx(AC(x),"&","&\f"),"&\f",mGe(h?l[h-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:L+=AC(x);break;case 9:case 10:case 13:case 32:L+=EGe(m);break;case 92:L+=CGe(hx()-1,7);continue;case 47:switch(U0()){case 42:case 47:ux(LGe(_Ge(zc(),hx()),t,r,u),u),(ky(m||1)==5||ky(U0()||1)==5)&&Mu(L)&&jg(L,-1,void 0)!==" "&&(L+=" ");break;default:L+="/"}break;case 123*y:l[h++]=Mu(L)*v;case 125*y:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+d:v==-1&&(L=cx(L,/\f/g,"")),g>0&&(Mu(L)-p||y===0&&m===47)&&ux(g>32?SH(L+";",n,r,p-1,u):SH(cx(L," ","")+";",n,r,p-2,u),u);break;case 59:L+=";";default:if(ux(N=_H(L,t,r,h,d,i,l,w,E=[],A=[],p,a),a),x===123)if(d===0)px(L,t,N,N,E,a,p,l,A);else switch(f===99&&by(L,3)===110?100:f){case 100:case 108:case 109:case 115:px(e,N,N,n&&ux(_H(e,N,N,0,0,i,l,w,i,E=[],p,A),A),i,A,p,l,n?E:A);break;default:px(L,N,N,N,[""],A,0,l,A)}}h=d=g=0,y=v=1,w=L="",p=s;break;case 58:p=1+Mu(L),g=m;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&wGe()==125)continue}switch(L+=EH(x),x*y){case 38:v=d>0?1:(L+="\f",-1);break;case 44:l[h++]=(Mu(L)-1)*v,v=1;break;case 64:U0()===45&&(L+=AC(zc())),f=U0(),d=p=Mu(w=L+=SGe(hx())),x++;break;case 45:m===45&&Mu(L)==2&&(y=0)}}return a}o(px,"parse");function _H(e,t,r,n,i,a,s,l,u,h,d,p){for(var f=i-1,g=i===0?a:[""],m=vGe(g),y=0,b=0,v=0;y<n;++y)for(var x=0,w=jg(e,f+1,f=mGe(b=s[y])),E=e;x<m;++x)(E=CH(b>0?g[x]+" "+w:cx(w,/&\f/g,g[x])))&&(u[v++]=E);return SC(e,t,r,i===0?gGe:l,u,h,d,p)}o(_H,"ruleset");function LGe(e,t,r,n){return SC(e,t,r,pGe,EH(xGe()),jg(e,2,-2),0,n)}o(LGe,"comment");function SH(e,t,r,n,i){return SC(e,t,r,fGe,jg(e,0,n),jg(e,n+1,-1),n,i)}o(SH,"declaration");function NC(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}o(NC,"serialize");function NGe(e,t,r,n){switch(e.type){case Tnt:if(e.children.length)break;case wnt:case fGe:return e.return=e.return||e.value;case pGe:return"";case knt:return e.return=e.value+"{"+NC(e.children,n)+"}";case gGe:if(!Mu(e.value=e.props.join(",")))return""}return Mu(r=NC(e.children,n))?e.return=e.value+"{"+r+"}":""}o(NGe,"stringify"),Er(),jD(),iTe();var Ent="graphics-document document";function MGe(e,t){e.attr("role",Ent),t!==""&&e.attr("aria-roledescription",t)}o(MGe,"setA11yDiagramInfo");function IGe(e,t,r,n){if(e.insert!==void 0){if(r){let i=`chart-desc-${n}`;e.attr("aria-describedby",i),e.insert("desc",":first-child").attr("id",i).text(r)}if(t){let i=`chart-title-${n}`;e.attr("aria-labelledby",i),e.insert("title",":first-child").attr("id",i).text(t)}}}o(IGe,"addSVGa11yTitleDescription"),hl(),wo(),wo(),zr(),us(),fr(),kn();var AH=class aYe{constructor(t,r,n,i,a){this.type=t,this.text=r,this.db=n,this.parser=i,this.renderer=a}static{o(this,"Diagram")}static async fromText(t,r={}){let n=Ni(),i=Ra(t,n);t=Sse(t)+`
`;try{v6(i)}catch{let h=Jn(i);if(!h)throw new _n(`Diagram ${i} not found.`);let{id:d,diagram:p}=await h();y4(d,p)}let{db:a,parser:s,renderer:l,init:u}=v6(i);return s.parser&&(s.parser.yy=a),a.clear?.(),u?.(n),r.title&&a.setDiagramTitle?.(r.title),await s.parse(t),new aYe(i,t,a,s,l)}async render(t,r){await this.renderer.draw(this.text,t,r,this)}getParser(){return this.parser}getType(){return this.type}};En();var DGe=[],Cnt=o(()=>{DGe.forEach(e=>{e()}),DGe=[]},"attachFunctions");We();var _nt=o(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");vn(),uI();function RGe(e){let t=e.match(Me);if(!t)return{text:e,metadata:{}};let r=O8(t[1],{schema:R8})??{};r=typeof r=="object"&&!Array.isArray(r)?r:{};let n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}o(RGe,"extractFrontMatter"),kn();var Snt=o(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,n)=>"<"+r+n.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Ant=o(e=>{let{text:t,metadata:r}=RGe(e),{displayMode:n,title:i,config:a={}}=r;return n&&(a.gantt||(a.gantt={}),a.gantt.displayMode=n),{title:i,config:a,text:t}},"processFrontmatter"),Lnt=o(e=>{let t=mn.detectInit(e)??{},r=mn.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>n==="wrap"):r?.type==="wrap"&&(t.wrap=!0),{text:yse(e),directive:t}},"processDirectives");function LH(e){let t=Snt(e),r=Ant(t),n=Lnt(r.text),i=Xh(r.config,n.directive);return e=_nt(n.text),{code:e,title:r.title,config:i}}o(LH,"preprocessDiagram"),ZV(),sf(),kn();function OGe(e){let t=new TextEncoder().encode(e),r=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(r)}o(OGe,"toBase64");var Nnt=5e4,Mnt="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Int="sandbox",Dnt="loose",Rnt="http://www.w3.org/2000/svg",Ont="http://www.w3.org/1999/xlink",Pnt="http://www.w3.org/1999/xhtml",Bnt="100%",Fnt="100%",$nt="border:0;margin:0;",znt="margin:0",qnt="allow-top-navigation-by-user-activation allow-popups",Gnt='The "iframe" tag is not supported by your browser.',Ynt=["foreignobject"],jnt=["dominant-baseline"];function NH(e){let t=LH(e);return nd(),Fy(t.config??{}),t}o(NH,"processAndSetConfigs");async function PGe(e,t){CC();try{let{code:r,config:n}=NH(e);return{diagramType:(await zGe(r)).type,config:n}}catch(r){if(t?.suppressErrors)return!1;throw r}}o(PGe,"parse");var BGe=o((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),Hnt=o((e,t=new Map)=>{let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){let n=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(i=>{si(i.styles)||n.forEach(a=>{r+=BGe(i.id,a,i.styles)}),si(i.textStyles)||(r+=BGe(i.id,"tspan",(i?.textStyles||[]).map(a=>a.replace("color","fill"))))})}return r},"createCssStyles"),Unt=o((e,t,r,n)=>{let i=Hnt(e,r),a=KV(t,i,e.themeVariables);return NC(AGe(`${n}{${a}}`),NGe)},"createUserStyles"),Vnt=o((e="",t,r)=>{let n=e;return!r&&!t&&(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=Ju(n),n=n.replace(/<br>/g,"<br/>"),n},"cleanUpSvgCode"),Wnt=o((e="",t)=>{let r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":Fnt,n=OGe(`<body style="${znt}">${e}</body>`);return`<iframe style="width:${Bnt};height:${r};${$nt}" src="data:text/html;charset=UTF-8;base64,${n}" sandbox="${qnt}">
  ${Gnt}
</iframe>`},"putIntoIFrame"),FGe=o((e,t,r,n,i)=>{let a=e.append("div");a.attr("id",r),n&&a.attr("style",n);let s=a.append("svg").attr("id",t).attr("width","100%").attr("xmlns",Rnt);return i&&s.attr("xmlns:xlink",i),s.append("g"),e},"appendDivSvgG");function MH(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}o(MH,"sandboxedIframe");var Xnt=o((e,t,r,n)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(n)?.remove()},"removeExistingElements"),Knt=o(async function(e,t,r){CC();let n=NH(t);t=n.code;let i=Ni();J.debug(i),t.length>(i?.maxTextSize??Nnt)&&(t=Mnt);let a="#"+e,s="i"+e,l="#"+s,u="d"+e,h="#"+u,d=o(()=>{let I=Bt(f?l:h).node();I&&"remove"in I&&I.remove()},"removeTempElements"),p=Bt("body"),f=i.securityLevel===Int,g=i.securityLevel===Dnt,m=i.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),f){let I=MH(Bt(r),s);p=Bt(I.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Bt(r);FGe(p,e,u,`font-family: ${m}`,Ont)}else{if(Xnt(document,e,u,s),f){let I=MH(Bt("body"),s);p=Bt(I.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Bt("body");FGe(p,e,u)}let y,b;try{y=await AH.fromText(t,{title:n.title})}catch(I){if(i.suppressErrorRendering)throw d(),I;y=await AH.fromText("error"),b=I}let v=p.select(h).node(),x=y.type,w=v.firstChild,E=w.firstChild,A=y.renderer.getClasses?.(t,y),N=Unt(i,x,A,a),L=document.createElement("style");L.innerHTML=N,w.insertBefore(L,E);try{await y.renderer.draw(t,e,fT,y)}catch(I){throw i.suppressErrorRendering?d():zrt.draw(t,e,fT),I}let C=p.select(`${h} svg`),D=y.db.getAccTitle?.(),P=y.db.getAccDescription?.();qGe(x,C,D,P),p.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",Pnt);let O=p.select(h).node().innerHTML;if(J.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),O=Vnt(O,f,Ii(i.arrowMarkerAbsolute)),f){let I=p.select(h+" svg").node();O=Wnt(O,I)}else g||(O=Pt.sanitize(O,{ADD_TAGS:Ynt,ADD_ATTR:jnt,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Cnt(),b)throw b;return d(),{diagramType:x,svg:O,bindFunctions:y.db.bindFunctions}},"render");function $Ge(e={}){let t=ci({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),lf(t),t?.theme&&t.theme in Pa?t.themeVariables=Pa[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Pa.default.getThemeVariables(t.themeVariables));let r=typeof t=="object"?By(t):uf();_t(r.logLevel),CC()}o($Ge,"initialize");var zGe=o((e,t={})=>{let{code:r}=LH(e);return AH.fromText(r,t)},"getDiagramFromText");function qGe(e,t,r,n){MGe(t,e),IGe(t,r,n,t.attr("id"))}o(qGe,"addA11yInfo");var Hg=Object.freeze({render:Knt,parse:PGe,getDiagramFromText:zGe,initialize:$Ge,getConfig:Ni,setConfig:hf,getSiteConfig:uf,updateSiteConfig:cf,reset:o(()=>{nd()},"reset"),globalReset:o(()=>{nd(Ss)},"globalReset"),defaultConfig:Ss});_t(Ni().logLevel),nd(Ni()),Mw(),kn();var Znt=o((e,t,r)=>{J.warn(e),TN(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),GGe=o(async function(e={querySelector:".mermaid"}){try{await Qnt(e)}catch(t){if(TN(t)&&J.error(t.str),V0.parseError&&V0.parseError(t),!e.suppressErrors)throw J.error("Use the suppressErrors option to suppress these errors"),t}},"run"),Qnt=o(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){let n=Hg.getConfig();J.debug(`${e?"":"No "}Callback function found`);let i;if(r)i=r;else if(t)i=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");J.debug(`Found ${i.length} diagrams`),n?.startOnLoad!==void 0&&(J.debug("Start On Load: "+n?.startOnLoad),Hg.updateSiteConfig({startOnLoad:n?.startOnLoad}));let a=new mn.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed),s,l=[];for(let u of Array.from(i)){if(J.info("Rendering diagram: "+u.id),u.getAttribute("data-processed"))continue;u.setAttribute("data-processed","true");let h=`mermaid-${a.next()}`;s=u.innerHTML,s=ye(mn.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");let d=mn.detectInit(s);d&&J.debug("Detected early reinit: ",d);try{let{svg:p,bindFunctions:f}=await UGe(h,s,u);u.innerHTML=p,e&&await e(h),f&&f(u)}catch(p){Znt(p,l,V0.parseError)}}if(l.length>0)throw l[0]},"runThrowsErrors"),YGe=o(function(e){Hg.initialize(e)},"initialize"),Jnt=o(async function(e,t,r){J.warn("mermaid.init is deprecated. Please use run instead."),e&&YGe(e);let n={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await GGe(n)},"init"),eit=o(async(e,{lazyLoad:t=!0}={})=>{CC(),Oa(...e),t===!1&&await xnt()},"registerExternalDiagrams"),jGe=o(function(){if(V0.startOnLoad){let{startOnLoad:e}=Hg.getConfig();e&&V0.run().catch(t=>J.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",jGe,!1);var tit=o(function(e){V0.parseError=e},"setParseErrorHandler"),MC=[],IH=!1,HGe=o(async()=>{if(!IH){for(IH=!0;MC.length>0;){let e=MC.shift();if(e)try{await e()}catch(t){J.error("Error executing queue",t)}}IH=!1}},"executeQueue"),rit=o(async(e,t)=>new Promise((r,n)=>{let i=o(()=>new Promise((a,s)=>{Hg.parse(e,t).then(l=>{a(l),r(l)},l=>{J.error("Error parsing",l),V0.parseError?.(l),s(l),n(l)})}),"performCall");MC.push(i),HGe().catch(n)}),"parse"),UGe=o((e,t,r)=>new Promise((n,i)=>{let a=o(()=>new Promise((s,l)=>{Hg.render(e,t,r).then(u=>{s(u),n(u)},u=>{J.error("Error parsing",u),V0.parseError?.(u),l(u),i(u)})}),"performCall");MC.push(a),HGe().catch(i)}),"render"),V0={startOnLoad:!0,mermaidAPI:Hg,parse:rit,render:UGe,init:Jnt,run:GGe,registerExternalDiagrams:eit,registerLayoutLoaders:zR,initialize:YGe,parseError:void 0,contentLoaded:jGe,setParseErrorHandler:tit,detectType:Ra,registerIconPacks:ve},nit=V0;return Ht($qe)})();/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 *//*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.1/LICENSE *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

cytoscape/dist/cytoscape.esm.mjs:
  (*!
  Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
  Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
  Licensed under The MIT License (http://opensource.org/licenses/MIT)
  *)
  (*!
  Event object based on jQuery events, MIT license
  
  https://jquery.org/license/
  https://tldrlegal.com/license/mit-license
  https://github.com/jquery/jquery/blob/master/src/event.js
  *)
  (*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
  (*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
*/globalThis.mermaid=globalThis.__esbuild_esm_mermaid.default,function(){if(typeof Prism>"u"||typeof document>"u")return;var Rt=/(?:^|\s)command-line(?:\s|$)/,Ar="command-line-prompt",Hn="".startsWith?function(o,R){return o.startsWith(R)}:function(o,R){return o.indexOf(R)===0},bt="".endsWith?function(o,R){return o.endsWith(R)}:function(o,R){var St=o.length;return o.substring(St-R.length,St)===R};function zt(o){var R=o.vars=o.vars||{};return"command-line"in R}function hn(o){var R=o.vars=o.vars||{};return R["command-line"]=R["command-line"]||{}}Prism.hooks.add("before-highlight",function(o){var R=hn(o);if(R.complete||!o.code){R.complete=!0;return}var St=o.element.parentElement;if(!St||!/pre/i.test(St.nodeName)||!Rt.test(St.className)&&!Rt.test(o.element.className)){R.complete=!0;return}var yr=o.element.querySelector("."+Ar);yr&&yr.remove();var pn=o.code.split(`
`);R.numberOfLines=pn.length;var Li=R.outputLines=[],Pr=St.getAttribute("data-output"),Ht=St.getAttribute("data-filter-output");if(Pr!==null)Pr.split(",").forEach(function(We){var Yr=We.split("-"),ur=parseInt(Yr[0],10),Vr=Yr.length===2?parseInt(Yr[1],10):ur;if(!isNaN(ur)&&!isNaN(Vr)){ur<1&&(ur=1),Vr>pn.length&&(Vr=pn.length),ur--,Vr--;for(var Nn=ur;Nn<=Vr;Nn++)Li[Nn]=pn[Nn],pn[Nn]=""}});else if(Ht)for(var lr=0;lr<pn.length;lr++)Hn(pn[lr],Ht)&&(Li[lr]=pn[lr].slice(Ht.length),pn[lr]="");for(var ot=R.continuationLineIndicies=new Set,dt=St.getAttribute("data-continuation-str"),J=St.getAttribute("data-filter-continuation"),_t=0;_t<pn.length;_t++){var At=pn[_t];At&&(dt&&bt(At,dt)&&ot.add(_t+1),_t>0&&J&&Hn(At,J)&&(pn[_t]=At.slice(J.length),ot.add(_t)))}o.code=pn.join(`
`)}),Prism.hooks.add("before-insert",function(o){var R=hn(o);if(!R.complete){for(var St=o.highlightedCode.split(`
`),yr=R.outputLines||[],pn=0,Li=St.length;pn<Li;pn++)yr.hasOwnProperty(pn)?St[pn]='<span class="token output">'+Prism.util.encode(yr[pn])+"</span>":St[pn]='<span class="token command">'+St[pn]+"</span>";o.highlightedCode=St.join(`
`)}}),Prism.hooks.add("complete",function(o){if(!zt(o))return;var R=hn(o);if(R.complete)return;var St=o.element.parentElement;Rt.test(o.element.className)&&(o.element.className=o.element.className.replace(Rt," ")),Rt.test(St.className)||(St.className+=" command-line");function yr(Ia,js){return(St.getAttribute(Ia)||js).replace(/"/g,"&quot")}var pn="",Li=R.numberOfLines||0,Pr=yr("data-prompt",""),Ht;if(Pr!=="")Ht='<span data-prompt="'+Pr+'"></span>';else{var lr=yr("data-user","user"),ot=yr("data-host","localhost");Ht='<span data-user="'+lr+'" data-host="'+ot+'"></span>'}for(var dt=R.continuationLineIndicies||new Set,J=yr("data-continuation-prompt",">"),_t='<span data-continuation-prompt="'+J+'"></span>',At=0;At<Li;At++)dt.has(At)?pn+=_t:pn+=Ht;var We=document.createElement("span");We.className=Ar,We.innerHTML=pn;for(var Yr=R.outputLines||[],ur=0,Vr=Yr.length;ur<Vr;ur++)if(Yr.hasOwnProperty(ur)){var Nn=We.children[ur];Nn.removeAttribute("data-user"),Nn.removeAttribute("data-host"),Nn.removeAttribute("data-prompt")}o.element.insertBefore(We,o.element.firstChild),R.complete=!0})}(),function(Rt,Ar){typeof exports=="object"&&typeof module=="object"?module.exports=Ar():typeof define=="function"&&define.amd?define([],Ar):typeof exports=="object"?exports.katex=Ar():Rt.katex=Ar()}(typeof self<"u"?self:this,function(){return function(){"use strict";var Rt={d:function(T,k){for(var _ in k)Rt.o(k,_)&&!Rt.o(T,_)&&Object.defineProperty(T,_,{enumerable:!0,get:k[_]})},o:function(T,k){return Object.prototype.hasOwnProperty.call(T,k)}},Ar={};Rt.d(Ar,{default:function(){return V1}});class Hn{constructor(k,_){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let $,j,Z="KaTeX parse error: "+k;const ce=_&&_.loc;if(ce&&ce.start<=ce.end){const Se=ce.lexer.input;$=ce.start,j=ce.end,$===Se.length?Z+=" at end of input: ":Z+=" at position "+($+1)+": ";const He=Se.slice($,j).replace(/[^]/g,"$&\u0332");let Je,Xe;Je=$>15?"\u2026"+Se.slice($-15,$):Se.slice(0,$),Xe=j+15<Se.length?Se.slice(j,j+15)+"\u2026":Se.slice(j),Z+=Je+He+Xe}const we=new Error(Z);return we.name="ParseError",we.__proto__=Hn.prototype,we.position=$,$!=null&&j!=null&&(we.length=j-$),we.rawMessage=k,we}}Hn.prototype.__proto__=Error.prototype;var bt=Hn;const zt=/([A-Z])/g,hn={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g,R=function(T){return T.type==="ordgroup"||T.type==="color"?T.body.length===1?R(T.body[0]):T:T.type==="font"?R(T.body):T};var St={contains:function(T,k){return T.indexOf(k)!==-1},deflt:function(T,k){return T===void 0?k:T},escape:function(T){return String(T).replace(o,k=>hn[k])},hyphenate:function(T){return T.replace(zt,"-$1").toLowerCase()},getBaseElem:R,isCharacterBox:function(T){const k=R(T);return k.type==="mathord"||k.type==="textord"||k.type==="atom"},protocolFromUrl:function(T){const k=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(T);return k?k[2]!==":"?null:/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(k[1])?k[1].toLowerCase():null:"_relative"}};const yr={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:T=>"#"+T},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(T,k)=>(k.push(T),k)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:T=>Math.max(0,T),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:T=>Math.max(0,T),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:T=>Math.max(0,T),cli:"-e, --max-expand <n>",cliProcessor:T=>T==="Infinity"?1/0:parseInt(T)},globalGroup:{type:"boolean",cli:!1}};function pn(T){if(T.default)return T.default;const k=T.type,_=Array.isArray(k)?k[0]:k;if(typeof _!="string")return _.enum[0];switch(_){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Li{constructor(k){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,k=k||{};for(const _ in yr)if(yr.hasOwnProperty(_)){const $=yr[_];this[_]=k[_]!==void 0?$.processor?$.processor(k[_]):k[_]:pn($)}}reportNonstrict(k,_,$){let j=this.strict;if(typeof j=="function"&&(j=j(k,_,$)),j&&j!=="ignore"){if(j===!0||j==="error")throw new bt("LaTeX-incompatible input and strict mode is set to 'error': "+_+" ["+k+"]",$);j==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+_+" ["+k+"]"):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+j+"': "+_+" ["+k+"]")}}useStrictBehavior(k,_,$){let j=this.strict;if(typeof j=="function")try{j=j(k,_,$)}catch{j="error"}return!(!j||j==="ignore")&&(j===!0||j==="error"||(j==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+_+" ["+k+"]"),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+j+"': "+_+" ["+k+"]"),!1)))}isTrusted(k){if(k.url&&!k.protocol){const $=St.protocolFromUrl(k.url);if($==null)return!1;k.protocol=$}return!!(typeof this.trust=="function"?this.trust(k):this.trust)}}class Pr{constructor(k,_,$){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=k,this.size=_,this.cramped=$}sup(){return Ht[lr[this.id]]}sub(){return Ht[ot[this.id]]}fracNum(){return Ht[dt[this.id]]}fracDen(){return Ht[J[this.id]]}cramp(){return Ht[_t[this.id]]}text(){return Ht[At[this.id]]}isTight(){return this.size>=2}}const Ht=[new Pr(0,0,!1),new Pr(1,0,!0),new Pr(2,1,!1),new Pr(3,1,!0),new Pr(4,2,!1),new Pr(5,2,!0),new Pr(6,3,!1),new Pr(7,3,!0)],lr=[4,5,4,5,6,7,6,7],ot=[5,5,5,5,7,7,7,7],dt=[2,3,4,5,6,7,6,7],J=[3,3,5,5,7,7,7,7],_t=[1,1,3,3,5,5,7,7],At=[0,1,2,3,2,3,2,3];var We={DISPLAY:Ht[0],TEXT:Ht[2],SCRIPT:Ht[4],SCRIPTSCRIPT:Ht[6]};const Yr=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],ur=[];function Vr(T){for(let k=0;k<ur.length;k+=2)if(T>=ur[k]&&T<=ur[k+1])return!0;return!1}Yr.forEach(T=>T.blocks.forEach(k=>ur.push(...k)));const Nn=80,Ia={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`};class js{constructor(k){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=k,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(k){return St.contains(this.classes,k)}toNode(){const k=document.createDocumentFragment();for(let _=0;_<this.children.length;_++)k.appendChild(this.children[_].toNode());return k}toMarkup(){let k="";for(let _=0;_<this.children.length;_++)k+=this.children[_].toMarkup();return k}toText(){return this.children.map(k=>k.toText()).join("")}}var Ya={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const cc={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},ol={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};function ll(T,k,_){if(!Ya[k])throw new Error("Font metrics not found for font: "+k+".");let $=T.charCodeAt(0),j=Ya[k][$];if(!j&&T[0]in ol&&($=ol[T[0]].charCodeAt(0),j=Ya[k][$]),j||_!=="text"||Vr($)&&(j=Ya[k][77]),j)return{depth:j[0],height:j[1],italic:j[2],skew:j[3],width:j[4]}}const mi={},xa=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],ls=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],po=function(T,k){return k.size<2?T:xa[T-1][k.size-1]};class yi{constructor(k){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=k.style,this.color=k.color,this.size=k.size||yi.BASESIZE,this.textSize=k.textSize||this.size,this.phantom=!!k.phantom,this.font=k.font||"",this.fontFamily=k.fontFamily||"",this.fontWeight=k.fontWeight||"",this.fontShape=k.fontShape||"",this.sizeMultiplier=ls[this.size-1],this.maxSize=k.maxSize,this.minRuleThickness=k.minRuleThickness,this._fontMetrics=void 0}extend(k){const _={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const $ in k)k.hasOwnProperty($)&&(_[$]=k[$]);return new yi(_)}havingStyle(k){return this.style===k?this:this.extend({style:k,size:po(this.textSize,k)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(k){return this.size===k&&this.textSize===k?this:this.extend({style:this.style.text(),size:k,textSize:k,sizeMultiplier:ls[k-1]})}havingBaseStyle(k){k=k||this.style.text();const _=po(yi.BASESIZE,k);return this.size===_&&this.textSize===yi.BASESIZE&&this.style===k?this:this.extend({style:k,size:_})}havingBaseSizing(){let k;switch(this.style.id){case 4:case 5:k=3;break;case 6:case 7:k=1;break;default:k=6}return this.extend({style:this.style.text(),size:k})}withColor(k){return this.extend({color:k})}withPhantom(){return this.extend({phantom:!0})}withFont(k){return this.extend({font:k})}withTextFontFamily(k){return this.extend({fontFamily:k,font:""})}withTextFontWeight(k){return this.extend({fontWeight:k,font:""})}withTextFontShape(k){return this.extend({fontShape:k,font:""})}sizingClasses(k){return k.size!==this.size?["sizing","reset-size"+k.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==yi.BASESIZE?["sizing","reset-size"+this.size,"size"+yi.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=function(k){let _;if(_=k>=5?0:k>=3?1:2,!mi[_]){const $=mi[_]={cssEmPerMu:cc.quad[_]/18};for(const j in cc)cc.hasOwnProperty(j)&&($[j]=cc[j][_])}return mi[_]}(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}yi.BASESIZE=6;var Gc=yi;const wa={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},Hs={ex:!0,em:!0,mu:!0},go=function(T){return typeof T!="string"&&(T=T.unit),T in wa||T in Hs||T==="ex"},Pn=function(T,k){let _;if(T.unit in wa)_=wa[T.unit]/k.fontMetrics().ptPerEm/k.sizeMultiplier;else if(T.unit==="mu")_=k.fontMetrics().cssEmPerMu;else{let $;if($=k.style.isTight()?k.havingStyle(k.style.text()):k,T.unit==="ex")_=$.fontMetrics().xHeight;else{if(T.unit!=="em")throw new bt("Invalid unit: '"+T.unit+"'");_=$.fontMetrics().quad}$!==k&&(_*=$.sizeMultiplier/k.sizeMultiplier)}return Math.min(T.number*_,k.maxSize)},qt=function(T){return+T.toFixed(4)+"em"},cs=function(T){return T.filter(k=>k).join(" ")},fo=function(T,k,_){if(this.classes=T||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=_||{},k){k.style.isTight()&&this.classes.push("mtight");const $=k.getColor();$&&(this.style.color=$)}},oa=function(T){const k=document.createElement(T);k.className=cs(this.classes);for(const _ in this.style)this.style.hasOwnProperty(_)&&(k.style[_]=this.style[_]);for(const _ in this.attributes)this.attributes.hasOwnProperty(_)&&k.setAttribute(_,this.attributes[_]);for(let _=0;_<this.children.length;_++)k.appendChild(this.children[_].toNode());return k},uc=function(T){let k="<"+T;this.classes.length&&(k+=' class="'+St.escape(cs(this.classes))+'"');let _="";for(const $ in this.style)this.style.hasOwnProperty($)&&(_+=St.hyphenate($)+":"+this.style[$]+";");_&&(k+=' style="'+St.escape(_)+'"');for(const $ in this.attributes)this.attributes.hasOwnProperty($)&&(k+=" "+$+'="'+St.escape(this.attributes[$])+'"');k+=">";for(let $=0;$<this.children.length;$++)k+=this.children[$].toMarkup();return k+="</"+T+">",k};class Us{constructor(k,_,$,j){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,fo.call(this,k,$,j),this.children=_||[]}setAttribute(k,_){this.attributes[k]=_}hasClass(k){return St.contains(this.classes,k)}toNode(){return oa.call(this,"span")}toMarkup(){return uc.call(this,"span")}}class mo{constructor(k,_,$,j){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,fo.call(this,_,j),this.children=$||[],this.setAttribute("href",k)}setAttribute(k,_){this.attributes[k]=_}hasClass(k){return St.contains(this.classes,k)}toNode(){return oa.call(this,"a")}toMarkup(){return uc.call(this,"a")}}class Ch{constructor(k,_,$){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=_,this.src=k,this.classes=["mord"],this.style=$}hasClass(k){return St.contains(this.classes,k)}toNode(){const k=document.createElement("img");k.src=this.src,k.alt=this.alt,k.className="mord";for(const _ in this.style)this.style.hasOwnProperty(_)&&(k.style[_]=this.style[_]);return k}toMarkup(){let k='<img src="'+St.escape(this.src)+'" alt="'+St.escape(this.alt)+'"',_="";for(const $ in this.style)this.style.hasOwnProperty($)&&(_+=St.hyphenate($)+":"+this.style[$]+";");return _&&(k+=' style="'+St.escape(_)+'"'),k+="'/>",k}}const Yc={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"};class In{constructor(k,_,$,j,Z,ce,we,Se){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=k,this.height=_||0,this.depth=$||0,this.italic=j||0,this.skew=Z||0,this.width=ce||0,this.classes=we||[],this.style=Se||{},this.maxFontSize=0;const He=function(Je){for(let Xe=0;Xe<Yr.length;Xe++){const Ze=Yr[Xe];for(let vt=0;vt<Ze.blocks.length;vt++){const Pt=Ze.blocks[vt];if(Je>=Pt[0]&&Je<=Pt[1])return Ze.name}}return null}(this.text.charCodeAt(0));He&&this.classes.push(He+"_fallback"),/[\xee\xef\xed\xec]/.test(this.text)&&(this.text=Yc[this.text])}hasClass(k){return St.contains(this.classes,k)}toNode(){const k=document.createTextNode(this.text);let _=null;this.italic>0&&(_=document.createElement("span"),_.style.marginRight=qt(this.italic)),this.classes.length>0&&(_=_||document.createElement("span"),_.className=cs(this.classes));for(const $ in this.style)this.style.hasOwnProperty($)&&(_=_||document.createElement("span"),_.style[$]=this.style[$]);return _?(_.appendChild(k),_):k}toMarkup(){let k=!1,_="<span";this.classes.length&&(k=!0,_+=' class="',_+=St.escape(cs(this.classes)),_+='"');let $="";this.italic>0&&($+="margin-right:"+this.italic+"em;");for(const Z in this.style)this.style.hasOwnProperty(Z)&&($+=St.hyphenate(Z)+":"+this.style[Z]+";");$&&(k=!0,_+=' style="'+St.escape($)+'"');const j=St.escape(this.text);return k?(_+=">",_+=j,_+="</span>",_):j}}class Da{constructor(k,_){this.children=void 0,this.attributes=void 0,this.children=k||[],this.attributes=_||{}}toNode(){const k=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const _ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,_)&&k.setAttribute(_,this.attributes[_]);for(let _=0;_<this.children.length;_++)k.appendChild(this.children[_].toNode());return k}toMarkup(){let k='<svg xmlns="http://www.w3.org/2000/svg"';for(const _ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,_)&&(k+=" "+_+'="'+St.escape(this.attributes[_])+'"');k+=">";for(let _=0;_<this.children.length;_++)k+=this.children[_].toMarkup();return k+="</svg>",k}}class Es{constructor(k,_){this.pathName=void 0,this.alternate=void 0,this.pathName=k,this.alternate=_}toNode(){const k=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?k.setAttribute("d",this.alternate):k.setAttribute("d",Ia[this.pathName]),k}toMarkup(){return this.alternate?'<path d="'+St.escape(this.alternate)+'"/>':'<path d="'+St.escape(Ia[this.pathName])+'"/>'}}class Ui{constructor(k){this.attributes=void 0,this.attributes=k||{}}toNode(){const k=document.createElementNS("http://www.w3.org/2000/svg","line");for(const _ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,_)&&k.setAttribute(_,this.attributes[_]);return k}toMarkup(){let k="<line";for(const _ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,_)&&(k+=" "+_+'="'+St.escape(this.attributes[_])+'"');return k+="/>",k}}function la(T){if(T instanceof In)return T;throw new Error("Expected symbolNode but got "+String(T)+".")}const hc={bin:1,close:1,inner:1,open:1,punct:1,rel:1},yo={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Cn={math:{},text:{}};var ai=Cn;function U(T,k,_,$,j,Z){Cn[T][j]={font:k,group:_,replace:$},Z&&$&&(Cn[T][$]=Cn[T][j])}const W="math",Lt="text",le="main",Oe="ams",vi="accent-token",ar="bin",gr="close",Ee="inner",ve="mathord",Ie="op-token",Ye="open",Pe="punct",ye="rel",Et="spacing",Me="textord";U(W,le,ye,"\u2261","\\equiv",!0),U(W,le,ye,"\u227A","\\prec",!0),U(W,le,ye,"\u227B","\\succ",!0),U(W,le,ye,"\u223C","\\sim",!0),U(W,le,ye,"\u22A5","\\perp"),U(W,le,ye,"\u2AAF","\\preceq",!0),U(W,le,ye,"\u2AB0","\\succeq",!0),U(W,le,ye,"\u2243","\\simeq",!0),U(W,le,ye,"\u2223","\\mid",!0),U(W,le,ye,"\u226A","\\ll",!0),U(W,le,ye,"\u226B","\\gg",!0),U(W,le,ye,"\u224D","\\asymp",!0),U(W,le,ye,"\u2225","\\parallel"),U(W,le,ye,"\u22C8","\\bowtie",!0),U(W,le,ye,"\u2323","\\smile",!0),U(W,le,ye,"\u2291","\\sqsubseteq",!0),U(W,le,ye,"\u2292","\\sqsupseteq",!0),U(W,le,ye,"\u2250","\\doteq",!0),U(W,le,ye,"\u2322","\\frown",!0),U(W,le,ye,"\u220B","\\ni",!0),U(W,le,ye,"\u221D","\\propto",!0),U(W,le,ye,"\u22A2","\\vdash",!0),U(W,le,ye,"\u22A3","\\dashv",!0),U(W,le,ye,"\u220B","\\owns"),U(W,le,Pe,".","\\ldotp"),U(W,le,Pe,"\u22C5","\\cdotp"),U(W,le,Me,"#","\\#"),U(Lt,le,Me,"#","\\#"),U(W,le,Me,"&","\\&"),U(Lt,le,Me,"&","\\&"),U(W,le,Me,"\u2135","\\aleph",!0),U(W,le,Me,"\u2200","\\forall",!0),U(W,le,Me,"\u210F","\\hbar",!0),U(W,le,Me,"\u2203","\\exists",!0),U(W,le,Me,"\u2207","\\nabla",!0),U(W,le,Me,"\u266D","\\flat",!0),U(W,le,Me,"\u2113","\\ell",!0),U(W,le,Me,"\u266E","\\natural",!0),U(W,le,Me,"\u2663","\\clubsuit",!0),U(W,le,Me,"\u2118","\\wp",!0),U(W,le,Me,"\u266F","\\sharp",!0),U(W,le,Me,"\u2662","\\diamondsuit",!0),U(W,le,Me,"\u211C","\\Re",!0),U(W,le,Me,"\u2661","\\heartsuit",!0),U(W,le,Me,"\u2111","\\Im",!0),U(W,le,Me,"\u2660","\\spadesuit",!0),U(W,le,Me,"\xA7","\\S",!0),U(Lt,le,Me,"\xA7","\\S"),U(W,le,Me,"\xB6","\\P",!0),U(Lt,le,Me,"\xB6","\\P"),U(W,le,Me,"\u2020","\\dag"),U(Lt,le,Me,"\u2020","\\dag"),U(Lt,le,Me,"\u2020","\\textdagger"),U(W,le,Me,"\u2021","\\ddag"),U(Lt,le,Me,"\u2021","\\ddag"),U(Lt,le,Me,"\u2021","\\textdaggerdbl"),U(W,le,gr,"\u23B1","\\rmoustache",!0),U(W,le,Ye,"\u23B0","\\lmoustache",!0),U(W,le,gr,"\u27EF","\\rgroup",!0),U(W,le,Ye,"\u27EE","\\lgroup",!0),U(W,le,ar,"\u2213","\\mp",!0),U(W,le,ar,"\u2296","\\ominus",!0),U(W,le,ar,"\u228E","\\uplus",!0),U(W,le,ar,"\u2293","\\sqcap",!0),U(W,le,ar,"\u2217","\\ast"),U(W,le,ar,"\u2294","\\sqcup",!0),U(W,le,ar,"\u25EF","\\bigcirc",!0),U(W,le,ar,"\u2219","\\bullet",!0),U(W,le,ar,"\u2021","\\ddagger"),U(W,le,ar,"\u2240","\\wr",!0),U(W,le,ar,"\u2A3F","\\amalg"),U(W,le,ar,"&","\\And"),U(W,le,ye,"\u27F5","\\longleftarrow",!0),U(W,le,ye,"\u21D0","\\Leftarrow",!0),U(W,le,ye,"\u27F8","\\Longleftarrow",!0),U(W,le,ye,"\u27F6","\\longrightarrow",!0),U(W,le,ye,"\u21D2","\\Rightarrow",!0),U(W,le,ye,"\u27F9","\\Longrightarrow",!0),U(W,le,ye,"\u2194","\\leftrightarrow",!0),U(W,le,ye,"\u27F7","\\longleftrightarrow",!0),U(W,le,ye,"\u21D4","\\Leftrightarrow",!0),U(W,le,ye,"\u27FA","\\Longleftrightarrow",!0),U(W,le,ye,"\u21A6","\\mapsto",!0),U(W,le,ye,"\u27FC","\\longmapsto",!0),U(W,le,ye,"\u2197","\\nearrow",!0),U(W,le,ye,"\u21A9","\\hookleftarrow",!0),U(W,le,ye,"\u21AA","\\hookrightarrow",!0),U(W,le,ye,"\u2198","\\searrow",!0),U(W,le,ye,"\u21BC","\\leftharpoonup",!0),U(W,le,ye,"\u21C0","\\rightharpoonup",!0),U(W,le,ye,"\u2199","\\swarrow",!0),U(W,le,ye,"\u21BD","\\leftharpoondown",!0),U(W,le,ye,"\u21C1","\\rightharpoondown",!0),U(W,le,ye,"\u2196","\\nwarrow",!0),U(W,le,ye,"\u21CC","\\rightleftharpoons",!0),U(W,Oe,ye,"\u226E","\\nless",!0),U(W,Oe,ye,"\uE010","\\@nleqslant"),U(W,Oe,ye,"\uE011","\\@nleqq"),U(W,Oe,ye,"\u2A87","\\lneq",!0),U(W,Oe,ye,"\u2268","\\lneqq",!0),U(W,Oe,ye,"\uE00C","\\@lvertneqq"),U(W,Oe,ye,"\u22E6","\\lnsim",!0),U(W,Oe,ye,"\u2A89","\\lnapprox",!0),U(W,Oe,ye,"\u2280","\\nprec",!0),U(W,Oe,ye,"\u22E0","\\npreceq",!0),U(W,Oe,ye,"\u22E8","\\precnsim",!0),U(W,Oe,ye,"\u2AB9","\\precnapprox",!0),U(W,Oe,ye,"\u2241","\\nsim",!0),U(W,Oe,ye,"\uE006","\\@nshortmid"),U(W,Oe,ye,"\u2224","\\nmid",!0),U(W,Oe,ye,"\u22AC","\\nvdash",!0),U(W,Oe,ye,"\u22AD","\\nvDash",!0),U(W,Oe,ye,"\u22EA","\\ntriangleleft"),U(W,Oe,ye,"\u22EC","\\ntrianglelefteq",!0),U(W,Oe,ye,"\u228A","\\subsetneq",!0),U(W,Oe,ye,"\uE01A","\\@varsubsetneq"),U(W,Oe,ye,"\u2ACB","\\subsetneqq",!0),U(W,Oe,ye,"\uE017","\\@varsubsetneqq"),U(W,Oe,ye,"\u226F","\\ngtr",!0),U(W,Oe,ye,"\uE00F","\\@ngeqslant"),U(W,Oe,ye,"\uE00E","\\@ngeqq"),U(W,Oe,ye,"\u2A88","\\gneq",!0),U(W,Oe,ye,"\u2269","\\gneqq",!0),U(W,Oe,ye,"\uE00D","\\@gvertneqq"),U(W,Oe,ye,"\u22E7","\\gnsim",!0),U(W,Oe,ye,"\u2A8A","\\gnapprox",!0),U(W,Oe,ye,"\u2281","\\nsucc",!0),U(W,Oe,ye,"\u22E1","\\nsucceq",!0),U(W,Oe,ye,"\u22E9","\\succnsim",!0),U(W,Oe,ye,"\u2ABA","\\succnapprox",!0),U(W,Oe,ye,"\u2246","\\ncong",!0),U(W,Oe,ye,"\uE007","\\@nshortparallel"),U(W,Oe,ye,"\u2226","\\nparallel",!0),U(W,Oe,ye,"\u22AF","\\nVDash",!0),U(W,Oe,ye,"\u22EB","\\ntriangleright"),U(W,Oe,ye,"\u22ED","\\ntrianglerighteq",!0),U(W,Oe,ye,"\uE018","\\@nsupseteqq"),U(W,Oe,ye,"\u228B","\\supsetneq",!0),U(W,Oe,ye,"\uE01B","\\@varsupsetneq"),U(W,Oe,ye,"\u2ACC","\\supsetneqq",!0),U(W,Oe,ye,"\uE019","\\@varsupsetneqq"),U(W,Oe,ye,"\u22AE","\\nVdash",!0),U(W,Oe,ye,"\u2AB5","\\precneqq",!0),U(W,Oe,ye,"\u2AB6","\\succneqq",!0),U(W,Oe,ye,"\uE016","\\@nsubseteqq"),U(W,Oe,ar,"\u22B4","\\unlhd"),U(W,Oe,ar,"\u22B5","\\unrhd"),U(W,Oe,ye,"\u219A","\\nleftarrow",!0),U(W,Oe,ye,"\u219B","\\nrightarrow",!0),U(W,Oe,ye,"\u21CD","\\nLeftarrow",!0),U(W,Oe,ye,"\u21CF","\\nRightarrow",!0),U(W,Oe,ye,"\u21AE","\\nleftrightarrow",!0),U(W,Oe,ye,"\u21CE","\\nLeftrightarrow",!0),U(W,Oe,ye,"\u25B3","\\vartriangle"),U(W,Oe,Me,"\u210F","\\hslash"),U(W,Oe,Me,"\u25BD","\\triangledown"),U(W,Oe,Me,"\u25CA","\\lozenge"),U(W,Oe,Me,"\u24C8","\\circledS"),U(W,Oe,Me,"\xAE","\\circledR"),U(Lt,Oe,Me,"\xAE","\\circledR"),U(W,Oe,Me,"\u2221","\\measuredangle",!0),U(W,Oe,Me,"\u2204","\\nexists"),U(W,Oe,Me,"\u2127","\\mho"),U(W,Oe,Me,"\u2132","\\Finv",!0),U(W,Oe,Me,"\u2141","\\Game",!0),U(W,Oe,Me,"\u2035","\\backprime"),U(W,Oe,Me,"\u25B2","\\blacktriangle"),U(W,Oe,Me,"\u25BC","\\blacktriangledown"),U(W,Oe,Me,"\u25A0","\\blacksquare"),U(W,Oe,Me,"\u29EB","\\blacklozenge"),U(W,Oe,Me,"\u2605","\\bigstar"),U(W,Oe,Me,"\u2222","\\sphericalangle",!0),U(W,Oe,Me,"\u2201","\\complement",!0),U(W,Oe,Me,"\xF0","\\eth",!0),U(Lt,le,Me,"\xF0","\xF0"),U(W,Oe,Me,"\u2571","\\diagup"),U(W,Oe,Me,"\u2572","\\diagdown"),U(W,Oe,Me,"\u25A1","\\square"),U(W,Oe,Me,"\u25A1","\\Box"),U(W,Oe,Me,"\u25CA","\\Diamond"),U(W,Oe,Me,"\xA5","\\yen",!0),U(Lt,Oe,Me,"\xA5","\\yen",!0),U(W,Oe,Me,"\u2713","\\checkmark",!0),U(Lt,Oe,Me,"\u2713","\\checkmark"),U(W,Oe,Me,"\u2136","\\beth",!0),U(W,Oe,Me,"\u2138","\\daleth",!0),U(W,Oe,Me,"\u2137","\\gimel",!0),U(W,Oe,Me,"\u03DD","\\digamma",!0),U(W,Oe,Me,"\u03F0","\\varkappa"),U(W,Oe,Ye,"\u250C","\\@ulcorner",!0),U(W,Oe,gr,"\u2510","\\@urcorner",!0),U(W,Oe,Ye,"\u2514","\\@llcorner",!0),U(W,Oe,gr,"\u2518","\\@lrcorner",!0),U(W,Oe,ye,"\u2266","\\leqq",!0),U(W,Oe,ye,"\u2A7D","\\leqslant",!0),U(W,Oe,ye,"\u2A95","\\eqslantless",!0),U(W,Oe,ye,"\u2272","\\lesssim",!0),U(W,Oe,ye,"\u2A85","\\lessapprox",!0),U(W,Oe,ye,"\u224A","\\approxeq",!0),U(W,Oe,ar,"\u22D6","\\lessdot"),U(W,Oe,ye,"\u22D8","\\lll",!0),U(W,Oe,ye,"\u2276","\\lessgtr",!0),U(W,Oe,ye,"\u22DA","\\lesseqgtr",!0),U(W,Oe,ye,"\u2A8B","\\lesseqqgtr",!0),U(W,Oe,ye,"\u2251","\\doteqdot"),U(W,Oe,ye,"\u2253","\\risingdotseq",!0),U(W,Oe,ye,"\u2252","\\fallingdotseq",!0),U(W,Oe,ye,"\u223D","\\backsim",!0),U(W,Oe,ye,"\u22CD","\\backsimeq",!0),U(W,Oe,ye,"\u2AC5","\\subseteqq",!0),U(W,Oe,ye,"\u22D0","\\Subset",!0),U(W,Oe,ye,"\u228F","\\sqsubset",!0),U(W,Oe,ye,"\u227C","\\preccurlyeq",!0),U(W,Oe,ye,"\u22DE","\\curlyeqprec",!0),U(W,Oe,ye,"\u227E","\\precsim",!0),U(W,Oe,ye,"\u2AB7","\\precapprox",!0),U(W,Oe,ye,"\u22B2","\\vartriangleleft"),U(W,Oe,ye,"\u22B4","\\trianglelefteq"),U(W,Oe,ye,"\u22A8","\\vDash",!0),U(W,Oe,ye,"\u22AA","\\Vvdash",!0),U(W,Oe,ye,"\u2323","\\smallsmile"),U(W,Oe,ye,"\u2322","\\smallfrown"),U(W,Oe,ye,"\u224F","\\bumpeq",!0),U(W,Oe,ye,"\u224E","\\Bumpeq",!0),U(W,Oe,ye,"\u2267","\\geqq",!0),U(W,Oe,ye,"\u2A7E","\\geqslant",!0),U(W,Oe,ye,"\u2A96","\\eqslantgtr",!0),U(W,Oe,ye,"\u2273","\\gtrsim",!0),U(W,Oe,ye,"\u2A86","\\gtrapprox",!0),U(W,Oe,ar,"\u22D7","\\gtrdot"),U(W,Oe,ye,"\u22D9","\\ggg",!0),U(W,Oe,ye,"\u2277","\\gtrless",!0),U(W,Oe,ye,"\u22DB","\\gtreqless",!0),U(W,Oe,ye,"\u2A8C","\\gtreqqless",!0),U(W,Oe,ye,"\u2256","\\eqcirc",!0),U(W,Oe,ye,"\u2257","\\circeq",!0),U(W,Oe,ye,"\u225C","\\triangleq",!0),U(W,Oe,ye,"\u223C","\\thicksim"),U(W,Oe,ye,"\u2248","\\thickapprox"),U(W,Oe,ye,"\u2AC6","\\supseteqq",!0),U(W,Oe,ye,"\u22D1","\\Supset",!0),U(W,Oe,ye,"\u2290","\\sqsupset",!0),U(W,Oe,ye,"\u227D","\\succcurlyeq",!0),U(W,Oe,ye,"\u22DF","\\curlyeqsucc",!0),U(W,Oe,ye,"\u227F","\\succsim",!0),U(W,Oe,ye,"\u2AB8","\\succapprox",!0),U(W,Oe,ye,"\u22B3","\\vartriangleright"),U(W,Oe,ye,"\u22B5","\\trianglerighteq"),U(W,Oe,ye,"\u22A9","\\Vdash",!0),U(W,Oe,ye,"\u2223","\\shortmid"),U(W,Oe,ye,"\u2225","\\shortparallel"),U(W,Oe,ye,"\u226C","\\between",!0),U(W,Oe,ye,"\u22D4","\\pitchfork",!0),U(W,Oe,ye,"\u221D","\\varpropto"),U(W,Oe,ye,"\u25C0","\\blacktriangleleft"),U(W,Oe,ye,"\u2234","\\therefore",!0),U(W,Oe,ye,"\u220D","\\backepsilon"),U(W,Oe,ye,"\u25B6","\\blacktriangleright"),U(W,Oe,ye,"\u2235","\\because",!0),U(W,Oe,ye,"\u22D8","\\llless"),U(W,Oe,ye,"\u22D9","\\gggtr"),U(W,Oe,ar,"\u22B2","\\lhd"),U(W,Oe,ar,"\u22B3","\\rhd"),U(W,Oe,ye,"\u2242","\\eqsim",!0),U(W,le,ye,"\u22C8","\\Join"),U(W,Oe,ye,"\u2251","\\Doteq",!0),U(W,Oe,ar,"\u2214","\\dotplus",!0),U(W,Oe,ar,"\u2216","\\smallsetminus"),U(W,Oe,ar,"\u22D2","\\Cap",!0),U(W,Oe,ar,"\u22D3","\\Cup",!0),U(W,Oe,ar,"\u2A5E","\\doublebarwedge",!0),U(W,Oe,ar,"\u229F","\\boxminus",!0),U(W,Oe,ar,"\u229E","\\boxplus",!0),U(W,Oe,ar,"\u22C7","\\divideontimes",!0),U(W,Oe,ar,"\u22C9","\\ltimes",!0),U(W,Oe,ar,"\u22CA","\\rtimes",!0),U(W,Oe,ar,"\u22CB","\\leftthreetimes",!0),U(W,Oe,ar,"\u22CC","\\rightthreetimes",!0),U(W,Oe,ar,"\u22CF","\\curlywedge",!0),U(W,Oe,ar,"\u22CE","\\curlyvee",!0),U(W,Oe,ar,"\u229D","\\circleddash",!0),U(W,Oe,ar,"\u229B","\\circledast",!0),U(W,Oe,ar,"\u22C5","\\centerdot"),U(W,Oe,ar,"\u22BA","\\intercal",!0),U(W,Oe,ar,"\u22D2","\\doublecap"),U(W,Oe,ar,"\u22D3","\\doublecup"),U(W,Oe,ar,"\u22A0","\\boxtimes",!0),U(W,Oe,ye,"\u21E2","\\dashrightarrow",!0),U(W,Oe,ye,"\u21E0","\\dashleftarrow",!0),U(W,Oe,ye,"\u21C7","\\leftleftarrows",!0),U(W,Oe,ye,"\u21C6","\\leftrightarrows",!0),U(W,Oe,ye,"\u21DA","\\Lleftarrow",!0),U(W,Oe,ye,"\u219E","\\twoheadleftarrow",!0),U(W,Oe,ye,"\u21A2","\\leftarrowtail",!0),U(W,Oe,ye,"\u21AB","\\looparrowleft",!0),U(W,Oe,ye,"\u21CB","\\leftrightharpoons",!0),U(W,Oe,ye,"\u21B6","\\curvearrowleft",!0),U(W,Oe,ye,"\u21BA","\\circlearrowleft",!0),U(W,Oe,ye,"\u21B0","\\Lsh",!0),U(W,Oe,ye,"\u21C8","\\upuparrows",!0),U(W,Oe,ye,"\u21BF","\\upharpoonleft",!0),U(W,Oe,ye,"\u21C3","\\downharpoonleft",!0),U(W,le,ye,"\u22B6","\\origof",!0),U(W,le,ye,"\u22B7","\\imageof",!0),U(W,Oe,ye,"\u22B8","\\multimap",!0),U(W,Oe,ye,"\u21AD","\\leftrightsquigarrow",!0),U(W,Oe,ye,"\u21C9","\\rightrightarrows",!0),U(W,Oe,ye,"\u21C4","\\rightleftarrows",!0),U(W,Oe,ye,"\u21A0","\\twoheadrightarrow",!0),U(W,Oe,ye,"\u21A3","\\rightarrowtail",!0),U(W,Oe,ye,"\u21AC","\\looparrowright",!0),U(W,Oe,ye,"\u21B7","\\curvearrowright",!0),U(W,Oe,ye,"\u21BB","\\circlearrowright",!0),U(W,Oe,ye,"\u21B1","\\Rsh",!0),U(W,Oe,ye,"\u21CA","\\downdownarrows",!0),U(W,Oe,ye,"\u21BE","\\upharpoonright",!0),U(W,Oe,ye,"\u21C2","\\downharpoonright",!0),U(W,Oe,ye,"\u21DD","\\rightsquigarrow",!0),U(W,Oe,ye,"\u21DD","\\leadsto"),U(W,Oe,ye,"\u21DB","\\Rrightarrow",!0),U(W,Oe,ye,"\u21BE","\\restriction"),U(W,le,Me,"\u2018","`"),U(W,le,Me,"$","\\$"),U(Lt,le,Me,"$","\\$"),U(Lt,le,Me,"$","\\textdollar"),U(W,le,Me,"%","\\%"),U(Lt,le,Me,"%","\\%"),U(W,le,Me,"_","\\_"),U(Lt,le,Me,"_","\\_"),U(Lt,le,Me,"_","\\textunderscore"),U(W,le,Me,"\u2220","\\angle",!0),U(W,le,Me,"\u221E","\\infty",!0),U(W,le,Me,"\u2032","\\prime"),U(W,le,Me,"\u25B3","\\triangle"),U(W,le,Me,"\u0393","\\Gamma",!0),U(W,le,Me,"\u0394","\\Delta",!0),U(W,le,Me,"\u0398","\\Theta",!0),U(W,le,Me,"\u039B","\\Lambda",!0),U(W,le,Me,"\u039E","\\Xi",!0),U(W,le,Me,"\u03A0","\\Pi",!0),U(W,le,Me,"\u03A3","\\Sigma",!0),U(W,le,Me,"\u03A5","\\Upsilon",!0),U(W,le,Me,"\u03A6","\\Phi",!0),U(W,le,Me,"\u03A8","\\Psi",!0),U(W,le,Me,"\u03A9","\\Omega",!0),U(W,le,Me,"A","\u0391"),U(W,le,Me,"B","\u0392"),U(W,le,Me,"E","\u0395"),U(W,le,Me,"Z","\u0396"),U(W,le,Me,"H","\u0397"),U(W,le,Me,"I","\u0399"),U(W,le,Me,"K","\u039A"),U(W,le,Me,"M","\u039C"),U(W,le,Me,"N","\u039D"),U(W,le,Me,"O","\u039F"),U(W,le,Me,"P","\u03A1"),U(W,le,Me,"T","\u03A4"),U(W,le,Me,"X","\u03A7"),U(W,le,Me,"\xAC","\\neg",!0),U(W,le,Me,"\xAC","\\lnot"),U(W,le,Me,"\u22A4","\\top"),U(W,le,Me,"\u22A5","\\bot"),U(W,le,Me,"\u2205","\\emptyset"),U(W,Oe,Me,"\u2205","\\varnothing"),U(W,le,ve,"\u03B1","\\alpha",!0),U(W,le,ve,"\u03B2","\\beta",!0),U(W,le,ve,"\u03B3","\\gamma",!0),U(W,le,ve,"\u03B4","\\delta",!0),U(W,le,ve,"\u03F5","\\epsilon",!0),U(W,le,ve,"\u03B6","\\zeta",!0),U(W,le,ve,"\u03B7","\\eta",!0),U(W,le,ve,"\u03B8","\\theta",!0),U(W,le,ve,"\u03B9","\\iota",!0),U(W,le,ve,"\u03BA","\\kappa",!0),U(W,le,ve,"\u03BB","\\lambda",!0),U(W,le,ve,"\u03BC","\\mu",!0),U(W,le,ve,"\u03BD","\\nu",!0),U(W,le,ve,"\u03BE","\\xi",!0),U(W,le,ve,"\u03BF","\\omicron",!0),U(W,le,ve,"\u03C0","\\pi",!0),U(W,le,ve,"\u03C1","\\rho",!0),U(W,le,ve,"\u03C3","\\sigma",!0),U(W,le,ve,"\u03C4","\\tau",!0),U(W,le,ve,"\u03C5","\\upsilon",!0),U(W,le,ve,"\u03D5","\\phi",!0),U(W,le,ve,"\u03C7","\\chi",!0),U(W,le,ve,"\u03C8","\\psi",!0),U(W,le,ve,"\u03C9","\\omega",!0),U(W,le,ve,"\u03B5","\\varepsilon",!0),U(W,le,ve,"\u03D1","\\vartheta",!0),U(W,le,ve,"\u03D6","\\varpi",!0),U(W,le,ve,"\u03F1","\\varrho",!0),U(W,le,ve,"\u03C2","\\varsigma",!0),U(W,le,ve,"\u03C6","\\varphi",!0),U(W,le,ar,"\u2217","*",!0),U(W,le,ar,"+","+"),U(W,le,ar,"\u2212","-",!0),U(W,le,ar,"\u22C5","\\cdot",!0),U(W,le,ar,"\u2218","\\circ",!0),U(W,le,ar,"\xF7","\\div",!0),U(W,le,ar,"\xB1","\\pm",!0),U(W,le,ar,"\xD7","\\times",!0),U(W,le,ar,"\u2229","\\cap",!0),U(W,le,ar,"\u222A","\\cup",!0),U(W,le,ar,"\u2216","\\setminus",!0),U(W,le,ar,"\u2227","\\land"),U(W,le,ar,"\u2228","\\lor"),U(W,le,ar,"\u2227","\\wedge",!0),U(W,le,ar,"\u2228","\\vee",!0),U(W,le,Me,"\u221A","\\surd"),U(W,le,Ye,"\u27E8","\\langle",!0),U(W,le,Ye,"\u2223","\\lvert"),U(W,le,Ye,"\u2225","\\lVert"),U(W,le,gr,"?","?"),U(W,le,gr,"!","!"),U(W,le,gr,"\u27E9","\\rangle",!0),U(W,le,gr,"\u2223","\\rvert"),U(W,le,gr,"\u2225","\\rVert"),U(W,le,ye,"=","="),U(W,le,ye,":",":"),U(W,le,ye,"\u2248","\\approx",!0),U(W,le,ye,"\u2245","\\cong",!0),U(W,le,ye,"\u2265","\\ge"),U(W,le,ye,"\u2265","\\geq",!0),U(W,le,ye,"\u2190","\\gets"),U(W,le,ye,">","\\gt",!0),U(W,le,ye,"\u2208","\\in",!0),U(W,le,ye,"\uE020","\\@not"),U(W,le,ye,"\u2282","\\subset",!0),U(W,le,ye,"\u2283","\\supset",!0),U(W,le,ye,"\u2286","\\subseteq",!0),U(W,le,ye,"\u2287","\\supseteq",!0),U(W,Oe,ye,"\u2288","\\nsubseteq",!0),U(W,Oe,ye,"\u2289","\\nsupseteq",!0),U(W,le,ye,"\u22A8","\\models"),U(W,le,ye,"\u2190","\\leftarrow",!0),U(W,le,ye,"\u2264","\\le"),U(W,le,ye,"\u2264","\\leq",!0),U(W,le,ye,"<","\\lt",!0),U(W,le,ye,"\u2192","\\rightarrow",!0),U(W,le,ye,"\u2192","\\to"),U(W,Oe,ye,"\u2271","\\ngeq",!0),U(W,Oe,ye,"\u2270","\\nleq",!0),U(W,le,Et,"\xA0","\\ "),U(W,le,Et,"\xA0","\\space"),U(W,le,Et,"\xA0","\\nobreakspace"),U(Lt,le,Et,"\xA0","\\ "),U(Lt,le,Et,"\xA0"," "),U(Lt,le,Et,"\xA0","\\space"),U(Lt,le,Et,"\xA0","\\nobreakspace"),U(W,le,Et,null,"\\nobreak"),U(W,le,Et,null,"\\allowbreak"),U(W,le,Pe,",",","),U(W,le,Pe,";",";"),U(W,Oe,ar,"\u22BC","\\barwedge",!0),U(W,Oe,ar,"\u22BB","\\veebar",!0),U(W,le,ar,"\u2299","\\odot",!0),U(W,le,ar,"\u2295","\\oplus",!0),U(W,le,ar,"\u2297","\\otimes",!0),U(W,le,Me,"\u2202","\\partial",!0),U(W,le,ar,"\u2298","\\oslash",!0),U(W,Oe,ar,"\u229A","\\circledcirc",!0),U(W,Oe,ar,"\u22A1","\\boxdot",!0),U(W,le,ar,"\u25B3","\\bigtriangleup"),U(W,le,ar,"\u25BD","\\bigtriangledown"),U(W,le,ar,"\u2020","\\dagger"),U(W,le,ar,"\u22C4","\\diamond"),U(W,le,ar,"\u22C6","\\star"),U(W,le,ar,"\u25C3","\\triangleleft"),U(W,le,ar,"\u25B9","\\triangleright"),U(W,le,Ye,"{","\\{"),U(Lt,le,Me,"{","\\{"),U(Lt,le,Me,"{","\\textbraceleft"),U(W,le,gr,"}","\\}"),U(Lt,le,Me,"}","\\}"),U(Lt,le,Me,"}","\\textbraceright"),U(W,le,Ye,"{","\\lbrace"),U(W,le,gr,"}","\\rbrace"),U(W,le,Ye,"[","\\lbrack",!0),U(Lt,le,Me,"[","\\lbrack",!0),U(W,le,gr,"]","\\rbrack",!0),U(Lt,le,Me,"]","\\rbrack",!0),U(W,le,Ye,"(","\\lparen",!0),U(W,le,gr,")","\\rparen",!0),U(Lt,le,Me,"<","\\textless",!0),U(Lt,le,Me,">","\\textgreater",!0),U(W,le,Ye,"\u230A","\\lfloor",!0),U(W,le,gr,"\u230B","\\rfloor",!0),U(W,le,Ye,"\u2308","\\lceil",!0),U(W,le,gr,"\u2309","\\rceil",!0),U(W,le,Me,"\\","\\backslash"),U(W,le,Me,"\u2223","|"),U(W,le,Me,"\u2223","\\vert"),U(Lt,le,Me,"|","\\textbar",!0),U(W,le,Me,"\u2225","\\|"),U(W,le,Me,"\u2225","\\Vert"),U(Lt,le,Me,"\u2225","\\textbardbl"),U(Lt,le,Me,"~","\\textasciitilde"),U(Lt,le,Me,"\\","\\textbackslash"),U(Lt,le,Me,"^","\\textasciicircum"),U(W,le,ye,"\u2191","\\uparrow",!0),U(W,le,ye,"\u21D1","\\Uparrow",!0),U(W,le,ye,"\u2193","\\downarrow",!0),U(W,le,ye,"\u21D3","\\Downarrow",!0),U(W,le,ye,"\u2195","\\updownarrow",!0),U(W,le,ye,"\u21D5","\\Updownarrow",!0),U(W,le,Ie,"\u2210","\\coprod"),U(W,le,Ie,"\u22C1","\\bigvee"),U(W,le,Ie,"\u22C0","\\bigwedge"),U(W,le,Ie,"\u2A04","\\biguplus"),U(W,le,Ie,"\u22C2","\\bigcap"),U(W,le,Ie,"\u22C3","\\bigcup"),U(W,le,Ie,"\u222B","\\int"),U(W,le,Ie,"\u222B","\\intop"),U(W,le,Ie,"\u222C","\\iint"),U(W,le,Ie,"\u222D","\\iiint"),U(W,le,Ie,"\u220F","\\prod"),U(W,le,Ie,"\u2211","\\sum"),U(W,le,Ie,"\u2A02","\\bigotimes"),U(W,le,Ie,"\u2A01","\\bigoplus"),U(W,le,Ie,"\u2A00","\\bigodot"),U(W,le,Ie,"\u222E","\\oint"),U(W,le,Ie,"\u222F","\\oiint"),U(W,le,Ie,"\u2230","\\oiiint"),U(W,le,Ie,"\u2A06","\\bigsqcup"),U(W,le,Ie,"\u222B","\\smallint"),U(Lt,le,Ee,"\u2026","\\textellipsis"),U(W,le,Ee,"\u2026","\\mathellipsis"),U(Lt,le,Ee,"\u2026","\\ldots",!0),U(W,le,Ee,"\u2026","\\ldots",!0),U(W,le,Ee,"\u22EF","\\@cdots",!0),U(W,le,Ee,"\u22F1","\\ddots",!0),U(W,le,Me,"\u22EE","\\varvdots"),U(Lt,le,Me,"\u22EE","\\varvdots"),U(W,le,vi,"\u02CA","\\acute"),U(W,le,vi,"\u02CB","\\grave"),U(W,le,vi,"\xA8","\\ddot"),U(W,le,vi,"~","\\tilde"),U(W,le,vi,"\u02C9","\\bar"),U(W,le,vi,"\u02D8","\\breve"),U(W,le,vi,"\u02C7","\\check"),U(W,le,vi,"^","\\hat"),U(W,le,vi,"\u20D7","\\vec"),U(W,le,vi,"\u02D9","\\dot"),U(W,le,vi,"\u02DA","\\mathring"),U(W,le,ve,"\uE131","\\@imath"),U(W,le,ve,"\uE237","\\@jmath"),U(W,le,Me,"\u0131","\u0131"),U(W,le,Me,"\u0237","\u0237"),U(Lt,le,Me,"\u0131","\\i",!0),U(Lt,le,Me,"\u0237","\\j",!0),U(Lt,le,Me,"\xDF","\\ss",!0),U(Lt,le,Me,"\xE6","\\ae",!0),U(Lt,le,Me,"\u0153","\\oe",!0),U(Lt,le,Me,"\xF8","\\o",!0),U(Lt,le,Me,"\xC6","\\AE",!0),U(Lt,le,Me,"\u0152","\\OE",!0),U(Lt,le,Me,"\xD8","\\O",!0),U(Lt,le,vi,"\u02CA","\\'"),U(Lt,le,vi,"\u02CB","\\`"),U(Lt,le,vi,"\u02C6","\\^"),U(Lt,le,vi,"\u02DC","\\~"),U(Lt,le,vi,"\u02C9","\\="),U(Lt,le,vi,"\u02D8","\\u"),U(Lt,le,vi,"\u02D9","\\."),U(Lt,le,vi,"\xB8","\\c"),U(Lt,le,vi,"\u02DA","\\r"),U(Lt,le,vi,"\u02C7","\\v"),U(Lt,le,vi,"\xA8",'\\"'),U(Lt,le,vi,"\u02DD","\\H"),U(Lt,le,vi,"\u25EF","\\textcircled");const er={"--":!0,"---":!0,"``":!0,"''":!0};U(Lt,le,Me,"\u2013","--",!0),U(Lt,le,Me,"\u2013","\\textendash"),U(Lt,le,Me,"\u2014","---",!0),U(Lt,le,Me,"\u2014","\\textemdash"),U(Lt,le,Me,"\u2018","`",!0),U(Lt,le,Me,"\u2018","\\textquoteleft"),U(Lt,le,Me,"\u2019","'",!0),U(Lt,le,Me,"\u2019","\\textquoteright"),U(Lt,le,Me,"\u201C","``",!0),U(Lt,le,Me,"\u201C","\\textquotedblleft"),U(Lt,le,Me,"\u201D","''",!0),U(Lt,le,Me,"\u201D","\\textquotedblright"),U(W,le,Me,"\xB0","\\degree",!0),U(Lt,le,Me,"\xB0","\\degree"),U(Lt,le,Me,"\xB0","\\textdegree",!0),U(W,le,Me,"\xA3","\\pounds"),U(W,le,Me,"\xA3","\\mathsterling",!0),U(Lt,le,Me,"\xA3","\\pounds"),U(Lt,le,Me,"\xA3","\\textsterling",!0),U(W,Oe,Me,"\u2720","\\maltese"),U(Lt,Oe,Me,"\u2720","\\maltese");const br='0123456789/@."';for(let T=0;T<14;T++){const k=br.charAt(T);U(W,le,Me,k,k)}const vn='0123456789!@*()-=+";:?/.,';for(let T=0;T<25;T++){const k=vn.charAt(T);U(Lt,le,Me,k,k)}const _n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let T=0;T<52;T++){const k=_n.charAt(T);U(W,le,ve,k,k),U(Lt,le,Me,k,k)}U(W,Oe,Me,"C","\u2102"),U(Lt,Oe,Me,"C","\u2102"),U(W,Oe,Me,"H","\u210D"),U(Lt,Oe,Me,"H","\u210D"),U(W,Oe,Me,"N","\u2115"),U(Lt,Oe,Me,"N","\u2115"),U(W,Oe,Me,"P","\u2119"),U(Lt,Oe,Me,"P","\u2119"),U(W,Oe,Me,"Q","\u211A"),U(Lt,Oe,Me,"Q","\u211A"),U(W,Oe,Me,"R","\u211D"),U(Lt,Oe,Me,"R","\u211D"),U(W,Oe,Me,"Z","\u2124"),U(Lt,Oe,Me,"Z","\u2124"),U(W,le,ve,"h","\u210E"),U(Lt,le,ve,"h","\u210E");let fr="";for(let T=0;T<52;T++){const k=_n.charAt(T);fr=String.fromCharCode(55349,56320+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr),fr=String.fromCharCode(55349,56372+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr),fr=String.fromCharCode(55349,56424+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr),fr=String.fromCharCode(55349,56580+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr),fr=String.fromCharCode(55349,56684+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr),fr=String.fromCharCode(55349,56736+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr),fr=String.fromCharCode(55349,56788+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr),fr=String.fromCharCode(55349,56840+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr),fr=String.fromCharCode(55349,56944+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr),T<26&&(fr=String.fromCharCode(55349,56632+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr),fr=String.fromCharCode(55349,56476+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr))}fr="\u{1D55C}",U(W,le,ve,"k",fr),U(Lt,le,Me,"k",fr);for(let T=0;T<10;T++){const k=T.toString();fr=String.fromCharCode(55349,57294+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr),fr=String.fromCharCode(55349,57314+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr),fr=String.fromCharCode(55349,57324+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr),fr=String.fromCharCode(55349,57334+T),U(W,le,ve,k,fr),U(Lt,le,Me,k,fr)}const Dn="\xD0\xDE\xFE";for(let T=0;T<3;T++){const k=Dn.charAt(T);U(W,le,ve,k,k),U(Lt,le,Me,k,k)}const Ra=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Oa=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],cl=function(T,k,_){return ai[_][T]&&ai[_][T].replace&&(T=ai[_][T].replace),{value:T,metrics:ll(T,k,_)}},Jn=function(T,k,_,$,j){const Z=cl(T,k,_),ce=Z.metrics;let we;if(T=Z.value,ce){let Se=ce.italic;(_==="text"||$&&$.font==="mathit")&&(Se=0),we=new In(T,ce.height,ce.depth,Se,ce.skew,ce.width,j)}else typeof console<"u"&&console.warn("No character metrics for '"+T+"' in style '"+k+"' and mode '"+_+"'"),we=new In(T,0,0,0,0,0,j);if($){we.maxFontSize=$.sizeMultiplier,$.style.isTight()&&we.classes.push("mtight");const Se=$.getColor();Se&&(we.style.color=Se)}return we},us=(T,k)=>{if(cs(T.classes)!==cs(k.classes)||T.skew!==k.skew||T.maxFontSize!==k.maxFontSize)return!1;if(T.classes.length===1){const _=T.classes[0];if(_==="mbin"||_==="mord")return!1}for(const _ in T.style)if(T.style.hasOwnProperty(_)&&T.style[_]!==k.style[_])return!1;for(const _ in k.style)if(k.style.hasOwnProperty(_)&&T.style[_]!==k.style[_])return!1;return!0},ei=function(T){let k=0,_=0,$=0;for(let j=0;j<T.children.length;j++){const Z=T.children[j];Z.height>k&&(k=Z.height),Z.depth>_&&(_=Z.depth),Z.maxFontSize>$&&($=Z.maxFontSize)}T.height=k,T.depth=_,T.maxFontSize=$},Un=function(T,k,_,$){const j=new Us(T,k,_,$);return ei(j),j},ul=(T,k,_,$)=>new Us(T,k,_,$),hs=function(T){const k=new js(T);return ei(k),k},ci=function(T,k,_){let $,j="";switch(T){case"amsrm":j="AMS";break;case"textrm":j="Main";break;case"textsf":j="SansSerif";break;case"texttt":j="Typewriter";break;default:j=T}return $=k==="textbf"&&_==="textit"?"BoldItalic":k==="textbf"?"Bold":k==="textit"?"Italic":"Regular",j+"-"+$},hl={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},dl={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var ct={fontMap:hl,makeSymbol:Jn,mathsym:function(T,k,_,$){return $===void 0&&($=[]),_.font==="boldsymbol"&&cl(T,"Main-Bold",k).metrics?Jn(T,"Main-Bold",k,_,$.concat(["mathbf"])):T==="\\"||ai[k][T].font==="main"?Jn(T,"Main-Regular",k,_,$):Jn(T,"AMS-Regular",k,_,$.concat(["amsrm"]))},makeSpan:Un,makeSvgSpan:ul,makeLineSpan:function(T,k,_){const $=Un([T],[],k);return $.height=Math.max(_||k.fontMetrics().defaultRuleThickness,k.minRuleThickness),$.style.borderBottomWidth=qt($.height),$.maxFontSize=1,$},makeAnchor:function(T,k,_,$){const j=new mo(T,k,_,$);return ei(j),j},makeFragment:hs,wrapFragment:function(T,k){return T instanceof js?Un([],[T],k):T},makeVList:function(T,k){const{children:_,depth:$}=function(vt){if(vt.positionType==="individualShift"){const Er=vt.children,Zr=[Er[0]],fn=-Er[0].shift-Er[0].elem.depth;let $n=fn;for(let dn=1;dn<Er.length;dn++){const Yn=-Er[dn].shift-$n-Er[dn].elem.depth,Vn=Yn-(Er[dn-1].elem.height+Er[dn-1].elem.depth);$n+=Yn,Zr.push({type:"kern",size:Vn}),Zr.push(Er[dn])}return{children:Zr,depth:fn}}let Pt;if(vt.positionType==="top"){let Er=vt.positionData;for(let Zr=0;Zr<vt.children.length;Zr++){const fn=vt.children[Zr];Er-=fn.type==="kern"?fn.size:fn.elem.height+fn.elem.depth}Pt=Er}else if(vt.positionType==="bottom")Pt=-vt.positionData;else{const Er=vt.children[0];if(Er.type!=="elem")throw new Error('First child must have type "elem".');if(vt.positionType==="shift")Pt=-Er.elem.depth-vt.positionData;else{if(vt.positionType!=="firstBaseline")throw new Error("Invalid positionType "+vt.positionType+".");Pt=-Er.elem.depth}}return{children:vt.children,depth:Pt}}(T);let j=0;for(let vt=0;vt<_.length;vt++){const Pt=_[vt];if(Pt.type==="elem"){const Er=Pt.elem;j=Math.max(j,Er.maxFontSize,Er.height)}}j+=2;const Z=Un(["pstrut"],[]);Z.style.height=qt(j);const ce=[];let we=$,Se=$,He=$;for(let vt=0;vt<_.length;vt++){const Pt=_[vt];if(Pt.type==="kern")He+=Pt.size;else{const Er=Pt.elem,Zr=Pt.wrapperClasses||[],fn=Pt.wrapperStyle||{},$n=Un(Zr,[Z,Er],void 0,fn);$n.style.top=qt(-j-He-Er.depth),Pt.marginLeft&&($n.style.marginLeft=Pt.marginLeft),Pt.marginRight&&($n.style.marginRight=Pt.marginRight),ce.push($n),He+=Er.height+Er.depth}we=Math.min(we,He),Se=Math.max(Se,He)}const Je=Un(["vlist"],ce);let Xe;if(Je.style.height=qt(Se),we<0){const vt=Un([],[]),Pt=Un(["vlist"],[vt]);Pt.style.height=qt(-we);const Er=Un(["vlist-s"],[new In("\u200B")]);Xe=[Un(["vlist-r"],[Je,Er]),Un(["vlist-r"],[Pt])]}else Xe=[Un(["vlist-r"],[Je])];const Ze=Un(["vlist-t"],Xe);return Xe.length===2&&Ze.classes.push("vlist-t2"),Ze.height=Se,Ze.depth=-we,Ze},makeOrd:function(T,k,_){const $=T.mode,j=T.text,Z=["mord"],ce=$==="math"||$==="text"&&k.font,we=ce?k.font:k.fontFamily;let Se="",He="";if(j.charCodeAt(0)===55349&&([Se,He]=function(Je,Xe){const Ze=1024*(Je.charCodeAt(0)-55296)+(Je.charCodeAt(1)-56320)+65536,vt=Xe==="math"?0:1;if(119808<=Ze&&Ze<120484){const Pt=Math.floor((Ze-119808)/26);return[Ra[Pt][2],Ra[Pt][vt]]}if(120782<=Ze&&Ze<=120831){const Pt=Math.floor((Ze-120782)/10);return[Oa[Pt][2],Oa[Pt][vt]]}if(Ze===120485||Ze===120486)return[Ra[0][2],Ra[0][vt]];if(120486<Ze&&Ze<120782)return["",""];throw new bt("Unsupported character: "+Je)}(j,$)),Se.length>0)return Jn(j,Se,$,k,Z.concat(He));if(we){let Je,Xe;if(we==="boldsymbol"){const Ze=function(vt,Pt,Er,Zr,fn){return fn!=="textord"&&cl(vt,"Math-BoldItalic",Pt).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(j,$,0,0,_);Je=Ze.fontName,Xe=[Ze.fontClass]}else ce?(Je=hl[we].fontName,Xe=[we]):(Je=ci(we,k.fontWeight,k.fontShape),Xe=[we,k.fontWeight,k.fontShape]);if(cl(j,Je,$).metrics)return Jn(j,Je,$,k,Z.concat(Xe));if(er.hasOwnProperty(j)&&Je.slice(0,10)==="Typewriter"){const Ze=[];for(let vt=0;vt<j.length;vt++)Ze.push(Jn(j[vt],Je,$,k,Z.concat(Xe)));return hs(Ze)}}if(_==="mathord")return Jn(j,"Math-Italic",$,k,Z.concat(["mathnormal"]));if(_==="textord"){const Je=ai[$][j]&&ai[$][j].font;if(Je==="ams"){const Xe=ci("amsrm",k.fontWeight,k.fontShape);return Jn(j,Xe,$,k,Z.concat("amsrm",k.fontWeight,k.fontShape))}if(Je!=="main"&&Je){const Xe=ci(Je,k.fontWeight,k.fontShape);return Jn(j,Xe,$,k,Z.concat(Xe,k.fontWeight,k.fontShape))}{const Xe=ci("textrm",k.fontWeight,k.fontShape);return Jn(j,Xe,$,k,Z.concat(k.fontWeight,k.fontShape))}}throw new Error("unexpected type: "+_+" in makeOrd")},makeGlue:(T,k)=>{const _=Un(["mspace"],[],k),$=Pn(T,k);return _.style.marginRight=qt($),_},staticSvg:function(T,k){const[_,$,j]=dl[T],Z=new Es(_),ce=new Da([Z],{width:qt($),height:qt(j),style:"width:"+qt($),viewBox:"0 0 "+1e3*$+" "+1e3*j,preserveAspectRatio:"xMinYMin"}),we=ul(["overlay"],[ce],k);return we.height=j,we.style.height=qt(j),we.style.width=qt($),we},svgData:dl,tryCombineChars:T=>{for(let k=0;k<T.length-1;k++){const _=T[k],$=T[k+1];_ instanceof In&&$ instanceof In&&us(_,$)&&(_.text+=$.text,_.height=Math.max(_.height,$.height),_.depth=Math.max(_.depth,$.depth),_.italic=$.italic,T.splice(k+1,1),k--)}return T}};const ti={number:3,unit:"mu"},Dl={number:4,unit:"mu"},Do={number:5,unit:"mu"},X0={mord:{mop:ti,mbin:Dl,mrel:Do,minner:ti},mop:{mord:ti,mop:ti,mrel:Do,minner:ti},mbin:{mord:Dl,mop:Dl,mopen:Dl,minner:Dl},mrel:{mord:Do,mop:Do,mopen:Do,minner:Do},mopen:{},mclose:{mop:ti,mbin:Dl,mrel:Do,minner:ti},mpunct:{mord:ti,mop:ti,mrel:Do,mopen:ti,mclose:ti,mpunct:ti,minner:ti},minner:{mord:ti,mop:ti,mbin:Dl,mrel:Do,mopen:ti,mpunct:ti,minner:ti}},Xg={mord:{mop:ti},mop:{mord:ti,mop:ti},mbin:{},mrel:{},mopen:{},mclose:{mop:ti},mpunct:{},minner:{mop:ti}},I1={},K0={},_h={};function Ct(T){let{type:k,names:_,props:$,handler:j,htmlBuilder:Z,mathmlBuilder:ce}=T;const we={type:k,numArgs:$.numArgs,argTypes:$.argTypes,allowedInArgument:!!$.allowedInArgument,allowedInText:!!$.allowedInText,allowedInMath:$.allowedInMath===void 0||$.allowedInMath,numOptionalArgs:$.numOptionalArgs||0,infix:!!$.infix,primitive:!!$.primitive,handler:j};for(let Se=0;Se<_.length;++Se)I1[_[Se]]=we;k&&(Z&&(K0[k]=Z),ce&&(_h[k]=ce))}function ja(T){let{type:k,htmlBuilder:_,mathmlBuilder:$}=T;Ct({type:k,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:_,mathmlBuilder:$})}const Vs=function(T){return T.type==="ordgroup"&&T.body.length===1?T.body[0]:T},Sn=function(T){return T.type==="ordgroup"?T.body:[T]},vo=ct.makeSpan,Kg=["leftmost","mbin","mopen","mrel","mop","mpunct"],Zg=["rightmost","mrel","mclose","mpunct"],Ey={display:We.DISPLAY,text:We.TEXT,script:We.SCRIPT,scriptscript:We.SCRIPTSCRIPT},Qg={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Vi=function(T,k,_,$){$===void 0&&($=[null,null]);const j=[];for(let He=0;He<T.length;He++){const Je=on(T[He],k);if(Je instanceof js){const Xe=Je.children;j.push(...Xe)}else j.push(Je)}if(ct.tryCombineChars(j),!_)return j;let Z=k;if(T.length===1){const He=T[0];He.type==="sizing"?Z=k.havingSize(He.size):He.type==="styling"&&(Z=k.havingStyle(Ey[He.style]))}const ce=vo([$[0]||"leftmost"],[],k),we=vo([$[1]||"rightmost"],[],k),Se=_==="root";return Z0(j,(He,Je)=>{const Xe=Je.classes[0],Ze=He.classes[0];Xe==="mbin"&&St.contains(Zg,Ze)?Je.classes[0]="mord":Ze==="mbin"&&St.contains(Kg,Xe)&&(He.classes[0]="mord")},{node:ce},we,Se),Z0(j,(He,Je)=>{const Xe=jc(Je),Ze=jc(He),vt=Xe&&Ze?He.hasClass("mtight")?Xg[Xe][Ze]:X0[Xe][Ze]:null;if(vt)return ct.makeGlue(vt,Z)},{node:ce},we,Se),j},Z0=function(T,k,_,$,j){$&&T.push($);let Z=0;for(;Z<T.length;Z++){const ce=T[Z],we=Q0(ce);if(we){Z0(we.children,k,_,null,j);continue}const Se=!ce.hasClass("mspace");if(Se){const He=k(ce,_.node);He&&(_.insertAfter?_.insertAfter(He):(T.unshift(He),Z++))}Se?_.node=ce:j&&ce.hasClass("newline")&&(_.node=vo(["leftmost"])),_.insertAfter=(He=>Je=>{T.splice(He+1,0,Je),Z++})(Z)}$&&T.pop()},Q0=function(T){return T instanceof js||T instanceof mo||T instanceof Us&&T.hasClass("enclosing")?T:null},dc=function(T,k){const _=Q0(T);if(_){const $=_.children;if($.length){if(k==="right")return dc($[$.length-1],"right");if(k==="left")return dc($[0],"left")}}return T},jc=function(T,k){return T?(k&&(T=dc(T,k)),Qg[T.classes[0]]||null):null},Rl=function(T,k){const _=["nulldelimiter"].concat(T.baseSizingClasses());return vo(k.concat(_))},on=function(T,k,_){if(!T)return vo();if(K0[T.type]){let $=K0[T.type](T,k);if(_&&k.size!==_.size){$=vo(k.sizingClasses(_),[$],k);const j=k.sizeMultiplier/_.sizeMultiplier;$.height*=j,$.depth*=j}return $}throw new bt("Got group of unknown type: '"+T.type+"'")};function Ol(T,k){const _=vo(["base"],T,k),$=vo(["strut"]);return $.style.height=qt(_.height+_.depth),_.depth&&($.style.verticalAlign=qt(-_.depth)),_.children.unshift($),_}function Ro(T,k){let _=null;T.length===1&&T[0].type==="tag"&&(_=T[0].tag,T=T[0].body);const $=Vi(T,k,"root");let j;$.length===2&&$[1].hasClass("tag")&&(j=$.pop());const Z=[];let ce,we=[];for(let He=0;He<$.length;He++)if(we.push($[He]),$[He].hasClass("mbin")||$[He].hasClass("mrel")||$[He].hasClass("allowbreak")){let Je=!1;for(;He<$.length-1&&$[He+1].hasClass("mspace")&&!$[He+1].hasClass("newline");)He++,we.push($[He]),$[He].hasClass("nobreak")&&(Je=!0);Je||(Z.push(Ol(we,k)),we=[])}else $[He].hasClass("newline")&&(we.pop(),we.length>0&&(Z.push(Ol(we,k)),we=[]),Z.push($[He]));we.length>0&&Z.push(Ol(we,k)),_?(ce=Ol(Vi(_,k,!0)),ce.classes=["tag"],Z.push(ce)):j&&Z.push(j);const Se=vo(["katex-html"],Z);if(Se.setAttribute("aria-hidden","true"),ce){const He=ce.children[0];He.style.height=qt(Se.height+Se.depth),Se.depth&&(He.style.verticalAlign=qt(-Se.depth))}return Se}function Pl(T){return new js(T)}class Ha{constructor(k,_,$){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=k,this.attributes={},this.children=_||[],this.classes=$||[]}setAttribute(k,_){this.attributes[k]=_}getAttribute(k){return this.attributes[k]}toNode(){const k=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const _ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,_)&&k.setAttribute(_,this.attributes[_]);this.classes.length>0&&(k.className=cs(this.classes));for(let _=0;_<this.children.length;_++)if(this.children[_]instanceof ki&&this.children[_+1]instanceof ki){let $=this.children[_].toText()+this.children[++_].toText();for(;this.children[_+1]instanceof ki;)$+=this.children[++_].toText();k.appendChild(new ki($).toNode())}else k.appendChild(this.children[_].toNode());return k}toMarkup(){let k="<"+this.type;for(const _ in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,_)&&(k+=" "+_+'="',k+=St.escape(this.attributes[_]),k+='"');this.classes.length>0&&(k+=' class ="'+St.escape(cs(this.classes))+'"'),k+=">";for(let _=0;_<this.children.length;_++)k+=this.children[_].toMarkup();return k+="</"+this.type+">",k}toText(){return this.children.map(k=>k.toText()).join("")}}class ki{constructor(k){this.text=void 0,this.text=k}toNode(){return document.createTextNode(this.text)}toMarkup(){return St.escape(this.toText())}toText(){return this.text}}var Dt={MathNode:Ha,TextNode:ki,SpaceNode:class{constructor(T){this.width=void 0,this.character=void 0,this.width=T,this.character=T>=.05555&&T<=.05556?"\u200A":T>=.1666&&T<=.1667?"\u2009":T>=.2222&&T<=.2223?"\u2005":T>=.2777&&T<=.2778?"\u2005\u200A":T>=-.05556&&T<=-.05555?"\u200A\u2063":T>=-.1667&&T<=-.1666?"\u2009\u2063":T>=-.2223&&T<=-.2222?"\u205F\u2063":T>=-.2778&&T<=-.2777?"\u2005\u2063":null}toNode(){if(this.character)return document.createTextNode(this.character);{const T=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return T.setAttribute("width",qt(this.width)),T}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+qt(this.width)+'"/>'}toText(){return this.character?this.character:" "}},newDocumentFragment:Pl};const ca=function(T,k,_){return!ai[k][T]||!ai[k][T].replace||T.charCodeAt(0)===55349||er.hasOwnProperty(T)&&_&&(_.fontFamily&&_.fontFamily.slice(4,6)==="tt"||_.font&&_.font.slice(4,6)==="tt")||(T=ai[k][T].replace),new Dt.TextNode(T)},Ws=function(T){return T.length===1?T[0]:new Dt.MathNode("mrow",T)},Oo=function(T,k){if(k.fontFamily==="texttt")return"monospace";if(k.fontFamily==="textsf")return k.fontShape==="textit"&&k.fontWeight==="textbf"?"sans-serif-bold-italic":k.fontShape==="textit"?"sans-serif-italic":k.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(k.fontShape==="textit"&&k.fontWeight==="textbf")return"bold-italic";if(k.fontShape==="textit")return"italic";if(k.fontWeight==="textbf")return"bold";const _=k.font;if(!_||_==="mathnormal")return null;const $=T.mode;if(_==="mathit")return"italic";if(_==="boldsymbol")return T.type==="textord"?"bold":"bold-italic";if(_==="mathbf")return"bold";if(_==="mathbb")return"double-struck";if(_==="mathsfit")return"sans-serif-italic";if(_==="mathfrak")return"fraktur";if(_==="mathscr"||_==="mathcal")return"script";if(_==="mathsf")return"sans-serif";if(_==="mathtt")return"monospace";let j=T.text;return St.contains(["\\imath","\\jmath"],j)?null:(ai[$][j]&&ai[$][j].replace&&(j=ai[$][j].replace),ll(j,ct.fontMap[_].fontName,$)?ct.fontMap[_].variant:null)};function bo(T){if(!T)return!1;if(T.type==="mi"&&T.children.length===1){const k=T.children[0];return k instanceof ki&&k.text==="."}if(T.type==="mo"&&T.children.length===1&&T.getAttribute("separator")==="true"&&T.getAttribute("lspace")==="0em"&&T.getAttribute("rspace")==="0em"){const k=T.children[0];return k instanceof ki&&k.text===","}return!1}const ds=function(T,k,_){if(T.length===1){const Z=Bn(T[0],k);return _&&Z instanceof Ha&&Z.type==="mo"&&(Z.setAttribute("lspace","0em"),Z.setAttribute("rspace","0em")),[Z]}const $=[];let j;for(let Z=0;Z<T.length;Z++){const ce=Bn(T[Z],k);if(ce instanceof Ha&&j instanceof Ha){if(ce.type==="mtext"&&j.type==="mtext"&&ce.getAttribute("mathvariant")===j.getAttribute("mathvariant")){j.children.push(...ce.children);continue}if(ce.type==="mn"&&j.type==="mn"){j.children.push(...ce.children);continue}if(bo(ce)&&j.type==="mn"){j.children.push(...ce.children);continue}if(ce.type==="mn"&&bo(j))ce.children=[...j.children,...ce.children],$.pop();else if((ce.type==="msup"||ce.type==="msub")&&ce.children.length>=1&&(j.type==="mn"||bo(j))){const we=ce.children[0];we instanceof Ha&&we.type==="mn"&&(we.children=[...j.children,...we.children],$.pop())}else if(j.type==="mi"&&j.children.length===1){const we=j.children[0];if(we instanceof ki&&we.text==="\u0338"&&(ce.type==="mo"||ce.type==="mi"||ce.type==="mn")){const Se=ce.children[0];Se instanceof ki&&Se.text.length>0&&(Se.text=Se.text.slice(0,1)+"\u0338"+Se.text.slice(1),$.pop())}}}$.push(ce),j=ce}return $},ea=function(T,k,_){return Ws(ds(T,k,_))},Bn=function(T,k){if(!T)return new Dt.MathNode("mrow");if(_h[T.type])return _h[T.type](T,k);throw new bt("Got group of unknown type: '"+T.type+"'")};function me(T,k,_,$,j){const Z=ds(T,_);let ce;ce=Z.length===1&&Z[0]instanceof Ha&&St.contains(["mrow","mtable"],Z[0].type)?Z[0]:new Dt.MathNode("mrow",Z);const we=new Dt.MathNode("annotation",[new Dt.TextNode(k)]);we.setAttribute("encoding","application/x-tex");const Se=new Dt.MathNode("semantics",[ce,we]),He=new Dt.MathNode("math",[Se]);He.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),$&&He.setAttribute("display","block");const Je=j?"katex":"katex-mathml";return ct.makeSpan([Je],[He])}const Ae=function(T){return new Gc({style:T.displayMode?We.DISPLAY:We.TEXT,maxSize:T.maxSize,minRuleThickness:T.minRuleThickness})},Ve=function(T,k){if(k.displayMode){const _=["katex-display"];k.leqno&&_.push("leqno"),k.fleqn&&_.push("fleqn"),T=ct.makeSpan(_,[T])}return T},ft=function(T,k,_){const $=Ae(_);let j;if(_.output==="mathml")return me(T,k,$,_.displayMode,!0);if(_.output==="html"){const Z=Ro(T,$);j=ct.makeSpan(["katex"],[Z])}else{const Z=me(T,k,$,_.displayMode,!1),ce=Ro(T,$);j=ct.makeSpan(["katex"],[Z,ce])}return Ve(j,_)},It={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},Br={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]};var gn=function(T,k,_,$,j){let Z;const ce=T.height+T.depth+_+$;if(/fbox|color|angl/.test(k)){if(Z=ct.makeSpan(["stretchy",k],[],j),k==="fbox"){const we=j.color&&j.getColor();we&&(Z.style.borderColor=we)}}else{const we=[];/^[bx]cancel$/.test(k)&&we.push(new Ui({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(k)&&we.push(new Ui({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const Se=new Da(we,{width:"100%",height:qt(ce)});Z=ct.makeSvgSpan([],[Se],j)}return Z.height=ce,Z.style.height=qt(ce),Z},ui=function(T){const k=new Dt.MathNode("mo",[new Dt.TextNode(It[T.replace(/^\\/,"")])]);return k.setAttribute("stretchy","true"),k},Cs=function(T,k){const{span:_,minWidth:$,height:j}=function(){let Z=4e5;const ce=T.label.slice(1);if(St.contains(["widehat","widecheck","widetilde","utilde"],ce)){const Se=(we=T.base).type==="ordgroup"?we.body.length:1;let He,Je,Xe;if(Se>5)ce==="widehat"||ce==="widecheck"?(He=420,Z=2364,Xe=.42,Je=ce+"4"):(He=312,Z=2340,Xe=.34,Je="tilde4");else{const Pt=[1,1,2,2,3,3][Se];ce==="widehat"||ce==="widecheck"?(Z=[0,1062,2364,2364,2364][Pt],He=[0,239,300,360,420][Pt],Xe=[0,.24,.3,.3,.36,.42][Pt],Je=ce+Pt):(Z=[0,600,1033,2339,2340][Pt],He=[0,260,286,306,312][Pt],Xe=[0,.26,.286,.3,.306,.34][Pt],Je="tilde"+Pt)}const Ze=new Es(Je),vt=new Da([Ze],{width:"100%",height:qt(Xe),viewBox:"0 0 "+Z+" "+He,preserveAspectRatio:"none"});return{span:ct.makeSvgSpan([],[vt],k),minWidth:0,height:Xe}}{const Se=[],He=Br[ce],[Je,Xe,Ze]=He,vt=Ze/1e3,Pt=Je.length;let Er,Zr;if(Pt===1)Er=["hide-tail"],Zr=[He[3]];else if(Pt===2)Er=["halfarrow-left","halfarrow-right"],Zr=["xMinYMin","xMaxYMin"];else{if(Pt!==3)throw new Error(`Correct katexImagesData or update code here to support
                    `+Pt+" children.");Er=["brace-left","brace-center","brace-right"],Zr=["xMinYMin","xMidYMin","xMaxYMin"]}for(let fn=0;fn<Pt;fn++){const $n=new Es(Je[fn]),dn=new Da([$n],{width:"400em",height:qt(vt),viewBox:"0 0 "+Z+" "+Ze,preserveAspectRatio:Zr[fn]+" slice"}),Yn=ct.makeSvgSpan([Er[fn]],[dn],k);if(Pt===1)return{span:Yn,minWidth:Xe,height:vt};Yn.style.height=qt(vt),Se.push(Yn)}return{span:ct.makeSpan(["stretchy"],Se,k),minWidth:Xe,height:vt}}var we}();return _.height=j,_.style.height=qt(j),$>0&&(_.style.minWidth=qt($)),_};function $r(T,k){if(!T||T.type!==k)throw new Error("Expected node of type "+k+", but got "+(T?"node of type "+T.type:String(T)));return T}function Xs(T){const k=Jg(T);if(!k)throw new Error("Expected node of symbol group type, but got "+(T?"node of type "+T.type:String(T)));return k}function Jg(T){return T&&(T.type==="atom"||yo.hasOwnProperty(T.type))?T:null}const ef=(T,k)=>{let _,$,j;T&&T.type==="supsub"?($=$r(T.base,"accent"),_=$.base,T.base=_,j=function(Xe){if(Xe instanceof Us)return Xe;throw new Error("Expected span<HtmlDomNode> but got "+String(Xe)+".")}(on(T,k)),T.base=$):($=$r(T,"accent"),_=$.base);const Z=on(_,k.havingCrampedStyle());let ce=0;if($.isShifty&&St.isCharacterBox(_)){const Xe=St.getBaseElem(_);ce=la(on(Xe,k.havingCrampedStyle())).skew}const we=$.label==="\\c";let Se,He=we?Z.height+Z.depth:Math.min(Z.height,k.fontMetrics().xHeight);if($.isStretchy)Se=Cs($,k),Se=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Z},{type:"elem",elem:Se,wrapperClasses:["svg-align"],wrapperStyle:ce>0?{width:"calc(100% - "+qt(2*ce)+")",marginLeft:qt(2*ce)}:void 0}]},k);else{let Xe,Ze;$.label==="\\vec"?(Xe=ct.staticSvg("vec",k),Ze=ct.svgData.vec[1]):(Xe=ct.makeOrd({mode:$.mode,text:$.label},k,"textord"),Xe=la(Xe),Xe.italic=0,Ze=Xe.width,we&&(He+=Xe.depth)),Se=ct.makeSpan(["accent-body"],[Xe]);const vt=$.label==="\\textcircled";vt&&(Se.classes.push("accent-full"),He=Z.height);let Pt=ce;vt||(Pt-=Ze/2),Se.style.left=qt(Pt),$.label==="\\textcircled"&&(Se.style.top=".2em"),Se=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Z},{type:"kern",size:-He},{type:"elem",elem:Se}]},k)}const Je=ct.makeSpan(["mord","accent"],[Se],k);return j?(j.children[0]=Je,j.height=Math.max(Je.height,j.height),j.classes[0]="mord",j):Je},Cy=(T,k)=>{const _=T.isStretchy?ui(T.label):new Dt.MathNode("mo",[ca(T.label,T.mode)]),$=new Dt.MathNode("mover",[Bn(T.base,k),_]);return $.setAttribute("accent","true"),$},RC=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(T=>"\\"+T).join("|"));Ct({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(T,k)=>{const _=Vs(k[0]),$=!RC.test(T.funcName),j=!$||T.funcName==="\\widehat"||T.funcName==="\\widetilde"||T.funcName==="\\widecheck";return{type:"accent",mode:T.parser.mode,label:T.funcName,isStretchy:$,isShifty:j,base:_}},htmlBuilder:ef,mathmlBuilder:Cy}),Ct({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(T,k)=>{const _=k[0];let $=T.parser.mode;return $==="math"&&(T.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+T.funcName+" works only in text mode"),$="text"),{type:"accent",mode:$,label:T.funcName,isStretchy:!1,isShifty:!0,base:_}},htmlBuilder:ef,mathmlBuilder:Cy}),Ct({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(T,k)=>{let{parser:_,funcName:$}=T;const j=k[0];return{type:"accentUnder",mode:_.mode,label:$,base:j}},htmlBuilder:(T,k)=>{const _=on(T.base,k),$=Cs(T,k),j=T.label==="\\utilde"?.12:0,Z=ct.makeVList({positionType:"top",positionData:_.height,children:[{type:"elem",elem:$,wrapperClasses:["svg-align"]},{type:"kern",size:j},{type:"elem",elem:_}]},k);return ct.makeSpan(["mord","accentunder"],[Z],k)},mathmlBuilder:(T,k)=>{const _=ui(T.label),$=new Dt.MathNode("munder",[Bn(T.base,k),_]);return $.setAttribute("accentunder","true"),$}});const D1=T=>{const k=new Dt.MathNode("mpadded",T?[T]:[]);return k.setAttribute("width","+0.6em"),k.setAttribute("lspace","0.3em"),k};Ct({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(T,k,_){let{parser:$,funcName:j}=T;return{type:"xArrow",mode:$.mode,label:j,body:k[0],below:_[0]}},htmlBuilder(T,k){const _=k.style;let $=k.havingStyle(_.sup());const j=ct.wrapFragment(on(T.body,$,k),k),Z=T.label.slice(0,2)==="\\x"?"x":"cd";let ce;j.classes.push(Z+"-arrow-pad"),T.below&&($=k.havingStyle(_.sub()),ce=ct.wrapFragment(on(T.below,$,k),k),ce.classes.push(Z+"-arrow-pad"));const we=Cs(T,k),Se=-k.fontMetrics().axisHeight+.5*we.height;let He,Je=-k.fontMetrics().axisHeight-.5*we.height-.111;if((j.depth>.25||T.label==="\\xleftequilibrium")&&(Je-=j.depth),ce){const Xe=-k.fontMetrics().axisHeight+ce.height+.5*we.height+.111;He=ct.makeVList({positionType:"individualShift",children:[{type:"elem",elem:j,shift:Je},{type:"elem",elem:we,shift:Se},{type:"elem",elem:ce,shift:Xe}]},k)}else He=ct.makeVList({positionType:"individualShift",children:[{type:"elem",elem:j,shift:Je},{type:"elem",elem:we,shift:Se}]},k);return He.children[0].children[0].children[1].classes.push("svg-align"),ct.makeSpan(["mrel","x-arrow"],[He],k)},mathmlBuilder(T,k){const _=ui(T.label);let $;if(_.setAttribute("minsize",T.label.charAt(0)==="x"?"1.75em":"3.0em"),T.body){const j=D1(Bn(T.body,k));if(T.below){const Z=D1(Bn(T.below,k));$=new Dt.MathNode("munderover",[_,Z,j])}else $=new Dt.MathNode("mover",[_,j])}else if(T.below){const j=D1(Bn(T.below,k));$=new Dt.MathNode("munder",[_,j])}else $=D1(),$=new Dt.MathNode("mover",[_,$]);return $}});const Hc=ct.makeSpan;function gx(T,k){const _=Vi(T.body,k,!0);return Hc([T.mclass],_,k)}function _y(T,k){let _;const $=ds(T.body,k);return T.mclass==="minner"?_=new Dt.MathNode("mpadded",$):T.mclass==="mord"?T.isCharacterBox?(_=$[0],_.type="mi"):_=new Dt.MathNode("mi",$):(T.isCharacterBox?(_=$[0],_.type="mo"):_=new Dt.MathNode("mo",$),T.mclass==="mbin"?(_.attributes.lspace="0.22em",_.attributes.rspace="0.22em"):T.mclass==="mpunct"?(_.attributes.lspace="0em",_.attributes.rspace="0.17em"):T.mclass==="mopen"||T.mclass==="mclose"?(_.attributes.lspace="0em",_.attributes.rspace="0em"):T.mclass==="minner"&&(_.attributes.lspace="0.0556em",_.attributes.width="+0.1111em")),_}Ct({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(T,k){let{parser:_,funcName:$}=T;const j=k[0];return{type:"mclass",mode:_.mode,mclass:"m"+$.slice(5),body:Sn(j),isCharacterBox:St.isCharacterBox(j)}},htmlBuilder:gx,mathmlBuilder:_y});const J0=T=>{const k=T.type==="ordgroup"&&T.body.length?T.body[0]:T;return k.type!=="atom"||k.family!=="bin"&&k.family!=="rel"?"mord":"m"+k.family};Ct({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(T,k){let{parser:_}=T;return{type:"mclass",mode:_.mode,mclass:J0(k[0]),body:Sn(k[1]),isCharacterBox:St.isCharacterBox(k[1])}}}),Ct({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(T,k){let{parser:_,funcName:$}=T;const j=k[1],Z=k[0];let ce;ce=$!=="\\stackrel"?J0(j):"mrel";const we={type:"op",mode:j.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:$!=="\\stackrel",body:Sn(j)},Se={type:"supsub",mode:Z.mode,base:we,sup:$==="\\underset"?null:Z,sub:$==="\\underset"?Z:null};return{type:"mclass",mode:_.mode,mclass:ce,body:[Se],isCharacterBox:St.isCharacterBox(Se)}},htmlBuilder:gx,mathmlBuilder:_y}),Ct({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(T,k){let{parser:_}=T;return{type:"pmb",mode:_.mode,mclass:J0(k[0]),body:Sn(k[0])}},htmlBuilder(T,k){const _=Vi(T.body,k,!0),$=ct.makeSpan([T.mclass],_,k);return $.style.textShadow="0.02em 0.01em 0.04px",$},mathmlBuilder(T,k){const _=ds(T.body,k),$=new Dt.MathNode("mstyle",_);return $.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),$}});const fx={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Sy=T=>T.type==="textord"&&T.text==="@";function _r(T,k,_){const $=fx[T];switch($){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return _.callFunction($,[k[0]],[k[1]]);case"\\uparrow":case"\\downarrow":{const j={type:"atom",text:$,mode:"math",family:"rel"},Z={type:"ordgroup",mode:"math",body:[_.callFunction("\\\\cdleft",[k[0]],[]),_.callFunction("\\Big",[j],[]),_.callFunction("\\\\cdright",[k[1]],[])]};return _.callFunction("\\\\cdparent",[Z],[])}case"\\\\cdlongequal":return _.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const j={type:"textord",text:"\\Vert",mode:"math"};return _.callFunction("\\Big",[j],[])}default:return{type:"textord",text:" ",mode:"math"}}}Ct({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(T,k){let{parser:_,funcName:$}=T;return{type:"cdlabel",mode:_.mode,side:$.slice(4),label:k[0]}},htmlBuilder(T,k){const _=k.havingStyle(k.style.sup()),$=ct.wrapFragment(on(T.label,_,k),k);return $.classes.push("cd-label-"+T.side),$.style.bottom=qt(.8-$.depth),$.height=0,$.depth=0,$},mathmlBuilder(T,k){let _=new Dt.MathNode("mrow",[Bn(T.label,k)]);return _=new Dt.MathNode("mpadded",[_]),_.setAttribute("width","0"),T.side==="left"&&_.setAttribute("lspace","-1width"),_.setAttribute("voffset","0.7em"),_=new Dt.MathNode("mstyle",[_]),_.setAttribute("displaystyle","false"),_.setAttribute("scriptlevel","1"),_}}),Ct({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(T,k){let{parser:_}=T;return{type:"cdlabelparent",mode:_.mode,fragment:k[0]}},htmlBuilder(T,k){const _=ct.wrapFragment(on(T.fragment,k),k);return _.classes.push("cd-vert-arrow"),_},mathmlBuilder(T,k){return new Dt.MathNode("mrow",[Bn(T.fragment,k)])}}),Ct({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(T,k){let{parser:_}=T;const $=$r(k[0],"ordgroup").body;let j="";for(let we=0;we<$.length;we++)j+=$r($[we],"textord").text;let Z,ce=parseInt(j);if(isNaN(ce))throw new bt("\\@char has non-numeric argument "+j);if(ce<0||ce>=1114111)throw new bt("\\@char with invalid code point "+j);return ce<=65535?Z=String.fromCharCode(ce):(ce-=65536,Z=String.fromCharCode(55296+(ce>>10),56320+(1023&ce))),{type:"textord",mode:_.mode,text:Z}}});const mx=(T,k)=>{const _=Vi(T.body,k.withColor(T.color),!1);return ct.makeFragment(_)},Ay=(T,k)=>{const _=ds(T.body,k.withColor(T.color)),$=new Dt.MathNode("mstyle",_);return $.setAttribute("mathcolor",T.color),$};Ct({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(T,k){let{parser:_}=T;const $=$r(k[0],"color-token").color,j=k[1];return{type:"color",mode:_.mode,color:$,body:Sn(j)}},htmlBuilder:mx,mathmlBuilder:Ay}),Ct({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(T,k){let{parser:_,breakOnTokenText:$}=T;const j=$r(k[0],"color-token").color;_.gullet.macros.set("\\current@color",j);const Z=_.parseExpression(!0,$);return{type:"color",mode:_.mode,color:j,body:Z}},htmlBuilder:mx,mathmlBuilder:Ay}),Ct({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(T,k,_){let{parser:$}=T;const j=$.gullet.future().text==="["?$.parseSizeGroup(!0):null,Z=!$.settings.displayMode||!$.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:$.mode,newLine:Z,size:j&&$r(j,"size").value}},htmlBuilder(T,k){const _=ct.makeSpan(["mspace"],[],k);return T.newLine&&(_.classes.push("newline"),T.size&&(_.style.marginTop=qt(Pn(T.size,k)))),_},mathmlBuilder(T,k){const _=new Dt.MathNode("mspace");return T.newLine&&(_.setAttribute("linebreak","newline"),T.size&&_.setAttribute("height",qt(Pn(T.size,k)))),_}});const Mr={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},yx=T=>{const k=T.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(k))throw new bt("Expected a control sequence",T);return k},Ly=(T,k,_,$)=>{let j=T.gullet.macros.get(_.text);j==null&&(_.noexpand=!0,j={tokens:[_],numArgs:0,unexpandable:!T.gullet.isExpandable(_.text)}),T.gullet.macros.set(k,j,$)};Ct({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(T){let{parser:k,funcName:_}=T;k.consumeSpaces();const $=k.fetch();if(Mr[$.text])return _!=="\\global"&&_!=="\\\\globallong"||($.text=Mr[$.text]),$r(k.parseFunction(),"internal");throw new bt("Invalid token after macro prefix",$)}}),Ct({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(T){let{parser:k,funcName:_}=T,$=k.gullet.popToken();const j=$.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(j))throw new bt("Expected a control sequence",$);let Z,ce=0;const we=[[]];for(;k.gullet.future().text!=="{";)if($=k.gullet.popToken(),$.text==="#"){if(k.gullet.future().text==="{"){Z=k.gullet.future(),we[ce].push("{");break}if($=k.gullet.popToken(),!/^[1-9]$/.test($.text))throw new bt('Invalid argument number "'+$.text+'"');if(parseInt($.text)!==ce+1)throw new bt('Argument number "'+$.text+'" out of order');ce++,we.push([])}else{if($.text==="EOF")throw new bt("Expected a macro definition");we[ce].push($.text)}let{tokens:Se}=k.gullet.consumeArg();return Z&&Se.unshift(Z),_!=="\\edef"&&_!=="\\xdef"||(Se=k.gullet.expandTokens(Se),Se.reverse()),k.gullet.macros.set(j,{tokens:Se,numArgs:ce,delimiters:we},_===Mr[_]),{type:"internal",mode:k.mode}}}),Ct({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(T){let{parser:k,funcName:_}=T;const $=yx(k.gullet.popToken());k.gullet.consumeSpaces();const j=(Z=>{let ce=Z.gullet.popToken();return ce.text==="="&&(ce=Z.gullet.popToken(),ce.text===" "&&(ce=Z.gullet.popToken())),ce})(k);return Ly(k,$,j,_==="\\\\globallet"),{type:"internal",mode:k.mode}}}),Ct({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(T){let{parser:k,funcName:_}=T;const $=yx(k.gullet.popToken()),j=k.gullet.popToken(),Z=k.gullet.popToken();return Ly(k,$,Z,_==="\\\\globalfuture"),k.gullet.pushToken(Z),k.gullet.pushToken(j),{type:"internal",mode:k.mode}}});const lt=function(T,k,_){const $=ll(ai.math[T]&&ai.math[T].replace||T,k,_);if(!$)throw new Error("Unsupported symbol "+T+" and font size "+k+".");return $},Ny=function(T,k,_,$){const j=_.havingBaseStyle(k),Z=ct.makeSpan($.concat(j.sizingClasses(_)),[T],_),ce=j.sizeMultiplier/_.sizeMultiplier;return Z.height*=ce,Z.depth*=ce,Z.maxFontSize=j.sizeMultiplier,Z},My=function(T,k,_){const $=k.havingBaseStyle(_),j=(1-k.sizeMultiplier/$.sizeMultiplier)*k.fontMetrics().axisHeight;T.classes.push("delimcenter"),T.style.top=qt(j),T.height-=j,T.depth+=j},Iy=function(T,k,_,$,j,Z){const ce=function(Se,He,Je,Xe){return ct.makeSymbol(Se,"Size"+He+"-Regular",Je,Xe)}(T,k,j,$),we=Ny(ct.makeSpan(["delimsizing","size"+k],[ce],$),We.TEXT,$,Z);return _&&My(we,$,We.TEXT),we},Dy=function(T,k,_){let $;return $=k==="Size1-Regular"?"delim-size1":"delim-size4",{type:"elem",elem:ct.makeSpan(["delimsizinginner",$],[ct.makeSpan([],[ct.makeSymbol(T,k,_)])])}},tf=function(T,k,_){const $=Ya["Size4-Regular"][T.charCodeAt(0)]?Ya["Size4-Regular"][T.charCodeAt(0)][4]:Ya["Size1-Regular"][T.charCodeAt(0)][4],j=new Es("inner",function(we,Se){switch(we){case"\u239C":return"M291 0 H417 V"+Se+" H291z M291 0 H417 V"+Se+" H291z";case"\u2223":return"M145 0 H188 V"+Se+" H145z M145 0 H188 V"+Se+" H145z";case"\u2225":return"M145 0 H188 V"+Se+" H145z M145 0 H188 V"+Se+" H145zM367 0 H410 V"+Se+" H367z M367 0 H410 V"+Se+" H367z";case"\u239F":return"M457 0 H583 V"+Se+" H457z M457 0 H583 V"+Se+" H457z";case"\u23A2":return"M319 0 H403 V"+Se+" H319z M319 0 H403 V"+Se+" H319z";case"\u23A5":return"M263 0 H347 V"+Se+" H263z M263 0 H347 V"+Se+" H263z";case"\u23AA":return"M384 0 H504 V"+Se+" H384z M384 0 H504 V"+Se+" H384z";case"\u23D0":return"M312 0 H355 V"+Se+" H312z M312 0 H355 V"+Se+" H312z";case"\u2016":return"M257 0 H300 V"+Se+" H257z M257 0 H300 V"+Se+" H257zM478 0 H521 V"+Se+" H478z M478 0 H521 V"+Se+" H478z";default:return""}}(T,Math.round(1e3*k))),Z=new Da([j],{width:qt($),height:qt(k),style:"width:"+qt($),viewBox:"0 0 "+1e3*$+" "+Math.round(1e3*k),preserveAspectRatio:"xMinYMin"}),ce=ct.makeSvgSpan([],[Z],_);return ce.height=k,ce.style.height=qt(k),ce.style.width=qt($),{type:"elem",elem:ce}},sr={type:"kern",size:-.008},OC=["|","\\lvert","\\rvert","\\vert"],PC=["\\|","\\lVert","\\rVert","\\Vert"],pl=function(T,k,_,$,j,Z){let ce,we,Se,He,Je="",Xe=0;ce=Se=He=T,we=null;let Ze="Size1-Regular";T==="\\uparrow"?Se=He="\u23D0":T==="\\Uparrow"?Se=He="\u2016":T==="\\downarrow"?ce=Se="\u23D0":T==="\\Downarrow"?ce=Se="\u2016":T==="\\updownarrow"?(ce="\\uparrow",Se="\u23D0",He="\\downarrow"):T==="\\Updownarrow"?(ce="\\Uparrow",Se="\u2016",He="\\Downarrow"):St.contains(OC,T)?(Se="\u2223",Je="vert",Xe=333):St.contains(PC,T)?(Se="\u2225",Je="doublevert",Xe=556):T==="["||T==="\\lbrack"?(ce="\u23A1",Se="\u23A2",He="\u23A3",Ze="Size4-Regular",Je="lbrack",Xe=667):T==="]"||T==="\\rbrack"?(ce="\u23A4",Se="\u23A5",He="\u23A6",Ze="Size4-Regular",Je="rbrack",Xe=667):T==="\\lfloor"||T==="\u230A"?(Se=ce="\u23A2",He="\u23A3",Ze="Size4-Regular",Je="lfloor",Xe=667):T==="\\lceil"||T==="\u2308"?(ce="\u23A1",Se=He="\u23A2",Ze="Size4-Regular",Je="lceil",Xe=667):T==="\\rfloor"||T==="\u230B"?(Se=ce="\u23A5",He="\u23A6",Ze="Size4-Regular",Je="rfloor",Xe=667):T==="\\rceil"||T==="\u2309"?(ce="\u23A4",Se=He="\u23A5",Ze="Size4-Regular",Je="rceil",Xe=667):T==="("||T==="\\lparen"?(ce="\u239B",Se="\u239C",He="\u239D",Ze="Size4-Regular",Je="lparen",Xe=875):T===")"||T==="\\rparen"?(ce="\u239E",Se="\u239F",He="\u23A0",Ze="Size4-Regular",Je="rparen",Xe=875):T==="\\{"||T==="\\lbrace"?(ce="\u23A7",we="\u23A8",He="\u23A9",Se="\u23AA",Ze="Size4-Regular"):T==="\\}"||T==="\\rbrace"?(ce="\u23AB",we="\u23AC",He="\u23AD",Se="\u23AA",Ze="Size4-Regular"):T==="\\lgroup"||T==="\u27EE"?(ce="\u23A7",He="\u23A9",Se="\u23AA",Ze="Size4-Regular"):T==="\\rgroup"||T==="\u27EF"?(ce="\u23AB",He="\u23AD",Se="\u23AA",Ze="Size4-Regular"):T==="\\lmoustache"||T==="\u23B0"?(ce="\u23A7",He="\u23AD",Se="\u23AA",Ze="Size4-Regular"):T!=="\\rmoustache"&&T!=="\u23B1"||(ce="\u23AB",He="\u23A9",Se="\u23AA",Ze="Size4-Regular");const vt=lt(ce,Ze,j),Pt=vt.height+vt.depth,Er=lt(Se,Ze,j),Zr=Er.height+Er.depth,fn=lt(He,Ze,j),$n=fn.height+fn.depth;let dn=0,Yn=1;if(we!==null){const Rn=lt(we,Ze,j);dn=Rn.height+Rn.depth,Yn=2}const Vn=Pt+$n+dn,ta=Vn+Math.max(0,Math.ceil((k-Vn)/(Yn*Zr)))*Yn*Zr;let pc=$.fontMetrics().axisHeight;_&&(pc*=$.sizeMultiplier);const Rh=ta/2-pc,wn=[];if(Je.length>0){const Rn=ta-Pt-$n,Ea=Math.round(1e3*ta),Gi=function(Wy,Ti){switch(Wy){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+Ti+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+Ti+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+Ti+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+Ti+" v1759 h84z";case"vert":return"M145 15 v585 v"+Ti+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Ti+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+Ti+" v585 h43z";case"doublevert":return"M145 15 v585 v"+Ti+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Ti+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+Ti+` v585 h43z
M367 15 v585 v`+Ti+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-Ti+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+Ti+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+Ti+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+Ti+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+Ti+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+Ti+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+Ti+` v602 h84z
M403 1759 V0 H319 V1759 v`+Ti+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+Ti+` v602 h84z
M347 1759 V0 h-84 V1759 v`+Ti+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(Ti+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(Ti+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(Ti+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(Ti+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}}(Je,Math.round(1e3*Rn)),ko=new Es(Je,Gi),wf=(Xe/1e3).toFixed(3)+"em",bn=(Ea/1e3).toFixed(3)+"em",kf=new Da([ko],{width:wf,height:bn,viewBox:"0 0 "+Xe+" "+Ea}),Pu=ct.makeSvgSpan([],[kf],$);Pu.height=Ea/1e3,Pu.style.width=wf,Pu.style.height=bn,wn.push({type:"elem",elem:Pu})}else{if(wn.push(Dy(He,Ze,j)),wn.push(sr),we===null){const Rn=ta-Pt-$n+.016;wn.push(tf(Se,Rn,$))}else{const Rn=(ta-Pt-$n-dn)/2+.016;wn.push(tf(Se,Rn,$)),wn.push(sr),wn.push(Dy(we,Ze,j)),wn.push(sr),wn.push(tf(Se,Rn,$))}wn.push(sr),wn.push(Dy(ce,Ze,j))}const H=$.havingBaseStyle(We.TEXT),Wt=ct.makeVList({positionType:"bottom",positionData:Rh,children:wn},H);return Ny(ct.makeSpan(["delimsizing","mult"],[Wt],H),We.TEXT,$,Z)},Sh=.08,Ah=function(T,k,_,$,j){const Z=function(Se,He,Je){He*=1e3;let Xe="";switch(Se){case"sqrtMain":Xe=function(Ze,vt){return"M95,"+(622+Ze+vt)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+Ze/2.075+" -"+Ze+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+Ze)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+Ze)+" "+vt+"h400000v"+(40+Ze)+"h-400000z"}(He,Nn);break;case"sqrtSize1":Xe=function(Ze,vt){return"M263,"+(601+Ze+vt)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+Ze/2.084+" -"+Ze+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+Ze)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+Ze)+" "+vt+"h400000v"+(40+Ze)+"h-400000z"}(He,Nn);break;case"sqrtSize2":Xe=function(Ze,vt){return"M983 "+(10+Ze+vt)+`
l`+Ze/3.13+" -"+Ze+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+Ze)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+Ze)+" "+vt+"h400000v"+(40+Ze)+"h-400000z"}(He,Nn);break;case"sqrtSize3":Xe=function(Ze,vt){return"M424,"+(2398+Ze+vt)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+Ze/4.223+" -"+Ze+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+Ze)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+Ze)+" "+vt+`
h400000v`+(40+Ze)+"h-400000z"}(He,Nn);break;case"sqrtSize4":Xe=function(Ze,vt){return"M473,"+(2713+Ze+vt)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+Ze/5.298+" -"+Ze+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+Ze)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+Ze)+" "+vt+"h400000v"+(40+Ze)+"H1017.7z"}(He,Nn);break;case"sqrtTall":Xe=function(Ze,vt,Pt){return"M702 "+(Ze+vt)+"H400000"+(40+Ze)+`
H742v`+(Pt-54-vt-Ze)+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+vt+"H400000v"+(40+Ze)+"H742z"}(He,Nn,Je)}return Xe}(T,$,_),ce=new Es(T,Z),we=new Da([ce],{width:"400em",height:qt(k),viewBox:"0 0 400000 "+_,preserveAspectRatio:"xMinYMin slice"});return ct.makeSvgSpan(["hide-tail"],[we],j)},R1=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],_s=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],ed=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],td=[0,1.2,1.8,2.4,3],vx=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],BC=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"stack"}],Ry=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],bx=function(T){if(T.type==="small")return"Main-Regular";if(T.type==="large")return"Size"+T.size+"-Regular";if(T.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+T.type+"' here.")},xx=function(T,k,_,$){for(let j=Math.min(2,3-$.style.size);j<_.length&&_[j].type!=="stack";j++){const Z=lt(T,bx(_[j]),"math");let ce=Z.height+Z.depth;if(_[j].type==="small"&&(ce*=$.havingBaseStyle(_[j].style).sizeMultiplier),ce>k)return _[j]}return _[_.length-1]},Oy=function(T,k,_,$,j,Z){let ce;T==="<"||T==="\\lt"||T==="\u27E8"?T="\\langle":T!==">"&&T!=="\\gt"&&T!=="\u27E9"||(T="\\rangle"),ce=St.contains(ed,T)?vx:St.contains(R1,T)?Ry:BC;const we=xx(T,k,ce,$);return we.type==="small"?function(Se,He,Je,Xe,Ze,vt){const Pt=ct.makeSymbol(Se,"Main-Regular",Ze,Xe),Er=Ny(Pt,He,Xe,vt);return Je&&My(Er,Xe,He),Er}(T,we.style,_,$,j,Z):we.type==="large"?Iy(T,we.size,_,$,j,Z):pl(T,k,_,$,j,Z)};var gl={sqrtImage:function(T,k){const _=k.havingBaseSizing(),$=xx("\\surd",T*_.sizeMultiplier,Ry,_);let j=_.sizeMultiplier;const Z=Math.max(0,k.minRuleThickness-k.fontMetrics().sqrtRuleThickness);let ce,we,Se=0,He=0,Je=0;return $.type==="small"?(Je=1e3+1e3*Z+80,T<1?j=1:T<1.4&&(j=.7),Se=(1+Z+Sh)/j,He=(1+Z)/j,ce=Ah("sqrtMain",Se,Je,Z,k),ce.style.minWidth="0.853em",we=.833/j):$.type==="large"?(Je=1080*td[$.size],He=(td[$.size]+Z)/j,Se=(td[$.size]+Z+Sh)/j,ce=Ah("sqrtSize"+$.size,Se,Je,Z,k),ce.style.minWidth="1.02em",we=1/j):(Se=T+Z+Sh,He=T+Z,Je=Math.floor(1e3*T+Z)+80,ce=Ah("sqrtTall",Se,Je,Z,k),ce.style.minWidth="0.742em",we=1.056),ce.height=He,ce.style.height=qt(Se),{span:ce,advanceWidth:we,ruleWidth:(k.fontMetrics().sqrtRuleThickness+Z)*j}},sizedDelim:function(T,k,_,$,j){if(T==="<"||T==="\\lt"||T==="\u27E8"?T="\\langle":T!==">"&&T!=="\\gt"&&T!=="\u27E9"||(T="\\rangle"),St.contains(R1,T)||St.contains(ed,T))return Iy(T,k,!1,_,$,j);if(St.contains(_s,T))return pl(T,td[k],!1,_,$,j);throw new bt("Illegal delimiter: '"+T+"'")},sizeToMaxHeight:td,customSizedDelim:Oy,leftRightDelim:function(T,k,_,$,j,Z){const ce=$.fontMetrics().axisHeight*$.sizeMultiplier,we=5/$.fontMetrics().ptPerEm,Se=Math.max(k-ce,_+ce),He=Math.max(Se/500*901,2*Se-we);return Oy(T,He,!0,$,j,Z)}};const rf={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},wx=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function O1(T,k){const _=Jg(T);if(_&&St.contains(wx,_.text))return _;throw new bt(_?"Invalid delimiter '"+_.text+"' after '"+k.funcName+"'":"Invalid delimiter type '"+T.type+"'",T)}function kx(T){if(!T.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ct({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(T,k)=>{const _=O1(k[0],T);return{type:"delimsizing",mode:T.parser.mode,size:rf[T.funcName].size,mclass:rf[T.funcName].mclass,delim:_.text}},htmlBuilder:(T,k)=>T.delim==="."?ct.makeSpan([T.mclass]):gl.sizedDelim(T.delim,T.size,k,T.mode,[T.mclass]),mathmlBuilder:T=>{const k=[];T.delim!=="."&&k.push(ca(T.delim,T.mode));const _=new Dt.MathNode("mo",k);T.mclass==="mopen"||T.mclass==="mclose"?_.setAttribute("fence","true"):_.setAttribute("fence","false"),_.setAttribute("stretchy","true");const $=qt(gl.sizeToMaxHeight[T.size]);return _.setAttribute("minsize",$),_.setAttribute("maxsize",$),_}}),Ct({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(T,k)=>{const _=T.parser.gullet.macros.get("\\current@color");if(_&&typeof _!="string")throw new bt("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:T.parser.mode,delim:O1(k[0],T).text,color:_}}}),Ct({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(T,k)=>{const _=O1(k[0],T),$=T.parser;++$.leftrightDepth;const j=$.parseExpression(!1);--$.leftrightDepth,$.expect("\\right",!1);const Z=$r($.parseFunction(),"leftright-right");return{type:"leftright",mode:$.mode,body:j,left:_.text,right:Z.delim,rightColor:Z.color}},htmlBuilder:(T,k)=>{kx(T);const _=Vi(T.body,k,!0,["mopen","mclose"]);let $,j,Z=0,ce=0,we=!1;for(let Se=0;Se<_.length;Se++)_[Se].isMiddle?we=!0:(Z=Math.max(_[Se].height,Z),ce=Math.max(_[Se].depth,ce));if(Z*=k.sizeMultiplier,ce*=k.sizeMultiplier,$=T.left==="."?Rl(k,["mopen"]):gl.leftRightDelim(T.left,Z,ce,k,T.mode,["mopen"]),_.unshift($),we)for(let Se=1;Se<_.length;Se++){const He=_[Se].isMiddle;He&&(_[Se]=gl.leftRightDelim(He.delim,Z,ce,He.options,T.mode,[]))}if(T.right===".")j=Rl(k,["mclose"]);else{const Se=T.rightColor?k.withColor(T.rightColor):k;j=gl.leftRightDelim(T.right,Z,ce,Se,T.mode,["mclose"])}return _.push(j),ct.makeSpan(["minner"],_,k)},mathmlBuilder:(T,k)=>{kx(T);const _=ds(T.body,k);if(T.left!=="."){const $=new Dt.MathNode("mo",[ca(T.left,T.mode)]);$.setAttribute("fence","true"),_.unshift($)}if(T.right!=="."){const $=new Dt.MathNode("mo",[ca(T.right,T.mode)]);$.setAttribute("fence","true"),T.rightColor&&$.setAttribute("mathcolor",T.rightColor),_.push($)}return Ws(_)}}),Ct({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(T,k)=>{const _=O1(k[0],T);if(!T.parser.leftrightDepth)throw new bt("\\middle without preceding \\left",_);return{type:"middle",mode:T.parser.mode,delim:_.text}},htmlBuilder:(T,k)=>{let _;if(T.delim===".")_=Rl(k,[]);else{_=gl.sizedDelim(T.delim,1,k,T.mode,[]);const $={delim:T.delim,options:k};_.isMiddle=$}return _},mathmlBuilder:(T,k)=>{const _=T.delim==="\\vert"||T.delim==="|"?ca("|","text"):ca(T.delim,T.mode),$=new Dt.MathNode("mo",[_]);return $.setAttribute("fence","true"),$.setAttribute("lspace","0.05em"),$.setAttribute("rspace","0.05em"),$}});const nf=(T,k)=>{const _=ct.wrapFragment(on(T.body,k),k),$=T.label.slice(1);let j,Z=k.sizeMultiplier,ce=0;const we=St.isCharacterBox(T.body);if($==="sout")j=ct.makeSpan(["stretchy","sout"]),j.height=k.fontMetrics().defaultRuleThickness/Z,ce=-.5*k.fontMetrics().xHeight;else if($==="phase"){const Je=Pn({number:.6,unit:"pt"},k),Xe=Pn({number:.35,unit:"ex"},k);Z/=k.havingBaseSizing().sizeMultiplier;const Ze=_.height+_.depth+Je+Xe;_.style.paddingLeft=qt(Ze/2+Je);const vt=Math.floor(1e3*Ze*Z),Pt="M400000 "+(Se=vt)+" H0 L"+Se/2+" 0 l65 45 L145 "+(Se-80)+" H400000z",Er=new Da([new Es("phase",Pt)],{width:"400em",height:qt(vt/1e3),viewBox:"0 0 400000 "+vt,preserveAspectRatio:"xMinYMin slice"});j=ct.makeSvgSpan(["hide-tail"],[Er],k),j.style.height=qt(Ze),ce=_.depth+Je+Xe}else{/cancel/.test($)?we||_.classes.push("cancel-pad"):$==="angl"?_.classes.push("anglpad"):_.classes.push("boxpad");let Je=0,Xe=0,Ze=0;/box/.test($)?(Ze=Math.max(k.fontMetrics().fboxrule,k.minRuleThickness),Je=k.fontMetrics().fboxsep+($==="colorbox"?0:Ze),Xe=Je):$==="angl"?(Ze=Math.max(k.fontMetrics().defaultRuleThickness,k.minRuleThickness),Je=4*Ze,Xe=Math.max(0,.25-_.depth)):(Je=we?.2:0,Xe=Je),j=gn(_,$,Je,Xe,k),/fbox|boxed|fcolorbox/.test($)?(j.style.borderStyle="solid",j.style.borderWidth=qt(Ze)):$==="angl"&&Ze!==.049&&(j.style.borderTopWidth=qt(Ze),j.style.borderRightWidth=qt(Ze)),ce=_.depth+Xe,T.backgroundColor&&(j.style.backgroundColor=T.backgroundColor,T.borderColor&&(j.style.borderColor=T.borderColor))}var Se;let He;if(T.backgroundColor)He=ct.makeVList({positionType:"individualShift",children:[{type:"elem",elem:j,shift:ce},{type:"elem",elem:_,shift:0}]},k);else{const Je=/cancel|phase/.test($)?["svg-align"]:[];He=ct.makeVList({positionType:"individualShift",children:[{type:"elem",elem:_,shift:0},{type:"elem",elem:j,shift:ce,wrapperClasses:Je}]},k)}return/cancel/.test($)&&(He.height=_.height,He.depth=_.depth),/cancel/.test($)&&!we?ct.makeSpan(["mord","cancel-lap"],[He],k):ct.makeSpan(["mord"],[He],k)},af=(T,k)=>{let _=0;const $=new Dt.MathNode(T.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Bn(T.body,k)]);switch(T.label){case"\\cancel":$.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":$.setAttribute("notation","downdiagonalstrike");break;case"\\phase":$.setAttribute("notation","phasorangle");break;case"\\sout":$.setAttribute("notation","horizontalstrike");break;case"\\fbox":$.setAttribute("notation","box");break;case"\\angl":$.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(_=k.fontMetrics().fboxsep*k.fontMetrics().ptPerEm,$.setAttribute("width","+"+2*_+"pt"),$.setAttribute("height","+"+2*_+"pt"),$.setAttribute("lspace",_+"pt"),$.setAttribute("voffset",_+"pt"),T.label==="\\fcolorbox"){const j=Math.max(k.fontMetrics().fboxrule,k.minRuleThickness);$.setAttribute("style","border: "+j+"em solid "+String(T.borderColor))}break;case"\\xcancel":$.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return T.backgroundColor&&$.setAttribute("mathbackground",T.backgroundColor),$};Ct({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(T,k,_){let{parser:$,funcName:j}=T;const Z=$r(k[0],"color-token").color,ce=k[1];return{type:"enclose",mode:$.mode,label:j,backgroundColor:Z,body:ce}},htmlBuilder:nf,mathmlBuilder:af}),Ct({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(T,k,_){let{parser:$,funcName:j}=T;const Z=$r(k[0],"color-token").color,ce=$r(k[1],"color-token").color,we=k[2];return{type:"enclose",mode:$.mode,label:j,backgroundColor:ce,borderColor:Z,body:we}},htmlBuilder:nf,mathmlBuilder:af}),Ct({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(T,k){let{parser:_}=T;return{type:"enclose",mode:_.mode,label:"\\fbox",body:k[0]}}}),Ct({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(T,k){let{parser:_,funcName:$}=T;const j=k[0];return{type:"enclose",mode:_.mode,label:$,body:j}},htmlBuilder:nf,mathmlBuilder:af}),Ct({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(T,k){let{parser:_}=T;return{type:"enclose",mode:_.mode,label:"\\angl",body:k[0]}}});const Tx={};function Pa(T){let{type:k,names:_,props:$,handler:j,htmlBuilder:Z,mathmlBuilder:ce}=T;const we={type:k,numArgs:$.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:j};for(let Se=0;Se<_.length;++Se)Tx[_[Se]]=we;Z&&(K0[k]=Z),ce&&(_h[k]=ce)}const sf={};function ke(T,k){sf[T]=k}class Po{constructor(k,_,$){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=k,this.start=_,this.end=$}static range(k,_){return _?k&&k.loc&&_.loc&&k.loc.lexer===_.loc.lexer?new Po(k.loc.lexer,k.loc.start,_.loc.end):null:k&&k.loc}}class xo{constructor(k,_){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=k,this.loc=_}range(k,_){return new xo(_,Po.range(this,k))}}function of(T){const k=[];T.consumeSpaces();let _=T.fetch().text;for(_==="\\relax"&&(T.consume(),T.consumeSpaces(),_=T.fetch().text);_==="\\hline"||_==="\\hdashline";)T.consume(),k.push(_==="\\hdashline"),T.consumeSpaces(),_=T.fetch().text;return k}const P1=T=>{if(!T.parser.settings.displayMode)throw new bt("{"+T.envName+"} can be used only in display mode.")};function Fn(T){if(T.indexOf("ed")===-1)return T.indexOf("*")===-1}function ka(T,k,_){let{hskipBeforeAndAfter:$,addJot:j,cols:Z,arraystretch:ce,colSeparationType:we,autoTag:Se,singleRow:He,emptySingleRow:Je,maxNumCols:Xe,leqno:Ze}=k;if(T.gullet.beginGroup(),He||T.gullet.macros.set("\\cr","\\\\\\relax"),!ce){const Yn=T.gullet.expandMacroAsText("\\arraystretch");if(Yn==null)ce=1;else if(ce=parseFloat(Yn),!ce||ce<0)throw new bt("Invalid \\arraystretch: "+Yn)}T.gullet.beginGroup();let vt=[];const Pt=[vt],Er=[],Zr=[],fn=Se!=null?[]:void 0;function $n(){Se&&T.gullet.macros.set("\\@eqnsw","1",!0)}function dn(){fn&&(T.gullet.macros.get("\\df@tag")?(fn.push(T.subparse([new xo("\\df@tag")])),T.gullet.macros.set("\\df@tag",void 0,!0)):fn.push(!!Se&&T.gullet.macros.get("\\@eqnsw")==="1"))}for($n(),Zr.push(of(T));;){let Yn=T.parseExpression(!1,He?"\\end":"\\\\");T.gullet.endGroup(),T.gullet.beginGroup(),Yn={type:"ordgroup",mode:T.mode,body:Yn},_&&(Yn={type:"styling",mode:T.mode,style:_,body:[Yn]}),vt.push(Yn);const Vn=T.fetch().text;if(Vn==="&"){if(Xe&&vt.length===Xe){if(He||we)throw new bt("Too many tab characters: &",T.nextToken);T.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}T.consume()}else{if(Vn==="\\end"){dn(),vt.length===1&&Yn.type==="styling"&&Yn.body[0].body.length===0&&(Pt.length>1||!Je)&&Pt.pop(),Zr.length<Pt.length+1&&Zr.push([]);break}if(Vn!=="\\\\")throw new bt("Expected & or \\\\ or \\cr or \\end",T.nextToken);{let ta;T.consume(),T.gullet.future().text!==" "&&(ta=T.parseSizeGroup(!0)),Er.push(ta?ta.value:null),dn(),Zr.push(of(T)),vt=[],Pt.push(vt),$n()}}}return T.gullet.endGroup(),T.gullet.endGroup(),{type:"array",mode:T.mode,addJot:j,arraystretch:ce,body:Pt,cols:Z,rowGaps:Er,hskipBeforeAndAfter:$,hLinesBeforeRow:Zr,colSeparationType:we,tags:fn,leqno:Ze}}function Lh(T){return T.slice(0,1)==="d"?"display":"text"}const Bl=function(T,k){let _,$;const j=T.body.length,Z=T.hLinesBeforeRow;let ce=0,we=new Array(j);const Se=[],He=Math.max(k.fontMetrics().arrayRuleWidth,k.minRuleThickness),Je=1/k.fontMetrics().ptPerEm;let Xe=5*Je;T.colSeparationType&&T.colSeparationType==="small"&&(Xe=k.havingStyle(We.SCRIPT).sizeMultiplier/k.sizeMultiplier*.2778);const Ze=T.colSeparationType==="CD"?Pn({number:3,unit:"ex"},k):12*Je,vt=3*Je,Pt=T.arraystretch*Ze,Er=.7*Pt,Zr=.3*Pt;let fn=0;function $n(wn){for(let H=0;H<wn.length;++H)H>0&&(fn+=.25),Se.push({pos:fn,isDashed:wn[H]})}for($n(Z[0]),_=0;_<T.body.length;++_){const wn=T.body[_];let H=Er,Wt=Zr;ce<wn.length&&(ce=wn.length);const Rn=new Array(wn.length);for($=0;$<wn.length;++$){const ko=on(wn[$],k);Wt<ko.depth&&(Wt=ko.depth),H<ko.height&&(H=ko.height),Rn[$]=ko}const Ea=T.rowGaps[_];let Gi=0;Ea&&(Gi=Pn(Ea,k),Gi>0&&(Gi+=Zr,Wt<Gi&&(Wt=Gi),Gi=0)),T.addJot&&(Wt+=vt),Rn.height=H,Rn.depth=Wt,fn+=H,Rn.pos=fn,fn+=Wt+Gi,we[_]=Rn,$n(Z[_+1])}const dn=fn/2+k.fontMetrics().axisHeight,Yn=T.cols||[],Vn=[];let ta,pc;const Rh=[];if(T.tags&&T.tags.some(wn=>wn))for(_=0;_<j;++_){const wn=we[_],H=wn.pos-dn,Wt=T.tags[_];let Rn;Rn=Wt===!0?ct.makeSpan(["eqn-num"],[],k):Wt===!1?ct.makeSpan([],[],k):ct.makeSpan([],Vi(Wt,k,!0),k),Rn.depth=wn.depth,Rn.height=wn.height,Rh.push({type:"elem",elem:Rn,shift:H})}for($=0,pc=0;$<ce||pc<Yn.length;++$,++pc){let wn,H=Yn[pc]||{},Wt=!0;for(;H.type==="separator";){if(Wt||(ta=ct.makeSpan(["arraycolsep"],[]),ta.style.width=qt(k.fontMetrics().doubleRuleSep),Vn.push(ta)),H.separator!=="|"&&H.separator!==":")throw new bt("Invalid separator type: "+H.separator);{const Ea=H.separator==="|"?"solid":"dashed",Gi=ct.makeSpan(["vertical-separator"],[],k);Gi.style.height=qt(fn),Gi.style.borderRightWidth=qt(He),Gi.style.borderRightStyle=Ea,Gi.style.margin="0 "+qt(-He/2);const ko=fn-dn;ko&&(Gi.style.verticalAlign=qt(-ko)),Vn.push(Gi)}pc++,H=Yn[pc]||{},Wt=!1}if($>=ce)continue;($>0||T.hskipBeforeAndAfter)&&(wn=St.deflt(H.pregap,Xe),wn!==0&&(ta=ct.makeSpan(["arraycolsep"],[]),ta.style.width=qt(wn),Vn.push(ta)));let Rn=[];for(_=0;_<j;++_){const Ea=we[_],Gi=Ea[$];if(!Gi)continue;const ko=Ea.pos-dn;Gi.depth=Ea.depth,Gi.height=Ea.height,Rn.push({type:"elem",elem:Gi,shift:ko})}Rn=ct.makeVList({positionType:"individualShift",children:Rn},k),Rn=ct.makeSpan(["col-align-"+(H.align||"c")],[Rn]),Vn.push(Rn),($<ce-1||T.hskipBeforeAndAfter)&&(wn=St.deflt(H.postgap,Xe),wn!==0&&(ta=ct.makeSpan(["arraycolsep"],[]),ta.style.width=qt(wn),Vn.push(ta)))}if(we=ct.makeSpan(["mtable"],Vn),Se.length>0){const wn=ct.makeLineSpan("hline",k,He),H=ct.makeLineSpan("hdashline",k,He),Wt=[{type:"elem",elem:we,shift:0}];for(;Se.length>0;){const Rn=Se.pop(),Ea=Rn.pos-dn;Rn.isDashed?Wt.push({type:"elem",elem:H,shift:Ea}):Wt.push({type:"elem",elem:wn,shift:Ea})}we=ct.makeVList({positionType:"individualShift",children:Wt},k)}if(Rh.length===0)return ct.makeSpan(["mord"],[we],k);{let wn=ct.makeVList({positionType:"individualShift",children:Rh},k);return wn=ct.makeSpan(["tag"],[wn],k),ct.makeFragment([we,wn])}},Ex={c:"center ",l:"left ",r:"right "},Ss=function(T,k){const _=[],$=new Dt.MathNode("mtd",[],["mtr-glue"]),j=new Dt.MathNode("mtd",[],["mml-eqn-num"]);for(let Xe=0;Xe<T.body.length;Xe++){const Ze=T.body[Xe],vt=[];for(let Pt=0;Pt<Ze.length;Pt++)vt.push(new Dt.MathNode("mtd",[Bn(Ze[Pt],k)]));T.tags&&T.tags[Xe]&&(vt.unshift($),vt.push($),T.leqno?vt.unshift(j):vt.push(j)),_.push(new Dt.MathNode("mtr",vt))}let Z=new Dt.MathNode("mtable",_);const ce=T.arraystretch===.5?.1:.16+T.arraystretch-1+(T.addJot?.09:0);Z.setAttribute("rowspacing",qt(ce));let we="",Se="";if(T.cols&&T.cols.length>0){const Xe=T.cols;let Ze="",vt=!1,Pt=0,Er=Xe.length;Xe[0].type==="separator"&&(we+="top ",Pt=1),Xe[Xe.length-1].type==="separator"&&(we+="bottom ",Er-=1);for(let Zr=Pt;Zr<Er;Zr++)Xe[Zr].type==="align"?(Se+=Ex[Xe[Zr].align],vt&&(Ze+="none "),vt=!0):Xe[Zr].type==="separator"&&vt&&(Ze+=Xe[Zr].separator==="|"?"solid ":"dashed ",vt=!1);Z.setAttribute("columnalign",Se.trim()),/[sd]/.test(Ze)&&Z.setAttribute("columnlines",Ze.trim())}if(T.colSeparationType==="align"){const Xe=T.cols||[];let Ze="";for(let vt=1;vt<Xe.length;vt++)Ze+=vt%2?"0em ":"1em ";Z.setAttribute("columnspacing",Ze.trim())}else T.colSeparationType==="alignat"||T.colSeparationType==="gather"?Z.setAttribute("columnspacing","0em"):T.colSeparationType==="small"?Z.setAttribute("columnspacing","0.2778em"):T.colSeparationType==="CD"?Z.setAttribute("columnspacing","0.5em"):Z.setAttribute("columnspacing","1em");let He="";const Je=T.hLinesBeforeRow;we+=Je[0].length>0?"left ":"",we+=Je[Je.length-1].length>0?"right ":"";for(let Xe=1;Xe<Je.length-1;Xe++)He+=Je[Xe].length===0?"none ":Je[Xe][0]?"dashed ":"solid ";return/[sd]/.test(He)&&Z.setAttribute("rowlines",He.trim()),we!==""&&(Z=new Dt.MathNode("menclose",[Z]),Z.setAttribute("notation",we.trim())),T.arraystretch&&T.arraystretch<1&&(Z=new Dt.MathNode("mstyle",[Z]),Z.setAttribute("scriptlevel","1")),Z},As=function(T,k){T.envName.indexOf("ed")===-1&&P1(T);const _=[],$=T.envName.indexOf("at")>-1?"alignat":"align",j=T.envName==="split",Z=ka(T.parser,{cols:_,addJot:!0,autoTag:j?void 0:Fn(T.envName),emptySingleRow:!0,colSeparationType:$,maxNumCols:j?2:void 0,leqno:T.parser.settings.leqno},"display");let ce,we=0;const Se={type:"ordgroup",mode:T.mode,body:[]};if(k[0]&&k[0].type==="ordgroup"){let Je="";for(let Xe=0;Xe<k[0].body.length;Xe++)Je+=$r(k[0].body[Xe],"textord").text;ce=Number(Je),we=2*ce}const He=!we;Z.body.forEach(function(Je){for(let Xe=1;Xe<Je.length;Xe+=2){const Ze=$r(Je[Xe],"styling");$r(Ze.body[0],"ordgroup").body.unshift(Se)}if(He)we<Je.length&&(we=Je.length);else{const Xe=Je.length/2;if(ce<Xe)throw new bt("Too many math in a row: expected "+ce+", but got "+Xe,Je[0])}});for(let Je=0;Je<we;++Je){let Xe="r",Ze=0;Je%2==1?Xe="l":Je>0&&He&&(Ze=1),_[Je]={type:"align",align:Xe,pregap:Ze,postgap:0}}return Z.colSeparationType=He?"align":"alignat",Z};Pa({type:"array",names:["array","darray"],props:{numArgs:1},handler(T,k){const _=(Jg(k[0])?[k[0]]:$r(k[0],"ordgroup").body).map(function(j){const Z=Xs(j).text;if("lcr".indexOf(Z)!==-1)return{type:"align",align:Z};if(Z==="|")return{type:"separator",separator:"|"};if(Z===":")return{type:"separator",separator:":"};throw new bt("Unknown column alignment: "+Z,j)}),$={cols:_,hskipBeforeAndAfter:!0,maxNumCols:_.length};return ka(T.parser,$,Lh(T.envName))},htmlBuilder:Bl,mathmlBuilder:Ss}),Pa({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(T){const k={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[T.envName.replace("*","")];let _="c";const $={hskipBeforeAndAfter:!1,cols:[{type:"align",align:_}]};if(T.envName.charAt(T.envName.length-1)==="*"){const ce=T.parser;if(ce.consumeSpaces(),ce.fetch().text==="["){if(ce.consume(),ce.consumeSpaces(),_=ce.fetch().text,"lcr".indexOf(_)===-1)throw new bt("Expected l or c or r",ce.nextToken);ce.consume(),ce.consumeSpaces(),ce.expect("]"),ce.consume(),$.cols=[{type:"align",align:_}]}}const j=ka(T.parser,$,Lh(T.envName)),Z=Math.max(0,...j.body.map(ce=>ce.length));return j.cols=new Array(Z).fill({type:"align",align:_}),k?{type:"leftright",mode:T.mode,body:[j],left:k[0],right:k[1],rightColor:void 0}:j},htmlBuilder:Bl,mathmlBuilder:Ss}),Pa({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(T){const k=ka(T.parser,{arraystretch:.5},"script");return k.colSeparationType="small",k},htmlBuilder:Bl,mathmlBuilder:Ss}),Pa({type:"array",names:["subarray"],props:{numArgs:1},handler(T,k){const _=(Jg(k[0])?[k[0]]:$r(k[0],"ordgroup").body).map(function(j){const Z=Xs(j).text;if("lc".indexOf(Z)!==-1)return{type:"align",align:Z};throw new bt("Unknown column alignment: "+Z,j)});if(_.length>1)throw new bt("{subarray} can contain only one column");let $={cols:_,hskipBeforeAndAfter:!1,arraystretch:.5};if($=ka(T.parser,$,"script"),$.body.length>0&&$.body[0].length>1)throw new bt("{subarray} can contain only one column");return $},htmlBuilder:Bl,mathmlBuilder:Ss}),Pa({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(T){const k=ka(T.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Lh(T.envName));return{type:"leftright",mode:T.mode,body:[k],left:T.envName.indexOf("r")>-1?".":"\\{",right:T.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Bl,mathmlBuilder:Ss}),Pa({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:As,htmlBuilder:Bl,mathmlBuilder:Ss}),Pa({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(T){St.contains(["gather","gather*"],T.envName)&&P1(T);const k={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Fn(T.envName),emptySingleRow:!0,leqno:T.parser.settings.leqno};return ka(T.parser,k,"display")},htmlBuilder:Bl,mathmlBuilder:Ss}),Pa({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:As,htmlBuilder:Bl,mathmlBuilder:Ss}),Pa({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(T){P1(T);const k={autoTag:Fn(T.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:T.parser.settings.leqno};return ka(T.parser,k,"display")},htmlBuilder:Bl,mathmlBuilder:Ss}),Pa({type:"array",names:["CD"],props:{numArgs:0},handler(T){return P1(T),function(k){const _=[];for(k.gullet.beginGroup(),k.gullet.macros.set("\\cr","\\\\\\relax"),k.gullet.beginGroup();;){_.push(k.parseExpression(!1,"\\\\")),k.gullet.endGroup(),k.gullet.beginGroup();const we=k.fetch().text;if(we!=="&"&&we!=="\\\\"){if(we==="\\end"){_[_.length-1].length===0&&_.pop();break}throw new bt("Expected \\\\ or \\cr or \\end",k.nextToken)}k.consume()}let $=[];const j=[$];for(let we=0;we<_.length;we++){const Se=_[we];let He={type:"styling",body:[],mode:"math",style:"display"};for(let Je=0;Je<Se.length;Je++)if(Sy(Se[Je])){$.push(He),Je+=1;const Xe=Xs(Se[Je]).text,Ze=new Array(2);if(Ze[0]={type:"ordgroup",mode:"math",body:[]},Ze[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(Xe)>-1)){if(!("<>AV".indexOf(Xe)>-1))throw new bt('Expected one of "<>AV=|." after @',Se[Je]);for(let Pt=0;Pt<2;Pt++){let Er=!0;for(let Zr=Je+1;Zr<Se.length;Zr++){if(ce=Xe,((Z=Se[Zr]).type==="mathord"||Z.type==="atom")&&Z.text===ce){Er=!1,Je=Zr;break}if(Sy(Se[Zr]))throw new bt("Missing a "+Xe+" character to complete a CD arrow.",Se[Zr]);Ze[Pt].body.push(Se[Zr])}if(Er)throw new bt("Missing a "+Xe+" character to complete a CD arrow.",Se[Je])}}const vt={type:"styling",body:[_r(Xe,Ze,k)],mode:"math",style:"display"};$.push(vt),He={type:"styling",body:[],mode:"math",style:"display"}}else He.body.push(Se[Je]);we%2==0?$.push(He):$.shift(),$=[],j.push($)}var Z,ce;return k.gullet.endGroup(),k.gullet.endGroup(),{type:"array",mode:"math",body:j,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(j[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(j.length+1).fill([])}}(T.parser)},htmlBuilder:Bl,mathmlBuilder:Ss}),ke("\\nonumber","\\gdef\\@eqnsw{0}"),ke("\\notag","\\nonumber"),Ct({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(T,k){throw new bt(T.funcName+" valid only within array environment")}});var Py=Tx;Ct({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(T,k){let{parser:_,funcName:$}=T;const j=k[0];if(j.type!=="ordgroup")throw new bt("Invalid environment name",j);let Z="";for(let ce=0;ce<j.body.length;++ce)Z+=$r(j.body[ce],"textord").text;if($==="\\begin"){if(!Py.hasOwnProperty(Z))throw new bt("No such environment: "+Z,j);const ce=Py[Z],{args:we,optArgs:Se}=_.parseArguments("\\begin{"+Z+"}",ce),He={mode:_.mode,envName:Z,parser:_},Je=ce.handler(He,we,Se);_.expect("\\end",!1);const Xe=_.nextToken,Ze=$r(_.parseFunction(),"environment");if(Ze.name!==Z)throw new bt("Mismatch: \\begin{"+Z+"} matched by \\end{"+Ze.name+"}",Xe);return Je}return{type:"environment",mode:_.mode,name:Z,nameGroup:j}}});const Iu=(T,k)=>{const _=T.font,$=k.withFont(_);return on(T.body,$)},Nh=(T,k)=>{const _=T.font,$=k.withFont(_);return Bn(T.body,$)},rd={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ct({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(T,k)=>{let{parser:_,funcName:$}=T;const j=Vs(k[0]);let Z=$;return Z in rd&&(Z=rd[Z]),{type:"font",mode:_.mode,font:Z.slice(1),body:j}},htmlBuilder:Iu,mathmlBuilder:Nh}),Ct({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(T,k)=>{let{parser:_}=T;const $=k[0],j=St.isCharacterBox($);return{type:"mclass",mode:_.mode,mclass:J0($),body:[{type:"font",mode:_.mode,font:"boldsymbol",body:$}],isCharacterBox:j}}}),Ct({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(T,k)=>{let{parser:_,funcName:$,breakOnTokenText:j}=T;const{mode:Z}=_,ce=_.parseExpression(!0,j);return{type:"font",mode:Z,font:"math"+$.slice(1),body:{type:"ordgroup",mode:_.mode,body:ce}}},htmlBuilder:Iu,mathmlBuilder:Nh});const By=(T,k)=>{let _=k;return T==="display"?_=_.id>=We.SCRIPT.id?_.text():We.DISPLAY:T==="text"&&_.size===We.DISPLAY.size?_=We.TEXT:T==="script"?_=We.SCRIPT:T==="scriptscript"&&(_=We.SCRIPTSCRIPT),_},lf=(T,k)=>{const _=By(T.size,k.style),$=_.fracNum(),j=_.fracDen();let Z;Z=k.havingStyle($);const ce=on(T.numer,Z,k);if(T.continued){const $n=8.5/k.fontMetrics().ptPerEm,dn=3.5/k.fontMetrics().ptPerEm;ce.height=ce.height<$n?$n:ce.height,ce.depth=ce.depth<dn?dn:ce.depth}Z=k.havingStyle(j);const we=on(T.denom,Z,k);let Se,He,Je,Xe,Ze,vt,Pt,Er,Zr,fn;if(T.hasBarLine?(T.barSize?(He=Pn(T.barSize,k),Se=ct.makeLineSpan("frac-line",k,He)):Se=ct.makeLineSpan("frac-line",k),He=Se.height,Je=Se.height):(Se=null,He=0,Je=k.fontMetrics().defaultRuleThickness),_.size===We.DISPLAY.size||T.size==="display"?(Xe=k.fontMetrics().num1,Ze=He>0?3*Je:7*Je,vt=k.fontMetrics().denom1):(He>0?(Xe=k.fontMetrics().num2,Ze=Je):(Xe=k.fontMetrics().num3,Ze=3*Je),vt=k.fontMetrics().denom2),Se){const $n=k.fontMetrics().axisHeight;Xe-ce.depth-($n+.5*He)<Ze&&(Xe+=Ze-(Xe-ce.depth-($n+.5*He))),$n-.5*He-(we.height-vt)<Ze&&(vt+=Ze-($n-.5*He-(we.height-vt)));const dn=-($n-.5*He);Pt=ct.makeVList({positionType:"individualShift",children:[{type:"elem",elem:we,shift:vt},{type:"elem",elem:Se,shift:dn},{type:"elem",elem:ce,shift:-Xe}]},k)}else{const $n=Xe-ce.depth-(we.height-vt);$n<Ze&&(Xe+=.5*(Ze-$n),vt+=.5*(Ze-$n)),Pt=ct.makeVList({positionType:"individualShift",children:[{type:"elem",elem:we,shift:vt},{type:"elem",elem:ce,shift:-Xe}]},k)}return Z=k.havingStyle(_),Pt.height*=Z.sizeMultiplier/k.sizeMultiplier,Pt.depth*=Z.sizeMultiplier/k.sizeMultiplier,Er=_.size===We.DISPLAY.size?k.fontMetrics().delim1:_.size===We.SCRIPTSCRIPT.size?k.havingStyle(We.SCRIPT).fontMetrics().delim2:k.fontMetrics().delim2,Zr=T.leftDelim==null?Rl(k,["mopen"]):gl.customSizedDelim(T.leftDelim,Er,!0,k.havingStyle(_),T.mode,["mopen"]),fn=T.continued?ct.makeSpan([]):T.rightDelim==null?Rl(k,["mclose"]):gl.customSizedDelim(T.rightDelim,Er,!0,k.havingStyle(_),T.mode,["mclose"]),ct.makeSpan(["mord"].concat(Z.sizingClasses(k)),[Zr,ct.makeSpan(["mfrac"],[Pt]),fn],k)},cf=(T,k)=>{let _=new Dt.MathNode("mfrac",[Bn(T.numer,k),Bn(T.denom,k)]);if(T.hasBarLine){if(T.barSize){const j=Pn(T.barSize,k);_.setAttribute("linethickness",qt(j))}}else _.setAttribute("linethickness","0px");const $=By(T.size,k.style);if($.size!==k.style.size){_=new Dt.MathNode("mstyle",[_]);const j=$.size===We.DISPLAY.size?"true":"false";_.setAttribute("displaystyle",j),_.setAttribute("scriptlevel","0")}if(T.leftDelim!=null||T.rightDelim!=null){const j=[];if(T.leftDelim!=null){const Z=new Dt.MathNode("mo",[new Dt.TextNode(T.leftDelim.replace("\\",""))]);Z.setAttribute("fence","true"),j.push(Z)}if(j.push(_),T.rightDelim!=null){const Z=new Dt.MathNode("mo",[new Dt.TextNode(T.rightDelim.replace("\\",""))]);Z.setAttribute("fence","true"),j.push(Z)}return Ws(j)}return _};Ct({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(T,k)=>{let{parser:_,funcName:$}=T;const j=k[0],Z=k[1];let ce,we=null,Se=null,He="auto";switch($){case"\\dfrac":case"\\frac":case"\\tfrac":ce=!0;break;case"\\\\atopfrac":ce=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":ce=!1,we="(",Se=")";break;case"\\\\bracefrac":ce=!1,we="\\{",Se="\\}";break;case"\\\\brackfrac":ce=!1,we="[",Se="]";break;default:throw new Error("Unrecognized genfrac command")}switch($){case"\\dfrac":case"\\dbinom":He="display";break;case"\\tfrac":case"\\tbinom":He="text"}return{type:"genfrac",mode:_.mode,continued:!1,numer:j,denom:Z,hasBarLine:ce,leftDelim:we,rightDelim:Se,size:He,barSize:null}},htmlBuilder:lf,mathmlBuilder:cf}),Ct({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(T,k)=>{let{parser:_,funcName:$}=T;const j=k[0],Z=k[1];return{type:"genfrac",mode:_.mode,continued:!0,numer:j,denom:Z,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Ct({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(T){let k,{parser:_,funcName:$,token:j}=T;switch($){case"\\over":k="\\frac";break;case"\\choose":k="\\binom";break;case"\\atop":k="\\\\atopfrac";break;case"\\brace":k="\\\\bracefrac";break;case"\\brack":k="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:_.mode,replaceWith:k,token:j}}});const uf=["display","text","script","scriptscript"],hf=function(T){let k=null;return T.length>0&&(k=T,k=k==="."?null:k),k};Ct({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(T,k){let{parser:_}=T;const $=k[4],j=k[5],Z=Vs(k[0]),ce=Z.type==="atom"&&Z.family==="open"?hf(Z.text):null,we=Vs(k[1]),Se=we.type==="atom"&&we.family==="close"?hf(we.text):null,He=$r(k[2],"size");let Je,Xe=null;He.isBlank?Je=!0:(Xe=He.value,Je=Xe.number>0);let Ze="auto",vt=k[3];if(vt.type==="ordgroup"){if(vt.body.length>0){const Pt=$r(vt.body[0],"textord");Ze=uf[Number(Pt.text)]}}else vt=$r(vt,"textord"),Ze=uf[Number(vt.text)];return{type:"genfrac",mode:_.mode,numer:$,denom:j,continued:!1,hasBarLine:Je,barSize:Xe,leftDelim:ce,rightDelim:Se,size:Ze}},htmlBuilder:lf,mathmlBuilder:cf}),Ct({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(T,k){let{parser:_,funcName:$,token:j}=T;return{type:"infix",mode:_.mode,replaceWith:"\\\\abovefrac",size:$r(k[0],"size").value,token:j}}}),Ct({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(T,k)=>{let{parser:_,funcName:$}=T;const j=k[0],Z=function(Se){if(!Se)throw new Error("Expected non-null, but got "+String(Se));return Se}($r(k[1],"infix").size),ce=k[2],we=Z.number>0;return{type:"genfrac",mode:_.mode,numer:j,denom:ce,continued:!1,hasBarLine:we,barSize:Z,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:lf,mathmlBuilder:cf});const Ni=(T,k)=>{const _=k.style;let $,j;T.type==="supsub"?($=T.sup?on(T.sup,k.havingStyle(_.sup()),k):on(T.sub,k.havingStyle(_.sub()),k),j=$r(T.base,"horizBrace")):j=$r(T,"horizBrace");const Z=on(j.base,k.havingBaseStyle(We.DISPLAY)),ce=Cs(j,k);let we;if(j.isOver?(we=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Z},{type:"kern",size:.1},{type:"elem",elem:ce}]},k),we.children[0].children[0].children[1].classes.push("svg-align")):(we=ct.makeVList({positionType:"bottom",positionData:Z.depth+.1+ce.height,children:[{type:"elem",elem:ce},{type:"kern",size:.1},{type:"elem",elem:Z}]},k),we.children[0].children[0].children[0].classes.push("svg-align")),$){const Se=ct.makeSpan(["mord",j.isOver?"mover":"munder"],[we],k);we=j.isOver?ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Se},{type:"kern",size:.2},{type:"elem",elem:$}]},k):ct.makeVList({positionType:"bottom",positionData:Se.depth+.2+$.height+$.depth,children:[{type:"elem",elem:$},{type:"kern",size:.2},{type:"elem",elem:Se}]},k)}return ct.makeSpan(["mord",j.isOver?"mover":"munder"],[we],k)};Ct({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(T,k){let{parser:_,funcName:$}=T;return{type:"horizBrace",mode:_.mode,label:$,isOver:/^\\over/.test($),base:k[0]}},htmlBuilder:Ni,mathmlBuilder:(T,k)=>{const _=ui(T.label);return new Dt.MathNode(T.isOver?"mover":"munder",[Bn(T.base,k),_])}}),Ct({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(T,k)=>{let{parser:_}=T;const $=k[1],j=$r(k[0],"url").url;return _.settings.isTrusted({command:"\\href",url:j})?{type:"href",mode:_.mode,href:j,body:Sn($)}:_.formatUnsupportedCmd("\\href")},htmlBuilder:(T,k)=>{const _=Vi(T.body,k,!1);return ct.makeAnchor(T.href,[],_,k)},mathmlBuilder:(T,k)=>{let _=ea(T.body,k);return _ instanceof Ha||(_=new Ha("mrow",[_])),_.setAttribute("href",T.href),_}}),Ct({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(T,k)=>{let{parser:_}=T;const $=$r(k[0],"url").url;if(!_.settings.isTrusted({command:"\\url",url:$}))return _.formatUnsupportedCmd("\\url");const j=[];for(let ce=0;ce<$.length;ce++){let we=$[ce];we==="~"&&(we="\\textasciitilde"),j.push({type:"textord",mode:"text",text:we})}const Z={type:"text",mode:_.mode,font:"\\texttt",body:j};return{type:"href",mode:_.mode,href:$,body:Sn(Z)}}}),Ct({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(T,k){let{parser:_}=T;return{type:"hbox",mode:_.mode,body:Sn(k[0])}},htmlBuilder(T,k){const _=Vi(T.body,k,!1);return ct.makeFragment(_)},mathmlBuilder(T,k){return new Dt.MathNode("mrow",ds(T.body,k))}}),Ct({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(T,k)=>{let{parser:_,funcName:$,token:j}=T;const Z=$r(k[0],"raw").string,ce=k[1];let we;_.settings.strict&&_.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");const Se={};switch($){case"\\htmlClass":Se.class=Z,we={command:"\\htmlClass",class:Z};break;case"\\htmlId":Se.id=Z,we={command:"\\htmlId",id:Z};break;case"\\htmlStyle":Se.style=Z,we={command:"\\htmlStyle",style:Z};break;case"\\htmlData":{const He=Z.split(",");for(let Je=0;Je<He.length;Je++){const Xe=He[Je].split("=");if(Xe.length!==2)throw new bt("Error parsing key-value for \\htmlData");Se["data-"+Xe[0].trim()]=Xe[1].trim()}we={command:"\\htmlData",attributes:Se};break}default:throw new Error("Unrecognized html command")}return _.settings.isTrusted(we)?{type:"html",mode:_.mode,attributes:Se,body:Sn(ce)}:_.formatUnsupportedCmd($)},htmlBuilder:(T,k)=>{const _=Vi(T.body,k,!1),$=["enclosing"];T.attributes.class&&$.push(...T.attributes.class.trim().split(/\s+/));const j=ct.makeSpan($,_,k);for(const Z in T.attributes)Z!=="class"&&T.attributes.hasOwnProperty(Z)&&j.setAttribute(Z,T.attributes[Z]);return j},mathmlBuilder:(T,k)=>ea(T.body,k)}),Ct({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(T,k)=>{let{parser:_}=T;return{type:"htmlmathml",mode:_.mode,html:Sn(k[0]),mathml:Sn(k[1])}},htmlBuilder:(T,k)=>{const _=Vi(T.html,k,!1);return ct.makeFragment(_)},mathmlBuilder:(T,k)=>ea(T.mathml,k)});const B1=function(T){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(T))return{number:+T,unit:"bp"};{const k=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(T);if(!k)throw new bt("Invalid size: '"+T+"' in \\includegraphics");const _={number:+(k[1]+k[2]),unit:k[3]};if(!go(_))throw new bt("Invalid unit: '"+_.unit+"' in \\includegraphics.");return _}};Ct({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(T,k,_)=>{let{parser:$}=T,j={number:0,unit:"em"},Z={number:.9,unit:"em"},ce={number:0,unit:"em"},we="";if(_[0]){const He=$r(_[0],"raw").string.split(",");for(let Je=0;Je<He.length;Je++){const Xe=He[Je].split("=");if(Xe.length===2){const Ze=Xe[1].trim();switch(Xe[0].trim()){case"alt":we=Ze;break;case"width":j=B1(Ze);break;case"height":Z=B1(Ze);break;case"totalheight":ce=B1(Ze);break;default:throw new bt("Invalid key: '"+Xe[0]+"' in \\includegraphics.")}}}}const Se=$r(k[0],"url").url;return we===""&&(we=Se,we=we.replace(/^.*[\\/]/,""),we=we.substring(0,we.lastIndexOf("."))),$.settings.isTrusted({command:"\\includegraphics",url:Se})?{type:"includegraphics",mode:$.mode,alt:we,width:j,height:Z,totalheight:ce,src:Se}:$.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(T,k)=>{const _=Pn(T.height,k);let $=0;T.totalheight.number>0&&($=Pn(T.totalheight,k)-_);let j=0;T.width.number>0&&(j=Pn(T.width,k));const Z={height:qt(_+$)};j>0&&(Z.width=qt(j)),$>0&&(Z.verticalAlign=qt(-$));const ce=new Ch(T.src,T.alt,Z);return ce.height=_,ce.depth=$,ce},mathmlBuilder:(T,k)=>{const _=new Dt.MathNode("mglyph",[]);_.setAttribute("alt",T.alt);const $=Pn(T.height,k);let j=0;if(T.totalheight.number>0&&(j=Pn(T.totalheight,k)-$,_.setAttribute("valign",qt(-j))),_.setAttribute("height",qt($+j)),T.width.number>0){const Z=Pn(T.width,k);_.setAttribute("width",qt(Z))}return _.setAttribute("src",T.src),_}}),Ct({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(T,k){let{parser:_,funcName:$}=T;const j=$r(k[0],"size");if(_.settings.strict){const Z=$[1]==="m",ce=j.value.unit==="mu";Z?(ce||_.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+$+" supports only mu units, not "+j.value.unit+" units"),_.mode!=="math"&&_.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+$+" works only in math mode")):ce&&_.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+$+" doesn't support mu units")}return{type:"kern",mode:_.mode,dimension:j.value}},htmlBuilder(T,k){return ct.makeGlue(T.dimension,k)},mathmlBuilder(T,k){const _=Pn(T.dimension,k);return new Dt.SpaceNode(_)}}),Ct({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(T,k)=>{let{parser:_,funcName:$}=T;const j=k[0];return{type:"lap",mode:_.mode,alignment:$.slice(5),body:j}},htmlBuilder:(T,k)=>{let _;T.alignment==="clap"?(_=ct.makeSpan([],[on(T.body,k)]),_=ct.makeSpan(["inner"],[_],k)):_=ct.makeSpan(["inner"],[on(T.body,k)]);const $=ct.makeSpan(["fix"],[]);let j=ct.makeSpan([T.alignment],[_,$],k);const Z=ct.makeSpan(["strut"]);return Z.style.height=qt(j.height+j.depth),j.depth&&(Z.style.verticalAlign=qt(-j.depth)),j.children.unshift(Z),j=ct.makeSpan(["thinbox"],[j],k),ct.makeSpan(["mord","vbox"],[j],k)},mathmlBuilder:(T,k)=>{const _=new Dt.MathNode("mpadded",[Bn(T.body,k)]);if(T.alignment!=="rlap"){const $=T.alignment==="llap"?"-1":"-0.5";_.setAttribute("lspace",$+"width")}return _.setAttribute("width","0px"),_}}),Ct({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(T,k){let{funcName:_,parser:$}=T;const j=$.mode;$.switchMode("math");const Z=_==="\\("?"\\)":"$",ce=$.parseExpression(!1,Z);return $.expect(Z),$.switchMode(j),{type:"styling",mode:$.mode,style:"text",body:ce}}}),Ct({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(T,k){throw new bt("Mismatched "+T.funcName)}});const Fy=(T,k)=>{switch(k.style.size){case We.DISPLAY.size:return T.display;case We.TEXT.size:return T.text;case We.SCRIPT.size:return T.script;case We.SCRIPTSCRIPT.size:return T.scriptscript;default:return T.text}};Ct({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(T,k)=>{let{parser:_}=T;return{type:"mathchoice",mode:_.mode,display:Sn(k[0]),text:Sn(k[1]),script:Sn(k[2]),scriptscript:Sn(k[3])}},htmlBuilder:(T,k)=>{const _=Fy(T,k),$=Vi(_,k,!1);return ct.makeFragment($)},mathmlBuilder:(T,k)=>{const _=Fy(T,k);return ea(_,k)}});const nd=(T,k,_,$,j,Z,ce)=>{T=ct.makeSpan([],[T]);const we=_&&St.isCharacterBox(_);let Se,He,Je;if(k){const Ze=on(k,$.havingStyle(j.sup()),$);He={elem:Ze,kern:Math.max($.fontMetrics().bigOpSpacing1,$.fontMetrics().bigOpSpacing3-Ze.depth)}}if(_){const Ze=on(_,$.havingStyle(j.sub()),$);Se={elem:Ze,kern:Math.max($.fontMetrics().bigOpSpacing2,$.fontMetrics().bigOpSpacing4-Ze.height)}}if(He&&Se){const Ze=$.fontMetrics().bigOpSpacing5+Se.elem.height+Se.elem.depth+Se.kern+T.depth+ce;Je=ct.makeVList({positionType:"bottom",positionData:Ze,children:[{type:"kern",size:$.fontMetrics().bigOpSpacing5},{type:"elem",elem:Se.elem,marginLeft:qt(-Z)},{type:"kern",size:Se.kern},{type:"elem",elem:T},{type:"kern",size:He.kern},{type:"elem",elem:He.elem,marginLeft:qt(Z)},{type:"kern",size:$.fontMetrics().bigOpSpacing5}]},$)}else if(Se){const Ze=T.height-ce;Je=ct.makeVList({positionType:"top",positionData:Ze,children:[{type:"kern",size:$.fontMetrics().bigOpSpacing5},{type:"elem",elem:Se.elem,marginLeft:qt(-Z)},{type:"kern",size:Se.kern},{type:"elem",elem:T}]},$)}else{if(!He)return T;{const Ze=T.depth+ce;Je=ct.makeVList({positionType:"bottom",positionData:Ze,children:[{type:"elem",elem:T},{type:"kern",size:He.kern},{type:"elem",elem:He.elem,marginLeft:qt(Z)},{type:"kern",size:$.fontMetrics().bigOpSpacing5}]},$)}}const Xe=[Je];if(Se&&Z!==0&&!we){const Ze=ct.makeSpan(["mspace"],[],$);Ze.style.marginRight=qt(Z),Xe.unshift(Ze)}return ct.makeSpan(["mop","op-limits"],Xe,$)},$y=["\\smallint"],Du=(T,k)=>{let _,$,j,Z=!1;T.type==="supsub"?(_=T.sup,$=T.sub,j=$r(T.base,"op"),Z=!0):j=$r(T,"op");const ce=k.style;let we,Se=!1;if(ce.size===We.DISPLAY.size&&j.symbol&&!St.contains($y,j.name)&&(Se=!0),j.symbol){const Xe=Se?"Size2-Regular":"Size1-Regular";let Ze="";if(j.name!=="\\oiint"&&j.name!=="\\oiiint"||(Ze=j.name.slice(1),j.name=Ze==="oiint"?"\\iint":"\\iiint"),we=ct.makeSymbol(j.name,Xe,"math",k,["mop","op-symbol",Se?"large-op":"small-op"]),Ze.length>0){const vt=we.italic,Pt=ct.staticSvg(Ze+"Size"+(Se?"2":"1"),k);we=ct.makeVList({positionType:"individualShift",children:[{type:"elem",elem:we,shift:0},{type:"elem",elem:Pt,shift:Se?.08:0}]},k),j.name="\\"+Ze,we.classes.unshift("mop"),we.italic=vt}}else if(j.body){const Xe=Vi(j.body,k,!0);Xe.length===1&&Xe[0]instanceof In?(we=Xe[0],we.classes[0]="mop"):we=ct.makeSpan(["mop"],Xe,k)}else{const Xe=[];for(let Ze=1;Ze<j.name.length;Ze++)Xe.push(ct.mathsym(j.name[Ze],j.mode,k));we=ct.makeSpan(["mop"],Xe,k)}let He=0,Je=0;return(we instanceof In||j.name==="\\oiint"||j.name==="\\oiiint")&&!j.suppressBaseShift&&(He=(we.height-we.depth)/2-k.fontMetrics().axisHeight,Je=we.italic),Z?nd(we,_,$,k,ce,Je,He):(He&&(we.style.position="relative",we.style.top=qt(He)),we)},id=(T,k)=>{let _;if(T.symbol)_=new Ha("mo",[ca(T.name,T.mode)]),St.contains($y,T.name)&&_.setAttribute("largeop","false");else if(T.body)_=new Ha("mo",ds(T.body,k));else{_=new Ha("mi",[new ki(T.name.slice(1))]);const $=new Ha("mo",[ca("\u2061","text")]);_=T.parentIsSupSub?new Ha("mrow",[_,$]):Pl([_,$])}return _},zy={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};Ct({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:(T,k)=>{let{parser:_,funcName:$}=T,j=$;return j.length===1&&(j=zy[j]),{type:"op",mode:_.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:j}},htmlBuilder:Du,mathmlBuilder:id}),Ct({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(T,k)=>{let{parser:_}=T;const $=k[0];return{type:"op",mode:_.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Sn($)}},htmlBuilder:Du,mathmlBuilder:id});const wo={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};Ct({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(T){let{parser:k,funcName:_}=T;return{type:"op",mode:k.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:_}},htmlBuilder:Du,mathmlBuilder:id}),Ct({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(T){let{parser:k,funcName:_}=T;return{type:"op",mode:k.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:_}},htmlBuilder:Du,mathmlBuilder:id}),Ct({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(T){let{parser:k,funcName:_}=T,$=_;return $.length===1&&($=wo[$]),{type:"op",mode:k.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:$}},htmlBuilder:Du,mathmlBuilder:id});const Ks=(T,k)=>{let _,$,j,Z,ce=!1;if(T.type==="supsub"?(_=T.sup,$=T.sub,j=$r(T.base,"operatorname"),ce=!0):j=$r(T,"operatorname"),j.body.length>0){const we=j.body.map(He=>{const Je=He.text;return typeof Je=="string"?{type:"textord",mode:He.mode,text:Je}:He}),Se=Vi(we,k.withFont("mathrm"),!0);for(let He=0;He<Se.length;He++){const Je=Se[He];Je instanceof In&&(Je.text=Je.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}Z=ct.makeSpan(["mop"],Se,k)}else Z=ct.makeSpan(["mop"],[],k);return ce?nd(Z,_,$,k,k.style,0,0):Z};function qy(T,k,_){const $=Vi(T,k,!1),j=k.sizeMultiplier/_.sizeMultiplier;for(let Z=0;Z<$.length;Z++){const ce=$[Z].classes.indexOf("sizing");ce<0?Array.prototype.push.apply($[Z].classes,k.sizingClasses(_)):$[Z].classes[ce+1]==="reset-size"+k.size&&($[Z].classes[ce+1]="reset-size"+_.size),$[Z].height*=j,$[Z].depth*=j}return ct.makeFragment($)}Ct({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(T,k)=>{let{parser:_,funcName:$}=T;const j=k[0];return{type:"operatorname",mode:_.mode,body:Sn(j),alwaysHandleSupSub:$==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Ks,mathmlBuilder:(T,k)=>{let _=ds(T.body,k.withFont("mathrm")),$=!0;for(let ce=0;ce<_.length;ce++){const we=_[ce];if(!(we instanceof Dt.SpaceNode))if(we instanceof Dt.MathNode)switch(we.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const Se=we.children[0];we.children.length===1&&Se instanceof Dt.TextNode?Se.text=Se.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):$=!1;break}default:$=!1}else $=!1}if($){const ce=_.map(we=>we.toText()).join("");_=[new Dt.TextNode(ce)]}const j=new Dt.MathNode("mi",_);j.setAttribute("mathvariant","normal");const Z=new Dt.MathNode("mo",[ca("\u2061","text")]);return T.parentIsSupSub?new Dt.MathNode("mrow",[j,Z]):Dt.newDocumentFragment([j,Z])}}),ke("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),ja({type:"ordgroup",htmlBuilder(T,k){return T.semisimple?ct.makeFragment(Vi(T.body,k,!1)):ct.makeSpan(["mord"],Vi(T.body,k,!0),k)},mathmlBuilder(T,k){return ea(T.body,k,!0)}}),Ct({type:"overline",names:["\\overline"],props:{numArgs:1},handler(T,k){let{parser:_}=T;const $=k[0];return{type:"overline",mode:_.mode,body:$}},htmlBuilder(T,k){const _=on(T.body,k.havingCrampedStyle()),$=ct.makeLineSpan("overline-line",k),j=k.fontMetrics().defaultRuleThickness,Z=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:_},{type:"kern",size:3*j},{type:"elem",elem:$},{type:"kern",size:j}]},k);return ct.makeSpan(["mord","overline"],[Z],k)},mathmlBuilder(T,k){const _=new Dt.MathNode("mo",[new Dt.TextNode("\u203E")]);_.setAttribute("stretchy","true");const $=new Dt.MathNode("mover",[Bn(T.body,k),_]);return $.setAttribute("accent","true"),$}}),Ct({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(T,k)=>{let{parser:_}=T;const $=k[0];return{type:"phantom",mode:_.mode,body:Sn($)}},htmlBuilder:(T,k)=>{const _=Vi(T.body,k.withPhantom(),!1);return ct.makeFragment(_)},mathmlBuilder:(T,k)=>{const _=ds(T.body,k);return new Dt.MathNode("mphantom",_)}}),Ct({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(T,k)=>{let{parser:_}=T;const $=k[0];return{type:"hphantom",mode:_.mode,body:$}},htmlBuilder:(T,k)=>{let _=ct.makeSpan([],[on(T.body,k.withPhantom())]);if(_.height=0,_.depth=0,_.children)for(let $=0;$<_.children.length;$++)_.children[$].height=0,_.children[$].depth=0;return _=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:_}]},k),ct.makeSpan(["mord"],[_],k)},mathmlBuilder:(T,k)=>{const _=ds(Sn(T.body),k),$=new Dt.MathNode("mphantom",_),j=new Dt.MathNode("mpadded",[$]);return j.setAttribute("height","0px"),j.setAttribute("depth","0px"),j}}),Ct({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(T,k)=>{let{parser:_}=T;const $=k[0];return{type:"vphantom",mode:_.mode,body:$}},htmlBuilder:(T,k)=>{const _=ct.makeSpan(["inner"],[on(T.body,k.withPhantom())]),$=ct.makeSpan(["fix"],[]);return ct.makeSpan(["mord","rlap"],[_,$],k)},mathmlBuilder:(T,k)=>{const _=ds(Sn(T.body),k),$=new Dt.MathNode("mphantom",_),j=new Dt.MathNode("mpadded",[$]);return j.setAttribute("width","0px"),j}}),Ct({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(T,k){let{parser:_}=T;const $=$r(k[0],"size").value,j=k[1];return{type:"raisebox",mode:_.mode,dy:$,body:j}},htmlBuilder(T,k){const _=on(T.body,k),$=Pn(T.dy,k);return ct.makeVList({positionType:"shift",positionData:-$,children:[{type:"elem",elem:_}]},k)},mathmlBuilder(T,k){const _=new Dt.MathNode("mpadded",[Bn(T.body,k)]),$=T.dy.number+T.dy.unit;return _.setAttribute("voffset",$),_}}),Ct({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(T){let{parser:k}=T;return{type:"internal",mode:k.mode}}}),Ct({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(T,k,_){let{parser:$}=T;const j=_[0],Z=$r(k[0],"size"),ce=$r(k[1],"size");return{type:"rule",mode:$.mode,shift:j&&$r(j,"size").value,width:Z.value,height:ce.value}},htmlBuilder(T,k){const _=ct.makeSpan(["mord","rule"],[],k),$=Pn(T.width,k),j=Pn(T.height,k),Z=T.shift?Pn(T.shift,k):0;return _.style.borderRightWidth=qt($),_.style.borderTopWidth=qt(j),_.style.bottom=qt(Z),_.width=$,_.height=j+Z,_.depth=-Z,_.maxFontSize=1.125*j*k.sizeMultiplier,_},mathmlBuilder(T,k){const _=Pn(T.width,k),$=Pn(T.height,k),j=T.shift?Pn(T.shift,k):0,Z=k.color&&k.getColor()||"black",ce=new Dt.MathNode("mspace");ce.setAttribute("mathbackground",Z),ce.setAttribute("width",qt(_)),ce.setAttribute("height",qt($));const we=new Dt.MathNode("mpadded",[ce]);return j>=0?we.setAttribute("height",qt(j)):(we.setAttribute("height",qt(j)),we.setAttribute("depth",qt(-j))),we.setAttribute("voffset",qt(j)),we}});const An=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Ct({type:"sizing",names:An,props:{numArgs:0,allowedInText:!0},handler:(T,k)=>{let{breakOnTokenText:_,funcName:$,parser:j}=T;const Z=j.parseExpression(!1,_);return{type:"sizing",mode:j.mode,size:An.indexOf($)+1,body:Z}},htmlBuilder:(T,k)=>{const _=k.havingSize(T.size);return qy(T.body,_,k)},mathmlBuilder:(T,k)=>{const _=k.havingSize(T.size),$=ds(T.body,_),j=new Dt.MathNode("mstyle",$);return j.setAttribute("mathsize",qt(_.sizeMultiplier)),j}}),Ct({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(T,k,_)=>{let{parser:$}=T,j=!1,Z=!1;const ce=_[0]&&$r(_[0],"ordgroup");if(ce){let Se="";for(let He=0;He<ce.body.length;++He)if(Se=ce.body[He].text,Se==="t")j=!0;else{if(Se!=="b"){j=!1,Z=!1;break}Z=!0}}else j=!0,Z=!0;const we=k[0];return{type:"smash",mode:$.mode,body:we,smashHeight:j,smashDepth:Z}},htmlBuilder:(T,k)=>{const _=ct.makeSpan([],[on(T.body,k)]);if(!T.smashHeight&&!T.smashDepth)return _;if(T.smashHeight&&(_.height=0,_.children))for(let j=0;j<_.children.length;j++)_.children[j].height=0;if(T.smashDepth&&(_.depth=0,_.children))for(let j=0;j<_.children.length;j++)_.children[j].depth=0;const $=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:_}]},k);return ct.makeSpan(["mord"],[$],k)},mathmlBuilder:(T,k)=>{const _=new Dt.MathNode("mpadded",[Bn(T.body,k)]);return T.smashHeight&&_.setAttribute("height","0px"),T.smashDepth&&_.setAttribute("depth","0px"),_}}),Ct({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(T,k,_){let{parser:$}=T;const j=_[0],Z=k[0];return{type:"sqrt",mode:$.mode,body:Z,index:j}},htmlBuilder(T,k){let _=on(T.body,k.havingCrampedStyle());_.height===0&&(_.height=k.fontMetrics().xHeight),_=ct.wrapFragment(_,k);const $=k.fontMetrics().defaultRuleThickness;let j=$;k.style.id<We.TEXT.id&&(j=k.fontMetrics().xHeight);let Z=$+j/4;const ce=_.height+_.depth+Z+$,{span:we,ruleWidth:Se,advanceWidth:He}=gl.sqrtImage(ce,k),Je=we.height-Se;Je>_.height+_.depth+Z&&(Z=(Z+Je-_.height-_.depth)/2);const Xe=we.height-_.height-Z-Se;_.style.paddingLeft=qt(He);const Ze=ct.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:_,wrapperClasses:["svg-align"]},{type:"kern",size:-(_.height+Xe)},{type:"elem",elem:we},{type:"kern",size:Se}]},k);if(T.index){const vt=k.havingStyle(We.SCRIPTSCRIPT),Pt=on(T.index,vt,k),Er=.6*(Ze.height-Ze.depth),Zr=ct.makeVList({positionType:"shift",positionData:-Er,children:[{type:"elem",elem:Pt}]},k),fn=ct.makeSpan(["root"],[Zr]);return ct.makeSpan(["mord","sqrt"],[fn,Ze],k)}return ct.makeSpan(["mord","sqrt"],[Ze],k)},mathmlBuilder(T,k){const{body:_,index:$}=T;return $?new Dt.MathNode("mroot",[Bn(_,k),Bn($,k)]):new Dt.MathNode("msqrt",[Bn(_,k)])}});const Gy={display:We.DISPLAY,text:We.TEXT,script:We.SCRIPT,scriptscript:We.SCRIPTSCRIPT};Ct({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(T,k){let{breakOnTokenText:_,funcName:$,parser:j}=T;const Z=j.parseExpression(!0,_),ce=$.slice(1,$.length-5);return{type:"styling",mode:j.mode,style:ce,body:Z}},htmlBuilder(T,k){const _=Gy[T.style],$=k.havingStyle(_).withFont("");return qy(T.body,$,k)},mathmlBuilder(T,k){const _=Gy[T.style],$=k.havingStyle(_),j=ds(T.body,$),Z=new Dt.MathNode("mstyle",j),ce={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[T.style];return Z.setAttribute("scriptlevel",ce[0]),Z.setAttribute("displaystyle",ce[1]),Z}}),ja({type:"supsub",htmlBuilder(T,k){const _=function(dn,Yn){const Vn=dn.base;return Vn?Vn.type==="op"?Vn.limits&&(Yn.style.size===We.DISPLAY.size||Vn.alwaysHandleSupSub)?Du:null:Vn.type==="operatorname"?Vn.alwaysHandleSupSub&&(Yn.style.size===We.DISPLAY.size||Vn.limits)?Ks:null:Vn.type==="accent"?St.isCharacterBox(Vn.base)?ef:null:Vn.type==="horizBrace"&&!dn.sub===Vn.isOver?Ni:null:null}(T,k);if(_)return _(T,k);const{base:$,sup:j,sub:Z}=T,ce=on($,k);let we,Se;const He=k.fontMetrics();let Je=0,Xe=0;const Ze=$&&St.isCharacterBox($);if(j){const dn=k.havingStyle(k.style.sup());we=on(j,dn,k),Ze||(Je=ce.height-dn.fontMetrics().supDrop*dn.sizeMultiplier/k.sizeMultiplier)}if(Z){const dn=k.havingStyle(k.style.sub());Se=on(Z,dn,k),Ze||(Xe=ce.depth+dn.fontMetrics().subDrop*dn.sizeMultiplier/k.sizeMultiplier)}let vt;vt=k.style===We.DISPLAY?He.sup1:k.style.cramped?He.sup3:He.sup2;const Pt=k.sizeMultiplier,Er=qt(.5/He.ptPerEm/Pt);let Zr,fn=null;if(Se){const dn=T.base&&T.base.type==="op"&&T.base.name&&(T.base.name==="\\oiint"||T.base.name==="\\oiiint");(ce instanceof In||dn)&&(fn=qt(-ce.italic))}if(we&&Se){Je=Math.max(Je,vt,we.depth+.25*He.xHeight),Xe=Math.max(Xe,He.sub2);const dn=4*He.defaultRuleThickness;if(Je-we.depth-(Se.height-Xe)<dn){Xe=dn-(Je-we.depth)+Se.height;const Vn=.8*He.xHeight-(Je-we.depth);Vn>0&&(Je+=Vn,Xe-=Vn)}const Yn=[{type:"elem",elem:Se,shift:Xe,marginRight:Er,marginLeft:fn},{type:"elem",elem:we,shift:-Je,marginRight:Er}];Zr=ct.makeVList({positionType:"individualShift",children:Yn},k)}else if(Se){Xe=Math.max(Xe,He.sub1,Se.height-.8*He.xHeight);const dn=[{type:"elem",elem:Se,marginLeft:fn,marginRight:Er}];Zr=ct.makeVList({positionType:"shift",positionData:Xe,children:dn},k)}else{if(!we)throw new Error("supsub must have either sup or sub.");Je=Math.max(Je,vt,we.depth+.25*He.xHeight),Zr=ct.makeVList({positionType:"shift",positionData:-Je,children:[{type:"elem",elem:we,marginRight:Er}]},k)}const $n=jc(ce,"right")||"mord";return ct.makeSpan([$n],[ce,ct.makeSpan(["msupsub"],[Zr])],k)},mathmlBuilder(T,k){let _,$,j=!1;T.base&&T.base.type==="horizBrace"&&($=!!T.sup,$===T.base.isOver&&(j=!0,_=T.base.isOver)),!T.base||T.base.type!=="op"&&T.base.type!=="operatorname"||(T.base.parentIsSupSub=!0);const Z=[Bn(T.base,k)];let ce;if(T.sub&&Z.push(Bn(T.sub,k)),T.sup&&Z.push(Bn(T.sup,k)),j)ce=_?"mover":"munder";else if(T.sub)if(T.sup){const we=T.base;ce=we&&we.type==="op"&&we.limits&&k.style===We.DISPLAY||we&&we.type==="operatorname"&&we.alwaysHandleSupSub&&(k.style===We.DISPLAY||we.limits)?"munderover":"msubsup"}else{const we=T.base;ce=we&&we.type==="op"&&we.limits&&(k.style===We.DISPLAY||we.alwaysHandleSupSub)||we&&we.type==="operatorname"&&we.alwaysHandleSupSub&&(we.limits||k.style===We.DISPLAY)?"munder":"msub"}else{const we=T.base;ce=we&&we.type==="op"&&we.limits&&(k.style===We.DISPLAY||we.alwaysHandleSupSub)||we&&we.type==="operatorname"&&we.alwaysHandleSupSub&&(we.limits||k.style===We.DISPLAY)?"mover":"msup"}return new Dt.MathNode(ce,Z)}}),ja({type:"atom",htmlBuilder(T,k){return ct.mathsym(T.text,T.mode,k,["m"+T.family])},mathmlBuilder(T,k){const _=new Dt.MathNode("mo",[ca(T.text,T.mode)]);if(T.family==="bin"){const $=Oo(T,k);$==="bold-italic"&&_.setAttribute("mathvariant",$)}else T.family==="punct"?_.setAttribute("separator","true"):T.family!=="open"&&T.family!=="close"||_.setAttribute("stretchy","false");return _}});const Uc={mi:"italic",mn:"normal",mtext:"normal"};ja({type:"mathord",htmlBuilder(T,k){return ct.makeOrd(T,k,"mathord")},mathmlBuilder(T,k){const _=new Dt.MathNode("mi",[ca(T.text,T.mode,k)]),$=Oo(T,k)||"italic";return $!==Uc[_.type]&&_.setAttribute("mathvariant",$),_}}),ja({type:"textord",htmlBuilder(T,k){return ct.makeOrd(T,k,"textord")},mathmlBuilder(T,k){const _=ca(T.text,T.mode,k),$=Oo(T,k)||"normal";let j;return j=T.mode==="text"?new Dt.MathNode("mtext",[_]):/[0-9]/.test(T.text)?new Dt.MathNode("mn",[_]):T.text==="\\prime"?new Dt.MathNode("mo",[_]):new Dt.MathNode("mi",[_]),$!==Uc[j.type]&&j.setAttribute("mathvariant",$),j}});const Ru={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},F1={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ja({type:"spacing",htmlBuilder(T,k){if(F1.hasOwnProperty(T.text)){const _=F1[T.text].className||"";if(T.mode==="text"){const $=ct.makeOrd(T,k,"textord");return $.classes.push(_),$}return ct.makeSpan(["mspace",_],[ct.mathsym(T.text,T.mode,k)],k)}if(Ru.hasOwnProperty(T.text))return ct.makeSpan(["mspace",Ru[T.text]],[],k);throw new bt('Unknown type of space "'+T.text+'"')},mathmlBuilder(T,k){let _;if(!F1.hasOwnProperty(T.text)){if(Ru.hasOwnProperty(T.text))return new Dt.MathNode("mspace");throw new bt('Unknown type of space "'+T.text+'"')}return _=new Dt.MathNode("mtext",[new Dt.TextNode("\xA0")]),_}});const df=()=>{const T=new Dt.MathNode("mtd",[]);return T.setAttribute("width","50%"),T};ja({type:"tag",mathmlBuilder(T,k){const _=new Dt.MathNode("mtable",[new Dt.MathNode("mtr",[df(),new Dt.MathNode("mtd",[ea(T.body,k)]),df(),new Dt.MathNode("mtd",[ea(T.tag,k)])])]);return _.setAttribute("width","100%"),_}});const pf={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Yy={"\\textbf":"textbf","\\textmd":"textmd"},Cx={"\\textit":"textit","\\textup":"textup"},jy=(T,k)=>{const _=T.font;return _?pf[_]?k.withTextFontFamily(pf[_]):Yy[_]?k.withTextFontWeight(Yy[_]):_==="\\emph"?k.fontShape==="textit"?k.withTextFontShape("textup"):k.withTextFontShape("textit"):k.withTextFontShape(Cx[_]):k};Ct({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(T,k){let{parser:_,funcName:$}=T;const j=k[0];return{type:"text",mode:_.mode,body:Sn(j),font:$}},htmlBuilder(T,k){const _=jy(T,k),$=Vi(T.body,_,!0);return ct.makeSpan(["mord","text"],$,_)},mathmlBuilder(T,k){const _=jy(T,k);return ea(T.body,_)}}),Ct({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(T,k){let{parser:_}=T;return{type:"underline",mode:_.mode,body:k[0]}},htmlBuilder(T,k){const _=on(T.body,k),$=ct.makeLineSpan("underline-line",k),j=k.fontMetrics().defaultRuleThickness,Z=ct.makeVList({positionType:"top",positionData:_.height,children:[{type:"kern",size:j},{type:"elem",elem:$},{type:"kern",size:3*j},{type:"elem",elem:_}]},k);return ct.makeSpan(["mord","underline"],[Z],k)},mathmlBuilder(T,k){const _=new Dt.MathNode("mo",[new Dt.TextNode("\u203E")]);_.setAttribute("stretchy","true");const $=new Dt.MathNode("munder",[Bn(T.body,k),_]);return $.setAttribute("accentunder","true"),$}}),Ct({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(T,k){let{parser:_}=T;return{type:"vcenter",mode:_.mode,body:k[0]}},htmlBuilder(T,k){const _=on(T.body,k),$=k.fontMetrics().axisHeight,j=.5*(_.height-$-(_.depth+$));return ct.makeVList({positionType:"shift",positionData:j,children:[{type:"elem",elem:_}]},k)},mathmlBuilder(T,k){return new Dt.MathNode("mpadded",[Bn(T.body,k)],["vcenter"])}}),Ct({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(T,k,_){throw new bt("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(T,k){const _=ps(T),$=[],j=k.havingStyle(k.style.text());for(let Z=0;Z<_.length;Z++){let ce=_[Z];ce==="~"&&(ce="\\textasciitilde"),$.push(ct.makeSymbol(ce,"Typewriter-Regular",T.mode,j,["mord","texttt"]))}return ct.makeSpan(["mord","text"].concat(j.sizingClasses(k)),ct.tryCombineChars($),j)},mathmlBuilder(T,k){const _=new Dt.TextNode(ps(T)),$=new Dt.MathNode("mtext",[_]);return $.setAttribute("mathvariant","monospace"),$}});const ps=T=>T.body.replace(/ /g,T.star?"\u2423":"\xA0");var Ta=I1;const gf=`[ \r
	]`,ff="(\\\\[a-zA-Z@]+)"+gf+"*",ad="[\u0300-\u036F]",$1=new RegExp(ad+"+$"),Hy="("+gf+`+)|\\\\(
|[ \r	]+
?)[ \r	]*|([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]`+ad+"*|[\uD800-\uDBFF][\uDC00-\uDFFF]"+ad+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+ff+"|\\\\[^\uD800-\uDFFF])";class Mh{constructor(k,_){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=k,this.settings=_,this.tokenRegex=new RegExp(Hy,"g"),this.catcodes={"%":14,"~":13}}setCatcode(k,_){this.catcodes[k]=_}lex(){const k=this.input,_=this.tokenRegex.lastIndex;if(_===k.length)return new xo("EOF",new Po(this,_,_));const $=this.tokenRegex.exec(k);if($===null||$.index!==_)throw new bt("Unexpected character: '"+k[_]+"'",new xo(k[_],new Po(this,_,_+1)));const j=$[6]||$[3]||($[2]?"\\ ":" ");if(this.catcodes[j]===14){const Z=k.indexOf(`
`,this.tokenRegex.lastIndex);return Z===-1?(this.tokenRegex.lastIndex=k.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=Z+1,this.lex()}return new xo(j,new Po(this,_,this.tokenRegex.lastIndex))}}class z1{constructor(k,_){k===void 0&&(k={}),_===void 0&&(_={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=_,this.builtins=k,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new bt("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const k=this.undefStack.pop();for(const _ in k)k.hasOwnProperty(_)&&(k[_]==null?delete this.current[_]:this.current[_]=k[_])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(k){return this.current.hasOwnProperty(k)||this.builtins.hasOwnProperty(k)}get(k){return this.current.hasOwnProperty(k)?this.current[k]:this.builtins[k]}set(k,_,$){if($===void 0&&($=!1),$){for(let j=0;j<this.undefStack.length;j++)delete this.undefStack[j][k];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][k]=_)}else{const j=this.undefStack[this.undefStack.length-1];j&&!j.hasOwnProperty(k)&&(j[k]=this.current[k])}_==null?delete this.current[k]:this.current[k]=_}}var mf=sf;ke("\\noexpand",function(T){const k=T.popToken();return T.isExpandable(k.text)&&(k.noexpand=!0,k.treatAsRelax=!0),{tokens:[k],numArgs:0}}),ke("\\expandafter",function(T){const k=T.popToken();return T.expandOnce(!0),{tokens:[k],numArgs:0}}),ke("\\@firstoftwo",function(T){return{tokens:T.consumeArgs(2)[0],numArgs:0}}),ke("\\@secondoftwo",function(T){return{tokens:T.consumeArgs(2)[1],numArgs:0}}),ke("\\@ifnextchar",function(T){const k=T.consumeArgs(3);T.consumeSpaces();const _=T.future();return k[0].length===1&&k[0][0].text===_.text?{tokens:k[1],numArgs:0}:{tokens:k[2],numArgs:0}}),ke("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),ke("\\TextOrMath",function(T){const k=T.consumeArgs(2);return T.mode==="text"?{tokens:k[0],numArgs:0}:{tokens:k[1],numArgs:0}});const yf={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ke("\\char",function(T){let k,_=T.popToken(),$="";if(_.text==="'")k=8,_=T.popToken();else if(_.text==='"')k=16,_=T.popToken();else if(_.text==="`")if(_=T.popToken(),_.text[0]==="\\")$=_.text.charCodeAt(1);else{if(_.text==="EOF")throw new bt("\\char` missing argument");$=_.text.charCodeAt(0)}else k=10;if(k){if($=yf[_.text],$==null||$>=k)throw new bt("Invalid base-"+k+" digit "+_.text);let j;for(;(j=yf[T.future().text])!=null&&j<k;)$*=k,$+=j,T.popToken()}return"\\@char{"+$+"}"});const Ou=(T,k,_)=>{let $=T.consumeArg().tokens;if($.length!==1)throw new bt("\\newcommand's first argument must be a macro name");const j=$[0].text,Z=T.isDefined(j);if(Z&&!k)throw new bt("\\newcommand{"+j+"} attempting to redefine "+j+"; use \\renewcommand");if(!Z&&!_)throw new bt("\\renewcommand{"+j+"} when command "+j+" does not yet exist; use \\newcommand");let ce=0;if($=T.consumeArg().tokens,$.length===1&&$[0].text==="["){let we="",Se=T.expandNextToken();for(;Se.text!=="]"&&Se.text!=="EOF";)we+=Se.text,Se=T.expandNextToken();if(!we.match(/^\s*[0-9]+\s*$/))throw new bt("Invalid number of arguments: "+we);ce=parseInt(we),$=T.consumeArg().tokens}return T.macros.set(j,{tokens:$,numArgs:ce}),""};ke("\\newcommand",T=>Ou(T,!1,!0)),ke("\\renewcommand",T=>Ou(T,!0,!1)),ke("\\providecommand",T=>Ou(T,!0,!0)),ke("\\message",T=>{const k=T.consumeArgs(1)[0];return console.log(k.reverse().map(_=>_.text).join("")),""}),ke("\\errmessage",T=>{const k=T.consumeArgs(1)[0];return console.error(k.reverse().map(_=>_.text).join("")),""}),ke("\\show",T=>{const k=T.popToken(),_=k.text;return console.log(k,T.macros.get(_),Ta[_],ai.math[_],ai.text[_]),""}),ke("\\bgroup","{"),ke("\\egroup","}"),ke("~","\\nobreakspace"),ke("\\lq","`"),ke("\\rq","'"),ke("\\aa","\\r a"),ke("\\AA","\\r A"),ke("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}"),ke("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),ke("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}"),ke("\u212C","\\mathscr{B}"),ke("\u2130","\\mathscr{E}"),ke("\u2131","\\mathscr{F}"),ke("\u210B","\\mathscr{H}"),ke("\u2110","\\mathscr{I}"),ke("\u2112","\\mathscr{L}"),ke("\u2133","\\mathscr{M}"),ke("\u211B","\\mathscr{R}"),ke("\u212D","\\mathfrak{C}"),ke("\u210C","\\mathfrak{H}"),ke("\u2128","\\mathfrak{Z}"),ke("\\Bbbk","\\Bbb{k}"),ke("\xB7","\\cdotp"),ke("\\llap","\\mathllap{\\textrm{#1}}"),ke("\\rlap","\\mathrlap{\\textrm{#1}}"),ke("\\clap","\\mathclap{\\textrm{#1}}"),ke("\\mathstrut","\\vphantom{(}"),ke("\\underbar","\\underline{\\text{#1}}"),ke("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),ke("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),ke("\\ne","\\neq"),ke("\u2260","\\neq"),ke("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),ke("\u2209","\\notin"),ke("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),ke("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),ke("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}"),ke("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}"),ke("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}"),ke("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}"),ke("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}"),ke("\u27C2","\\perp"),ke("\u203C","\\mathclose{!\\mkern-0.8mu!}"),ke("\u220C","\\notni"),ke("\u231C","\\ulcorner"),ke("\u231D","\\urcorner"),ke("\u231E","\\llcorner"),ke("\u231F","\\lrcorner"),ke("\xA9","\\copyright"),ke("\xAE","\\textregistered"),ke("\uFE0F","\\textregistered"),ke("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),ke("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),ke("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),ke("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),ke("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),ke("\u22EE","\\vdots"),ke("\\varGamma","\\mathit{\\Gamma}"),ke("\\varDelta","\\mathit{\\Delta}"),ke("\\varTheta","\\mathit{\\Theta}"),ke("\\varLambda","\\mathit{\\Lambda}"),ke("\\varXi","\\mathit{\\Xi}"),ke("\\varPi","\\mathit{\\Pi}"),ke("\\varSigma","\\mathit{\\Sigma}"),ke("\\varUpsilon","\\mathit{\\Upsilon}"),ke("\\varPhi","\\mathit{\\Phi}"),ke("\\varPsi","\\mathit{\\Psi}"),ke("\\varOmega","\\mathit{\\Omega}"),ke("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),ke("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),ke("\\boxed","\\fbox{$\\displaystyle{#1}$}"),ke("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),ke("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),ke("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),ke("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),ke("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const Uy={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ke("\\dots",function(T){let k="\\dotso";const _=T.expandAfterFuture().text;return _ in Uy?k=Uy[_]:(_.slice(0,4)==="\\not"||_ in ai.math&&St.contains(["bin","rel"],ai.math[_].group))&&(k="\\dotsb"),k});const vf={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ke("\\dotso",function(T){return T.future().text in vf?"\\ldots\\,":"\\ldots"}),ke("\\dotsc",function(T){const k=T.future().text;return k in vf&&k!==","?"\\ldots\\,":"\\ldots"}),ke("\\cdots",function(T){return T.future().text in vf?"\\@cdots\\,":"\\@cdots"}),ke("\\dotsb","\\cdots"),ke("\\dotsm","\\cdots"),ke("\\dotsi","\\!\\cdots"),ke("\\dotsx","\\ldots\\,"),ke("\\DOTSI","\\relax"),ke("\\DOTSB","\\relax"),ke("\\DOTSX","\\relax"),ke("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),ke("\\,","\\tmspace+{3mu}{.1667em}"),ke("\\thinspace","\\,"),ke("\\>","\\mskip{4mu}"),ke("\\:","\\tmspace+{4mu}{.2222em}"),ke("\\medspace","\\:"),ke("\\;","\\tmspace+{5mu}{.2777em}"),ke("\\thickspace","\\;"),ke("\\!","\\tmspace-{3mu}{.1667em}"),ke("\\negthinspace","\\!"),ke("\\negmedspace","\\tmspace-{4mu}{.2222em}"),ke("\\negthickspace","\\tmspace-{5mu}{.277em}"),ke("\\enspace","\\kern.5em "),ke("\\enskip","\\hskip.5em\\relax"),ke("\\quad","\\hskip1em\\relax"),ke("\\qquad","\\hskip2em\\relax"),ke("\\tag","\\@ifstar\\tag@literal\\tag@paren"),ke("\\tag@paren","\\tag@literal{({#1})}"),ke("\\tag@literal",T=>{if(T.macros.get("\\df@tag"))throw new bt("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),ke("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),ke("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),ke("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),ke("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),ke("\\newline","\\\\\\relax"),ke("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const Bo=qt(Ya["Main-Regular"][84][1]-.7*Ya["Main-Regular"][65][1]);ke("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+Bo+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),ke("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+Bo+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),ke("\\hspace","\\@ifstar\\@hspacer\\@hspace"),ke("\\@hspace","\\hskip #1\\relax"),ke("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),ke("\\ordinarycolon",":"),ke("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),ke("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),ke("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),ke("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),ke("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),ke("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),ke("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),ke("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),ke("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),ke("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),ke("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),ke("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),ke("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),ke("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),ke("\u2237","\\dblcolon"),ke("\u2239","\\eqcolon"),ke("\u2254","\\coloneqq"),ke("\u2255","\\eqqcolon"),ke("\u2A74","\\Coloneqq"),ke("\\ratio","\\vcentcolon"),ke("\\coloncolon","\\dblcolon"),ke("\\colonequals","\\coloneqq"),ke("\\coloncolonequals","\\Coloneqq"),ke("\\equalscolon","\\eqqcolon"),ke("\\equalscoloncolon","\\Eqqcolon"),ke("\\colonminus","\\coloneq"),ke("\\coloncolonminus","\\Coloneq"),ke("\\minuscolon","\\eqcolon"),ke("\\minuscoloncolon","\\Eqcolon"),ke("\\coloncolonapprox","\\Colonapprox"),ke("\\coloncolonsim","\\Colonsim"),ke("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ke("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ke("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ke("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ke("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}"),ke("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),ke("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),ke("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),ke("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),ke("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),ke("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),ke("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),ke("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),ke("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),ke("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),ke("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),ke("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),ke("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),ke("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),ke("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),ke("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),ke("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),ke("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),ke("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}"),ke("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}"),ke("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}"),ke("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}"),ke("\\imath","\\html@mathml{\\@imath}{\u0131}"),ke("\\jmath","\\html@mathml{\\@jmath}{\u0237}"),ke("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}"),ke("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}"),ke("\u27E6","\\llbracket"),ke("\u27E7","\\rrbracket"),ke("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),ke("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),ke("\u2983","\\lBrace"),ke("\u2984","\\rBrace"),ke("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}"),ke("\u29B5","\\minuso"),ke("\\darr","\\downarrow"),ke("\\dArr","\\Downarrow"),ke("\\Darr","\\Downarrow"),ke("\\lang","\\langle"),ke("\\rang","\\rangle"),ke("\\uarr","\\uparrow"),ke("\\uArr","\\Uparrow"),ke("\\Uarr","\\Uparrow"),ke("\\N","\\mathbb{N}"),ke("\\R","\\mathbb{R}"),ke("\\Z","\\mathbb{Z}"),ke("\\alef","\\aleph"),ke("\\alefsym","\\aleph"),ke("\\Alpha","\\mathrm{A}"),ke("\\Beta","\\mathrm{B}"),ke("\\bull","\\bullet"),ke("\\Chi","\\mathrm{X}"),ke("\\clubs","\\clubsuit"),ke("\\cnums","\\mathbb{C}"),ke("\\Complex","\\mathbb{C}"),ke("\\Dagger","\\ddagger"),ke("\\diamonds","\\diamondsuit"),ke("\\empty","\\emptyset"),ke("\\Epsilon","\\mathrm{E}"),ke("\\Eta","\\mathrm{H}"),ke("\\exist","\\exists"),ke("\\harr","\\leftrightarrow"),ke("\\hArr","\\Leftrightarrow"),ke("\\Harr","\\Leftrightarrow"),ke("\\hearts","\\heartsuit"),ke("\\image","\\Im"),ke("\\infin","\\infty"),ke("\\Iota","\\mathrm{I}"),ke("\\isin","\\in"),ke("\\Kappa","\\mathrm{K}"),ke("\\larr","\\leftarrow"),ke("\\lArr","\\Leftarrow"),ke("\\Larr","\\Leftarrow"),ke("\\lrarr","\\leftrightarrow"),ke("\\lrArr","\\Leftrightarrow"),ke("\\Lrarr","\\Leftrightarrow"),ke("\\Mu","\\mathrm{M}"),ke("\\natnums","\\mathbb{N}"),ke("\\Nu","\\mathrm{N}"),ke("\\Omicron","\\mathrm{O}"),ke("\\plusmn","\\pm"),ke("\\rarr","\\rightarrow"),ke("\\rArr","\\Rightarrow"),ke("\\Rarr","\\Rightarrow"),ke("\\real","\\Re"),ke("\\reals","\\mathbb{R}"),ke("\\Reals","\\mathbb{R}"),ke("\\Rho","\\mathrm{P}"),ke("\\sdot","\\cdot"),ke("\\sect","\\S"),ke("\\spades","\\spadesuit"),ke("\\sub","\\subset"),ke("\\sube","\\subseteq"),ke("\\supe","\\supseteq"),ke("\\Tau","\\mathrm{T}"),ke("\\thetasym","\\vartheta"),ke("\\weierp","\\wp"),ke("\\Zeta","\\mathrm{Z}"),ke("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),ke("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),ke("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),ke("\\bra","\\mathinner{\\langle{#1}|}"),ke("\\ket","\\mathinner{|{#1}\\rangle}"),ke("\\braket","\\mathinner{\\langle{#1}\\rangle}"),ke("\\Bra","\\left\\langle#1\\right|"),ke("\\Ket","\\left|#1\\right\\rangle");const gs=T=>k=>{const _=k.consumeArg().tokens,$=k.consumeArg().tokens,j=k.consumeArg().tokens,Z=k.consumeArg().tokens,ce=k.macros.get("|"),we=k.macros.get("\\|");k.macros.beginGroup();const Se=Xe=>Ze=>{T&&(Ze.macros.set("|",ce),j.length&&Ze.macros.set("\\|",we));let vt=Xe;return!Xe&&j.length&&Ze.future().text==="|"&&(Ze.popToken(),vt=!0),{tokens:vt?j:$,numArgs:0}};k.macros.set("|",Se(!1)),j.length&&k.macros.set("\\|",Se(!0));const He=k.consumeArg().tokens,Je=k.expandTokens([...Z,...He,..._]);return k.macros.endGroup(),{tokens:Je.reverse(),numArgs:0}};ke("\\bra@ket",gs(!1)),ke("\\bra@set",gs(!0)),ke("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),ke("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),ke("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),ke("\\angln","{\\angl n}"),ke("\\blue","\\textcolor{##6495ed}{#1}"),ke("\\orange","\\textcolor{##ffa500}{#1}"),ke("\\pink","\\textcolor{##ff00af}{#1}"),ke("\\red","\\textcolor{##df0030}{#1}"),ke("\\green","\\textcolor{##28ae7b}{#1}"),ke("\\gray","\\textcolor{gray}{#1}"),ke("\\purple","\\textcolor{##9d38bd}{#1}"),ke("\\blueA","\\textcolor{##ccfaff}{#1}"),ke("\\blueB","\\textcolor{##80f6ff}{#1}"),ke("\\blueC","\\textcolor{##63d9ea}{#1}"),ke("\\blueD","\\textcolor{##11accd}{#1}"),ke("\\blueE","\\textcolor{##0c7f99}{#1}"),ke("\\tealA","\\textcolor{##94fff5}{#1}"),ke("\\tealB","\\textcolor{##26edd5}{#1}"),ke("\\tealC","\\textcolor{##01d1c1}{#1}"),ke("\\tealD","\\textcolor{##01a995}{#1}"),ke("\\tealE","\\textcolor{##208170}{#1}"),ke("\\greenA","\\textcolor{##b6ffb0}{#1}"),ke("\\greenB","\\textcolor{##8af281}{#1}"),ke("\\greenC","\\textcolor{##74cf70}{#1}"),ke("\\greenD","\\textcolor{##1fab54}{#1}"),ke("\\greenE","\\textcolor{##0d923f}{#1}"),ke("\\goldA","\\textcolor{##ffd0a9}{#1}"),ke("\\goldB","\\textcolor{##ffbb71}{#1}"),ke("\\goldC","\\textcolor{##ff9c39}{#1}"),ke("\\goldD","\\textcolor{##e07d10}{#1}"),ke("\\goldE","\\textcolor{##a75a05}{#1}"),ke("\\redA","\\textcolor{##fca9a9}{#1}"),ke("\\redB","\\textcolor{##ff8482}{#1}"),ke("\\redC","\\textcolor{##f9685d}{#1}"),ke("\\redD","\\textcolor{##e84d39}{#1}"),ke("\\redE","\\textcolor{##bc2612}{#1}"),ke("\\maroonA","\\textcolor{##ffbde0}{#1}"),ke("\\maroonB","\\textcolor{##ff92c6}{#1}"),ke("\\maroonC","\\textcolor{##ed5fa6}{#1}"),ke("\\maroonD","\\textcolor{##ca337c}{#1}"),ke("\\maroonE","\\textcolor{##9e034e}{#1}"),ke("\\purpleA","\\textcolor{##ddd7ff}{#1}"),ke("\\purpleB","\\textcolor{##c6b9fc}{#1}"),ke("\\purpleC","\\textcolor{##aa87ff}{#1}"),ke("\\purpleD","\\textcolor{##7854ab}{#1}"),ke("\\purpleE","\\textcolor{##543b78}{#1}"),ke("\\mintA","\\textcolor{##f5f9e8}{#1}"),ke("\\mintB","\\textcolor{##edf2df}{#1}"),ke("\\mintC","\\textcolor{##e0e5cc}{#1}"),ke("\\grayA","\\textcolor{##f6f7f7}{#1}"),ke("\\grayB","\\textcolor{##f0f1f2}{#1}"),ke("\\grayC","\\textcolor{##e3e5e6}{#1}"),ke("\\grayD","\\textcolor{##d6d8da}{#1}"),ke("\\grayE","\\textcolor{##babec2}{#1}"),ke("\\grayF","\\textcolor{##888d93}{#1}"),ke("\\grayG","\\textcolor{##626569}{#1}"),ke("\\grayH","\\textcolor{##3b3e40}{#1}"),ke("\\grayI","\\textcolor{##21242c}{#1}"),ke("\\kaBlue","\\textcolor{##314453}{#1}"),ke("\\kaGreen","\\textcolor{##71B307}{#1}");const Ih={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Vy{constructor(k,_,$){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=_,this.expansionCount=0,this.feed(k),this.macros=new z1(mf,_.macros),this.mode=$,this.stack=[]}feed(k){this.lexer=new Mh(k,this.settings)}switchMode(k){this.mode=k}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(k){this.stack.push(k)}pushTokens(k){this.stack.push(...k)}scanArgument(k){let _,$,j;if(k){if(this.consumeSpaces(),this.future().text!=="[")return null;_=this.popToken(),{tokens:j,end:$}=this.consumeArg(["]"])}else({tokens:j,start:_,end:$}=this.consumeArg());return this.pushToken(new xo("EOF",$.loc)),this.pushTokens(j),_.range($,"")}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(k){const _=[],$=k&&k.length>0;$||this.consumeSpaces();const j=this.future();let Z,ce=0,we=0;do{if(Z=this.popToken(),_.push(Z),Z.text==="{")++ce;else if(Z.text==="}"){if(--ce,ce===-1)throw new bt("Extra }",Z)}else if(Z.text==="EOF")throw new bt("Unexpected end of input in a macro argument, expected '"+(k&&$?k[we]:"}")+"'",Z);if(k&&$)if((ce===0||ce===1&&k[we]==="{")&&Z.text===k[we]){if(++we,we===k.length){_.splice(-we,we);break}}else we=0}while(ce!==0||$);return j.text==="{"&&_[_.length-1].text==="}"&&(_.pop(),_.shift()),_.reverse(),{tokens:_,start:j,end:Z}}consumeArgs(k,_){if(_){if(_.length!==k+1)throw new bt("The length of delimiters doesn't match the number of args!");const j=_[0];for(let Z=0;Z<j.length;Z++){const ce=this.popToken();if(j[Z]!==ce.text)throw new bt("Use of the macro doesn't match its definition",ce)}}const $=[];for(let j=0;j<k;j++)$.push(this.consumeArg(_&&_[j+1]).tokens);return $}countExpansion(k){if(this.expansionCount+=k,this.expansionCount>this.settings.maxExpand)throw new bt("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(k){const _=this.popToken(),$=_.text,j=_.noexpand?null:this._getExpansion($);if(j==null||k&&j.unexpandable){if(k&&j==null&&$[0]==="\\"&&!this.isDefined($))throw new bt("Undefined control sequence: "+$);return this.pushToken(_),!1}this.countExpansion(1);let Z=j.tokens;const ce=this.consumeArgs(j.numArgs,j.delimiters);if(j.numArgs){Z=Z.slice();for(let we=Z.length-1;we>=0;--we){let Se=Z[we];if(Se.text==="#"){if(we===0)throw new bt("Incomplete placeholder at end of macro body",Se);if(Se=Z[--we],Se.text==="#")Z.splice(we+1,1);else{if(!/^[1-9]$/.test(Se.text))throw new bt("Not a valid argument number",Se);Z.splice(we,2,...ce[+Se.text-1])}}}}return this.pushTokens(Z),Z.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const k=this.stack.pop();return k.treatAsRelax&&(k.text="\\relax"),k}throw new Error}expandMacro(k){return this.macros.has(k)?this.expandTokens([new xo(k)]):void 0}expandTokens(k){const _=[],$=this.stack.length;for(this.pushTokens(k);this.stack.length>$;)if(this.expandOnce(!0)===!1){const j=this.stack.pop();j.treatAsRelax&&(j.noexpand=!1,j.treatAsRelax=!1),_.push(j)}return this.countExpansion(_.length),_}expandMacroAsText(k){const _=this.expandMacro(k);return _&&_.map($=>$.text).join("")}_getExpansion(k){const _=this.macros.get(k);if(_==null)return _;if(k.length===1){const j=this.lexer.catcodes[k];if(j!=null&&j!==13)return}const $=typeof _=="function"?_(this):_;if(typeof $=="string"){let j=0;if($.indexOf("#")!==-1){const Se=$.replace(/##/g,"");for(;Se.indexOf("#"+(j+1))!==-1;)++j}const Z=new Mh($,this.settings),ce=[];let we=Z.lex();for(;we.text!=="EOF";)ce.push(we),we=Z.lex();return ce.reverse(),{tokens:ce,numArgs:j}}return $}isDefined(k){return this.macros.has(k)||Ta.hasOwnProperty(k)||ai.math.hasOwnProperty(k)||ai.text.hasOwnProperty(k)||Ih.hasOwnProperty(k)}isExpandable(k){const _=this.macros.get(k);return _!=null?typeof _=="string"||typeof _=="function"||!_.unexpandable:Ta.hasOwnProperty(k)&&!Ta[k].primitive}}const q1=/^[\u208a\u208b\u208c\u208d\u208e\u2080\u2081\u2082\u2083\u2084\u2085\u2086\u2087\u2088\u2089\u2090\u2091\u2095\u1d62\u2c7c\u2096\u2097\u2098\u2099\u2092\u209a\u1d63\u209b\u209c\u1d64\u1d65\u2093\u1d66\u1d67\u1d68\u1d69\u1d6a]/,Dh=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),bf={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},G1={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"};class Y1{constructor(k,_){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Vy(k,_,this.mode),this.settings=_,this.leftrightDepth=0}expect(k,_){if(_===void 0&&(_=!0),this.fetch().text!==k)throw new bt("Expected '"+k+"', got '"+this.fetch().text+"'",this.fetch());_&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(k){this.mode=k,this.gullet.switchMode(k)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const k=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),k}finally{this.gullet.endGroups()}}subparse(k){const _=this.nextToken;this.consume(),this.gullet.pushToken(new xo("}")),this.gullet.pushTokens(k);const $=this.parseExpression(!1);return this.expect("}"),this.nextToken=_,$}parseExpression(k,_){const $=[];for(;;){this.mode==="math"&&this.consumeSpaces();const j=this.fetch();if(Y1.endOfExpression.indexOf(j.text)!==-1||_&&j.text===_||k&&Ta[j.text]&&Ta[j.text].infix)break;const Z=this.parseAtom(_);if(!Z)break;Z.type!=="internal"&&$.push(Z)}return this.mode==="text"&&this.formLigatures($),this.handleInfixNodes($)}handleInfixNodes(k){let _,$=-1;for(let j=0;j<k.length;j++)if(k[j].type==="infix"){if($!==-1)throw new bt("only one infix operator per group",k[j].token);$=j,_=k[j].replaceWith}if($!==-1&&_){let j,Z;const ce=k.slice(0,$),we=k.slice($+1);let Se;return j=ce.length===1&&ce[0].type==="ordgroup"?ce[0]:{type:"ordgroup",mode:this.mode,body:ce},Z=we.length===1&&we[0].type==="ordgroup"?we[0]:{type:"ordgroup",mode:this.mode,body:we},Se=_==="\\\\abovefrac"?this.callFunction(_,[j,k[$],Z],[]):this.callFunction(_,[j,Z],[]),[Se]}return k}handleSupSubscript(k){const _=this.fetch(),$=_.text;this.consume(),this.consumeSpaces();const j=this.parseGroup(k);if(!j)throw new bt("Expected group after '"+$+"'",_);return j}formatUnsupportedCmd(k){const _=[];for(let j=0;j<k.length;j++)_.push({type:"textord",mode:"text",text:k[j]});const $={type:"text",mode:this.mode,body:_};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[$]}}parseAtom(k){const _=this.parseGroup("atom",k);if(this.mode==="text")return _;let $,j;for(;;){this.consumeSpaces();const Z=this.fetch();if(Z.text==="\\limits"||Z.text==="\\nolimits"){if(_&&_.type==="op"){const ce=Z.text==="\\limits";_.limits=ce,_.alwaysHandleSupSub=!0}else{if(!_||_.type!=="operatorname")throw new bt("Limit controls must follow a math operator",Z);_.alwaysHandleSupSub&&(_.limits=Z.text==="\\limits")}this.consume()}else if(Z.text==="^"){if($)throw new bt("Double superscript",Z);$=this.handleSupSubscript("superscript")}else if(Z.text==="_"){if(j)throw new bt("Double subscript",Z);j=this.handleSupSubscript("subscript")}else if(Z.text==="'"){if($)throw new bt("Double superscript",Z);const ce={type:"textord",mode:this.mode,text:"\\prime"},we=[ce];for(this.consume();this.fetch().text==="'";)we.push(ce),this.consume();this.fetch().text==="^"&&we.push(this.handleSupSubscript("superscript")),$={type:"ordgroup",mode:this.mode,body:we}}else{if(!Dh[Z.text])break;{const ce=q1.test(Z.text),we=[];for(we.push(new xo(Dh[Z.text])),this.consume();;){const He=this.fetch().text;if(!Dh[He]||q1.test(He)!==ce)break;we.unshift(new xo(Dh[He])),this.consume()}const Se=this.subparse(we);ce?j={type:"ordgroup",mode:"math",body:Se}:$={type:"ordgroup",mode:"math",body:Se}}}}return $||j?{type:"supsub",mode:this.mode,base:_,sup:$,sub:j}:_}parseFunction(k,_){const $=this.fetch(),j=$.text,Z=Ta[j];if(!Z)return null;if(this.consume(),_&&_!=="atom"&&!Z.allowedInArgument)throw new bt("Got function '"+j+"' with no arguments"+(_?" as "+_:""),$);if(this.mode==="text"&&!Z.allowedInText)throw new bt("Can't use function '"+j+"' in text mode",$);if(this.mode==="math"&&Z.allowedInMath===!1)throw new bt("Can't use function '"+j+"' in math mode",$);const{args:ce,optArgs:we}=this.parseArguments(j,Z);return this.callFunction(j,ce,we,$,k)}callFunction(k,_,$,j,Z){const ce={funcName:k,parser:this,token:j,breakOnTokenText:Z},we=Ta[k];if(we&&we.handler)return we.handler(ce,_,$);throw new bt("No function handler for "+k)}parseArguments(k,_){const $=_.numArgs+_.numOptionalArgs;if($===0)return{args:[],optArgs:[]};const j=[],Z=[];for(let ce=0;ce<$;ce++){let we=_.argTypes&&_.argTypes[ce];const Se=ce<_.numOptionalArgs;(_.primitive&&we==null||_.type==="sqrt"&&ce===1&&Z[0]==null)&&(we="primitive");const He=this.parseGroupOfType("argument to '"+k+"'",we,Se);if(Se)Z.push(He);else{if(He==null)throw new bt("Null argument, please report this as a bug");j.push(He)}}return{args:j,optArgs:Z}}parseGroupOfType(k,_,$){switch(_){case"color":return this.parseColorGroup($);case"size":return this.parseSizeGroup($);case"url":return this.parseUrlGroup($);case"math":case"text":return this.parseArgumentGroup($,_);case"hbox":{const j=this.parseArgumentGroup($,"text");return j!=null?{type:"styling",mode:j.mode,body:[j],style:"text"}:null}case"raw":{const j=this.parseStringGroup("raw",$);return j!=null?{type:"raw",mode:"text",string:j.text}:null}case"primitive":{if($)throw new bt("A primitive argument cannot be optional");const j=this.parseGroup(k);if(j==null)throw new bt("Expected group as "+k,this.fetch());return j}case"original":case null:case void 0:return this.parseArgumentGroup($);default:throw new bt("Unknown group type as "+k,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(k,_){const $=this.gullet.scanArgument(_);if($==null)return null;let j,Z="";for(;(j=this.fetch()).text!=="EOF";)Z+=j.text,this.consume();return this.consume(),$.text=Z,$}parseRegexGroup(k,_){const $=this.fetch();let j,Z=$,ce="";for(;(j=this.fetch()).text!=="EOF"&&k.test(ce+j.text);)Z=j,ce+=Z.text,this.consume();if(ce==="")throw new bt("Invalid "+_+": '"+$.text+"'",$);return $.range(Z,ce)}parseColorGroup(k){const _=this.parseStringGroup("color",k);if(_==null)return null;const $=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(_.text);if(!$)throw new bt("Invalid color: '"+_.text+"'",_);let j=$[0];return/^[0-9a-f]{6}$/i.test(j)&&(j="#"+j),{type:"color-token",mode:this.mode,color:j}}parseSizeGroup(k){let _,$=!1;if(this.gullet.consumeSpaces(),_=k||this.gullet.future().text==="{"?this.parseStringGroup("size",k):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"),!_)return null;k||_.text.length!==0||(_.text="0pt",$=!0);const j=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(_.text);if(!j)throw new bt("Invalid size: '"+_.text+"'",_);const Z={number:+(j[1]+j[2]),unit:j[3]};if(!go(Z))throw new bt("Invalid unit: '"+Z.unit+"'",_);return{type:"size",mode:this.mode,value:Z,isBlank:$}}parseUrlGroup(k){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const _=this.parseStringGroup("url",k);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),_==null)return null;const $=_.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:$}}parseArgumentGroup(k,_){const $=this.gullet.scanArgument(k);if($==null)return null;const j=this.mode;_&&this.switchMode(_),this.gullet.beginGroup();const Z=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const ce={type:"ordgroup",mode:this.mode,loc:$.loc,body:Z};return _&&this.switchMode(j),ce}parseGroup(k,_){const $=this.fetch(),j=$.text;let Z;if(j==="{"||j==="\\begingroup"){this.consume();const ce=j==="{"?"}":"\\endgroup";this.gullet.beginGroup();const we=this.parseExpression(!1,ce),Se=this.fetch();this.expect(ce),this.gullet.endGroup(),Z={type:"ordgroup",mode:this.mode,loc:Po.range($,Se),body:we,semisimple:j==="\\begingroup"||void 0}}else if(Z=this.parseFunction(_,k)||this.parseSymbol(),Z==null&&j[0]==="\\"&&!Ih.hasOwnProperty(j)){if(this.settings.throwOnError)throw new bt("Undefined control sequence: "+j,$);Z=this.formatUnsupportedCmd(j),this.consume()}return Z}formLigatures(k){let _=k.length-1;for(let $=0;$<_;++$){const j=k[$],Z=j.text;Z==="-"&&k[$+1].text==="-"&&($+1<_&&k[$+2].text==="-"?(k.splice($,3,{type:"textord",mode:"text",loc:Po.range(j,k[$+2]),text:"---"}),_-=2):(k.splice($,2,{type:"textord",mode:"text",loc:Po.range(j,k[$+1]),text:"--"}),_-=1)),Z!=="'"&&Z!=="`"||k[$+1].text!==Z||(k.splice($,2,{type:"textord",mode:"text",loc:Po.range(j,k[$+1]),text:Z+Z}),_-=1)}}parseSymbol(){const k=this.fetch();let _=k.text;if(/^\\verb[^a-zA-Z]/.test(_)){this.consume();let Z=_.slice(5);const ce=Z.charAt(0)==="*";if(ce&&(Z=Z.slice(1)),Z.length<2||Z.charAt(0)!==Z.slice(-1))throw new bt(`\\verb assertion failed --
                    please report what input caused this bug`);return Z=Z.slice(1,-1),{type:"verb",mode:"text",body:Z,star:ce}}G1.hasOwnProperty(_[0])&&!ai[this.mode][_[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+_[0]+'" used in math mode',k),_=G1[_[0]]+_.slice(1));const $=$1.exec(_);let j;if($&&(_=_.substring(0,$.index),_==="i"?_="\u0131":_==="j"&&(_="\u0237")),ai[this.mode][_]){this.settings.strict&&this.mode==="math"&&Dn.indexOf(_)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+_[0]+'" used in math mode',k);const Z=ai[this.mode][_].group,ce=Po.range(k);let we;if(hc.hasOwnProperty(Z)){const Se=Z;we={type:"atom",mode:this.mode,family:Se,loc:ce,text:_}}else we={type:Z,mode:this.mode,loc:ce,text:_};j=we}else{if(!(_.charCodeAt(0)>=128))return null;this.settings.strict&&(Vr(_.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+_[0]+'" used in math mode',k):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+_[0]+'" ('+_.charCodeAt(0)+")",k)),j={type:"textord",mode:"text",loc:Po.range(k),text:_}}if(this.consume(),$)for(let Z=0;Z<$[0].length;Z++){const ce=$[0][Z];if(!bf[ce])throw new bt("Unknown accent ' "+ce+"'",k);const we=bf[ce][this.mode]||bf[ce].text;if(!we)throw new bt("Accent "+ce+" unsupported in "+this.mode+" mode",k);j={type:"accent",mode:this.mode,loc:Po.range(k),label:we,isStretchy:!1,isShifty:!0,base:j}}return j}}Y1.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var j1=function(T,k){if(!(typeof T=="string"||T instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const _=new Y1(T,k);delete _.gullet.macros.current["\\df@tag"];let $=_.parse();if(delete _.gullet.macros.current["\\current@color"],delete _.gullet.macros.current["\\color"],_.gullet.macros.get("\\df@tag")){if(!k.displayMode)throw new bt("\\tag works only in display equations");$=[{type:"tag",mode:"text",body:$,tag:_.subparse([new xo("\\df@tag")])}]}return $};let xf=function(T,k,_){k.textContent="";const $=U1(T,_).toNode();k.appendChild($)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),xf=function(){throw new bt("KaTeX doesn't work in quirks mode.")});const H1=function(T,k,_){if(_.throwOnError||!(T instanceof bt))throw T;const $=ct.makeSpan(["katex-error"],[new In(k)]);return $.setAttribute("title",T.toString()),$.setAttribute("style","color:"+_.errorColor),$},U1=function(T,k){const _=new Li(k);try{const $=j1(T,_);return ft($,T,_)}catch($){return H1($,T,_)}};var V1={version:"0.16.19",render:xf,renderToString:function(T,k){return U1(T,k).toMarkup()},ParseError:bt,SETTINGS_SCHEMA:yr,__parse:function(T,k){const _=new Li(k);return j1(T,_)},__renderToDomTree:U1,__renderToHTMLTree:function(T,k){const _=new Li(k);try{return function($,j,Z){const ce=Ro($,Ae(Z)),we=ct.makeSpan(["katex"],[ce]);return Ve(we,Z)}(j1(T,_),0,_)}catch($){return H1($,T,_)}},__setFontMetrics:function(T,k){Ya[T]=k},__defineSymbol:U,__defineFunction:Ct,__defineMacro:ke,__domTree:{Span:Us,Anchor:mo,SymbolNode:In,SvgNode:Da,PathNode:Es,LineNode:Ui}};return Ar=Ar.default}()}),function(Rt,Ar){typeof exports=="object"&&typeof module=="object"?module.exports=Ar(require("katex")):typeof define=="function"&&define.amd?define(["katex"],Ar):typeof exports=="object"?exports.renderMathInElement=Ar(require("katex")):Rt.renderMathInElement=Ar(Rt.katex)}(typeof self<"u"?self:this,function(Rt){return function(){"use strict";var Ar={757:function(Ht){Ht.exports=Rt}},Hn={};function bt(Ht){var lr=Hn[Ht];if(lr!==void 0)return lr.exports;var ot=Hn[Ht]={exports:{}};return Ar[Ht](ot,ot.exports,bt),ot.exports}bt.n=function(Ht){var lr=Ht&&Ht.__esModule?function(){return Ht.default}:function(){return Ht};return bt.d(lr,{a:lr}),lr},bt.d=function(Ht,lr){for(var ot in lr)bt.o(lr,ot)&&!bt.o(Ht,ot)&&Object.defineProperty(Ht,ot,{enumerable:!0,get:lr[ot]})},bt.o=function(Ht,lr){return Object.prototype.hasOwnProperty.call(Ht,lr)};var zt={};bt.d(zt,{default:function(){return Pr}});var hn=bt(757),o=bt.n(hn);const R=function(Ht,lr,ot){let dt=ot,J=0;const _t=Ht.length;for(;dt<lr.length;){const At=lr[dt];if(J<=0&&lr.slice(dt,dt+_t)===Ht)return dt;At==="\\"?dt++:At==="{"?J++:At==="}"&&J--,dt++}return-1},St=/^\\begin{/;var yr=function(Ht,lr){let ot;const dt=[],J=new RegExp("("+lr.map(_t=>_t.left.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")).join("|")+")");for(;ot=Ht.search(J),ot!==-1;){ot>0&&(dt.push({type:"text",data:Ht.slice(0,ot)}),Ht=Ht.slice(ot));const _t=lr.findIndex(Yr=>Ht.startsWith(Yr.left));if(ot=R(lr[_t].right,Ht,lr[_t].left.length),ot===-1)break;const At=Ht.slice(0,ot+lr[_t].right.length),We=St.test(At)?At:Ht.slice(lr[_t].left.length,ot);dt.push({type:"math",data:We,rawData:At,display:lr[_t].display}),Ht=Ht.slice(ot+lr[_t].right.length)}return Ht!==""&&dt.push({type:"text",data:Ht}),dt};const pn=function(Ht,lr){const ot=yr(Ht,lr.delimiters);if(ot.length===1&&ot[0].type==="text")return null;const dt=document.createDocumentFragment();for(let J=0;J<ot.length;J++)if(ot[J].type==="text")dt.appendChild(document.createTextNode(ot[J].data));else{const _t=document.createElement("span");let At=ot[J].data;lr.displayMode=ot[J].display;try{lr.preProcess&&(At=lr.preProcess(At)),o().render(At,_t,lr)}catch(We){if(!(We instanceof o().ParseError))throw We;lr.errorCallback("KaTeX auto-render: Failed to parse `"+ot[J].data+"` with ",We),dt.appendChild(document.createTextNode(ot[J].rawData));continue}dt.appendChild(_t)}return dt},Li=function(Ht,lr){for(let ot=0;ot<Ht.childNodes.length;ot++){const dt=Ht.childNodes[ot];if(dt.nodeType===3){let J=dt.textContent,_t=dt.nextSibling,At=0;for(;_t&&_t.nodeType===Node.TEXT_NODE;)J+=_t.textContent,_t=_t.nextSibling,At++;const We=pn(J,lr);if(We){for(let Yr=0;Yr<At;Yr++)dt.nextSibling.remove();ot+=We.childNodes.length-1,Ht.replaceChild(We,dt)}else ot+=At}else if(dt.nodeType===1){const J=" "+dt.className+" ";lr.ignoredTags.indexOf(dt.nodeName.toLowerCase())===-1&&lr.ignoredClasses.every(_t=>J.indexOf(" "+_t+" ")===-1)&&Li(dt,lr)}}};var Pr=function(Ht,lr){if(!Ht)throw new Error("No element provided to render");const ot={};for(const dt in lr)lr.hasOwnProperty(dt)&&(ot[dt]=lr[dt]);ot.delimiters=ot.delimiters||[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}],ot.ignoredTags=ot.ignoredTags||["script","noscript","style","textarea","pre","code","option"],ot.ignoredClasses=ot.ignoredClasses||[],ot.errorCallback=ot.errorCallback||console.error,ot.macros=ot.macros||{},Li(Ht,ot)};return zt=zt.default}()});
